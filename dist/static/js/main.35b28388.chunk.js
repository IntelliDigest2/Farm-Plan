(this.webpackJsonpplatform=this.webpackJsonpplatform||[]).push([[0],{118:function(e,t,a){},199:function(e,t,a){},248:function(e,t,a){},309:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},424:function(e,t,a){},426:function(e,t,a){},459:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){},535:function(e){e.exports=JSON.parse('{"categories":{"Grains":[{"crop":"Winter wheat","phosphorus":50,"potassium":125,"nitrogen":280,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","black point","black rust","blackberry-cereal aphid","brown foot rot","brown rust","bunt","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","click beetles","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","hare, brown","keeled slugs","late season diseases","leaf spot","leatherjackets","loose smut","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","stem rust","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","wheat shoot beetle","wheat soil-borne mosaic","white-soled slugs","wireworms","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Maize","pests":["barley yellow dwarf","bird cherry-oat aphid","cereal leaf aphid","click beetles","corn leaf aphid","fescue aphid (subspecies)","field slug","frit fly","garden slugs","grain aphid","hare, brown","keeled slugs","rabbit","rat, brown","rose-grain aphid","slugs","smut","stalk rot","white-soled slugs","wireworms"]},{"crop":"Winter barley","phosphorus":50,"potassium":125,"nitrogen":220,"pests":["barley mosaic","barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","brown rust","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","halo spot","hare, brown","keeled slugs","late season diseases","leaf blotch","leaf spot","leaf stripe","leatherjackets","loose smut","net blotch","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","white-soled slugs","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Winter oats","phosphorus":50,"potassium":125,"nitrogen":190,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","cereal cyst nematode","cereal leaf aphid","click beetles","common rustic moth","corn leaf aphid","crane flies","crown rust","daddy longlegs","ear blight","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","grain aphid","hare, brown","keeled slugs","leatherjackets","loose smut","oat golden stripe","oat mosaic","oat thrips","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","slugs","sooty moulds","stem nematode","thrips","wheat flea beetle","wheat shoot beetle","white-soled slugs","wireworms"]},{"crop":"Spring wheat","phosphorus":50,"potassium":125,"nitrogen":220,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","black point","black rust","blackberry-cereal aphid","brown foot rot","brown rust","bunt","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","click beetles","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","hare, brown","keeled slugs","late season diseases","leaf spot","leatherjackets","loose smut","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","stem rust","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","wheat shoot beetle","wheat soil-borne mosaic","white-soled slugs","wireworms","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Spring barley","phosphorus":50,"potassium":125,"nitrogen":160,"pests":["barley mosaic","barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","brown rust","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","halo spot","hare, brown","keeled slugs","late season diseases","leaf blotch","leaf spot","leaf stripe","leatherjackets","loose smut","net blotch","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","white-soled slugs","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Spring oats","phosphorus":50,"potassium":125,"nitrogen":130,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","cereal cyst nematode","cereal leaf aphid","click beetles","common rustic moth","corn leaf aphid","crane flies","crown rust","daddy longlegs","ear blight","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","grain aphid","hare, brown","keeled slugs","leatherjackets","loose smut","oat golden stripe","oat mosaic","oat thrips","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","slugs","sooty moulds","stem nematode","thrips","wheat flea beetle","wheat shoot beetle","white-soled slugs","wireworms"]},{"crop":"Rye","phosphorus":50,"potassium":125,"nitrogen":150,"pests":["barley thrips","bird cherry-oat aphid","blackberry-cereal aphid","crane flies","daddy longlegs","ergot","field slug","frit fly","garden slugs","gout fly","grain aphid","hare, brown","keeled slugs","leatherjackets","oat thrips","rabbit","rat, brown","rose-grain aphid","saddle gall midge","slugs","stem nematode","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","white-soled slugs","yellow cereal fly"],"nutrients":{"crop":"Rye","Fat":"3.3g","Sodium":"603mg","Potassium":"166mg","Carbs":"48g","Protein":"9g","Vit. C":0,"Iron":0.15,"Vit. B6":0.05,"Magnesium":0.1,"Calcium":0.07}},{"crop":"Triticale","phosphorus":50,"potassium":125,"nitrogen":280,"nutrients":{"crop":"Triticale","Fat":"4g","Sodium":"9.6mg","Potassium":"637mg","Carbs":"138g","Protein":"25g","Vit. C":0,"Iron":0.27,"Vit. B6":0.2,"Magnesium":0.3,"Calcium":0.04}},{"crop":"Peas","phosphorus":45,"potassium":85,"nitrogen":0,"pests":["bacterial blight","bean leaf roll","bean seed flies","black root rot","cabbage thrips","field slug","field thrips","foot rot","garden slugs","grey mould","keeled slugs","leaf and pod spot","pea and bean weevil","pea aphid","pea blight","pea cyst nematode","pea downy mildew","pea early browning","pea enation mosaic","pea leaf roll","pea midge","pea moth","pea seed-borne mosaic","pea thrips","pea top yellows","pea wilt","pigeon","pre-emergence damping off","root rot","sclerotinia","silver y moth","slugs","stem nematode","white-soled slugs","wood pigeon"],"nutrients":{"crop":"Peas","Fat":"0.2g","Sodium":"58mg","Potassium":"244mg","Carbs":"14g","Protein":"5g","Vit. C":0.66,"Iron":0.08,"Vit. B6":0.1,"Magnesium":0.08,"Calcium":0.02}},{"crop":"Broad beans","phosphorus":45,"potassium":85,"nitrogen":0,"pests":["bean beetle","bean leaf roll","bean seed beetle","bean yellow mosaic","black bean aphid","blackfly","broad bean stain","broad bean true mosaic","cabbage thrips","chocolate spot","downy mildew","field thrips","foot rot","leaf stem and pod spot","pea and bean weevil","pea aphid","pea cyst nematode","root rot","rust","sclerotinia stem rot","stem nematode"],"nutrients":{"crop":"Broad beans","Fat":"0.7g","Sodium":"25mg","Potassium":"332mg","Carbs":"18g","Protein":"8g","Vit. C":0.06,"Iron":0.08,"Vit. B6":0.05,"Magnesium":0.08,"Calcium":0.03}},{"crop":"Runner peas","phosphorus":45,"potassium":85,"nitrogen":0,"pests":["bacterial blight","bean leaf roll","bean seed flies","black root rot","cabbage thrips","field slug","field thrips","foot rot","garden slugs","grey mould","keeled slugs","leaf and pod spot","pea and bean weevil","pea aphid","pea blight","pea cyst nematode","pea downy mildew","pea early browning","pea enation mosaic","pea leaf roll","pea midge","pea moth","pea seed-borne mosaic","pea thrips","pea top yellows","pea wilt","pigeon","pre-emergence damping off","root rot","sclerotinia","silver y moth","slugs","stem nematode","white-soled slugs","wood pigeon"],"nutrients":{"crop":"Runner peas","Fat":"0.4g","Sodium":"6mg","Potassium":"130mg","Carbs":"3.2g","Protein":"1.8g","Vit. C":0.27,"Iron":0.05,"Vit. B6":0.05,"Magnesium":0.06,"Calcium":0.03}},{"crop":"Lupin","pests":["anthracnose","bean yellow mosaic","brown spot","cabbage thrips","field thrips","grey mould","lupin aphid","lupin rust"]}],"Oil":[{"crop":"Winter rapeseed","phosphorus":45,"potassium":75,"nitrogen":220,"pests":["beet cyst nematode","beet western yellows","blossom beetles","botrytis","brassica cyst nematode","brassica pod midge","cabbage aphid","cabbage leaf miner","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","club root","damping-off","dark leaf and pod spot","downy mildew","field slug","garden slugs","grey mould","keeled slugs","light leaf spot","phoma leaf spot","pigeon","pollen beetles","powdery mildew","rape winter stem weevil","sclerotinia stem rot","slugs","stem canker","white blister","white leaf spot","white rust","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Spring rapeseed","phosphorus":45,"potassium":75,"nitrogen":150,"pests":["beet cyst nematode","beet western yellows","blossom beetles","botrytis","brassica cyst nematode","brassica pod midge","cabbage aphid","cabbage leaf miner","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","club root","damping-off","dark leaf and pod spot","downy mildew","field slug","garden slugs","grey mould","keeled slugs","light leaf spot","phoma leaf spot","pigeon","pollen beetles","powdery mildew","rape winter stem weevil","sclerotinia stem rot","slugs","stem canker","white blister","white leaf spot","white rust","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Linseed","phosphorus":45,"potassium":75,"nitrogen":100,"pests":["blight","cabbage thrips","capsids","common green capsid","field thrips","flax flea beetle","fusarium wilt","grey mould","large flax flea beetle","linseed flea beetle","pasmo","potato capsid","powdery mildew","sclerotinia","tarnished plant bug","verticillium wilt"]},{"crop":"Sunflower","phosphorus":15,"potassium":45,"nitrogen":50,"pests":["botrytis head rot","sclerotinia rot","sclerotinia wilt"]}],"Vegetables":[{"crop":"Sugar beet","pests":["beet cyst nematode","beet flea beetle","beet fly","beet leaf miner","beet mosaic","black bean aphid","blackfly","blackleg","cabbage thrips","capsids","click beetles","common green capsid","crane flies","cutworms","daddy longlegs","Docking disorder","downy mildew","field mouse","field slug","field thrips","flat millepede","garden dart moth","garden slugs","glasshouse and potato aphid","hare, brown","keeled slugs","large yellow underwing moth","leatherjackets","mangel flea beetle","mangel fly","mangold flea beetle","mangold fly","millepedes","mouse","needle nematodes","partridge","peach-potato aphid","pheasant","potato aphid","potato capsid","powdery mildew","pygmy beetle","pygmy mangold beetle","rabbit","ramularia leaf spot","rat, brown","red spider mite","rhizomania","rust","silver y moth","skylark","slugs","spotted millepede","spotted snake millepede","springtails","stem nematode","stubby-root nematodes","symphylid, glasshouse","tarnished plant bug","turnip moth","two-spotted spider mite","violet root rot","virus yellows","white-line dart moth","white-soled slugs","wireworms","wood mouse"]},{"crop":"Mustard, brown","pests":["beet cyst nematode","blossom beetles","brassica pod midge","cabbage seed weevil","cabbage stem weevil","pollen beetles"]},{"crop":"Mustard, white","pests":["beet cyst nematode","blossom beetles","cabbage stem weevil","pollen beetles"]},{"crop":"Swiss Chard","pests":["Aphids","Armyworms","Blister Beetles","Cabbageworms","Cucumber Beetles","Cutworms","Darkling Beetles","Diamondback Moth Caterpillars","Flea Beetles","Leafhoppers","Leaf Miners","Lygus Bugs","Slugs and Snails"]},{"crop":"Sprouts","phosphorus":90,"potassium":240,"nitrogen":330,"pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","dark leaf spot","diamond-back moth","downy mildew","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","powdery mildew","ringspot","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white blister","white rust","white-soled slugs","wirestem","wood pigeon"],"nutrients":{"crop":"Sprouts","Fat":"0.3g","Sodium":"25mg","Potassium":"389mg","Carbs":"9g","Protein":"3.4g","Vit. C":1.41,"Iron":0.07,"Vit. B6":0.1,"Magnesium":0.05,"Calcium":0.04}},{"crop":"Broccoli","pests":["bean seed flies","beet cyst nematode","blossom beetles","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","pollen beetles","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Winter cabbage","phosphorus":90,"potassium":240,"nitrogen":325,"pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","onion thrips","pigeon","powdery mildew","sclerotinia stem rot","slugs","small striped fleabeetle","small white butterfly","swede midge","turnip flea beetle","turnip gallweevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Winter collards","phosphorus":90,"potassium":240,"nitrogen":210},{"crop":"Winter cauliflower","phosphorus":90,"potassium":240,"nitrogen":100,"pests":["bean seed flies","beet cyst nematode","black rot","blossom beetles","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cauliflower mosaic","club root","cruciferous flea beetle","damping-off","diamond-back moth","downy mildew","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","pollen beetles","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip yellow mosaic","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Spring cabbage","phosphorus":90,"potassium":240,"nitrogen":240,"pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","onion thrips","pigeon","powdery mildew","sclerotinia stem rot","slugs","small striped fleabeetle","small white butterfly","swede midge","turnip flea beetle","turnip gallweevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Spring collards","phosphorus":90,"potassium":240,"nitrogen":320},{"crop":"Summer cauliflower","phosphorus":90,"potassium":240,"nitrogen":290,"pests":["bean seed flies","beet cyst nematode","black rot","blossom beetles","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cauliflower mosaic","club root","cruciferous flea beetle","damping-off","diamond-back moth","downy mildew","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","pollen beetles","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip yellow mosaic","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Calabrese","phosphorus":90,"potassium":240,"nitrogen":235,"nutrients":{"crop":"Calabrese","Fat":"0.3g","Sodium":"30mg","Potassium":"293mg","Carbs":"6g","Protein":"2.6g","Vit. C":0.84,"Iron":0.06,"Vit. B6":0.12,"Magnesium":0.27,"Calcium":0.02}},{"crop":"Leek","phosphorus":90,"potassium":230,"nitrogen":200,"pests":["cutworms","garden dart moth","large yellow underwing moth","leek moth","leek rust","onion fly","onion thrips","stem nematode","turnip moth","white tip","white-line dart moth"],"nutrients":{"crop":"Leek","Fat":"0.3g","Sodium":"20mg","Potassium":"180mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.2,"Iron":0.11,"Vit. B6":0.1,"Magnesium":0.07,"Calcium":0.05}},{"crop":"lettuce","phosphorus":110,"potassium":220,"nitrogen":200,"pests":["beet western yellows","currant-lettuce aphid","cutworms","downy mildew","field slug","garden dart moth","garden slugs","glasshouse and potato aphid","grey mould","keeled slugs","large yellow underwing moth","lettuce big vein","lettuce mosaic","lettuce root aphid","peach-potato aphid","potato aphid","rhizoctonia rot","sclerotinia rot","silver y moth","slugs","turnip moth","white-line dart moth","white-soled slugs"]},{"crop":"Kale","pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","pigeon","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Kohlrabi","pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","pigeon","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white-soled slugs","wirestem","wood pigeon"]}],"Soft fruits":[{"crop":"Blackcurrant","phosphorus":50,"potassium":200,"nitrogen":60,"nutrients":{"crop":"Blackcurrant","Fat":"0g","Sodium":"25mg","Potassium":"332mg","Carbs":"31.1g","Protein":"0g","Vit. C":3.01,"Iron":0.195,"Vit. B6":0.04,"Magnesium":0.06,"Calcium":0.055}},{"crop":"Gooseberry","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Gooseberry","Fat":"0.58g","Sodium":"1mg","Potassium":"198mg","Carbs":"15g","Protein":"1g","Vit. C":0.55,"Iron":0.04,"Vit. B6":0.07,"Magnesium":0.025,"Calcium":0.025}},{"crop":"Raspberry","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Raspberry","Fat":"0.7g","Sodium":"1mg","Potassium":"151mg","Carbs":"12g","Protein":"1.2g","Vit. C":0.43,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.02}},{"crop":"Blackberry","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Blackberry","Fat":"0.5g","Sodium":"1mg","Potassium":"162mg","Carbs":"10g","Protein":"1.4g","Vit. C":0.35,"Iron":0.03,"Vit. B6":0,"Magnesium":0.05,"Calcium":0.02}},{"crop":"Redcurrant","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Redcurrant","Fat":"0.2g","Sodium":"1.1mg","Potassium":"308mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.68,"Iron":0.08,"Vit. B6":0.06,"Magnesium":0.06,"Calcium":0.055}},{"crop":"Strawberry","phosphorus":50,"potassium":200,"nitrogen":60,"nutrients":{"crop":"Strawberry","Fat":"0.3g","Sodium":"1mg","Potassium":"153mg","Carbs":"8g","Protein":"0.7g","Vit. C":0.97,"Iron":0.02,"Vit. B6":0,"Magnesium":0.03,"Calcium":0.01}}],"Root vegetables":[{"crop":"Beetroot","phosphorus":90,"potassium":240,"nitrogen":290,"nutrients":{"crop":"Beetroot","Fat":"0.2g","Sodium":"78mg","Potassium":"325mg","Carbs":"10g","Protein":"1.6g","Vit. C":0.08,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.01}},{"crop":"Peppers","pests":["Cutworms"," aphids"," armyworms"," fruitworms"," flea beeetles"," corn borers"," hornworms"," whitflies"]},{"crop":"Tomatoes","pests":["Aphids"," Tomato Fruitworms"," Hornworms"," Leaf-footed Bugs"," Stink Bugs"," Flea Beetles"," Whiteflies"," Thrips"," Spider Mites"," Cutworms"]},{"crop":"Potatoes","pests":["black dot","black scurf","blackleg","brown rot","buckthorn-potato aphid","capsids","click beetles","Colorado beetle","common green capsid","common scab","cutworms","dry rot","field slug","gangrene","garden dart moth","garden slugs","glasshouse and potato aphid","keeled slugs","large yellow underwing moth","late blight","leaf drop streak","mild mosaic","mop top","PCN","peach-potato aphid","pink rot","potato aphid","potato capsid","potato cyst nematode, white","potato cyst nematode, yellow","potato leaf roll","potato tuber nematode","powdery scab","rattle","rugose mosaic","severe mosaic","silver scurf","skin spot","slugs","spraing","stem canker","tarnished plant bug","turnip moth","verticillium wilt","violet root rot","wart","watery wound rot","white-line dart moth","white-soled slugs","wireworms "]},{"crop":"Swede","phosphorus":90,"potassium":240,"nitrogen":135,"pests":["beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage root fly","club root","cruciferous flea beetle","cutworms","damping-off","diamond-back moth","flea beetles","garden dart moth"," green-veined white butterflylarge striped flea beetle","large white butterfly","large yellow underwing moth","light leaf spot","pigeon","powdery mildew","rape winter stem weevil","sclerotinia stem rot","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip moth","white-line dart moth","wirestem","wood pigeon"],"nutrients":{"crop":"Swede","Fat":"0.2g","Sodium":"12mg","Potassium":"305mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.41,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.04}},{"crop":"Turnip","phosphorus":90,"potassium":240,"nitrogen":170,"pests":["beet cyst nematode","brassica cyst nematode","cabbage root fly","cruciferous flea beetle","cutworms","damping-off","diamond-back moth","flea beetles","garden dart moth","green-veined white butterfly","large striped flea beetle","large white butterfly","large yellow underwing moth","pigeon","powdery mildew","rape winter stem weevil","sclerotinia stem rot","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip mosaic","turnip moth","turnip yellow mosaic","white-line dart moth","wirestem","wood pigeon"],"nutrients":{"crop":"Turnip","Fat":"0.1g","Sodium":"67mg","Potassium":"191mg","Carbs":"6g","Protein":"0.9mg","Vit. C":0.35,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.03}},{"crop":"Parsnip","phosphorus":90,"potassium":240,"nitrogen":170,"pests":["canker","carrot fly","celery fly","celery leaf miner","cutworms","Docking disorder","garden dart moth","large yellow underwing moth","needle nematodes","parsnip mosaic","stem nematode","stubby-root nematodes","turnip moth","violet root rot","white rot","white-line dart moth","willow-carrot aphid"],"nutrients":{"crop":"Parsnip","Fat":"0.3g","Sodium":"10mg","Potassium":"375mg","Carbs":"18g","Protein":"1.2mg","Vit. C":0.28,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.07,"Calcium":0.03}},{"crop":"Carrot","phosphorus":90,"potassium":240,"nitrogen":100,"pests":["carrot cyst nematode","carrot fly","carrot motley dwarf","carrot mottle","carrot red leaf","cavity spot","cutworms","Docking disorder","field slug","garden dart moth","garden slugs","hare"],"nutrients":{"crop":"Carrot","Fat":"0.2g","Sodium":"69mg","Potassium":"320mg","Carbs":"10g","Protein":"0.9mg","Vit. C":0.09,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.03}},{"crop":"Onion","phosphorus":90,"potassium":230,"nitrogen":160,"pests":["bean seed flies","downy mildew","leaf rot","leek moth","neck rot","onion fly","onion thrips","onion yellow dwarf","smut","stem nematode","white rot","white tip"],"nutrients":{"crop":"Onion","Fat":"0.1g","Sodium":"4mg","Potassium":"146mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.12,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02}},{"crop":"Garlic","pests":["basal rot"," white rot"," downy mildew"," botrytis rot"," penicillium decay"]},{"crop":"Fodder beet","pests":["beet cyst nematode","beet flea beetle","beet fly","beet leaf miner","black bean aphid","blackfly","cabbage thrips","capsids","click beetles","common green capsid","crane flies","cutworms","daddy longlegs","field mouse","field slug","field thrips","flat millepede","garden dart moth","garden slugs","glasshouse and potato aphid","hare, brown","keeled slugs","large yellow underwing moth","leatherjackets","mangel flea beetle","mangel fly","mangold flea beetle","mangold fly","millepedes","mouse","partridge","peach-potato aphid","pheasant","potato aphid","potato capsid","pygmy beetle","pygmy mangold beetle","rabbit","rat, brown","red spider mite","silver y moth","skylark","slugs","spotted millepede","spotted snake millepede","springtails","stem nematode","symphylid, glasshouse","tarnished plant bug","turnip moth","two-spotted spider mite","white-line dart moth","white-soled slugs","wireworms","wood mouse"]},{"crop":"Celery","phosphorus":110,"potassium":380,"nitrogen":75,"pests":["carrot fly","carrot motley dwarf","carrot mottle","carrot red leaf","celery fly","celery leaf miner","cutworms","field slug","garden dart moth","garden slugs","keeled slugs","large yellow underwing moth","late blight","leaf spot","slugs","turnip moth","violet root rot","white-line dart moth","white-soled slugs","willow-carrot aphid"],"nutrients":{"crop":"Celery","Fat":"0.1g","Sodium":"32mg","Potassium":"104mg","Carbs":"1.2g","Protein":"0.3g","Vit. C":0.08,"Iron":0.17,"Vit. B6":0.046,"Magnesium":0.2,"Calcium":0.13}}],"Other":[{"crop":"Sweetcorn","phosphorus":80,"potassium":210,"nitrogen":200,"nutrients":{"crop":"Sweetcorn","Fat":"1.2g","Sodium":"15mg","Potassium":"270mg","Carbs":"19g","Protein":"3.2g","Vit. C":0.11,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.09,"Calcium":0}},{"crop":"Radish","phosphorus":80,"potassium":210,"nitrogen":100,"nutrients":{"crop":"Radish","Fat":"0.1g","Sodium":"39mg","Potassium":"233mg","Carbs":"3.4g","Protein":"0.7g","Vit. C":0.24,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02}},{"crop":"Pumpkin","phosphorus":110,"potassium":125,"nitrogen":100,"nutrients":{"crop":"Pumpkin","Fat":"0.1g","Sodium":"1mg","Potassium":"340mg","Carbs":"7g","Protein":"1g","Vit. C":0.15,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.02}},{"crop":"Courgette","phosphorus":110,"potassium":125,"nitrogen":100,"nutrients":{"crop":"Courgette","Fat":"0.3g","Sodium":"8mg","Potassium":"261mg","Carbs":"3.1g","Protein":"1.2g","Vit. C":0.29,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.04,"Calcium":0.01}},{"crop":"Aubergine","pests":["American Serpentine Leafminer"," Aphids"," Armyworms"," Melon Thrips"," Silverleaf Whitefly"," Tomato Pinworm"]},{"crop":"Parsley","pests":["carrot fly","carrot motley dwarf","carrot mottle","carrot red leaf","celery fly","celery leaf miner","late blight","leaf spot","parsnip mosaic","violet root rot","willow-carrot aphid"]}]}}')},536:function(e,t,a){},538:function(e,t,a){},55:function(e,t,a){},670:function(e,t,a){},675:function(e,t,a){},678:function(e,t,a){},688:function(e,t,a){},689:function(e,t,a){},690:function(e,t,a){},841:function(e,t,a){},851:function(e,t,a){},852:function(e,t,a){},853:function(e,t,a){},854:function(e,t,a){},855:function(e,t,a){},856:function(e,t,a){},857:function(e,t,a){},858:function(e,t,a){var n={"./Grains-01.png":859,"./Oil-01.png":860,"./Other-01.png":861,"./Root vegetables-01.png":862,"./Soft fruits-01.png":863,"./Vegetables-01.png":864};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=858},859:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Grains-01.6d747af3.png"},860:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Oil-01.bf2d671a.png"},861:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Other-01.d0da66c7.png"},862:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Root vegetables-01.8390b8aa.png"},863:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Soft fruits-01.ab2cfac3.png"},864:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Vegetables-01.387314a6.png"},865:function(e){e.exports=JSON.parse('[{"crop":"Wheat flour","Fat":"1g","Sodium":"2mg","Potassium":"107mg","Carbs":"76g","Protein":"10g","Vit. C":0,"Iron":0.06,"Vit. B6":0,"Magnesium":0.05,"Calcium":0.01},{"crop":"Barley","Fat":"2.3g","Sodium":"12mg","Potassium":"452mg","Carbs":"73g","Protein":"12g","Vit. C":0,"Iron":0.19,"Vit. B6":0.15,"Magnesium":0.33,"Calcium":0.03},{"crop":"Oats","Fat":"5g","Sodium":"230mg","Potassium":"130mg","Carbs":"51g","Protein":"13g","Vit. C":0,"Iron":0.26,"Vit. B6":0.06,"Magnesium":0.39,"Calcium":0.05},{"crop":"Rye","Fat":"3.3g","Sodium":"603mg","Potassium":"166mg","Carbs":"48g","Protein":"9g","Vit. C":0,"Iron":0.15,"Vit. B6":0.05,"Magnesium":0.1,"Calcium":0.07},{"crop":"Triticale","Fat":"4g","Sodium":"9.6mg","Potassium":"637mg","Carbs":"138g","Protein":"25g","Vit. C":0,"Iron":0.27,"Vit. B6":0.2,"Magnesium":0.3,"Calcium":0.04},{"crop":"Rapeseed oil","Fat":"14g","Sodium":"0mg","Potassium":"0mg","Carbs":"0g","Protein":"0g","Vit. C":0,"Iron":0,"Vit. B6":0,"Magnesium":0,"Calcium":0},{"crop":"Linseed oil","Fat":"100g","Sodium":"0mg","Potassium":"813mg","Carbs":"0g","Protein":"0.1g","Vit. C":0,"Iron":0,"Vit. B6":0,"Magnesium":0,"Calcium":0},{"crop":"Sunflower seeds","Fat":"51g","Sodium":"9mg","Potassium":"645mg","Carbs":"20g","Protein":"21g","Vit. C":0.02,"Iron":0.29,"Vit. B6":0.65,"Magnesium":0.81,"Calcium":0.07},{"crop":"Peas","Fat":"0.2g","Sodium":"58mg","Potassium":"244mg","Carbs":"14g","Protein":"5g","Vit. C":0.66,"Iron":0.08,"Vit. B6":0.1,"Magnesium":0.08,"Calcium":0.02},{"crop":"Broad beans","Fat":"0.7g","Sodium":"25mg","Potassium":"332mg","Carbs":"18g","Protein":"8g","Vit. C":0.06,"Iron":0.08,"Vit. B6":0.05,"Magnesium":0.08,"Calcium":0.03},{"crop":"Runner peas","Fat":"0.4g","Sodium":"6mg","Potassium":"130mg","Carbs":"3.2g","Protein":"1.8g","Vit. C":0.27,"Iron":0.05,"Vit. B6":0.05,"Magnesium":0.06,"Calcium":0.03},{"crop":"Sprouts","Fat":"0.3g","Sodium":"25mg","Potassium":"389mg","Carbs":"9g","Protein":"3.4g","Vit. C":1.41,"Iron":0.07,"Vit. B6":0.1,"Magnesium":0.05,"Calcium":0.04},{"crop":"Cabbage","Fat":"0.1g","Sodium":"18mg","Potassium":"170mg","Carbs":"6g","Protein":"1.3g","Vit. C":0.6,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.04},{"crop":"Collards","Fat":"0.6g","Sodium":"17mg","Potassium":"213mg","Carbs":"5g","Protein":"3g","Vit. C":0.58,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.06,"Calcium":0.23},{"crop":"Cauliflower","Fat":"0.3g","Sodium":"30mg","Potassium":"299mg","Carbs":"5g","Protein":"1.9g","Vit. C":0.8,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.03,"Calcium":0.02},{"crop":"Calabrese","Fat":"0.3g","Sodium":"30mg","Potassium":"293mg","Carbs":"6g","Protein":"2.6g","Vit. C":0.84,"Iron":0.06,"Vit. B6":0.12,"Magnesium":0.27,"Calcium":0.02},{"crop":"Blackcurrant","Fat":"0g","Sodium":"25mg","Potassium":"332mg","Carbs":"31.1g","Protein":"0g","Vit. C":3.01,"Iron":0.195,"Vit. B6":0.04,"Magnesium":0.06,"Calcium":0.055},{"crop":"Gooseberry","Fat":"0.58g","Sodium":"1mg","Potassium":"198mg","Carbs":"15g","Protein":"1g","Vit. C":0.55,"Iron":0.04,"Vit. B6":0.07,"Magnesium":0.025,"Calcium":0.025},{"crop":"Raspberry","Fat":"0.7g","Sodium":"1mg","Potassium":"151mg","Carbs":"12g","Protein":"1.2g","Vit. C":0.43,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.02},{"crop":"Blackberry","Fat":"0.5g","Sodium":"1mg","Potassium":"162mg","Carbs":"10g","Protein":"1.4g","Vit. C":0.35,"Iron":0.03,"Vit. B6":0,"Magnesium":0.05,"Calcium":0.02},{"crop":"Redcurrant","Fat":"0.2g","Sodium":"1.1mg","Potassium":"308mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.68,"Iron":0.08,"Vit. B6":0.06,"Magnesium":0.06,"Calcium":0.055},{"crop":"Strawberry","Fat":"0.3g","Sodium":"1mg","Potassium":"153mg","Carbs":"8g","Protein":"0.7g","Vit. C":0.97,"Iron":0.02,"Vit. B6":0,"Magnesium":0.03,"Calcium":0.01},{"crop":"Beetroot","Fat":"0.2g","Sodium":"78mg","Potassium":"325mg","Carbs":"10g","Protein":"1.6g","Vit. C":0.08,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.01},{"crop":"Swede","Fat":"0.2g","Sodium":"12mg","Potassium":"305mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.41,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.04},{"crop":"Turnip","Fat":"0.1g","Sodium":"67mg","Potassium":"191mg","Carbs":"6g","Protein":"0.9mg","Vit. C":0.35,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.03},{"crop":"Parsnip","Fat":"0.3g","Sodium":"10mg","Potassium":"375mg","Carbs":"18g","Protein":"1.2mg","Vit. C":0.28,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.07,"Calcium":0.03},{"crop":"Carrot","Fat":"0.2g","Sodium":"69mg","Potassium":"320mg","Carbs":"10g","Protein":"0.9mg","Vit. C":0.09,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.03},{"crop":"Onion","Fat":"0.1g","Sodium":"4mg","Potassium":"146mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.12,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02},{"crop":"Leek","Fat":"0.3g","Sodium":"20mg","Potassium":"180mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.2,"Iron":0.11,"Vit. B6":0.1,"Magnesium":0.07,"Calcium":0.05},{"crop":"Whole lettuce","Fat":"0.2g","Sodium":"28mg","Potassium":"194mg","Carbs":"2.9g","Protein":"1.4g","Vit. C":0.15,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.03},{"crop":"Sweetcorn","Fat":"1.2g","Sodium":"15mg","Potassium":"270mg","Carbs":"19g","Protein":"3.2g","Vit. C":0.11,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.09,"Calcium":0},{"crop":"Radish","Fat":"0.1g","Sodium":"39mg","Potassium":"233mg","Carbs":"3.4g","Protein":"0.7g","Vit. C":0.24,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02},{"crop":"Pumpkin","Fat":"0.1g","Sodium":"1mg","Potassium":"340mg","Carbs":"7g","Protein":"1g","Vit. C":0.15,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.02},{"crop":"Courgette","Fat":"0.3g","Sodium":"8mg","Potassium":"261mg","Carbs":"3.1g","Protein":"1.2g","Vit. C":0.29,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.04,"Calcium":0.01},{"crop":"Celery","Fat":"0.1g","Sodium":"32mg","Potassium":"104mg","Carbs":"1.2g","Protein":"0.3g","Vit. C":0.08,"Iron":0.17,"Vit. B6":0.046,"Magnesium":0.2,"Calcium":0.13}]')},920:function(e,t,a){},939:function(e,t,a){},971:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(2),r=a.n(c),s=a(38),o=a.n(s),i=(a(377),a(4)),l=a(73),u=a(39),d=(a(459),a(460),a(118),a(248),a(378),a.p+"static/media/intellidigest-logo-small.6a3103c7.png"),b=a(550),j=a(0),h=function(e){return Object(j.jsxs)(b.a,{className:"mobile-style",children:[Object(j.jsx)("div",{className:"top",children:Object(j.jsx)("img",{className:"logo",src:d,alt:"IntelliDigest"})}),Object(j.jsx)("div",{className:"titles",children:Object(j.jsx)("h2",{children:e.subtitle})}),e.children]})},m=a(57),p=a(556),f=a(12),O=a(102),g=function(e){return function(t,a,c){var r=(0,c.getFirebase)().firestore();r.collection("users").doc(e.uid).set(Object(n.a)({},e.profile),{merge:!0}).then((function(){return r.collection("marketplace").doc(e.uid).set(Object(n.a)({},e.upload),{merge:!0})})).then((function(){t({type:"CONSUMER_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"CONSUMER_ERROR",err:e})}))}},x=function(e){return function(t,a,n){(0,n.getFirebase)().auth().sendPasswordResetEmail(e.email).then((function(){t({type:"RESET_SUCCESS"})})).catch((function(e){t({type:"RESET_ERROR",err:e})}))}},y=function(e){return function(t,a,n){var c,r=n.getFirebase,s=O.a.initializeApp({apiKey:"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w",authDomain:"itracker-development.firebaseapp.com",projectId:"itracker-development",storageBucket:"itracker-development.appspot.com",messagingSenderId:"57163396396",appId:"1:57163396396:web:dd800621173f5733a4a889"},"second");s.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){c=t.user.uid,r().firestore().collection(e.masterCollection).doc(e.uid).collection("sub_accounts").doc(c).set({email:e.email,name:e.firstName+" "+e.lastName,role:e.role})})).then((function(){r().firestore().collection("users").doc(c).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],email:e.email,buildingFunction:e.function,city:e.city,country:e.country,region:e.region,admin:e.uid,type:e.type,restaurantName:e.restaurantName})})).then((function(){s.auth().currentUser.sendEmailVerification()})).then((function(){s.auth().signOut()})).then((function(){s.delete()})).then((function(){t({type:"CREATE_SUBACCOUNT"})})).catch((function(e){t({type:"CREATE_SUBACCOUNT_ERROR",err:e})}))}};var v=Object(f.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),d=o[0],b=o[1],f=e.authError,O=Object(c.useState)(!1),g=Object(i.a)(O,2),x=g[0],y=g[1];return Object(c.useEffect)((function(){e.auth.uid&&y(!0)}),[e.auth.uid]),x?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsxs)(h,{subtitle:"Log In",children:[Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter email",required:!0,onChange:function(e){return r(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Password",required:!0,onChange:function(e){return b(e.target.value)}})]}),Object(j.jsxs)("div",{className:"signup-center subtitles row",children:[Object(j.jsx)("p",{children:"Don't have an account? "}),Object(j.jsxs)(u.b,{style:{color:"#AFBA15"},to:"/signup",children:["  ","Sign up"]})]}),Object(j.jsx)("div",{className:"signup-center subtitles row",children:Object(j.jsx)(u.b,{to:"/forgot-password",style:{color:"#AFBA15"},children:"Forgot your password?"})})]}),Object(j.jsx)("div",{className:"auth-error",children:f?Object(j.jsxs)("p",{children:[" ",f]}):null}),Object(j.jsx)(p.a,{style:{fontWeight:"700"},variant:"default",className:"signup-confirm",onClick:function(t){t.preventDefault(),function(){var t={email:n,password:d};e.signIn(t)}()},children:"Confirm"})]})})),w=(a(670),a(55),a(560)),C=a.n(w),S=a(561),k=a.n(S),N=a(562),E=a.n(N),T=a(564),D=a.n(T),_=a(565),F=a.n(_),P=a(566),R=a.n(P),M=a(567),I=a.n(M),A=a(568),L=a.n(A),W=a(569),B=a.n(W),G=a(570),Y=a.n(G),U=a(571),V=a.n(U),q=a(563),H=a.n(q),z=a(572),K=a.n(z),J=a(557),Z=a.n(J),$=a(1111);function X(e){return e.disabled?Object(j.jsx)(p.a,{variant:"default",className:["default-btn","".concat(e.styling,"-btn"),"shadow-none"],disabled:!0,children:Object(j.jsx)("div",{className:"basic-title",children:e.text})}):Object(j.jsx)(p.a,{variant:"default",className:["default-btn","".concat(e.styling,"-btn"),"shadow-none"],href:e.goTo,onClick:e.onClick,children:Object(j.jsx)("div",{className:"basic-title",children:e.text})})}function Q(e){return Object(j.jsx)(p.a,{variant:"default",className:["sub-btn","".concat(e.styling,"-btn"),"shadow-none"],href:e.goTo,onClick:e.onClick,disabled:e.disabled,children:Object(j.jsx)("div",{className:"basic-title",style:{color:"white"},children:e.text})})}function ee(e){return Object(j.jsx)(p.a,{variant:"default",className:["sub-btn","".concat(e.styling,"-btn"),"shadow-none"],href:e.goTo,onClick:e.onClick,disabled:e.disabled,children:Object(j.jsx)("div",{className:"basic-title",style:{color:"white"},children:e.text})})}function te(e){var t=e.onClick;e.title;return Object(j.jsx)(p.a,{variant:"default",className:["add-btn","green-btn","shadow-none"],onClick:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Z.a,{sx:{fontSize:30}})})})}function ae(e){function t(){switch(e.icon){default:case"waste":return Object(j.jsx)(C.a,{sx:{fontSize:90}});case"chart":return Object(j.jsx)(k.a,{sx:{fontSize:90}});case"food":return Object(j.jsx)(E.a,{sx:{fontSize:90}});case"surplus":return Object(j.jsx)(H.a,{sx:{fontSize:90}});case"buy":return Object(j.jsx)(D.a,{sx:{fontSize:90}});case"info":return Object(j.jsx)(F.a,{sx:{fontSize:90}});case"world":return Object(j.jsx)(R.a,{sx:{fontSize:90}});case"book":return Object(j.jsx)(I.a,{sx:{fontSize:90}});case"plant":return Object(j.jsx)(L.a,{sx:{fontSize:90}});case"kitchen":return Object(j.jsx)(B.a,{sx:{fontSize:90}});case"product":return Object(j.jsx)(Y.a,{sx:{fontSize:90}});case"my-products":return Object(j.jsx)(V.a,{sx:{fontSize:90}});case"notes":return Object(j.jsx)(K.a,{sx:{fontSize:90}})}}var a;return a=String(e.goTo).startsWith("/")?"_self":"_blank",Object(j.jsx)(j.Fragment,{children:e.title?Object(j.jsx)($.a,{placement:"bottom",arrow:!0,title:e.title,children:Object(j.jsx)(p.a,{variant:"default",className:["icon-btn","".concat(e.color,"-btn"),"shadow-none"],href:e.goTo,onClick:e.onClick,target:a,disabled:e.disabled,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(t,{}),e.label]})})}):Object(j.jsx)(p.a,{variant:"default",className:["icon-btn","".concat(e.color,"-btn")],href:e.goTo,target:a,disabled:e.disabled,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(t,{}),e.label]})})})}var ne=a.p+"static/media/peppers.65825e19.jpg",ce=a.p+"static/media/WFTLogo.5d4e2951.png";var re=Object(f.b)((function(e){return{auth:e.firebase.auth}}),null)((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"landing",src:ne,alt:"Four brightly coloured bell peppers arranged in a square."}),Object(j.jsx)("div",{className:"title",children:Object(j.jsx)("img",{src:ce,alt:"World Food Tracker, empowering global food sustainability"})}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(Q,{styling:"blue",goTo:"/login",text:"Log In"}),Object(j.jsx)(Q,{styling:"blue",goTo:"/signup",text:"Sign Up"}),Object(j.jsx)(Q,{styling:"green",goTo:"/about-us",text:"About Us"})]})]})})),se=a(1107),oe=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"top",children:[Object(j.jsx)("div",{style:{width:"50%",paddingLeft:"1rem"},children:Object(j.jsx)(Q,{styling:"green",goTo:e.goTo,text:"Back"})}),Object(j.jsx)("div",{className:"basic-title basic-lg",children:e.header})]}),Object(j.jsx)(se.a,{})]}),Object(j.jsx)(b.a,{className:"mobile-style",children:e.children})]})},ie=function(e){return Object(j.jsx)(b.a,{className:"account-style",children:e.children})},le=(a(199),a.p+"static/media/Food.69fcbfbd.jpg"),ue=a.p+"static/media/Health.7cbca934.jpg",de=a.p+"static/media/Environment.3a48bc88.jpg",be=a(576),je=a(269);function he(){return Object(j.jsxs)(oe,{header:"About Us",goTo:"/landing",children:[Object(j.jsxs)("div",{className:"no-contrast",children:[Object(j.jsx)("h1",{className:"mt-2",children:"About the World Food Tracker"}),Object(j.jsx)("h5",{style:{fontWeight:"600"},children:"END FOOD WASTE | END HUNGER | END MALNUTRITION | IMPROVE LOCAL FOOD PRODUCTION"}),Object(j.jsx)("p",{children:"The World Food Tracker is a comprehensive application designed with the food system as a whole in mind, from farm to fork."}),Object(j.jsx)("p",{children:"As a circular food platform, the World Food Tracker is supporting individuals, households and businesses to develop a more sustainable relationship with food through a practical insight on the impact of food on health and environment."}),Object(j.jsx)("p",{children:"Let's help you plan to save our food, save our health, save our wealth and save our earth."})]}),Object(j.jsx)("div",{className:"breaker",children:Object(j.jsx)("img",{src:le,alt:""})}),Object(j.jsxs)("div",{className:"no-contrast",children:[Object(j.jsx)("h5",{style:{fontWeight:"600"},className:"mt-3",children:"FOOD"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Want to keep a detailed meal plan?"})," The World Food Tracker is designed for you to get your meal planning to the next level."]}),Object(j.jsx)("p",{children:"With detailed information about every meal and its nutritional content, there is no better solution to meal planning than the World Food Tracker."}),Object(j.jsx)("p",{children:"Through the Plan to Save campaign, the platform also connects you with local farmers so you can source common ingredients directly."}),Object(j.jsx)("p",{children:"Keeping a long-term meal plan also helps the farmers with planning their production, which reduces the food that is wasted after harvest."})]}),Object(j.jsx)("div",{className:"breaker",children:Object(j.jsx)("img",{src:ue,alt:""})}),Object(j.jsxs)("div",{className:"no-contrast",children:[Object(j.jsx)("h5",{style:{fontWeight:"600"},className:"mt-3",children:"Health"}),Object(j.jsx)("p",{children:"The World Food Tracker helps individuals and households to live a healthier lifeand transition towards a healthier diet through support with meal planning."}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Want to plan and keep track of your nutritional intake?"})," Keeping track of your nutritional intake and seeing what you are lacking in your diet will help you make the changes you need to stay healthy."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Eating in or eating out?"})," No worries. We have sustainable restaurants that source their food ingredients only from sustainable farmers to meet your needs and seamlessly update your meal plan."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Are you an organisation recognised for leading the way in sustainable farming and food production practices?"})," ","Let us help you connect to the right customers."]})]}),Object(j.jsx)("div",{className:"breaker",children:Object(j.jsx)("img",{src:de,alt:""})}),Object(j.jsxs)("div",{className:"no-contrast",children:[Object(j.jsx)("h5",{style:{fontWeight:"600"},className:"mt-3",children:"Environment"}),Object(j.jsx)("p",{children:"The World Food Tracker helps you keep track of your food waste."}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Curious about how much food is being wasted?"})," The World Food Tracker is designed to track waste such that the insight given to you or your organisation will help you to eliminate edible food waste and reduce inedible food waste. The World Food Tracker will also provide extra information about the greenhouse gas emissions of yor waste."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Are you a food producer?"})," Sign up to the World Food Tracker today to help plan your food production with sustainability in mind while tracking and reducing your avoidable food loss."]})]}),Object(j.jsxs)("div",{className:"no-contrast",children:[Object(j.jsx)("h1",{className:"mt-3",children:"About IntelliDigest Ltd"}),Object(j.jsx)("p",{children:"Drawing on cutting edge research, training and consulting, our mission at IntelliDigest is to develop new, sustainable technologies, and create innovative solutions to address the sustainability challenges faced by food producers and governments globally."}),Object(j.jsx)("p",{children:"Eliminating edible food waste and repurposing inedible waste to climate friendly chemicals is at the core of everything we do. We believe that reducing food waste at food production, retail, and household level can provide numerous benefits for both the planet and our communities."}),Object(j.jsx)("p",{children:"Through our research and consulting facilities, IntelliDigest is continuously working on helping governments and the public understand the true scale of the food waste issue and the consequences of inadequate food waste handling. Advocating for increased awareness about measuring food waste inspired our Global Food Loss & Waste Tracker system, designed to allow households to monitor their efforts and save money through reducing food waste."})]}),Object(j.jsxs)(be.a,{style:{justifyContent:"center"},className:"mt-3",children:[Object(j.jsx)(je.a,{style:{width:"50%",justifyContent:"center",display:"flex"},children:Object(j.jsx)(Q,{styling:"blue",goTo:"/login",text:"Log In"})}),Object(j.jsx)(je.a,{style:{width:"50%",justifyContent:"center",display:"flex"},children:Object(j.jsx)(Q,{styling:"blue",goTo:"/signup",text:"Sign Up"})})]})]})}var me,pe=a(59),fe=a(71),Oe=a(1105),ge=a(577),xe=a.n(ge),ye=a(60);var ve=fe.a.div(me||(me=Object(pe.a)(["\n  .card {\n    margin-top: 5px;\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: 1px solid rgb(77, 109, 77);\n\n    &:hover {\n      background-color: rgb(207, 207, 207);\n    }\n  }\n\n  .card-body {\n  }\n\n  @media (max-width: 1400px) {\n    .details p {\n      font-size: 11px;\n    }\n  }\n"]))),we=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,user:e.firebase.profile,profile:e.firebase.profile}})))((function(e){var t=e.profile,a=Object(c.useState)(e.auth.email),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(t.firstName+" "+t.lastName),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(j.jsxs)(oe,{header:"Contact Us",goTo:"/settings",children:[Object(j.jsxs)("div",{className:"contact",children:[Object(j.jsx)("i",{className:"fa fa-group contact-logo"}),Object(j.jsx)("div",{className:"contact-text-layout",children:Object(j.jsx)("h1",{children:"If you have any questions regarding your experience of using the Global Food Loss & Waste Tracker, please complete the contact form below. We aim to respond to you via e-mail as soon as possible."})})]}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),xe.a.sendForm(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EMAIL_SERVICE,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EMAIL_TEMPLATE,e.target,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EMAIL_ID).then((function(e){alert("Your Message has been sent successfully!")}),(function(e){alert("There has been an error while sending your message. Please refresh the page and try again.")})),e.target.reset()},children:[Object(j.jsxs)(m.a.Row,{children:[Object(j.jsx)(m.a.Group,{as:je.a,children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Name",id:"name",name:"name",onChange:function(e){return d(e.target.value)},value:u,required:!0})}),Object(j.jsx)(m.a.Group,{as:je.a,children:Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Email",id:"email",name:"email",onChange:function(e){return s(e.target.value)},value:r,required:!0})})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{placeholder:"Subject",id:"subject",name:"subject",required:!0})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:6,placeholder:"Message",id:"message",name:"message",required:!0})}),Object(j.jsx)(m.a.Group,{controlId:"formActions",children:Object(j.jsx)(p.a,{variant:"dark",type:"submit",children:"Submit"})})]}),Object(j.jsx)("div",{className:"details",children:Object(j.jsx)("h1",{className:"more-details-header",children:"More Contact Details"})}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(ve,{children:Object(j.jsx)(Oe.a,{onClick:function(){window.open("tel:03332420822")},children:Object(j.jsxs)(Oe.a.Body,{children:[Object(j.jsx)(Oe.a.Title,{children:"Telephone"}),Object(j.jsxs)(Oe.a.Text,{children:[Object(j.jsx)("i",{className:"fa fa-phone contact-footer-icon"}),Object(j.jsx)("p",{children:"0333 242 0822"})]})]})})})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(ve,{children:Object(j.jsx)(Oe.a,{onClick:function(){window.open("mailto:m.driscoll@intellidigest.com?subject=Subject&body=Body%20goes%20here")},children:Object(j.jsxs)(Oe.a.Body,{children:[Object(j.jsx)(Oe.a.Title,{children:"Email"}),Object(j.jsxs)(Oe.a.Text,{children:[Object(j.jsx)("i",{className:"fa fa-envelope-o contact-footer-icon"}),Object(j.jsx)("p",{children:"INFO@INTELLIDIGEST.COM"})]})]})})})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(ve,{children:Object(j.jsx)(Oe.a,{children:Object(j.jsxs)(Oe.a.Body,{children:[Object(j.jsx)(Oe.a.Title,{children:"Address"}),Object(j.jsxs)(Oe.a.Text,{children:[Object(j.jsx)("i",{className:"fa fa-location-arrow contact-footer-icon"}),Object(j.jsx)("p",{children:"Edinburgh Business School, Heriot Watt University, Currie, EH14 4AS"})]})]})})})})]})]})})),Ce=(a(675),function(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"homepage-contanier",children:Object(j.jsxs)("div",{className:"homepage-main",children:[Object(j.jsx)("img",{src:"Green.png",alt:"logo",className:"logo-btn"}),Object(j.jsx)("h1",{children:"Welcome to Intellidigest Consulting"}),Object(j.jsx)("p",{children:"Together we would deliver a more suitable food system"}),Object(j.jsxs)("div",{className:"home-btn",children:[Object(j.jsx)("button",{children:Object(j.jsx)(u.b,{style:{color:"white",textDecoration:"none"},to:"/consultants/question2",children:"Register"})}),Object(j.jsx)("button",{children:Object(j.jsx)(u.b,{style:{color:"white",textDecoration:"none"},to:"/consultant-login",children:"Login"})})]})]})})})}),Se=(a(462),a(191)),ke=a(555),Ne=a(617),Ee=Object(f.b)(null,(function(e){return{createExample:function(t){return e(function(e){return function(t,a,n,c){var r=n.getFirestore,s=c.getFirebase,o=a().firebase.profile;a().firebase.auth.uid;switch(o.type){case"business_admin":break;case"business_sub":o.admin;break;case"academic_admin":break;case"academic_sub":o.admin;break;case"farm_admin":break;case"farm_sub":o.admin;break;case"household_admin":break;case"household_sub":o.admin}r().collection("consultants").add(e).then((function(){t({type:"CREATE-DATA"})})).catch((function(e){t({type:"CREATE-DATA-ERROR"})}));var i=s().firestore();s().auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){i.collection("consultants").doc(t.user.uid).set({fullName:e.fullName,email:e.email,password:e.password})}))}}(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)("password"),u=Object(i.a)(o,2),d=u[0],b=u[1],h=Object(c.useState)({fullName:"",email:"",urlLink:"",experience:"",expertise:"",password:"",consultantVisit:"",summary:""}),p=Object(i.a)(h,2),f=p[0],O=p[1],g=Object(l.g)(),x=Object(c.useRef)();return Object(j.jsx)("div",{className:"question-contanier",children:Object(j.jsxs)("section",{style:{height:"auto"},className:"question-main",children:[Object(j.jsxs)("header",{className:"logo-header",children:[Object(j.jsx)("img",{src:"/green.png",alt:"logo",className:"logo1-btn"}),Object(j.jsx)("p",{children:"Become a Consultant with us."})]}),Object(j.jsxs)(m.a,{ref:x,style:{marginTop:"180px"},onSubmit:function(t){t.preventDefault(),function(){var t=Object(n.a)({},f);e.createExample(t),s(!0)}(),r?g.push(""):g.push("/consultants/onboard"),Ne.a.sendForm("service_id","template_q2mtocl",x.current,"user_Yh6fJKoLLp3ZNYYieHO3r").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))},children:[Object(j.jsxs)(m.a.Group,{controlId:"formBasicName",className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label",children:["1. Full Name",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(m.a.Control,{type:"text",name:"name",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{fullName:e.target.value}))},className:"form-control",required:!0})]}),Object(j.jsxs)(m.a.Group,{controlId:"formBasicEmail",className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label",children:["2. Email",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(m.a.Control,{type:"email",name:"email",className:"form-control",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{email:e.target.value}))},required:!0})]}),Object(j.jsxs)(m.a.Group,{controlId:"formBasicPassword",className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label",children:["3. Password",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(m.a.Control,{type:d,className:"form-control",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{password:e.target.value}))},required:!0}),"password"==d?Object(j.jsx)(Se.c,{className:"eye-style",onClick:function(){return b("text")}}):Object(j.jsx)(Se.b,{className:"eye-style",onClick:function(){return b("password")}})]}),Object(j.jsxs)(m.a.Group,{controlId:"formBasicUrl",className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label",children:["4. Website Url(social media link)",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(m.a.Control,{type:"text",className:"form-control",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{urlLink:e.target.value}))},required:!0})]}),Object(j.jsxs)(m.a.Group,{controlId:"formBasicText",className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label1",children:[" ","5. How Long have you been in business?",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(m.a.Control,{type:"text",className:"form-control",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{experience:e.target.value}))},required:!0})]}),Object(j.jsxs)(m.a.Group,{className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label",children:["6. Field of Expertise",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)(m.a.Control,{as:"select",className:"form-control",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{expertise:e.target.value}))},required:!0,children:[Object(j.jsx)("option",{children:"Select"}),Object(j.jsx)("option",{children:"Dietician"}),Object(j.jsx)("option",{children:"Nutrition"}),Object(j.jsx)("option",{children:"Food and Beverage"}),Object(j.jsx)("option",{children:"Food Safety"}),Object(j.jsx)("option",{children:"Sustainable Food Packaging"}),Object(j.jsx)("option",{children:"Aquaculture"}),Object(j.jsx)("option",{children:"Horticulture"}),Object(j.jsx)("option",{children:"Agro-Feed"}),Object(j.jsx)("option",{children:"Account and Legal"}),Object(j.jsx)("option",{children:"Supply Chain"})]})]}),Object(j.jsxs)(m.a.Group,{className:"form-group  different",children:[Object(j.jsxs)(m.a.Label,{children:["6. Service Charge (hourly rate)",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(ke.a,{className:"form-control  different",type:"text",placeholder:"Phone Call",disabled:!0}),Object(j.jsx)("span",{className:"fixed-service-money",children:"$100"}),Object(j.jsx)(ke.a,{className:"form-control  different",type:"text",placeholder:"Written Feedback",disabled:!0}),Object(j.jsx)("span",{className:"fixed-service-money",children:"$60"}),Object(j.jsx)(ke.a,{className:"form-control  different",type:"text",placeholder:"Online Meeting",disabled:!0}),Object(j.jsx)("span",{className:"fixed-service-money",children:"$100"}),Object(j.jsx)(ke.a,{className:"form-control  different",type:"text",placeholder:"In-person visit to Consultant",disabled:!0}),Object(j.jsx)("span",{className:"fixed-service-money",children:"$100"}),Object(j.jsx)(ke.a,{type:"text",placeholder:"Consultant Visit to Client hourly charge",className:"form-control",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{consultantVisit:e.target.value}))},required:!0})]}),Object(j.jsxs)(m.a.Group,{controlId:"formBasicSummary",className:"form-group",children:[Object(j.jsxs)(m.a.Label,{className:"form-label",children:["8. Brief Summary of your Expertise/Key areas in the Food System.",Object(j.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(j.jsx)(m.a.Control,{as:"textarea",rows:4,type:"text",onChange:function(e){return O(Object(n.a)(Object(n.a)({},f),{},{summary:e.target.value}))},required:!0})]}),Object(j.jsxs)(m.a.Group,{controlId:"formBasicOptional",className:"form-group",children:[Object(j.jsx)(m.a.Label,{className:"form-label",children:"9. Any other thing you would like to share with us ?(optional)"}),Object(j.jsx)(m.a.Control,{as:"textarea",rows:4,type:"text"})]}),Object(j.jsx)("button",{className:"question2-btn",type:"submit",value:"submit",children:"Submit"})]})]})})})),Te=function(){var e=Object(l.g)();return Object(j.jsx)("div",{className:"question-contanier",children:Object(j.jsxs)("section",{className:"question-subcontanier",children:[Object(j.jsxs)("header",{className:"logo-header",children:[Object(j.jsx)("img",{src:"/green.png",alt:"logo",className:"logo1-btn"}),Object(j.jsx)("p",{children:"Become a Consultant with us."})]}),Object(j.jsxs)("div",{className:"onboard-message",children:[Object(j.jsx)("h4",{style:{padding:"50px"},children:"Congrats. You have successfully signed up as a consultant with us. You will be hearing from us soon."}),Object(j.jsx)("button",{style:{width:"240px"},className:"question2-btn",onClick:function(){return e.push("/consultants")},children:"Go back to Home page"})]})]})})},De=Object(f.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_CONSULTANT_SUCCESS"})})).catch((function(t){e({type:"LOGIN_CONSULTANT_ERROR",err:t})}))}));var a}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1];var b=e.authError;return Object(j.jsxs)(h,{subtitle:"Log In to your Consultant Account",children:[Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter email",required:!0,onChange:function(e){return r(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Password",required:!0,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsx)("div",{className:"signup-center subtitles row",children:Object(j.jsx)(u.b,{to:"/forgot-password",style:{color:"#AFBA15"},children:"Forgot your password?"})})]}),Object(j.jsx)("div",{className:"auth-error",children:b?Object(j.jsxs)("p",{children:[" ",b]}):null}),Object(j.jsx)(p.a,{style:{fontWeight:"700"},variant:"default",className:"signup-confirm",onClick:function(t){t.preventDefault(),function(){var t={email:n,password:l};e.signIn(t)}()},children:"Confirm"})]})})),_e=(a(463),a(172)),Fe=a(582),Pe=(a(977),a(676),a(978),a(973),{apiKey:"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w",authDomain:"itracker-development.firebaseapp.com",projectId:"itracker-development",storageBucket:"itracker-development.appspot.com",messagingSenderId:"57163396396",appId:"1:57163396396:web:dd800621173f5733a4a889"});O.a.initializeApp(Pe);var Re=O.a.storage(),Me=O.a.messaging.isSupported()?O.a.messaging():null,Ie=Pe,Ae=(O.a.auth,O.a.firestore()),Le=function(e){var t=e.setShow;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"overlay-contanier",onClick:function(){return t(!1)}}),Object(j.jsxs)("section",{className:"modal-contanier",onClick:function(){return t(!1)},children:[Object(j.jsx)("h4",{children:"Profile photo"}),Object(j.jsxs)("div",{className:"modal-icons-contanier",children:[Object(j.jsxs)("div",{className:"bottom-icon1",children:[Object(j.jsx)(_e.b,{style:{fontSize:"20px",color:"#0c0847",marginTop:"10px"}}),Object(j.jsx)("p",{style:{marginTop:"20px"},children:"Camera"})]}),Object(j.jsxs)("div",{className:"bottom-icon1",children:[Object(j.jsx)(_e.c,{style:{fontSize:"20px",color:"#0c0847",marginTop:"10px"}}),Object(j.jsx)("p",{style:{marginTop:"20px"},children:"Gallery"})]})]})]})]})},We=function(e){var t=e.setSetting;return Object(j.jsxs)("div",{style:{height:"400px",width:"400px",transition:"2s ease in all"},children:[Object(j.jsx)("h1",{children:"ConsultantSetting "}),Object(j.jsx)("button",{onClick:function(){t(!1)},children:"hello"})]})},Be=function(){var e=Object(c.useState)("https://thumbs.dreamstime.com/b/default-avatar-profile-trendy-style-social-media-user-icon-187599373.jpg"),t=Object(i.a)(e,2),a=t[0],n=(t[1],Object(c.useState)(!1)),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(j.jsx)("div",{className:"login-contanier",children:Object(j.jsxs)("main",{className:"login-main",children:[Object(j.jsxs)("div",{className:"profile-main",children:[Object(j.jsx)("div",{className:"settings-icon-contanier",children:Object(j.jsx)(_e.d,{className:"settings-icon"})}),Object(j.jsx)("img",{className:"profile-contanier",src:a})]}),Object(j.jsx)("div",{className:"profile-update",children:Object(j.jsx)(_e.b,{style:{marginTop:"10px",textAlign:"center"},onClick:function(){return o(!0)}})}),Object(j.jsxs)("section",{className:"login-text",children:[Object(j.jsx)("h3",{children:"Dorathy Williams"}),Object(j.jsx)("p",{children:"Nutritionist"})]}),Object(j.jsxs)("section",{className:"feature-buttons",children:[Object(j.jsxs)("div",{style:{backgroundColor:"#afba15"},children:[Object(j.jsx)(Se.d,{className:"icons-style"}),Object(j.jsx)("p",{style:{padding:"9px"},children:"Potential Customers"})]}),Object(j.jsxs)("div",{style:{backgroundColor:"#0c0847"},children:[Object(j.jsx)(_e.a,{className:"icons-style"}),Object(j.jsx)("p",{style:{padding:"9px"},children:"Confirm Meetings"})]}),Object(j.jsxs)("div",{style:{backgroundColor:"#afba15"},children:[Object(j.jsx)(Fe.a,{className:"icons-style"}),Object(j.jsx)("p",{style:{padding:"9px"},children:"Customer Records"})]}),Object(j.jsxs)("div",{style:{backgroundColor:"#0c0847"},children:[Object(j.jsx)(Se.a,{className:"icons-style"}),Object(j.jsx)("p",{style:{padding:"9px"},children:"Connect"})]})]}),s&&Object(j.jsx)(Le,{setShow:o}),d&&Object(j.jsx)(We,{setting:b})]})})},Ge=(a(678),a(1062)),Ye=a(618);function Ue(e){var t;return t=e.items.map((function(t,a){return"/"===t?Object(j.jsx)(Ye.a.Divider,{},a):Object(j.jsx)(Ye.a.Item,{id:e.id,eventKey:t,children:t},a)})),e.disabled?Object(j.jsx)(Ge.a,{title:e.data,onSelect:e.function,className:["dropdown center",e.styling],variant:"default",disabled:!0,drop:"down",children:t}):Object(j.jsx)(Ge.a,{title:e.data,onSelect:e.function,className:["dropdown center",e.styling],variant:"default",drop:"down",children:t})}function Ve(e){var t;return t=e.items.map((function(t,a){return"/"===t?Object(j.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}):Object(j.jsx)("option",{id:e.id,children:t},a)})),Object(j.jsxs)(m.a.Control,{id:e.id,disabled:e.disabled,onChange:e.function,as:"select",value:e.value,children:[Object(j.jsx)("option",{hidden:!0,value:!0,style:{color:"rgba(0, 0, 0, 0.5)"},children:e.placeholder},"blankChoice"),t]})}var qe,He=a(1108),ze=a(1099),Ke=a(1109),Je=a(1110),Ze=a(238),$e=a.n(Ze),Xe=a(273),Qe=a.n(Xe),et=a(274),tt=a.n(et),at=a(178),nt=a.n(at),ct=function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("data").doc(e.uid).set({user:e.name,email:e.email}).then((function(){t({type:"START_DATA"})})).catch((function(e){t({type:"START_DATA_ERROR",err:e})}))}},rt=function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection(e.masterCollection).doc(e.uid).collection(e.collection).add(e.upload).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}},st=function(e){return function(t,a,c){var r=c.getFirebase,s=r().firestore.FieldValue.increment(e.upload.foodWasteWeight);console.log("catch"),r().firestore().collection(e.masterCollection).doc(e.uid).set(Object(n.a)(Object(n.a)({},e.upload),{},{foodWasteWeight:s}),{merge:!0}).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}},ot=function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection(e.masterCollection).doc(e.uid).collection(e.collection).get().then((function(e){var a=[];e.forEach((function(e){a.push(e.data())})),t({type:"GET_DATA",payload:a})})).catch((function(e){t({type:"GET_DATA_ERROR",err:e})}))}},it=a(177),lt=a.n(it),ut=[{name:"Afghanistan",code:"AF"},{name:"Alland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"British Virgin Islands",code:"VG"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo, Democratic Republic of the",code:"CG"},{name:"Congo, Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote d'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea-Bissau",code:"GW"},{name:"Guinea",code:"GN"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kosovo",code:"XK"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, the Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestine, State of",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Barthelemy",code:"BL"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Martin (French part)",code:"MF"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United Republic of Tanzania",code:"TZ"},{name:"United States",code:"US"},{name:"Uruguay",code:"UY"},{name:"US Virgin Islands",code:"VI"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],dt=["Asia","Africa","Australia","Europe","North America","South America"],bt=ut.map((function(e){return e.name})),jt=(a(679),a(127)),ht=a.n(jt),mt=function(e,t){ht()({title:e,message:t,backgroundTop:"white",backgroundBottom:"white",colorTop:"black",colorBottom:"black",closeButton:"X",duration:1e4})},pt=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(yt,{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Row,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Name"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Enter name",defaultValue:e.firstName,required:!0,onChange:function(t){return e.setFirstName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Surname"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Enter surname",defaultValue:e.lastName,required:!0,onChange:function(t){return e.setLastName(t.target.value)}})]})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter email",defaultValue:e.email,required:!0,onChange:function(t){return e.setEmail(t.target.value)}}),Object(j.jsx)(m.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Password",defaultValue:e.password,required:!0,onChange:function(t){return e.setPassword(t.target.value)}})]}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(p.a,{type:"submit",variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(2)},children:"Next"})})]})})})},ft=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(yt,{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Town"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Town",defaultValue:e.town,required:!0,onChange:function(t){e.setTown(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Country"}),Object(j.jsx)(Ve,{id:"country",function:function(t){e.setCountry(t.target.value)},value:e.country,placeholder:"Please Select a Country",items:bt})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Region"}),Object(j.jsx)(Ve,{id:"region",function:function(t){e.setRegion(t.target.value)},value:e.region,placeholder:"Please Select a Region",items:dt})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"What kind of account are you creating?"}),Object(j.jsx)(Ve,{id:"buildingFunction",function:function(t){e.setBuildingFunction(t.target.value)},value:e.buildingFunction,placeholder:"Please Select an Account Type",items:["Households","Personal","Hospitals","Schools","Hotels","Offices","Restaurants","Shop/Supermarket","Farm","Recreational Centers","Other"]})]})]})}),Object(j.jsx)("div",{className:"signup-center",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(1)},children:"Back"}),Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),"Restaurants"==e.buildingFunction?e.setStage(4):e.setStage(3)},children:"Next"})]})})]})},Ot=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(yt,{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Restaurant name"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Restaurant name",defaultValue:e.restaurantName,required:!0,onChange:function(t){e.setRestaurantName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Please input the local authority which verifies your restuarant's health and safety status (e.g. the Food Standards Agency for Scotland)."}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Regulatory body",defaultValue:e.regulatoryBody,required:!0,onChange:function(t){e.setRegulatoryBody(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Please input the ID this regulatory body has provided you with. "}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"ID",defaultValue:e.regulatoryBodyID,required:!0,onChange:function(t){e.setRegulatoryBodyID(t.target.value)}})]}),Object(j.jsx)("div",{className:"signup-center",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(2)},children:"Back"}),Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),"Restaurants"==e.buildingFunction?e.setStage(5):e.setStage(2)},children:"Next"})]})})]})})})},gt=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(yt,{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"What cuisine does your kitchen offer?"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Cuisine",defaultValue:e.cuisine,required:!0,onChange:function(t){e.setCuisine(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Please provide a brief description of your restaurant for customers to see."}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Description",defaultValue:e.restaurantDescription,required:!0,onChange:function(t){e.setRestaurantDescription(t.target.value)}})]}),Object(j.jsx)("div",{className:"signup-center",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(4)},children:"Back"}),Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.buildingFunction,e.setStage(3)},children:"Next"})]})})]})})})},xt=function(e){return"Restaurants"==e.buildingFunction?Object(j.jsx)("div",{children:Object(j.jsxs)(He.a,{children:[Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)($e.a,{})}),Object(j.jsxs)(Je.a,{children:[e.firstName," ",e.lastName]})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Qe.a,{})}),Object(j.jsx)(Je.a,{children:e.email})]}),Object(j.jsxs)(ze.a,{className:"space-between",children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(tt.a,{})}),Object(j.jsxs)(Je.a,{children:[e.town,", ",e.country,", ",e.region]})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.buildingFunction})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.restaurantName})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.regulatoryBody})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.regulatoryBodyID})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.cuisine})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.restaurantDescription})]})]})}):Object(j.jsx)("div",{children:Object(j.jsxs)(He.a,{children:[Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)($e.a,{})}),Object(j.jsxs)(Je.a,{children:[e.firstName," ",e.lastName]})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Qe.a,{})}),Object(j.jsx)(Je.a,{children:e.email})]}),Object(j.jsxs)(ze.a,{className:"space-between",children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(tt.a,{})}),Object(j.jsxs)(Je.a,{children:[e.town,", ",e.country,", ",e.region]})]}),Object(j.jsxs)(ze.a,{children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(nt.a,{})}),Object(j.jsx)(Je.a,{children:e.buildingFunction})]})]})})},yt=fe.a.div(qe||(qe=Object(pe.a)(["\n  form {\n    width: 80%;\n    margin: auto;\n    padding: 10px;\n  }\n\n  input {\n    border: 1px solid #62680a;\n  }\n\n  .btn-dark {\n    background-color: #071850;\n    color: whitesmoke;\n    border: 1px solid #03091d;\n    float: right;\n\n    &:hover {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n\n    &:active {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n  }\n"]))),vt=Object(f.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var c,r=n.getFirebase;switch(e.function){case"Hospitals":case"Hotels":case"Offices":case"Shop/Supermarket":case"Recreational Centers":case"Business":c="business_admin";break;case"Restaurants":c="restaurant_admin";break;case"Schools":c="academic_admin";break;case"Farm":c="farm_admin";break;case"Households":case"Personal":c="household_admin";break;default:c="user"}var s=r().firestore(),o=r();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){var a;s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],email:e.email,buildingFunction:e.function,city:e.city,country:e.country,region:e.region,restaurantName:e.restaurantName,regulatoryBody:e.regulatoryBody,regulatoryBodyID:e.regulatoryBodyID,cuisine:e.cuisine,restaurantDescription:e.restaurantDescription,type:c}),"user"!==(a="business_admin"===c?"business_users":"academic_admin"===c?"academic_users":"farm_admin"===c?"farm_users":"household_admin"===c?"household_users":"user")&&s.collection(a).doc(t.user.uid).set({name:e.firstName+" "+e.lastName,email:e.email})})).then((function(){o.auth().currentUser.sendEmailVerification()})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))},createMapData:function(t){return e(st(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),d=o[0],b=o[1],m=Object(c.useState)(""),f=Object(i.a)(m,2),O=f[0],g=f[1],x=Object(c.useState)(""),y=Object(i.a)(x,2),v=y[0],w=y[1],C=Object(c.useState)(""),S=Object(i.a)(C,2),k=S[0],N=S[1],E=Object(c.useState)(""),T=Object(i.a)(E,2),D=T[0],_=T[1],F=Object(c.useState)(""),P=Object(i.a)(F,2),R=P[0],M=P[1],I=Object(c.useState)(""),A=Object(i.a)(I,2),L=A[0],W=A[1],B=Object(c.useState)(""),G=Object(i.a)(B,2),Y=G[0],U=G[1],V=Object(c.useState)(""),q=Object(i.a)(V,2),H=q[0],z=q[1],K=Object(c.useState)(""),J=Object(i.a)(K,2),Z=J[0],$=J[1],X=Object(c.useState)(""),Q=Object(i.a)(X,2),ee=Q[0],te=Q[1],ae=Object(c.useState)(""),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],se=Object(c.useState)(1),oe=Object(i.a)(se,2),ie=oe[0],le=oe[1],ue=Object(c.useState)(),de=Object(i.a)(ue,2),be=de[0],je=de[1];Object(c.useEffect)((function(){be&&(mt("Error",be),je())}),[be]);var he=function(){var e=/^[0-9\b]+$/,t=""!==n&&""!==d&&""!==O&&""!==v,a=""!==k&&""!==D&&""!==R&&""!==L,c=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(O),r=!e.test(d)&&!e.test(n),s=!e.test(k);return!!(t&&a&&c&&r&&s)||(je(t?a?c?r?s?"Please enter valid information.":"Please enter a valid town.":"Please enter a valid name.":"Please enter a valid email address.":"Please enter a valid town, country, region, and account type.":"Please enter a valid name, email, and password."),!1)},me=e.authError,pe=Object(c.useState)(!1),fe=Object(i.a)(pe,2),Oe=fe[0],ge=fe[1];if(Object(c.useEffect)((function(){lt.a.setApiKey("AIzaSyA7vyoyDlw8wHqveKrfkkeku_46bdR_aPk"),lt.a.setLocationType("ROOFTOP")}),[]),Object(c.useEffect)((function(){e.auth.uid&&(ge(!0),""!==k&&""!==D&&lt.a.fromAddress(k+" "+D).then((function(t){var a={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:0,location:t.results[0].address_components[0].long_name,coords:[t.results[0].geometry.location.lat,t.results[0].geometry.location.lng]}};e.createMapData(a)})))}),[e.auth.uid]),Object(c.useEffect)((function(){}),[ie]),Oe)return Object(j.jsx)(l.a,{to:"/account"});switch(ie){default:case 1:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("p",{children:"First, create your account."})}),Object(j.jsx)(pt,{setFirstName:r,firstName:n,setLastName:b,lastName:d,setEmail:g,email:O,setPassword:w,password:v,setStage:le}),Object(j.jsxs)("div",{className:"signup-center subtitles row",children:[Object(j.jsx)("p",{children:"Already have an account? "}),Object(j.jsxs)(u.b,{style:{color:"#AFBA15"},to:"/login",children:["  ","Log In"]})]})]});case 2:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("p",{children:"First, create your account."})}),Object(j.jsx)(ft,{setTown:N,town:k,setCountry:_,country:D,setRegion:M,region:R,setBuildingFunction:W,buildingFunction:L,setStage:le,countries:bt})]});case 3:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("h5",{children:"Confirmation"})}),Object(j.jsx)(xt,{setStage:le,firstName:n,lastName:d,email:O,town:k,region:R,country:D,buildingFunction:L,setRestaurantName:U,restaurantName:Y,setCuisine:te,cuisine:ee,setRegulatoryBody:z,regulatoryBody:H,setRegulatoryBodyID:$,regulatoryBodyID:Z,setRestaurantDescription:re,restaurantDescription:ce}),Object(j.jsxs)("div",{className:"signup-center",children:[Object(j.jsx)("div",{className:"auth-error",children:me?Object(j.jsxs)("p",{children:[" ",me]}):null}),Object(j.jsx)("div",{children:Object(j.jsx)(p.a,{style:{width:"30%"},variant:"default",className:"signup-btn",onClick:function(e){return le(1)},children:"Change"})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)(p.a,{style:{fontWeight:"700"},variant:"default",className:"signup-confirm",onClick:function(t){t.preventDefault(),function(){var t={firstName:n,lastName:d,initials:n[0]+d[0],email:O,password:v,function:L,city:k,country:D,region:R,restaurantName:Y,regulatoryBody:H,regulatoryBodyID:Z,cuisine:ee,restaurantDescription:ce,type:"user"};he()?(console.log("signup"),e.signUp(t)):console.log("error")}()},children:"Confirm"})})]})]});case 4:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("p",{children:"First, create your account."})}),Object(j.jsx)(Ot,{setTown:N,town:k,setCountry:_,country:D,setRegion:M,region:R,setBuildingFunction:W,buildingFunction:L,setStage:le,countries:bt,setRestaurantName:U,restaurantName:Y,setRegulatoryBody:z,regulatoryBody:H,setRegulatoryBodyID:$,regulatoryBodyID:Z})]});case 5:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("p",{children:"First, create your account."})}),Object(j.jsx)(gt,{setTown:N,town:k,setCountry:_,country:D,setRegion:M,region:R,setBuildingFunction:W,buildingFunction:L,setStage:le,countries:bt,restaurantName:Y,regulatoryBody:H,regulatoryBodyID:Z,setCuisine:te,cuisine:ee,setRestaurantDescription:re,restaurantDescription:ce})]})}})),wt=(a(688),a(1067)),Ct=a(583),St=a.n(Ct),kt=a(1112),Nt=a(1066),Et=a(1115),Tt=a(337),Dt=a.n(Tt);function _t(e){var t=e.open,a=e.onClose,n=e.handleButtonClick,c=e.to,r=e.text;return Object(j.jsxs)(kt.a,{open:t,maxWidth:"xs",fullWidth:!0,children:[Object(j.jsxs)(Nt.a,{children:[e.children,Object(j.jsx)(Et.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(j.jsx)(Dt.a,{})})]}),Object(j.jsx)(Q,{styling:"blue",text:r,onClick:n,goTo:c})]})}function Ft(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(He.a,{children:Object(j.jsx)(ze.a,{className:"space-between",children:Object(j.jsxs)(wt.a,{onClick:function(){r(!0)},children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(St.a,{})}),Object(j.jsx)(Je.a,{children:"Logout"})]})})}),Object(j.jsx)(_t,{open:n,onClose:function(){r(!1)},text:"Log Out",handleButtonClick:e.handleSignOut,to:e.to,children:"Are you sure you want to log out?"})]})}a(689);function Pt(e){var t="h".concat(e.priority);return Object(j.jsx)(t,{className:["heading",e.styling],children:e.text})}var Rt=a.p+"static/media/WheatIcon.1a8e8f19.png";a(690);function Mt(){return Object(j.jsx)("div",{className:"loading",children:Object(j.jsx)("div",{className:"icon",children:Object(j.jsx)("img",{src:Rt,alt:"loading",className:"wheat"})})})}var It=a(554),At=a(1068),Lt=a(1069),Wt=a(584),Bt=a.n(Wt),Gt=a(587),Yt=a.n(Gt),Ut=a(588),Vt=a.n(Ut),qt=a(586),Ht=a.n(qt),zt=a(221),Kt=a.n(zt),Jt=a(585),Zt=a.n(Jt),$t=a(445),Xt=a.n($t),Qt=a(48),ea=a(1116),ta=a(1117),aa=a(156);function na(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(c.useEffect)((function(){if(e.country){var t=ut.find((function(t){return t.name===e.country}));t&&r(t.code)}}),[e.country]),Object(c.useEffect)((function(){Object(aa.b)(n)?Object(aa.a)(e.postcode.trim(),n)?(u(!1),e.setValidPostcode(!0)):(e.setValidPostcode(!1),u(!0)):e.setValidPostcode(!0)}),[e.postcode]),Object(j.jsxs)("div",{children:[Object(j.jsx)(m.a.Label,{children:"Postcode"}),Object(j.jsx)(m.a.Control,{type:"postcode",placeholder:"Postcode",defaultValue:e.postcode,onChange:function(t){return e.setPostcode(t.target.value)}}),l&&Object(j.jsx)("div",{className:"err",children:"Please enter a valid postcode."})]})}function ca(e){var t;return t=e.listItems.map((function(t){return Object(j.jsx)(ze.a,{children:Object(j.jsxs)(wt.a,{onClick:function(){e.HandleButtonState(t.change)},children:[Object(j.jsx)(Ke.a,{children:t.icon}),Object(j.jsx)(Je.a,{children:t.item})]})},t.key)})),Object(j.jsx)(He.a,{children:t})}var ra=function(e){var t=[{key:"name",item:e.firstName+" "+e.lastName,change:"changeName",icon:Object(j.jsx)($e.a,{})},{key:"email",item:e.email,change:"changeEmail",icon:Object(j.jsx)(Qe.a,{})},{key:"password",item:"Password",change:"changePassword",icon:Object(j.jsx)(Bt.a,{})},{key:"location",item:e.town+", "+e.country+", "+e.region,change:"changeLocation",icon:Object(j.jsx)(tt.a,{})},{key:"restaurantName",item:e.restaurantName,change:"changeRestaurantName",icon:Object(j.jsx)($e.a,{})},{key:"regulatoryBody",item:e.regulatoryBody,change:"changeRegulatoryBody",icon:Object(j.jsx)(Xt.a,{})},{key:"regulatoryBodyID",item:e.regulatoryBodyID,change:"changeRegulatoryBodyID",icon:Object(j.jsx)(Xt.a,{})},{key:"cuisine",item:e.cuisine,change:"changeCuisine",icon:Object(j.jsx)(Kt.a,{})},{key:"restaurantDescription",item:e.restaurantDescription,change:"changeRestaurantDescription",icon:Object(j.jsx)(Zt.a,{})}];return Object(j.jsxs)(j.Fragment,{children:[String(e.type).includes("sub")?Object(j.jsx)(j.Fragment,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ca,{listItems:t,HandleButtonState:e.HandleButtonState}),String(e.type).includes("admin")?Object(j.jsx)(ze.a,{children:Object(j.jsxs)(wt.a,{onClick:function(){e.HandleButtonState("changeSubAccounts")},children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Ht.a,{})}),Object(j.jsx)(Je.a,{children:"Sub Accounts"})]})},"subaccounts"):Object(j.jsx)(j.Fragment,{}),e.children]}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(ze.a,{children:Object(j.jsxs)(wt.a,{href:"/questionnaire",component:"a",children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Yt.a,{})}),Object(j.jsx)(Je.a,{children:"Help us to offer your greater value by answering this short questionnaire."})]})}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(ze.a,{children:Object(j.jsxs)(wt.a,{href:"/contact",component:"a",children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Vt.a,{})}),Object(j.jsx)(Je.a,{children:"Contact Us"})]})}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(Ft,{handleSignOut:e.HandleSignOut,to:"/landing"})]})},sa=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsxs)(m.a.Row,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Name"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter name",defaultValue:e.firstName,id:"firstname",onChange:function(t){return e.setFirstName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Surname"}),Object(j.jsx)(m.a.Control,{type:"surname",placeholder:"Enter surname",defaultValue:e.lastName,onChange:function(t){return e.setLastName(t.target.value)}})]})]})})})},oa=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter new email",onChange:function(t){return e.setEmail(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Confirm Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",onChange:function(t){return e.setPassword(t.target.value)}})]})]})})},ia=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("h5",{children:Object(j.jsx)("b",{children:"Follow the email instructions to reset your password."})})}),Object(j.jsx)(m.a.Group,{className:"mb-3",children:Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter Email",onChange:function(t){return e.setEmail(t.target.value)}})})]})})},la=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Town"}),Object(j.jsx)(m.a.Control,{type:"address",placeholder:"Town",defaultValue:e.town,onChange:function(t){e.setTown(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Country"}),Object(j.jsx)(m.a.Control,{type:"address",placeholder:"Country",defaultValue:e.country,onChange:function(t){e.setCountry(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Region"}),Object(j.jsx)(m.a.Control,{type:"address",placeholder:"Region",defaultValue:e.region,onChange:function(t){return e.setRegion(t.target.value)}})]}),e.signedUpForPTS?Object(j.jsx)(m.a.Group,{className:"mb-3",children:Object(j.jsx)(na,{postcode:e.postcode,setPostcode:e.setPostcode,country:e.country,validPostcode:e.validPostcode,setValidPostcode:e.setValidPostcode})}):null]})})},ua=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],p=b[1],f=function(){r(!1)};if(null!==e.subAccounts&&void 0!==e.subAccounts)var O=Object.values(e.subAccounts);return Object(j.jsxs)("div",{children:[Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:Object(j.jsx)(Pt,{priority:"3",text:"Sub Accounts"})}),Object(j.jsx)(At.a,{children:null===O||void 0===O?void 0:O.map((function(e,t){return Object(j.jsxs)(At.a.Item,{action:!0,as:"li",className:"d-flex justify-content-between align-items-start",onClick:function(){return function(e){r(!0),u(e)}(e)},children:[Object(j.jsxs)("div",{className:"ms-2 me-auto",children:[Object(j.jsx)("div",{className:"fw-bold",children:e.name}),e.email]}),Object(j.jsx)(Lt.a,{variant:"primary",pill:!0,children:e.role})]},t)}))})]}),Object(j.jsx)(se.a,{}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:Object(j.jsx)(Pt,{priority:"3",text:"Create Sub Account"})}),Object(j.jsxs)(m.a.Row,{className:"mb-3",children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Name"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter Name",value:e.subFirstName,onChange:function(t){return e.setSubFirstName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Surname"}),Object(j.jsx)(m.a.Control,{type:"surname",placeholder:"Enter Surname",value:e.subLastName,onChange:function(t){return e.setSubLastName(t.target.value)}})]})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter Email",value:e.subEmail,onChange:function(t){return e.setSubEmail(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",value:e.subPassword,onChange:function(t){return e.setSubPassword(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Role"}),Object(j.jsx)(m.a.Control,{type:"role",placeholder:"Enter Role",value:e.subRole,onChange:function(t){return e.setSubRole(t.target.value)}})]})]})]}),Object(j.jsxs)(kt.a,{onClose:f,open:n,maxWidth:"xs",fullWidth:!0,children:[Object(j.jsxs)(Nt.a,{children:["Delete '",l.email,"' account?",Object(j.jsx)(Et.a,{"aria-label":"close",onClick:f,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(j.jsx)(Dt.a,{})})]}),Object(j.jsx)(ea.a,{children:Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Sub Account Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",onChange:function(e){return p(e.target.value)}})]})}),Object(j.jsx)(ta.a,{children:Object(j.jsx)(Q,{styling:"blue",text:"Delete Account",onClick:function(){var t;switch(e.profile.type){case"business_admin":t="business_users";break;case"academic_admin":t="academic_users";break;case"farm_admin":t="farm_users";break;case"household_admin":t="household_users"}var a={masterCollection:t,uid:e.uid,email:l.email,password:h};e.deleteSubAccount(a),f()}})})]})]})},da=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError,profile:e.firebase.profile,postcodeData:e.data.getData,data:e.firestore.data.SubAccounts}}),(function(e){return{resetPassword:function(t){return e(x(t))},updateEmail:function(t){return e((a=t,function(e,t,n){var c=n.getFirebase,r=c(),s=c().firestore(),o=r.auth.EmailAuthProvider.credential(a.email,a.password);r.auth().currentUser.reauthenticateWithCredential(o).then((function(){r.auth().currentUser.verifyBeforeUpdateEmail(a.newEmail).then((function(){return s.collection("users").doc(a.uid).update({email:a.newEmail})})).then((function(){e({type:"CHANGE_EMAIL_SUCCESS"})})).catch((function(t){e({type:"CHANGE_EMAIL_ERROR",err:t})}))}))}));var a},updateProfile:function(t){return e(function(e){return function(t,a,c){(0,c.getFirebase)().firestore().collection("users").doc(e.uid).set(Object(n.a)({},e.profile),{merge:!0}).then((function(){t({type:"CHANGE_PROFILE_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"CHANGE_PROFILE_ERROR",err:e})}))}}(t))},signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))},createMapData:function(t){return e(st(t))},createSubAccount:function(t){return e(y(t))},deleteSubAccount:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirebase,s=O.a.initializeApp({apiKey:"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w",authDomain:"itracker-development.firebaseapp.com",projectId:"itracker-development",storageBucket:"itracker-development.appspot.com",messagingSenderId:"57163396396",appId:"1:57163396396:web:dd800621173f5733a4a889"},"second");s.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){c=s.auth().currentUser.uid,r().firestore().collection(a.masterCollection).doc(a.uid).collection("sub_accounts").doc(c).delete(),r().firestore().collection("users").doc(c).delete()})).then((function(){s.auth().currentUser.delete()})).then((function(){s.auth().signOut()})).then((function(){s.delete()})).then((function(){e({type:"DELETE_SUBACCOUNT"})})).catch((function(t){e({type:"DELETE_SUBACCOUNT_ERROR",err:t})}))}));var a},getFirestoreData:function(t){return e(ot(t))},changeConsumerPostcode:function(t){return e(function(e){return function(t,a,c){(0,c.getFirebase)().firestore().collection("marketplace").doc(e.uid).set(Object(n.a)({},e.upload),{merge:!0}).then((function(){t({type:"CONSUMER_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"CONSUMER_ERROR",err:e})}))}}(t))},getConsumerPostcode:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("marketplace").doc(e).get().then((function(e){t({type:"GET_DATA",payload:e.data()})})).catch((function(e){t({type:"GET_DATA_ERROR",err:e})}))}}(t))}}})),Object(Qt.firestoreConnect)((function(e){var t;switch(e.profile.type){case"business_admin":t="business_users";break;case"academic_admin":t="academic_users";break;case"farm_admin":t="farm_users";break;case"household_admin":default:t="household_users"}return e.auth.uid?[{collection:t,doc:e.auth.uid,subcollections:[{collection:"sub_accounts"}],storeAs:"SubAccounts"}]:[]})))((function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){setTimeout((function(){return r(!1)}),1500)}));var s=Object(c.useState)(e.profile.firstName),o=Object(i.a)(s,2),u=o[0],d=o[1],b=Object(c.useState)(e.profile.lastName),h=Object(i.a)(b,2),p=h[0],f=h[1],O=Object(c.useState)(e.auth.email),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)(""),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)(""),N=Object(i.a)(k,2),E=N[0],T=N[1],D=Object(c.useState)(""),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)(""),M=Object(i.a)(R,2),I=M[0],A=M[1],L=Object(c.useState)(""),W=Object(i.a)(L,2),B=W[0],G=W[1],Y=Object(c.useState)(""),U=Object(i.a)(Y,2),V=U[0],q=U[1],H=Object(c.useState)(),z=Object(i.a)(H,2),K=z[0],J=z[1],Z=Object(c.useState)(e.profile.city),$=Object(i.a)(Z,2),X=$[0],ee=$[1],te=Object(c.useState)(e.profile.country),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],re=Object(c.useState)(e.profile.region),ie=Object(i.a)(re,2),le=ie[0],ue=ie[1],de=Object(c.useState)(""),be=Object(i.a)(de,2),he=be[0],me=be[1],pe=Object(c.useState)(!0),fe=Object(i.a)(pe,2),Oe=fe[0],ge=fe[1],xe=Object(c.useState)(e.profile.isConsumer),ye=Object(i.a)(xe,2),ve=ye[0],we=ye[1],Ce=Object(c.useState)(null),Se=Object(i.a)(Ce,2),ke=Se[0],Ne=Se[1],Ee=Object(c.useState)(""),Te=Object(i.a)(Ee,2),De=Te[0],_e=Te[1],Fe=Object(c.useState)(!1),Pe=Object(i.a)(Fe,2),Re=Pe[0],Me=Pe[1],Ie=Object(c.useState)(""),Ae=Object(i.a)(Ie,2),Le=Ae[0],We=Ae[1],Be=Object(c.useState)(""),Ge=Object(i.a)(Be,2),Ye=Ge[0],Ue=Ge[1],Ve=Object(c.useState)(""),qe=Object(i.a)(Ve,2),He=qe[0],ze=qe[1],Ke=Object(c.useState)(""),Je=Object(i.a)(Ke,2),Ze=Je[0],$e=Je[1],Xe=Object(c.useState)(""),Qe=Object(i.a)(Xe,2),et=Qe[0],tt=Qe[1];function at(e){ke?ke===e?Ne(null):ke!==e&&ke&&Ne(e):Ne(e)}function nt(){var t={auth:e.auth,email:e.auth.email,newEmail:x,uid:e.auth.uid,password:C};e.updateEmail(t),e.authError?_e(e.authError):Me(!0)}Object(c.useEffect)((function(){void 0!==e.data&&null!==e.data?J(e.data):J({})}),[e.data]),Object(c.useEffect)((function(){me(e.postcodeData.postcode)}),[e.postcodeData]),Object(c.useEffect)((function(){_e(""),Me(!1)}),[ke]),Object(c.useEffect)((function(){if(!e.auth.uid)return Object(j.jsx)(l.a,{to:"/login"})}),[e.auth.uid]),Object(c.useEffect)((function(){d(e.profile.firstName),f(e.profile.lastName),y(e.profile.email),ee(e.profile.city),ce(e.profile.country),ue(e.profile.region),We(e.profile.restaurantName),Ue(e.profile.regulatoryBody),ze(e.profile.regulatoryBodyID),$e(e.profile.cuisine),tt(e.profile.restaurantDescription),(e.profile.isConsumer||e.profile.isSeller)&&(we(!0),e.getConsumerPostcode(e.auth.uid),console.log(e.postcodeData))}),[e.profile]),Object(c.useEffect)((function(){lt.a.setApiKey("AIzaSyA7vyoyDlw8wHqveKrfkkeku_46bdR_aPk"),lt.a.setLocationType("ROOFTOP")}),[]);var ct=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsx)(m.a.Row,{children:Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Restaurant Name"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter name",defaultValue:e.restaurantName,id:"restaurantName",onChange:function(t){return e.setRestaurantName(t.target.value)}})]})})})})},rt=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsx)(m.a.Row,{children:Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Regulatory Body"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter Name of Regulatory Body",defaultValue:e.regulatoryBody,id:"regulatoryBody",onChange:function(t){return e.setRegulatoryBody(t.target.value)}})]})})})})},st=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsx)(m.a.Row,{children:Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Regulatory Body ID"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter Regulatory Body ID",defaultValue:e.regulatoryBodyID,id:"regulatoryBodyID",onChange:function(t){return e.setRegulatoryBodyID(t.target.value)}})]})})})})},ot=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsx)(m.a.Row,{children:Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cuisine"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter Cuisine",defaultValue:e.cuisine,id:"cuisine",onChange:function(t){return e.setCuisine(t.target.value)}})]})})})})},it=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsx)(m.a.Row,{children:Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:je.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Restaurant Description"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter Restaurant Description",defaultValue:e.restaurantDescription,id:"restaurantDescription",onChange:function(t){return e.setRestaurantDescription(t.target.value)}})]})})})})};if(!e.auth.uid)return Object(j.jsx)(l.a,{to:"/login"});if(n)return Object(j.jsx)(Mt,{});switch(ke){case"changeName":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(sa,{firstName:u,setFirstName:d,lastName:p,setLastName:f,setForm:Ne}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{firstName:u,lastName:p,initials:u[0]+p[0]}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Name Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeEmail":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(oa,{email:x,setEmail:y,setPassword:S,setForm:Ne,HandleEmail:nt}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(e){e.preventDefault(),nt()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Your email has been updated!"}):null})]})});case"changePassword":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(ia,{setEmail:y}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={email:x};x===e.auth.email?(e.resetPassword(t),mt("Success","A Password reset Email has been sent!")):_e("This email does not match this account.")}()}})}),Object(j.jsxs)("div",{className:"auth-error",children:[De?Object(j.jsxs)("p",{children:[" ",De]}):null,e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null]})]})});case"changeLocation":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(la,{town:X,setTown:ee,country:ne,setCountry:ce,region:le,setRegion:ue,setForm:Ne,signedUpForPTS:ve,postcode:he,setPostcode:me,validPostcode:Oe,setValidPostcode:ge}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){lt.a.fromAddress(X+" "+ne).then((function(t){var a={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:0,location:t.results[0].address_components[0].long_name,coords:[t.results[0].geometry.location.lat,t.results[0].geometry.location.lng]}};e.createMapData(a)}));var t={uid:e.auth.uid,profile:{city:X,country:ne,region:le}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Location Sucessfully Updated!"))}(),ve&&function(){var t={uid:e.auth.uid,upload:{postcode:he}};e.changeConsumerPostcode(t)}()},disabled:!Oe})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeSubAccounts":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:Ne,HandleButtonState:at,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(ua,{setSubFirstName:T,setSubLastName:P,setSubEmail:A,setSubPassword:G,setSubRole:q,subAccounts:K,subFirstName:E,subLastName:F,subEmail:I,subPassword:B,subRole:V,profile:e.profile,uid:e.auth.uid,deleteSubAccount:e.deleteSubAccount}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Create Sub Account",onClick:function(t){t.preventDefault(),function(){var t,a;"business_admin"===e.profile.type?(t="business_users",a="business_sub"):"academic_admin"===e.profile.type?(t="academic_users",a="academic_sub"):"farm_admin"===e.profile.type?(t="farm_users",a="farm_sub"):"household_admin"===e.profile.type?(t="household_users",a="household_sub"):"restaurant_admin"===e.profile.type&&(t="restaurant_users",a="restaurant_sub");var n={masterCollection:t,uid:e.auth.uid,email:I,password:B,firstName:E,lastName:F,role:V,function:e.profile.buildingFunction,city:e.profile.city,country:e.profile.country,region:e.profile.region,type:a};""!==E&&""!==F&&""!=I&&""!==B&&""!==V?(e.createSubAccount(n),e.authError?_e(e.authError):(Me(!0),mt("Success","Sub Account Sucessfully Created!"),T(""),P(""),A(""),G(""),q(""))):mt("Error","Please ensure the form is completed.")}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Account Created"}):null})]})});case"changeRestaurantName":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(ct,{restaurantName:Le,setRestaurantName:We,setForm:Ne}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{restaurantName:Le}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Restaurant Name Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeRegulatoryBody":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(rt,{regulatoryBody:Ye,setRegulatoryBody:Ue,setForm:Ne}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{regulatoryBody:Ye}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Regulatory Body Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeRegulatoryBodyID":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(st,{regulatoryBodyID:He,setRegulatoryBodyID:ze,setForm:Ne}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{regulatoryBodyID:He}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Regulatory Body ID Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeCuisine":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(ot,{cuisine:Ze,setCuisine:$e,setForm:Ne}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{cuisine:Ze}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Cuisine Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeRestaurantDescription":return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,setForm:Ne,HandleButtonState:at,type:e.profile.type,children:[Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsx)(it,{restaurantDescription:et,setRestaurantDescription:tt,setForm:Ne}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{restaurantDescription:et}};e.updateProfile(t),e.authError?_e(e.authError):(Me(!0),mt("Success","Restaurant Description Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:Re?Object(j.jsx)("p",{children:"Change Success"}):null})]})});default:return Object(j.jsx)(oe,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsx)(ra,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,restaurantName:e.profile.restaurantName,regulatoryBody:e.profile.regulatoryBody,regulatoryBodyID:e.profile.regulatoryBodyID,cuisine:e.profile.cuisine,restaurantDescription:e.profile.restaurantDescription,buildingFunction:e.profile.buildingFunction,setForm:Ne,HandleButtonState:at,HandleSignOut:e.signOut,type:e.profile.type})})}}));var ba,ja=Object(f.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createResearchData:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("data").doc(e.uid).collection("researchData").add(e.upload).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(c.useState)(Boolean),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],p=b[1],f=Object(c.useState)(""),O=Object(i.a)(f,2),g=O[0],x=O[1],y=Object(c.useState)(""),v=Object(i.a)(y,2),w=v[0],C=v[1],S=Object(c.useState)(""),k=Object(i.a)(S,2),N=k[0],E=k[1],T=Object(c.useState)(!1),D=Object(i.a)(T,2),_=D[0],F=D[1];return Object(j.jsxs)(oe,{header:"Questionnaire",subtitle:"",goTo:"/settings",children:[Object(j.jsx)(m.a,{children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are you 16 years old or above?"}),Object(j.jsx)(m.a.Check,{type:"radio",inline:!0,label:"Yes",name:"16 or above",id:"yes",onClick:function(e){return r(!0)}}),Object(j.jsx)(m.a.Check,{type:"radio",inline:!0,label:"No",name:"16 or above",id:"no",onClick:function(e){return r(!1)}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What is your current living arrangement?"}),Object(j.jsx)(m.a.Check,{label:"I live alone",name:"living arrangement",type:"radio",id:"alone",onClick:function(e){return u(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"I live with family",name:"living arrangement",type:"radio",id:"family",onClick:function(e){return u(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"Mixed residence",name:"living arrangement",type:"radio",id:"mixed",onClick:function(e){return u(e.target.id)}})]}),"family"===l?Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are there any children under 16 in your household?"}),Object(j.jsx)(m.a.Check,{label:"Yes",name:"Ages in household",type:"radio",id:"Living with under 16's",onClick:function(e){return p(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"No",name:"Ages in household",type:"radio",id:"16+ household",onClick:function(e){return p(e.target.id)}})]}):null,Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What is your building type?"}),Object(j.jsx)(m.a.Check,{inline:!0,label:"Flat",name:"building type",type:"radio",id:"flat",onClick:function(e){return x(e.target.id)}}),Object(j.jsx)(m.a.Check,{inline:!0,label:"House",name:"building type",type:"radio",id:"house",onClick:function(e){return x(e.target.id)}}),Object(j.jsx)(m.a.Check,{inline:!0,label:"Other",name:"building type",type:"radio",id:"other",onClick:function(e){return x(e.target.id)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Where do you go shopping for your groceries?"}),Object(j.jsx)(Ue,{id:"shopAt",styling:"grey",data:w,function:function(e){C(e)},items:["Aldi","Asda","Lidl","M&S","Sainsbury's","Tesco","Waitrose","Other"]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"How often do you go shopping for groceries per week?"}),Object(j.jsx)(m.a.Check,{label:"1 or 2 visits",name:"how often",type:"radio",id:"1 or 2 visits",onClick:function(e){return E(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"3 or more visits",name:"how often",type:"radio",id:"3 or more visits",onClick:function(e){return E(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"Weekends only",name:"how often",type:"radio",id:"Weekends only",onClick:function(e){return E(e.target.id)}})]})]},"inline-radio")}),Object(j.jsx)("div",{className:"success",children:_?Object(j.jsx)("p",{children:"Thanks!"}):null}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"green",text:"Submit",onClick:function(t){!function(){var t={uid:e.auth.uid,upload:{sixteenPlus:n,arrangement:l,ages:h,buildingType:g,shopAt:w,shopPerWeek:N}};e.createResearchData(t),mt("Thanks!","By answering this questionnaire you have helped us conduct our research on how to arrange the food system in a more sustainable way!"),F(!0)}()}})})]})}));var ha,ma,pa=fe.a.div(ba||(ba=Object(pe.a)(["\n      .card{\n        color: rgb(59, 59, 59);\n        background-color: rgb(238, 238, 238);\n        border: none;\n        border-radius:5px;\n        padding:70px 0 50px 0;\n      }\n      \n      .card-body{\n          height:200px;\n      }\n\n      "]))),fa=function(){return Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)(be.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found",children:[Object(j.jsx)(je.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"",xs:12,lg:4}),Object(j.jsx)(je.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(pa,{children:Object(j.jsx)(Oe.a,{children:Object(j.jsx)(Oe.a.Body,{children:Object(j.jsxs)(Oe.a.Text,{className:"text-center",children:[Object(j.jsx)("h1",{className:"page-not-found",children:"404 - Page Not Found"}),Object(j.jsx)("h1",{className:"not-found-message",children:"The page you were looking for does not exist."})]})})})})}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12})]})})},Oa=a(9),ga=a(69),xa=a(75),ya=a(81),va=a(80),wa=function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){var e;Object(ga.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:""},e.handleChange=function(t){e.setState(Object(Oa.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.resetPassword(e.state)},e}return Object(xa.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)(be.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex frg-pass",children:[Object(j.jsx)(je.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"",xs:12,lg:4}),Object(j.jsx)(je.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(Sa,{children:Object(j.jsx)(Oe.a,{children:Object(j.jsx)(Oe.a.Body,{children:Object(j.jsx)(Oe.a.Text,{children:Object(j.jsxs)(Ca,{children:[Object(j.jsx)("h1",{className:"text-center",children:"Reset Password"}),Object(j.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Email"}),Object(j.jsx)(m.a.Control,{type:"email",id:"email",placeholder:"Email",required:!0,onChange:this.handleChange})]}),Object(j.jsx)(m.a.Group,{controlId:"formActions",children:Object(j.jsx)(p.a,{variant:"dark",type:"submit",children:"Reset Password"})})]}),Object(j.jsx)("p",{className:"text-center rmb-pass",children:Object(j.jsx)(u.b,{to:"/login",className:"remember-password",children:"I remember my password."})}),Object(j.jsxs)("p",{className:"text-center no-acc",children:["Not got an account? ",Object(j.jsx)(u.b,{to:"/signup",className:"register",children:"Click here"})," to sign up today!"]}),Object(j.jsx)("div",{className:"auth-error",children:t?Object(j.jsxs)("p",{children:[" ",t]}):null})]})})})})})}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12})]})})}}]),a}(c.Component),Ca=fe.a.div(ha||(ha=Object(pe.a)(["\n    form{\n      margin:auto;\n        padding:10px;\n      width:100%;\n\n    }\n\n    input{\n      border: 1px solid #62680a;\n    }\n\n    .btn-dark{\n      background-color:#071850;\n      color:whitesmoke;\n      border: 1px solid #03091d;\n      float:right;\n\n      &:hover{\n        background-color: #030d2b;\n        border: 1px solid #03091d;\n      }\n\n      &:active{\n        background-color: #030d2b;\n        border: 1px solid #03091d;\n      }\n    }\n\n"]))),Sa=fe.a.div(ma||(ma=Object(pe.a)(["\n.card{\n  color: rgb(59, 59, 59);\n  background-color: rgb(238, 238, 238);\n  border: none;\n  border-radius:5px;\n  padding:10px 0 10px 0;\n}\n\n"]))),ka=Object(f.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{resetPassword:function(t){return e(x(t))}}}))(wa),Na=a.p+"static/media/fr_positive-planet.8257fa0d.jpg",Ea=a.p+"static/media/pts_plate_notebook.fd4f56df.png",Ta=a.p+"static/media/pts-banner.a6e618cb.png",Da=a.p+"static/media/stfcfoodnetwork.8c8f186f.png",_a=a(591);function Fa(){return Object(j.jsxs)(Oe.a,{className:"countdown-card",children:[Object(j.jsx)(_a.a,{className:"countdown",date:"2022-06-30T23:59:59"}),Object(j.jsx)("span",{className:"label",children:"days : hrs : mins : secs"})]})}var Pa,Ra,Ma,Ia=Object(f.b)((function(e){return{profile:e.firebase.profile}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=(a[0],a[1]),r=Object(c.useState)("/meal-plan"),s=Object(i.a)(r,2),o=(s[0],s[1]);return Object(c.useEffect)((function(){e.profile.buildingFunction,n(!0),e.profile.isConsumer?o("/meal-plan"):o("cons-auth")})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(oe,{header:"The Plan to Save Campaign",goTo:"/account",children:[Object(j.jsx)(Fa,{}),Object(j.jsx)("div",{className:"disclaimer",children:Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"NOTE:"}),"This is part of the 'Fail to Plan, Plan to Fail' campaign. Click 'Plan to Save' to express interest in reserving food items from local sources, this countdown is representative of our target timeline for deploying the plan to save and coordinating food consumption between consumers and their local farmers."]})}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("img",{className:"large-img",src:Ea,alt:""}),Object(j.jsx)("div",{className:"img-overlay blue",children:Object(j.jsx)("h2",{children:"How Does It Work?"})})]}),Object(j.jsx)("div",{className:"pts-p-div",children:Object(j.jsx)("p",{className:"pts-p",children:"If you can reserve your fresh food, local farmers can plan better in their food production to meet your need in the most sustainable way. By signing up to the Plan to Save campaign and reserving your weekly, fortnightly and monthly fresh food requirements, we will take the responsibility to identify local farmers around you or encourage the set up of local farmers to supply your reservation, ensuring the supply of nutritious food all year round."})}),(e.profile.buildingFunction,Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{text:"Start your plan now!",goTo:"/meal-plan",styling:"green"})})),Object(j.jsx)("a",{href:"https://intellidigest.com/services/food-system-sustainability/food-waste-tracker/plan-to-save/",children:Object(j.jsx)("img",{className:"large-img",src:Ta,alt:"Plan to Save promotional banner"})})]}),Object(j.jsx)("div",{className:"support",children:Object(j.jsx)("h4",{children:"Supported By:"})}),Object(j.jsxs)(be.a,{style:{backgroundColor:"white"},children:[Object(j.jsx)(je.a,{children:Object(j.jsx)("img",{className:"small-img",src:Da,alt:"STFC Food Network"})}),Object(j.jsx)(je.a,{children:Object(j.jsx)("img",{className:"small-img",src:Na,alt:"Positive Planet"})})]})]})})),Aa=function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){var e;Object(ga.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={password:""},e.handleChange=function(t){e.setState(Object(Oa.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.updatePassword(e.state)},e}return Object(xa.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)(be.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex change-password",children:[Object(j.jsx)(je.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"",xs:12,lg:4}),Object(j.jsx)(je.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(Wa,{children:Object(j.jsx)(Oe.a,{children:Object(j.jsx)(Oe.a.Body,{children:Object(j.jsx)(Oe.a.Text,{children:Object(j.jsxs)(La,{children:[Object(j.jsx)("div",{className:"text-center"}),Object(j.jsx)("h1",{className:"text-center",children:"Change Password"}),Object(j.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"New Password"}),Object(j.jsx)(m.a.Control,{type:"password",id:"password",placeholder:"New Password",required:!0,onChange:this.handleChange})]}),Object(j.jsx)(m.a.Group,{controlId:"formActions",children:Object(j.jsx)(p.a,{variant:"dark",type:"submit",children:"Change Password"})})]}),Object(j.jsx)("p",{className:"text-center back-to-acc",children:Object(j.jsx)(u.b,{to:"/account",className:"cancel",children:"Cancel"})}),Object(j.jsx)("div",{className:"auth-error",children:a?Object(j.jsxs)("p",{children:[" ",a]}):null})]})})})})})}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12})]})}):Object(j.jsx)(l.a,{to:"/login"})}}]),a}(c.Component),La=fe.a.div(Pa||(Pa=Object(pe.a)(["\n  form {\n    margin: auto;\n    padding: 10px;\n    width: 100%;\n  }\n\n  input {\n    border: 1px solid #62680a;\n  }\n\n  .btn-dark {\n    background-color: #071850;\n    color: whitesmoke;\n    border: 1px solid #03091d;\n    float: right;\n\n    &:hover {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n\n    &:active {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n  }\n"]))),Wa=fe.a.div(Ra||(Ra=Object(pe.a)(["\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 10px 0 10px 0;\n  }\n"]))),Ba=Object(f.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{updatePassword:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().currentUser.updatePassword(a.password).then((function(){e({type:"CHANGE_SUCCESS"})})).catch((function(t){e({type:"CHANGE_ERROR",err:t})}))}));var a}}}))(Aa),Ga=a(18),Ya=a.n(Ga),Ua=a(19),Va=a(33),qa=a(1070),Ha=a(1071),za=a(1072),Ka=a(1073),Ja=a(85),Za=a.n(Ja),$a=a(592),Xa=a.n($a),Qa=(a(840),a(841),Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,data:e.firestore.data.mapData}}),(function(e){return{getMapData:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().firestore().collection(a.masterCollection).get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_DATA",payload:a})})).catch((function(t){e({type:"GET_DATA_ERROR",err:t})}))}));var a}}})),Object(Qt.firestoreConnect)((function(e){return e.auth?[{collection:"mapData",storeAs:"mapData"}]:[]})))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){r([]),null!==e.data&&void 0!==e.data&&s()}),[e.data]);var s=function(){var t=Object(Va.a)(Ya.a.mark((function t(){var a,n;return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object.values(e.data),n=[],a.forEach((function(e){var t=n.findIndex((function(t){return t.location===e.location})),a={foodWasteWeight:e.foodWasteWeight,location:e.location,coords:e.coords,users:1};-1===t?n.push(a):(n[t].foodWasteWeight+=e.foodWasteWeight,n[t].users+=1)})),n.forEach((function(e){try{var t={lat:e.coords[0],lng:e.coords[1],location:e.location,users:e.users,foodWasteWeight:e.foodWasteWeight};r((function(e){return[].concat(Object(Ua.a)(e),[t])}))}catch(a){}}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o={color:"#ffffff",fillColor:"#f5b041",fillOpacity:.5},u={color:"#ffffff",fillColor:"#58d68d",fillOpacity:.5};function d(e){var t;t=e.users<=10?u:o;var a="User";return e.users>1&&(a="Users"),Object(j.jsx)(qa.a,{center:[e.lat,e.lng],pathOptions:t,radius:18,children:Object(j.jsxs)(Ha.a,{children:[e.location,": ",e.users," ",a]})})}return e.auth.uid?Object(j.jsx)(oe,{header:"Users Map",goTo:"/account",children:Object(j.jsxs)(za.a,{className:"map-data",center:[0,0],zoom:1.4,minZoom:1.4,maxZoom:12,scrollWheelZoom:!0,maxBounds:[[84.865782,-179.632962],[-84.865782,199.335822]],children:[Object(j.jsx)(Ka.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> IntelliDigest - iTracker',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(j.jsx)(Xa.a,{iconCreateFunction:function(e){var t=e.getAllChildMarkers(),a=0;t.forEach((function(e){a+=e._tooltip.options.children[2]}));var n=" ";return n+=a<10?"small":"medium",Za.a.divIcon({html:"<b>".concat(a,"</b>"),className:"marker-cluster-custom"+n,iconSize:Za.a.point(40,40,!0)})},polygonOptions:{weight:2,opacity:1,fillOpacity:.5,smoothFactor:20},showCoverageOnHover:!0,maxClusterRadius:50,children:n.map((function(e,t){var a=e.lat,n=e.lng,c=e.foodWasteWeight,r=e.location,s=e.users;return Object(j.jsx)(d,{lat:a,lng:n,foodWasteWeight:c,location:r,users:s},t)}))})]})}):Object(j.jsx)(l.a,{to:"/login"})}))),en=a(1074),tn=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Ue,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},an=function(e){return"Edible"===e.upload.edibleInedible?e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"}):e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"})},nn=Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(rt(t))},createMapData:function(t){return e(st(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0];a[1];Object(c.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("household")||String(e.profile.type).includes("user")||console.log(e.profile.type))}),[e.profile]);var s={edibleInedible:"Edible",foodWasteWeight:0,weightType:"Select Unit",carbsContent:0,carbsPerUnit:"Select Unit",proteinContent:0,proteinPerUnit:"Select Unit",fatContent:0,fatPerUnit:"Select Unit",ghg:0,expiryDate:"",foodWasteCost:0,currency:"Select Currency"},o={weightMultiplier:0,currencyMultiplier:0,carbsMultiplier:0,proteinMultiplier:0,fatMultiplier:0},u=Object(c.useState)(Object(n.a)({},s)),d=Object(i.a)(u,2),h=d[0],p=d[1],f=Object(c.useState)(Object(n.a)({},o)),O=Object(i.a)(f,2),g=O[0],x=O[1];Object(c.useEffect)((function(){w()}),[h.edibleInedible,h.foodWasteWeight,h.weightType,h.currency,h.carbsContent,h.carbsPerUnit,h.proteinContent,h.proteinPerUnit,h.fatContent,h.fatPerUnit]);var y=function(e){e.target.textContent?p(Object(n.a)(Object(n.a)({},h),{},Object(Oa.a)({},e.target.id,e.target.textContent))):p(Object(n.a)(Object(n.a)({},h),{},Object(Oa.a)({},e.target.id,e.target.value)))},v=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"100g":case"100ml":t=.01;break;case"500g":case"500ml":t=.002;break;case"1l":case"1kg":t=.001;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}x(Object(n.a)(Object(n.a)({},g),{},Object(Oa.a)({},a,t)))},w=function(){var e=Number(h.foodWasteWeight*g.weightMultiplier*2.5);p(Object(n.a)(Object(n.a)({},h),{},{ghg:e,foodWasteCost:(.85*Number(h.foodWasteWeight)*g.weightMultiplier*g.currencyMultiplier).toFixed(2)}))};return e.auth.uid?r?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(oe,{header:"Update Food Waste",subtitle:"Upload Edible or Inedible Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedible"}),Object(j.jsx)(Ue,{id:"edibleInedible",styling:"grey dropdown-input",data:h.edibleInedible,function:function(e,t){y(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){y(e)},value:h.foodWasteWeight}),Object(j.jsx)(Ue,{id:"weightType",styling:"grey dropdown-input-right",data:h.weightType,function:function(e,t){v(t),y(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(tn,{upload:h,multipliers:g,changeMultiplier:v,updateStateValue:y}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:h.ghg,title:h.ghg,readOnly:!0}),Object(j.jsx)(en.a.Append,{children:Object(j.jsx)(en.a.Text,{children:"kg co2"})})]})]}),Object(j.jsx)(an,{upload:h,handleFoodWasteSubmit:function(){var t;switch(h.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,c,r={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:h.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":c="business_users",a=e.auth.uid;break;case"business_sub":c="business_users",a=e.profile.admin;break;case"academic_admin":c="academic_users",a=e.auth.uid;break;case"academic_sub":c="academic_users",a=e.profile.admin;break;case"farm_admin":c="farm_users",a=e.auth.uid;break;case"farm_sub":c="farm_users",a=e.profile.admin;break;case"household_admin":c="household_users",a=e.auth.uid;break;case"household_sub":c="household_users",a=e.profile.admin;break;default:c="data",a=e.auth.uid}var i={uid:a,masterCollection:c,collection:"writtenFoodWasteData",upload:Object(n.a)({date:Object(Qt.getFirebase)().firestore.Timestamp.fromDate(new Date)},h)};e.createFoodWasteData(i),e.createMapData(r),mt("Success","Food Waste successfully uploaded!"),p(s),x(o)}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),cn=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Ue,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},rn=function(e){return"Edible"===e.upload.edibleInedible?""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"}):""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"})},sn=Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(rt(t))},createMapData:function(t){return e(st(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];Object(c.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("farm")||s(!0))}),[e.profile]);var o={edibleInedible:"Edible",foodName:"",foodWasteWeight:0,weightType:"Select Unit",expiryDate:"",ghg:0,foodWasteCost:0,currency:"Select Currency"},u={weightMultiplier:0,currencyMultiplier:0},d=Object(c.useState)(o),h=Object(i.a)(d,2),p=h[0],f=h[1],O=Object(c.useState)(u),g=Object(i.a)(O,2),x=g[0],y=g[1];Object(c.useEffect)((function(){C()}),[p.edibleInedible,p.foodWasteWeight,p.weightType,p.currency]);var v=function(e){e.target.textContent?f(Object(n.a)(Object(n.a)({},p),{},Object(Oa.a)({},e.target.id,e.target.textContent))):f(Object(n.a)(Object(n.a)({},p),{},Object(Oa.a)({},e.target.id,e.target.value)))},w=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}y(Object(n.a)(Object(n.a)({},x),{},Object(Oa.a)({},a,t)))},C=function(){f(Object(n.a)(Object(n.a)({},p),{},{ghg:Number(p.foodWasteWeight*x.weightMultiplier*2.5),foodWasteCost:(.85*Number(p.foodWasteWeight)*x.weightMultiplier*x.currencyMultiplier).toFixed(2)}))};return e.auth.uid?r?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(oe,{header:"Update Food Waste",subtitle:"Upload Edible or Inedible Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Food Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"foodName",onChange:function(e){v(e)},value:p.foodName})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedibe"}),Object(j.jsx)(Ue,{id:"edibleInedible",styling:"grey dropdown-input",data:p.edibleInedible,function:function(e,t){v(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){v(e)},value:p.foodWasteWeight}),Object(j.jsx)(Ue,{id:"weightType",styling:"grey dropdown-input-right",data:p.weightType,function:function(e,t){w(t),v(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(cn,{upload:p,multipliers:x,changeMultiplier:w,updateStateValue:v}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:p.ghg,title:p.ghg,readOnly:!0}),Object(j.jsx)(en.a.Append,{children:Object(j.jsx)(en.a.Text,{children:"kg co2"})})]})]}),Object(j.jsx)(rn,{upload:p,handleFoodWasteSubmit:function(){var t;switch(p.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,c,r={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:p.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":c="business_users",a=e.auth.uid;break;case"business_sub":c="business_users",a=e.profile.admin;break;case"academic_admin":c="academic_users",a=e.auth.uid;break;case"academic_sub":c="academic_users",a=e.profile.admin;break;case"farm_admin":c="farm_users",a=e.auth.uid;break;case"farm_sub":c="farm_users",a=e.profile.admin;break;case"household_admin":c="household_users",a=e.auth.uid;break;case"household_sub":c="household_users",a=e.profile.admin;break;default:c="data",a=e.auth.uid}var s={uid:a,masterCollection:c,collection:"writtenFoodLossData",upload:Object(n.a)({date:Object(Qt.getFirebase)().firestore.Timestamp.fromDate(new Date)},p)};e.createFoodWasteData(s),e.createMapData(r),mt("Success","Food Loss successfully uploaded!"),f(o),y(u)}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),on=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Ue,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},ln=function(e){return"Edible"===e.upload.edibleInedible?e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"}):e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"})},un=Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(rt(t))},createMapData:function(t){return e(st(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];Object(c.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("business")||s(!0))}),[e.profile]);var o={edibleInedible:"Edible",foodWasteWeight:0,weightType:"Select Unit",expiryDate:"",ghg:0,foodWasteCost:0,currency:"Select Currency",notes:""},u={weightMultiplier:0,currencyMultiplier:0},d=Object(c.useState)(o),h=Object(i.a)(d,2),p=h[0],f=h[1],O=Object(c.useState)(u),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useRef)(null);Object(c.useEffect)((function(){S(),console.log(p.currency)}),[p.edibleInedible,p.foodWasteWeight,p.weightType,p.currency]);var w=function(e){e.target.textContent?f(Object(n.a)(Object(n.a)({},p),{},Object(Oa.a)({},e.target.id,e.target.textContent))):f(Object(n.a)(Object(n.a)({},p),{},Object(Oa.a)({},e.target.id,e.target.value)))},C=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}y(Object(n.a)(Object(n.a)({},x),{},Object(Oa.a)({},a,t)))},S=function(){f(Object(n.a)(Object(n.a)({},p),{},{ghg:Number(p.foodWasteWeight*x.weightMultiplier*2.5),foodWasteCost:(.85*Number(p.foodWasteWeight)*x.weightMultiplier*x.currencyMultiplier).toFixed(2)}))};return e.auth.uid?r?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(oe,{header:"Update Food Waste",subtitle:"Upload Edible or Inedibe Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedibe"}),Object(j.jsx)(Ue,{id:"edibleInedible",styling:"grey dropdown-input",data:p.edibleInedible,function:function(e,t){w(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){w(e)},value:p.foodWasteWeight}),Object(j.jsx)(Ue,{id:"weightType",styling:"grey dropdown-input-right",data:p.weightType,function:function(e,t){C(t),w(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(on,{upload:p,multipliers:x,changeMultiplier:C,updateStateValue:w}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:p.ghg,title:p.ghg,readOnly:!0}),Object(j.jsx)(en.a.Append,{children:Object(j.jsx)(en.a.Text,{children:"kg co2"})})]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Notes"}),Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",ref:v,onChange:function(e){w(e)}})]}),Object(j.jsx)(ln,{upload:p,handleFoodWasteSubmit:function(){var t;switch(p.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,c,r={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:p.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":c="business_users",a=e.auth.uid;break;case"business_sub":c="business_users",a=e.profile.admin;break;case"academic_admin":c="academic_users",a=e.auth.uid;break;case"academic_sub":c="academic_users",a=e.profile.admin;break;case"farm_admin":c="farm_users",a=e.auth.uid;break;case"farm_sub":c="farm_users",a=e.profile.admin;break;case"household_admin":c="household_users",a=e.auth.uid;break;case"household_sub":c="household_users",a=e.profile.admin;break;default:c="data",a=e.auth.uid}var s={uid:a,masterCollection:c,collection:"writtenFoodWasteData",upload:Object(n.a)({date:Object(Qt.getFirebase)().firestore.Timestamp.fromDate(new Date)},p)};e.createFoodWasteData(s),e.createMapData(r),mt("Success","Food Waste successfully uploaded!"),f(o),y(u),v.current.value=""}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),dn=a(614),bn=function(e){return"Select Meal"!==e.upload.meal&&""!==e.upload.foodName?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(){e.handleFoodIntakeSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"})},jn=Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(rt(t))}}}))((function(e){var t={meal:"Select Meal",foodName:"",local:!0,eatingIn:!0},a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],u=Object(c.useState)([]),d=Object(i.a)(u,2),h=d[0],p=d[1],f=Object(c.useState)(t),O=Object(i.a)(f,2),g=O[0],x=O[1],y=function(e){x(Object(n.a)(Object(n.a)({},g),{},Object(Oa.a)({},e.target.name,!g[[e.target.name]])))},v=Object(c.useRef)();return e.auth.uid?Object(j.jsx)(oe,{header:"Update Food Intake",subtitle:"Upload Food Intake",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Meal"}),Object(j.jsx)(Ve,{id:"meal",function:function(e){!function(e){x(Object(n.a)(Object(n.a)({},g),{},Object(Oa.a)({},e.target.id,e.target.value)))}(e)},value:g.meal,placeholder:"Please select a meal",items:["Breakfast","Lunch","Dinner","Other"]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Food Name"}),Object(j.jsx)(dn.a,{filterBy:function(){return!0},id:"foodName",isLoading:s,labelKey:"name",minLength:3,onSearch:function(e){o(!0),fetch("https://web-wrggqo5tiq-lz.a.run.app/completion",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"food=".concat(e)}).then((function(e){return e.json().then((function(t){return{data:t,status:e.status}}))})).then((function(e){var t=e.data.map((function(e){return{food_id:e.food_id,name:e.name}}));p(t),o(!1)})),x(Object(n.a)(Object(n.a)({},g),{},{foodName:e}))},onChange:function(e){x(Object(n.a)(Object(n.a)({},g),{},{foodName:e[0].name}))},options:h,placeholder:"Enter a food name",value:g.foodName,ref:v})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Local or Non-Local"}),Object(j.jsx)(m.a.Check,{name:"local",type:"radio",label:"Local",checked:g.local,onChange:function(e){y(e)}}),Object(j.jsx)(m.a.Check,{name:"local",type:"radio",label:"Non-Local",onChange:function(e){y(e)}})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Eating In or Eating Out"}),Object(j.jsx)(m.a.Check,{name:"eatingIn",type:"radio",label:"Eating In",checked:g.eatingIn,onChange:function(e){y(e)}}),Object(j.jsx)(m.a.Check,{name:"eatingIn",type:"radio",label:"Eating Out",onChange:function(e){y(e)}})]}),Object(j.jsx)(bn,{upload:g,handleFoodIntakeSubmit:function(){var a,c;switch(e.profile.type){case"business_admin":c="business_users",a=e.auth.uid;break;case"business_sub":c="business_users",a=e.profile.admin;break;case"academic_admin":c="academic_users",a=e.auth.uid;break;case"academic_sub":c="academic_users",a=e.profile.admin;break;case"farm_admin":c="farm_users",a=e.auth.uid;break;case"farm_sub":c="farm_users",a=e.profile.admin;break;case"household_admin":c="household_users",a=e.auth.uid;break;case"household_sub":c="household_users",a=e.profile.admin;break;default:c="data",a=e.auth.uid}var r={uid:a,masterCollection:c,collection:"writtenFoodIntakeData",upload:Object(n.a)({date:Object(Qt.getFirebase)().firestore.Timestamp.fromDate(new Date),name:e.profile.firstName+" "+e.profile.lastName},g)};e.createFoodWasteData(r),mt("Success","Food Diary successfully updated!"),x(t),v.current.clear()}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),hn=a.p+"static/media/tip1.04d20bae.jpg",mn=a.p+"static/media/tip2.238da9ad.jpg",pn=a.p+"static/media/tip3.3622e4fa.jpg",fn=a.p+"static/media/tip4.a95f5cac.jpg",On=a.p+"static/media/tip5.ee47f4f7.jpg",gn=function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){return Object(ga.a)(this,a),t.apply(this,arguments)}return Object(xa.a)(a,[{key:"render",value:function(){return Object(j.jsx)(oe,{header:"Reduction Tips",subtitle:"Food Waste Reduction Tips",goTo:"/account",children:Object(j.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:["Food waste is a bigger problem than many people realize.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"In fact, nearly one-third of all food produced in the world is discarded or wasted for various reasons. That equates to nearly"," ",Object(j.jsx)("b",{children:"1.3 billion tons"})," every year.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Not surprisingly, industrialized countries like the United States waste more food than developing nations. In 2010, the average American generated about 219 pounds (99 kg) of food waste, according to the US Environmental Protection Agency (EPA).",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"While you might not think food waste affects you, think again.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Tossing edible food doesn\u2019t just waste money. Discarded food is sent to landfills, where it rots and produces methane gas, which is the second most common greenhouse gas. In other words, throwing out your food contributes to climate change.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"It wastes a huge amount of water, too. According to the World Resources Institute, 24% of all the water used for agriculture is lost through food waste every year. That\u2019s 45 trillion gallons (about 170 trillion liters).",Object(j.jsx)("br",{}),Object(j.jsx)("br",{})," These things will help to reduce food waste:-"," "]}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[" ",Object(j.jsx)("h3",{children:"1. Shop Smart:-"})," ",Object(j.jsx)("img",{src:hn,alt:"tip1",className:"img-fluid rounded fix-image"})," ","Most people tend to buy more food than they need. Though buying in bulk may be convenient, research has shown that this shopping method leads to more food waste. To avoid buying more food than you need, make frequent trips to the grocery store every few days rather than doing a bulk shopping trip once a week. Make a point to use up all the food you purchased during the last trip to the market before buying more groceries. Additionally, try making a list of items that you need to buy and stick to that list. This will help you reduce impulse buying and reduce food waste as well"]}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[" ",Object(j.jsx)("h3",{children:"2. Store Food Correctly:-"})," ",Object(j.jsx)("img",{src:mn,alt:"tip2",className:"img-fluid rounded fix-image"})," ","Improper storage leads to a massive amount of food waste. According to the Natural Resource Defense Council, about two-thirds of household waste in the United Kingdom is due to food spoilage. Many people are unsure how to store fruits and vegetables, which can lead to premature ripening and, eventually, rotten produce. For instance, potatoes, tomatoes, garlic, cucumbers and onions should never be refrigerated. These items should be kept at room temperature. Separating foods that produce more ethylene gas from those that don\u2019t is another great way to reduce food spoilage. Ethylene promotes ripening in foods and could lead to spoilage."]}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[Object(j.jsx)("h3",{children:"3. Learn to Preserve:-"})," ",Object(j.jsx)("img",{src:pn,alt:"tip3",className:"img-fluid rounded fix-image"})," ","While you might think fermenting and pickling are new fads, food preservation techniques like these have been used for thousands of years. Pickling, a type of preservation method using brine or vinegar, may have been used as far back as 2400 BC. Pickling, drying, canning, fermenting, freezing and curing are all methods you can use to make food last longer, thus reducing waste. Not only will these methods shrink your carbon footprint, they will save you money as well. What\u2019s more, most preservation techniques are simple and can be fun. For example, canning an excess of ripe apples and turning them into applesauce, or pickling fresh carrots from the market will provide you with a delicious and long-lasting treat that even kids will enjoy."]}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[Object(j.jsx)("h3",{children:"4. Don\u2019t Be a Perfectionist:-"})," ",Object(j.jsx)("img",{src:fn,alt:"tip4",className:"img-fluid rounded fix-image"})," ","Did you know that rummaging through a bin of apples until you find the most perfect-looking one contributes to food waste? Though identical in taste and nutrition, so-called \u201cugly\u201d fruits and vegetables get passed up for produce that is more pleasing to the eye. The consumer demand for flawless fruits and vegetables has led major grocery chains to buy only picture-perfect produce from farmers. This leads to tons of perfectly good food going to waste. It\u2019s such a big issue that major grocery chains like Walmart and Whole Foods have started offering \u201cugly\u201d fruits and vegetables at a discount in an attempt to reduce waste. Do your part by choosing slightly imperfect produce at the grocery store, or better yet, directly from the farmer."]}),Object(j.jsx)(se.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 50px 2%"},children:[Object(j.jsx)("h3",{children:"5. Keep Your Fridge Clutter-Free:-"})," ",Object(j.jsx)("img",{src:On,alt:"tip5",className:"img-fluid rounded fix-image"})," ","You\u2019ve probably heard the saying, \u201cout of sight, out of mind.\u201d This rings especially true when it comes to food. While having a well-stocked fridge can be a good thing, an overly filled fridge can be bad when it comes to food waste. Help avoid food spoilage by keeping your fridge organized so you can clearly see foods and know when they were purchased. A good way to stock your fridge is by using the FIFO method, which stands for \u201cfirst in, first out.\u201d For example, when you buy a new carton of berries, place the newer package behind the old one. This helps ensure that older food gets used, not wasted."]})]})})}}]),a}(c.Component),xn=function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){return Object(ga.a)(this,a),t.apply(this,arguments)}return Object(xa.a)(a,[{key:"renderTableData",value:function(){return this.props.users&&this.props.users.map((function(e,t){var a=e.id,n=e.email,c=e.firstName,r=e.lastName,s=e.address,o=e.city,i=e.country,l=e.postcode,u=e.buildingFunction;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:a}),Object(j.jsxs)("td",{children:[c," ",r]}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:u}),Object(j.jsxs)("td",{children:[s,", ",o,", ",i,", ",l]})]},a)}))}},{key:"renderTableHeader",value:function(){}},{key:"render",value:function(){return this.props.auth.uid?"user"===this.props.profile.type?Object(j.jsx)(l.a,{to:"/"}):Object(j.jsxs)("div",{style:{paddingBottom:"50px",paddingTop:"70px"},children:[Object(j.jsxs)("h1",{id:"title",children:["The People who have signed in -"," ",this.props.users?this.props.users.length:0]}),Object(j.jsx)("table",{id:"students",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"EMAIL"}),Object(j.jsx)("th",{children:"BUILDING FUNTION"}),Object(j.jsx)("th",{children:"ADDRESS"})]}),this.renderTableData()]})})]}):Object(j.jsx)(l.a,{to:"/login"})}}]),a}(c.Component),yn=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.ordered.users}})),Object(Qt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"users",doc:e.auth.uid}]:[]})))(xn),vn=a(54),wn=(a(851),function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),m=h[0],p=h[1],f=Object(c.useState)(""),O=Object(i.a)(f,2),g=O[0],x=O[1],y=Object(c.useState)(""),v=Object(i.a)(y,2),w=v[0],C=v[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={title:n,amount:m,date:new Date(g),type:l,code:w};e.onSaveExpenseData(a),r(""),d(""),p(""),x(""),C("")},children:[Object(j.jsxs)("div",{className:"new-item__control",children:[Object(j.jsx)("div",{className:"item__actions",children:Object(j.jsx)("h2",{style:{fontWeight:600,marginBottom:"3.5%"},children:"Add a product"})}),Object(j.jsx)("label",{style:{marginBottom:"0.25%"},children:"Name"}),Object(j.jsx)("input",{type:"text",value:n,onChange:function(e){r(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Type"}),Object(j.jsx)("input",{type:"text",value:l,onChange:function(e){d(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Post Code"}),Object(j.jsx)("input",{type:"text",value:w,onChange:function(e){C(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Amount"}),Object(j.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:m,onChange:function(e){p(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Date"}),Object(j.jsx)("input",{type:"date",min:"2019-01-01",max:"2022-12-31",value:g,onChange:function(e){x(e.target.value)},style:{marginBottom:"2.5%"}})]}),Object(j.jsx)("div",{className:"item__actions",children:Object(j.jsx)("button",{style:{marginBottom:"-1%"},type:"submit",children:"Add Product"})})]}),Object(j.jsx)("br",{}),Object(j.jsx)(u.b,{to:"/account",children:Object(j.jsx)("button",{type:"button",children:"Back"})})]})}),Cn=(a(852),function(e){return Object(j.jsx)("div",{className:"new-item",children:Object(j.jsx)(wn,{onSaveExpenseData:function(t){var a=Object(n.a)(Object(n.a)({},t),{},{id:Math.random().toString()});e.onAddE(a)}})})}),Sn=(a(853),function(e){var t=e.date.toLocaleString("en-US",{month:"long"}),a=e.date.toLocaleString("en-US",{day:"2-digit"}),n=e.date.getFullYear();return Object(j.jsxs)("div",{className:"exp-date",children:[Object(j.jsx)("label",{children:"EXPIRY"}),Object(j.jsx)("div",{className:"exp-date__month",children:t}),Object(j.jsx)("div",{className:"exp-date__day",children:a}),Object(j.jsx)("div",{className:"exp-date__year",children:n})]})}),kn=(a(854),function(e){var t="card "+e.className;return Object(j.jsx)("div",{className:t,children:e.children})}),Nn=(a(855),function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(vn.BrowserView,{children:Object(j.jsx)(kn,{className:"item",children:Object(j.jsxs)("div",{style:{height:"7rem"},children:[Object(j.jsx)(Sn,{date:e.date}),Object(j.jsxs)("div",{className:"item__description",style:{marginLeft:"17.5%",marginTop:"-12.5%"},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Name: "}),e.title.toUpperCase()]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Type: "}),e.type]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Post code: "}),e.code]})]}),Object(j.jsxs)("div",{className:"item__price",style:{width:"10%",marginLeft:"85%",marginTop:"-100px"},children:["\xa3",e.amount]}),Object(j.jsx)("button",{className:"item-b",style:{width:"10%",marginLeft:"85%",marginTop:"5px"},children:"Buy"})]})})}),Object(j.jsx)(vn.MobileView,{children:Object(j.jsx)(kn,{className:"item",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(Sn,{date:e.date}),Object(j.jsxs)("div",{className:"item__description",style:{marginLeft:"35%",marginTop:"-32.5%"},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Name: "}),e.title.toUpperCase()]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Type: "}),e.type]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Post code: "}),e.code]}),Object(j.jsxs)("div",{className:"item__price",children:["\xa3",e.amount]}),Object(j.jsx)("button",{className:"item-b",children:"Buy"})]})]})})})]})}),En=(a(856),function(e){return Object(j.jsx)("div",{className:"Lbl",children:Object(j.jsx)("label",{children:"My products"})})}),Tn=(a(857),function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(kn,{className:"listings",children:[Object(j.jsx)(En,{}),e.items.map((function(e){return Object(j.jsx)(Nn,{title:e.title,type:e.type,amount:e.amount,date:e.date,code:e.code})}))]})})}),Dn=[{id:"e1",title:"Minced beef",amount:4.12,date:new Date(2021,9,14),type:"Meat",code:"EH11 2AB"},{id:"e2",title:"Carrots",amount:9.49,date:new Date(2021,12,12),type:"Vegetable",code:"EH1 2CA"},{id:"e3",title:"Sausage",amount:2.67,date:new Date(2021,9,28),type:"Meat",code:"EH9 2AB"},{id:"e4",title:"Banana",amount:450,date:new Date(2021,5,12),type:"Fruit",code:"EH11 2AB"}],_n=function(){var e=Object(c.useState)(Dn),t=Object(i.a)(e,2),a=t[0],n=t[1],r=function(e){n((function(t){return[e].concat(Object(Ua.a)(t))}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(vn.MobileView,{children:Object(j.jsxs)("div",{style:{marginTop:"20%",marginBottom:"20%"},children:[Object(j.jsx)(Cn,{onAddE:r}),Object(j.jsx)(Tn,{items:a})]})}),Object(j.jsx)(vn.BrowserView,{children:Object(j.jsxs)("div",{style:{marginTop:"5%",marginBottom:"5%"},children:[Object(j.jsx)(Cn,{onAddE:r}),Object(j.jsx)(Tn,{items:a})]})})]})},Fn=a(1082),Pn=a(120),Rn=a(126),Mn=a(40),In=a(1093),An=a(1090),Ln=a(589),Wn=a(1080),Bn=a(1081),Gn=a(37),Yn=a.n(Gn),Un=function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){var e;Object(ga.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={uid:e.props.auth.uid,item:"",itemWeight:0,weightType:"Select Unit",items:[],fromDate:"",toDate:"",frequency:"Select Frequency",formWidth:"",dropdownWidth:"",submissionType:"Reserve Items",submissionDay:Yn()().format("ddd"),submissionWeek:Yn()().format("W"),submissionMonth:Yn()().format("MMM"),submissionDate:Yn()().format("Do"),submissionYear:Yn()().format("YYYY"),submissionFullDate:Yn()().format("ddd MMM Do YYYY"),myReservations:[]},e.handleChange=function(t){e.setState(Object(Oa.a)({},t.target.id,t.target.value))},e.clearForm=function(){e.setState({item:"",itemWeight:0,weightType:"Select Unit",items:[],fromDate:"",toDate:"",frequency:"Select Frequency",myReservations:[]}),e.fetchMyReservationsData()},e.showNotification=function(){ht()({title:"Success!",message:"Thank you for reserving items, you have helped a farmer plan their harvest more sustainably. We will contact you by the end of January via email about your reservation.",backgroundTop:"#9D5F1A",backgroundBottom:"#EA9434",closeButton:"Close",duration:2e4})},e.deleteReservation=function(t){var a=e.state.myReservations.filter((function(e){return e.resID!==t}));e.setState({myReservations:a}),Ae.collection("data").doc(e.state.uid).collection("writtenFoodWasteData").doc(t).delete()},e.handleReserveItemSubmit=function(t){t.preventDefault(),e.setState({}),e.props.createReserveItemsData(e.state)},e.fetchMyReservationsData=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ae.collection("data").doc(e.state.uid).collection("writtenFoodWasteData").get().then((function(t){t.forEach((function(t){var a=t.data().SUBMISSIONTYPE,n=t.data().ITEMLIST,c=t.data().FROMDATE,r=t.data().TODATE,s=t.data().FREQUENCY;"Reserve Items"===a&&e.setState((function(e){return{myReservations:e.myReservations.concat({itemList:n,fromDate:c,toDate:r,frequency:s,resID:t.id})}}))}))})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)}))),e}return Object(xa.a)(a,[{key:"handleWeightUnitChange",value:function(e){this.setState({weightType:e})}},{key:"handleFreqChange",value:function(e){this.setState({frequency:e})}},{key:"isItemsEmpty",value:function(e){return 0===e.length}},{key:"handleAddClick",value:function(){var e=this;this.setState({itemWeight:0,weightType:"Select Unit"}),this.setState((function(t){return{items:t.items.concat({name:e.state.item,weight:e.state.itemWeight+e.state.weightType})}}))}},{key:"componentDidMount",value:function(){this.fetchMyReservationsData(),vn.isMobile?this.setState({formWidth:"90vw",dropdownWidth:"241px"}):vn.isBrowser&&this.setState({formWidth:"783px",dropdownWidth:"610px"})}},{key:"render",value:function(){var e=this,t=this.props;t.data,t.auth;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(j.jsx)("h4",{className:"text-center",style:{marginTop:"5%",marginBottom:"2.5%",paddingTop:"8vh",fontWeight:600},children:"Plan, Reserve, Collect, Save"}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%"},children:Object(j.jsx)(p.a,{style:{width:this.state.formWidth,borderColor:"#040335",backgroundColor:"#040335"},as:u.b,to:"/pts",children:"Back"})}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",height:"190%"},children:[Object(j.jsx)(Oe.a,{style:{width:this.state.formWidth,marginBottom:"10vh",backgroundColor:"#aab41e"},children:Object(j.jsxs)(m.a,{className:"form-layout",style:{padding:"10px"},children:[Object(j.jsx)("h5",{className:"text-center",style:{margin:"30px",fontSize:"15px",fontWeight:"600"},children:"Plan, Reserve, Collect, Save"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Select Items"}),Object(j.jsx)(vn.BrowserView,{children:Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(In.a,{freeSolo:!0,id:"item",options:Vn.map((function(e){return e.title})),style:{width:"100%",backgroundColor:"white"},size:"small",onInputChange:function(t){return e.handleChange(t)},onChange:function(t){return e.setState({item:t.target.textContent})},renderInput:function(e){return Object(j.jsx)(An.a,Object(n.a)(Object(n.a)({},e),{},{placeholder:"Enter Items",variant:"outlined"}))}})})}),Object(j.jsx)(vn.MobileView,{children:Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(In.a,{freeSolo:!0,id:"item",options:Vn.map((function(e){return e.title})),style:{width:"70%",backgroundColor:"white"},size:"small",onInputChange:function(t){return e.handleChange(t)},onChange:function(t){return e.setState({item:t.target.textContent})},renderInput:function(e){return Object(j.jsx)(An.a,Object(n.a)(Object(n.a)({},e),{},{label:"Enter Items",variant:"outlined"}))}})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Weight / Volume"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"itemWeight",placeholder:"Enter weight",onChange:function(t){e.handleChange(t)},width:"100%",value:this.state.itemWeight}),Object(j.jsxs)(Ge.a,{as:en.a.Append,variant:"outline-secondary",title:Object(j.jsx)("span",{style:{color:"white"},children:this.state.weightType}),id:"wtdd",style:{backgroundColor:"#040335"},children:[Object(j.jsx)(Ye.a.Header,{children:"Weight (Solids)"}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"kg"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"g"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"oz"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"lbs"})}),Object(j.jsx)(Ye.a.Divider,{}),Object(j.jsx)(Ye.a.Header,{children:"Volume (Liquids)"}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"l"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"ml"})})]})]})}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:""!==this.state.item&&0!==this.state.itemWeight&&"Select Unit"!==this.state.weightType?Object(j.jsx)(p.a,{type:"button",style:{width:"50%",backgroundColor:"#040335"},onClick:function(){return e.handleAddClick()},children:"Add"}):Object(j.jsx)(p.a,{type:"button",style:{width:"50%"},variant:"secondary",disabled:!0,children:"Add"})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Selected Items"}),Object(j.jsxs)("div",{style:{overflowY:"scroll",height:"85px",width:"80%",marginLeft:"10%",backgroundColor:"white",marginBottom:"10px"},children:[Object(j.jsx)(At.a,{children:Object(j.jsx)(Ln.a,{style:{textAlign:"center",backgroundColor:"rgb(13, 27, 92, 0.8)",color:"white",width:"100%",fontWeight:600,padding:"0 1px 0 1px",borderRadius:"0px"},children:"Items Added"})}),Object(j.jsx)(vn.BrowserView,{children:Object(j.jsx)(Wn.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Weight / Volume"})})]}),this.state.items.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})}))]})})}),Object(j.jsx)(vn.MobileView,{children:Object(j.jsx)(Wn.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Weight/Volume"})})]}),this.state.items.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})}))]})})})]}),Object(j.jsxs)(Bn.a,{style:{width:"80%",marginLeft:"10%",marginTop:"-10px",marginBottom:"10px"},children:[this.isItemsEmpty(this.state.items)?Object(j.jsx)(p.a,{variant:"secondary",style:{width:"50%",fontSize:"75%"},disabled:!0,children:"Remove Last Item"}):Object(j.jsx)(p.a,{style:{backgroundColor:"#040335",width:"50%",fontSize:"75%"},onClick:function(){return e.setState({items:e.state.items.filter((function(t,a){return a!==e.state.items.length-1}))})},children:"Remove Last Item"}),this.isItemsEmpty(this.state.items)?Object(j.jsx)(p.a,{variant:"secondary",style:{width:"50%",fontSize:"75%"},disabled:!0,children:"Clear"}):Object(j.jsx)(p.a,{style:{backgroundColor:"#040335",width:"50%",fontSize:"75%"},onClick:function(){return e.setState({items:[]})},children:"Clear"})]}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"From"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(m.a.Control,{id:"fromDate",type:"date",min:"2022-06-01",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.fromDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"To"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(m.a.Control,{id:"toDate",type:"date",min:"2022-07-01",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.toDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Frequency"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(qn,{children:Object(j.jsxs)(Ye.a,{children:[Object(j.jsx)(Rn.a,{variant:"secondary",width:"100%",className:"dd",children:this.state.frequency}),Object(j.jsxs)(Pn.b,{children:[Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleFreqChange(t.target.textContent)},children:"Weekly"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleFreqChange(t.target.textContent)},children:"Fortnightly"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleFreqChange(t.target.textContent)},children:"Monthly"})})]})]})})})}),Object(j.jsx)(Fn.a,{style:{marginBottom:"10px"}}),this.state.items!==[]&&""!==this.state.fromDate&&""!==this.state.toDate&&"Select Frequency"!==this.state.frequency?Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",backgroundColor:"#040335",width:"80%",marginTop:"5px"},onClick:function(t){e.handleReserveItemSubmit(t),e.clearForm(),e.showNotification()},variant:"secondary",type:"button",children:"Reserve"}):Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",width:"80%",marginTop:"5px"},variant:"secondary",disabled:!0,children:"Reserve"})]})]})}),Object(j.jsxs)(Oe.a,{style:{width:this.state.formWidth,height:"720px",marginBottom:"10vh",backgroundColor:"#040335",overflowY:"auto"},children:[Object(j.jsx)("h5",{className:"text-center",style:{fontWeight:600,color:"white",marginTop:"2.5%",marginBottom:"5%"},children:"My Reservations"}),Object(j.jsx)("div",{children:this.state.myReservations.map((function(t){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(vn.BrowserView,{children:Object(j.jsxs)(Oe.a,{style:{width:"95%",marginLeft:"2.5%",backgroundColor:"rgb(38, 120, 214)",height:"160px",marginBottom:"50px"},children:[Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"7.5px"},children:[Object(j.jsxs)("span",{style:{marginRight:"20%"},children:[Object(j.jsx)("b",{children:"From: "})," ",t.fromDate]})," ",Object(j.jsx)("b",{children:"To: "})," ",t.toDate]}),Object(j.jsx)("div",{onClick:function(){return e.deleteReservation(t.resID)},style:{fontSize:"150%",fontWeight:600,marginLeft:"97.5%",marginTop:"-4.5%"},children:"X"}),Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"10px"},children:[Object(j.jsx)("b",{children:"Frequency: "})," ",t.frequency," ",t.resID]}),Object(j.jsxs)("div",{style:{overflowY:"scroll",marginBottom:"10px"},children:[Object(j.jsx)(At.a,{children:Object(j.jsx)(Ln.a,{style:{textAlign:"center",backgroundColor:"rgb(13, 27, 92, 0.8)",color:"white",width:"99.5%",marginLeft:"0.5%",fontWeight:600,padding:"0 1px 0 1px",borderRadius:"0px"},children:"Items Reserved"})}),Object(j.jsx)(Wn.a,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{width:"99.5%",marginLeft:"0.5%",height:"50px",backgroundColor:"white"},children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Weight / Volume"})})]}),t.itemList.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})})}))]})})]})]})}),Object(j.jsx)(vn.MobileView,{children:Object(j.jsxs)(Oe.a,{style:{width:"95%",marginLeft:"2.5%",backgroundColor:"rgb(38, 120, 214)",height:"160px",marginBottom:"50px"},children:[Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"5px"},children:[Object(j.jsxs)("span",{style:{marginRight:"8.5%"},children:[Object(j.jsx)("b",{children:"From: "})," ",t.fromDate," "]})," ",Object(j.jsx)("b",{children:"To: "})," ",t.toDate]}),Object(j.jsx)("div",{onClick:function(){return e.deleteReservation(t.resID)},style:{marginLeft:"95%",marginTop:"-10%",fontWeight:600,fontSize:"150%"},children:"X"}),Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"10px"},children:[Object(j.jsx)("b",{children:"Frequency: "})," ",t.frequency]}),Object(j.jsxs)("div",{style:{overflowY:"scroll",marginBottom:"10px"},children:[Object(j.jsx)(At.a,{children:Object(j.jsx)(Ln.a,{style:{textAlign:"center",backgroundColor:"rgb(13, 27, 92, 0.8)",color:"white",width:"99.5%",marginLeft:"0.25%",fontWeight:600,padding:"0 1px 0 1px",borderRadius:"0px"},children:"Items Reserved"})}),Object(j.jsx)(Wn.a,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{width:"99.5%",marginLeft:"0.25%",height:"50px",backgroundColor:"white"},children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Weight/Volume"})})]}),t.itemList.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})}))]})})]})]})})]})}))})]})]})]})})}}]),a}(c.Component),Vn=[{title:"Ham"},{title:"Beef"},{title:"Chicken"},{title:"Pork"},{title:"Cod"},{title:"Haddock"},{title:"Lamb"},{title:"Apple"},{title:"Banana"},{title:"Orange"},{title:"Pear"},{title:"Grapes"},{title:"Potato"},{title:"Milk"},{title:"Onion"},{title:"Cucumber"},{title:"Peppers"},{title:"Cabbage"}],qn=fe.a.div(Ma||(Ma=Object(pe.a)(["\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n"]))),Hn=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{startData:function(t){return e(ct(t))},createReserveItemsData:function(t){return e((a=t,function(e,t,n){var c=n.getFirebase,r=(t().firebase.profile,t().firebase.auth),s=a.submissionType,o=a.items,i=a.fromDate,l=a.toDate,u=a.frequency,d=a.submissionDay,b=a.submissionWeek,j=a.submissionMonth,h=a.submissionDate,m=a.submissionYear,p=a.submissionFullDate,f=(new Date).getHours(),O="";O=f>=0&&f<6?"T1":f>=6&&f<12?"T2":f>=12&&f<18?"T3":"T4",c().firestore().collection("data").doc(r.uid).collection("writtenReserveFoodData").add({date:c().firestore.Timestamp.fromDate(new Date),type:O,SUBMISSIONTYPE:s,ITEMLIST:o,FROMDATE:i,TODATE:l,FREQUENCY:u,WDAY:d,WEEK:b,MONTH:j,MDATE:h,YEAR:m,FULLDATE:p}).then((function(){e({type:"CREATE_DATA"})})).catch((function(t){e({type:"CREATE_DATA_ERROR",err:t})}))}));var a}}})),Object(Qt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))(Un),zn=(a(424),function(){var e=Object(c.useState)({zip:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],d="5e08f390d68d20c770a7727d2bafe3b1",b="http://api.openweathermap.org/geo/1.0/zip?zip=".concat(a.zip,",GB&appid=").concat(d),h="https://api.openweathermap.org/data/2.5/onecall?exclude=minutely,hourly&&units=metric&lat=".concat(a.lat,"&lon=").concat(a.lon,"&&appid=").concat(d);Object(c.useEffect)((function(){a.lat&&fetch(h).then((function(e){return e.json()})).then((function(e){var t="";e.daily.forEach((function(e,a){t+="Day "+(a+1)+": "+e.weather[0].main+" "})),u({message:t,class:"success"})})).catch((function(e){u({message:"Weather fetch error",class:"danger"})}))}),[a.lat]);var m=function(e){r(Object(n.a)(Object(n.a)({},a),{},{lat:e.coords.latitude,lon:e.coords.longitude}))};return Object(j.jsxs)("section",{id:"weather",className:"mb-4",children:[Object(j.jsx)("h5",{className:"mt-3",children:"Weather Forecast"}),Object(j.jsx)("input",{type:"text",name:"location",id:"location",placeholder:"Post code",className:"p-1 pl-2",onChange:function(e){r(Object(n.a)(Object(n.a)({},a),{},{zip:e.target.value}))},value:a.zip}),Object(j.jsx)("button",{id:"getWeather",className:"ml-3 mr-1 btn blue-btn",onClick:function(e){e.preventDefault(),fetch(b).then((function(e){return e.json()})).then((function(e){console.log(e),e.zip?r(Object(n.a)(Object(n.a)({},a),{},{lat:e.lat,lon:e.lon})):u({message:"Invalid postcal code",class:"danger"})})).catch((function(e){u({message:"Geolocation fetch error",class:"danger"})}))},children:"Get weather for post code"}),Object(j.jsx)("button",{className:"btn green-btn",onClick:function(e){e.preventDefault(),navigator.geolocation?navigator.geolocation.getCurrentPosition(m):u({message:"geolocation not supported",class:"danger"})},children:"Use my location"}),l&&Object(j.jsx)("p",{className:"alert alert-".concat(l.class," mb-2 mt-2"),children:l.message})]})}),Kn=function(e){return Object(j.jsx)("div",{style:{overflowY:"scroll",height:"20rem",marginBottom:"2%"},children:Object(j.jsxs)(He.a,{children:[e.category&&e.category.map((function(e){return Object(j.jsx)(ze.a,{children:Object(j.jsx)("a",{href:"https://www.google.com/search?q=".concat(e),children:e})},e)})),!e.category&&Object(j.jsx)("p",{children:"No data available"})]})})},Jn=function(e){return Object(j.jsxs)(He.a,{children:[e.data.phosphorus&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{children:["Phosphorus: ",e.data.phosphorus," Kg/Ha"]}),Object(j.jsxs)("h3",{children:["Potassium: ",e.data.potassium," Kg/Ha"]}),Object(j.jsxs)("h3",{children:["Potassium: ",e.data.potassium," Kg/Ha"]})]}),!e.data.phosphorus&&Object(j.jsx)("p",{children:"No data available"})]})},Zn=a(1092),$n=a(600),Xn=a.n($n),Qn=a(601),ec=a.n(Qn),tc=a(535),ac=function(e){var t=Object(c.useState)(""),r=Object(i.a)(t,2),s=r[0],o=r[1],l=Object(c.useState)(0),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)((100/e.rows).toFixed(0)),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)(!1),y=Object(i.a)(x,2),v=y[0],w=y[1],C=Object(c.useState)(!1),S=Object(i.a)(C,2),k=S[0],N=S[1];Object(c.useEffect)((function(){e.setRowTotal(O,e.index),E()}),[O,e.unit,e.land]),Object(c.useEffect)((function(){var t=-1;tc.categories[e.cat].find((function(e,a){if(e.crop===s)return t=a,a}));b(t),E()}),[s]);var E=function(){var t=e.land*(O/100),a=Object(Ua.a)(e.farmPlan),c=Object(n.a)({},a[e.index]);c={crop:s,percentOfTotal:O,landMass:t.toFixed(3)},a[e.index]=c,e.setFarmPlan(a)};return Object(j.jsxs)(be.a,{className:"farm-row",children:[Object(j.jsxs)(je.a,{children:[Object(j.jsx)("img",{src:a(858)("./".concat(e.cat,"-01.png")).default,alt:e.cat,height:70,width:70}),e.index+1]}),Object(j.jsxs)(je.a,{children:[Object(j.jsx)(Ue,{id:"crop",styling:"green",data:"Select ".concat(e.cat),function:function(e){o(e)},items:tc.categories[e.cat].map((function(e){return e.crop}))}),Object(j.jsx)(m.a.Control,{type:"text",id:"food",className:"mt-2",onChange:function(e){return o(e.target.value)},value:s,required:!0})]}),Object(j.jsxs)(je.a,{children:[Object(j.jsxs)("label",{htmlFor:"amount",children:[Object(j.jsx)(Xn.a,{name:"amount",min:0,max:100,value:O,onChange:function(e){return g(Number(e).toFixed(1))}}),Object(j.jsx)("span",{children:"%"})]}),Object(j.jsx)(ec.a,{value:O,className:"slider",onChange:function(e){return g(Number(e.target.value).toFixed(1))}})]}),Object(j.jsx)(je.a,{children:Object(j.jsxs)("div",{className:"d-grid gap-2",children:[Object(j.jsx)(p.a,{onClick:function(){w(!0)},className:"sub-btn blue-btn",children:"Pests"}),Object(j.jsx)(p.a,{onClick:function(){N(!0)},className:"sub-btn green-light-btn",children:"Nutrient requirement"})]})}),Object(j.jsxs)(Zn.a,{show:v,onHide:function(){return w(!1)},children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{children:s?Object(j.jsxs)("p",{children:["Common pests in ",s]}):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(Zn.a.Body,{children:s&&tc.categories[e.cat][d]&&Object(j.jsx)(Kn,{category:tc.categories[e.cat][d].pests})}),Object(j.jsx)(Zn.a.Footer,{children:Object(j.jsx)(p.a,{variant:"secondary",onClick:function(){return w(!1)},children:"Close"})})]}),Object(j.jsxs)(Zn.a,{show:k,onHide:function(){return N(!1)},children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{children:s?Object(j.jsxs)("p",{children:["Soil nutrient requirements to grow ",s]}):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(Zn.a.Body,{children:s&&tc.categories[e.cat][d]&&Object(j.jsx)(Jn,{data:tc.categories[e.cat][d]})}),Object(j.jsx)(Zn.a.Footer,{children:Object(j.jsx)(p.a,{variant:"secondary",onClick:function(){return N(!1)},children:"Close"})})]})]},e.cat)},nc=a(535),cc=(a(865),["Km\xb2","M\xb2","Hct"]),rc=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,profile:e.firebase.profile}}),(function(e){return{createMarketplaceData:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("marketplace").doc(e.uid).collection("farmPlanData").add(e.upload).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}})),Object(Qt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))((function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(cc[0]),l=Object(i.a)(o,2),u=l[0],d=l[1],h=Object(c.useState)([]),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)(6),y=Object(i.a)(x,2),v=y[0],w=(y[1],Object(c.useState)(100)),C=Object(i.a)(w,2),S=C[0],k=C[1],N=Object(c.useState)([]),E=Object(i.a)(N,2),T=E[0],D=(E[1],Object(c.useState)(!1)),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)(!1),M=Object(i.a)(R,2),I=M[0],A=M[1],L=Object(c.useState)(""),W=Object(i.a)(L,2),B=W[0],G=W[1],Y=function(e,t){T[t]=Number(e);var a=T.reduce((function(e,t){return e+t}),0);k(a)};return Object(c.useEffect)((function(){e.auth.error&&G("There was an error connnecting to the database - please try again")}),[e.auth.error]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(m.a,{onSubmit:function(t){if(t.preventDefault(),S>100)G("Total crop volume exceed 100%");else{var a={uid:e.auth.uid,upload:Object(n.a)(Object(n.a)({},O),{},{totalLand:r,landUnits:u,comment:F})};e.createMarketplaceData(a),A(!0)}},children:[Object(j.jsx)("p",{children:"We recommend that you plant a range of different crops within your field. Crop rotation has been proven to increase yield and minimise the damage of pests and disease."}),Object(j.jsxs)(m.a.Group,{className:"mb-3 land",children:[Object(j.jsx)(m.a.Label,{children:"Amount of land"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"land-size",onChange:function(e){return s(e.target.value)},value:r,min:1,max:1e4,required:!0}),Object(j.jsx)(Ue,{id:"land-unit",styling:"green dropdown-input-right",data:u,function:function(e){d(e)},items:cc})]})]}),Object(j.jsxs)(b.a,{className:"p-0 text-center ",children:[Object(j.jsxs)(be.a,{className:"mb-2 farm-row farm-header d-none d-sm-flex",children:[Object(j.jsx)(je.a,{children:"Plot"}),Object(j.jsx)(je.a,{children:"Crop"}),Object(j.jsx)(je.a,{children:"% of total land"}),Object(j.jsx)(je.a,{children:"Info"})]}),Object.keys(nc.categories).map((function(e,t){return Object(j.jsx)(ac,{rows:v,cat:e,index:t,setRowTotal:Y,setFarmPlan:g,farmPlan:O,land:r,unit:u},e)}))]}),Object(j.jsxs)("h3",{className:S>100?"auth-error":"success",children:["Total of land used: ",S.toFixed(0),"%"]}),Object(j.jsx)(zn,{}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:6,placeholder:"Comments",id:"comment",name:"comment",onChange:function(e){P(e.target.value)}})}),B&&Object(j.jsx)("p",{className:"auth-error",children:B}),Object(j.jsx)(p.a,{type:"submit",className:"sub-btn blue-btn",children:"Save Plan"})]}),Object(j.jsx)(_t,{open:I,onClose:function(){A(!1)},children:"Successfully Saved!"})]})}));function sc(e){var t=e.sector;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"basic-title",children:["We are sorry.",Object(j.jsxs)("p",{children:["Planning for ",t," is currrently in development, we'll let you know when it's ready to go."]})]})})}var oc=Object(f.b)((function(e){return{data:e.data.getData,profile:e.firebase.profile}}),(function(e){return{getFarmerData:function(){return e((function(e,t,a){var n,c=a.getFirebase,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){default:case"farm_admin":n=s;break;case"farm_sub":n=r.admin}c().firestore().collection("marketplace").doc(n).get().then((function(t){var a=[];a.push(t.data()),e({type:"GET_DATA",payload:a})})).catch((function(t){e({type:"GET_DATA_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){setTimeout((function(){return r(!1)}),1500)})),Object(c.useEffect)((function(){e.getFarmerData()}),[]);var s=function(){switch(e.data[0].sector){default:case"Horticulture":return Object(j.jsx)(rc,{});case"Livestock":case"Aquaculture":case"Insect Farm":return Object(j.jsx)(sc,{sector:e.data[0].sector})}};return Object(j.jsx)(j.Fragment,{children:n?Object(j.jsx)(Mt,{}):Object(j.jsx)(oe,{header:"My Farm Plan",goTo:"/account",children:Object(j.jsx)(s,{})})})}));function ic(e){var t=e.setForm,a=(e.existing,e.setExisting);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(m.a,{children:Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are you an existing farmer and registered?"}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"register",label:"Yes",onClick:function(){t(1),a(!0)}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"register",label:"No",onClick:function(){t(3),a(!1)}})})]})]})})})}function lc(e){var t=e.setForm,a=e.association,n=e.setAssociation,r=Object(c.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(j.jsxs)(m.a,{onSubmit:function(){return t(2)},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are you a member of a local food system association?"}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"member",label:"Yes",onClick:function(){n(!0),l(!0)}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"member",label:"No",onClick:function(){n(!1),l(!0)}})})]})]}),o?Object(j.jsx)(j.Fragment,{children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m.a.Control,{required:!0,type:"text",placeholder:"Which local food system association?",id:"food-system-association",onChange:function(e){return n(e.target.value)}}),Object(j.jsx)(p.a,{type:"submit",className:"blue-btn mt-3",children:"Next"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"We recommend joining an organisation such as the NFU or Soil Association."}),Object(j.jsx)(p.a,{type:"submit",className:"blue-btn mt-3",children:"Next"})]})}):null]})}function uc(e){var t=e.certificate,a=e.setCertificate,n=e.setForm,r=Object(c.useState)(0),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(!1),d=Object(i.a)(u,2),b=d[0],h=d[1],f=Object(c.useState)(!1),O=Object(i.a)(f,2),g=O[0],x=O[1];Object(c.useEffect)((function(){100===o&&h(!0)}),[o]);return Object(j.jsxs)(m.a,{onSubmit:function(){n(3)},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"If registered, please upload your certificate of incorporation."}),Object(j.jsx)(m.a.Control,{required:!0,type:"file",id:"certificate",onInput:function(e){a(e.target.files[0])}}),Object(j.jsxs)("p",{style:{color:"rgb(131, 131, 131)"},children:["Uploaded ",o,"%"]})]}),b?Object(j.jsx)(p.a,{type:"submit",className:"blue-btn mt-3 shadow-none",children:"Next"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a,{className:"green-btn mt-3 shadow-none",onClick:function(e){t?(e.preventDefault(),function(e){Re.ref("farmer-auth/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);l(t)}),(function(e){return console.log(e)}),(function(){Re.ref("farmer-auth").child(e.name).getDownloadURL().then((function(e){return console.log(e)}))}))}(t)):(e.preventDefault(),x(!0))},children:"Submit Certificate"}),g?Object(j.jsx)("div",{className:"err",children:Object(j.jsx)("p",{children:"please upload a certificate of incorporation"})}):null]})]})}function dc(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){if(e.country){var t=ut.find((function(t){return t.name===e.country}));r(t.code)}}),[e.country]),Object(c.useEffect)((function(){Object(aa.b)(n)?Object(aa.a)(e.postcode,n)?u(!1):u(!0):u(!1)}),[e.postcode]);return Object(j.jsxs)(m.a,{onSubmit:function(){l||e.setForm(4)},children:[e.existing?Object(j.jsx)("h5",{className:"mb-3",children:"Farm Location"}):Object(j.jsx)("h5",{className:"mb-3",children:"We would like to take your details now in order to connect you to your local community and have everything in place for when your farm is ready."}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Farm Name",id:"farm-name",onChange:function(t){return e.setFarm(t.target.value)}})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Address line 1",id:"address-1",onChange:function(t){return e.setAddress1(t.target.value)},required:!0})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Address line 2",id:"address-2",onChange:function(t){return e.setAddress2(t.target.value)}})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Town",id:"town",onChange:function(t){return e.setTown(t.target.value)},required:!0})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ve,{id:"country",function:function(t){e.setCountry(t.target.value)},value:e.country,placeholder:"Country",items:bt})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Postcode",id:"postcode",onChange:function(t){return e.setPostcode(t.target.value)},required:!0})}),l&&Object(j.jsx)("div",{className:"err",children:" Please enter a valid postcode"}),Object(j.jsx)(p.a,{type:"submit",className:"blue-btn shadow-none",children:"Next"})]})}function bc(e){var t=e.setForm,a=e.sector,n=e.setSector;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:"What Farming Sector?"}),Object(j.jsxs)(m.a,{onSubmit:function(){return t(5)},children:[Object(j.jsx)(Ue,{required:!0,id:"category",styling:"green",data:a,function:function(e){n(e)},items:["Horticulture","Livestock","Aquaculture","Insect farm","Other"]}),Object(j.jsx)(p.a,{className:"blue-btn shadow-none mt-3",type:"submit",children:"Next"})]})]})}var jc=function(e){return Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:e.label}),e.list.map((function(t,a){return Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:Object(j.jsx)(m.a.Check,{type:"checkbox",label:t,id:t,checked:e.checkedState[a],onChange:function(){return function(t){var a=e.checkedState.map((function(e,a){return a===t?!e:e}));e.setCheckedState(a)}(a)}},t)})}))]})};function hc(e){var t=e.setForm,a=e.practices,n=e.practice,r=e.setPractice,s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),h=b[0],f=b[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:"Do you follow any of these sustainable farming practices? Select everything that applies;"}),Object(j.jsxs)(m.a,{children:[Object(j.jsx)(jc,{list:a,checkedState:n,setCheckedState:r}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:Object(j.jsx)(m.a.Check,{type:"checkbox",label:"None of the above",id:"none",onChange:function(){return u(!0)}},"none")}),Object(j.jsx)(p.a,{className:"blue-btn shadow-none mt-3",onClick:function(e){n.every((function(e){return!1===e}))?l?t(5.1):f(!0):(e.preventDefault(),t(6))},children:"Next"}),h&&Object(j.jsx)("div",{className:"err",children:Object(j.jsx)("p",{children:"Please select something."})})]})]})}function mc(e){var t=e.setForm,a=e.practices,n=e.futurePractice,r=e.setFuturePractice,s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),h=b[0],f=b[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:'You selected "None of the above". Do you have a plan to adopt any of the following sustainable farming practices in the future?'}),Object(j.jsxs)(m.a,{children:[Object(j.jsx)(jc,{list:a,checkedState:n,setCheckedState:r}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:Object(j.jsx)(m.a.Check,{type:"checkbox",label:"None of the above",id:"none",onChange:function(){return u(!0)}})}),Object(j.jsx)(p.a,{className:"blue-btn shadow-none mt-3",onClick:function(e){n.every((function(e){return!1===e}))?l?t(5.3):f(!0):(e.preventDefault(),t(5.2))},children:"Next"}),h&&Object(j.jsx)("div",{className:"err",children:Object(j.jsx)("p",{children:"Please select something."})})]})]})}function pc(e){var t=e.setForm,a=e.setEffective;return Object(j.jsxs)(m.a,{onSubmit:function(){return t(6)},children:[Object(j.jsx)("h5",{children:"When are you effecting the sustainable farming practice(s)?"}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"effective",label:"Now",onClick:function(){return a("Now")}}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"effective",label:"3 months time",onClick:function(){return a("3months")}}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"effective",label:"6 months time",onClick:function(){return a("6months")}}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"effective",label:"12 months time",onClick:function(){return a("12months")}})]}),Object(j.jsx)(p.a,{type:"submit",className:"blue-btn shadow-none mt-3",children:"Next"})]})}var fc=a(1100);function Oc(e){return Object(j.jsxs)(Zn.a,Object(n.a)(Object(n.a)({},e),{},{size:"lg","aria-labelledby":"terms-cons-modal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"terms-cons-modal",children:"PLEASE READ THESE TERMS AND CONDITIONS CAREFULLY BEFORE USING THIS MARKETPLACE"})}),Object(j.jsxs)(Zn.a.Body,{contentClassName:"modal",children:[Object(j.jsx)("h4",{children:"What\u2019s in these terms?"}),Object(j.jsx)("p",{children:Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Who we are and how to contact us"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"By using our site you accept these terms"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"There are other terms that may apply to you"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may make changes to these terms"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may make changes to our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may suspend or withdraw our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may transfer this agreement to someone else"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"You must keep your account details safe"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"How you may use material on our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Do not rely on information on our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We are not responsible for websites we link to"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"User-generated content is not approved by us"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"How to complain about content uploaded by other users"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Our responsibility for loss or damage suffered by you"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"How we may use your personal information"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Uploading content to our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Rights you are giving us to use material you upload"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We are not responsible for viruses and you must not introduce them"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Rules about linking to our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Which country\u2019s laws apply to any disputes?"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Our trademarks are registered"})})]})}),Object(j.jsx)("h4",{children:"Who we are and how to contact us"}),Object(j.jsxs)("p",{children:[Object(j.jsxs)("a",{href:"//intellidigest.com/",style:{color:"#AFBA15"},children:["https://intellidigest.com/"," "]}),Object(j.jsx)("b",{children:"and any other website "})," operated by IntelliDigest Ltd (\u201cWe\u201d). We are registered in Scotland under company number SC544884 and have our registered office at Edinburgh Business School Incubator, Heriot Watt University, Riccarton, Currie EH14 4AS. Our main trading address is Royal Academy of Engineering, Enterprise Hub, 4 Carlton House Terrace, London, SW1Y 5DG, United Kingdom."]}),Object(j.jsx)("p",{children:"Our VAT number is 342981288."}),Object(j.jsx)("p",{children:"We are a limited company."}),Object(j.jsxs)("p",{children:["To contact us, please email ",Object(j.jsx)("b",{children:"Info@IntelliDigest.com"})," or telephone our customer service line on ",Object(j.jsx)("b",{children:"0333 242 0822"}),"."]}),Object(j.jsx)("h4",{children:"By using our site you accept these terms"}),Object(j.jsx)("p",{children:"By using our site, you confirm that you accept these terms of use and that you agree to comply with them. If you do not agree to these terms, you must not use our site. We recommend that you print a copy of these terms for future reference."}),Object(j.jsx)("h4",{children:"There are other terms that may apply to you."}),Object(j.jsx)("p",{children:"These terms of use refer to the following additional terms, which also apply to your use of our site:"}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Our Privacy Policy"," ",Object(j.jsxs)("a",{href:" //intellidigest.com/privacy-policy/",style:{color:"#AFBA15"},children:[" ","https://intellidigest.com/privacy-policy/"]})," ","See further under ",Object(j.jsx)("b",{children:"How we may use your personal information."})," "]}),Object(j.jsx)("li",{children:"Our Cookie Policy which sets out information about the cookies on our site."}),Object(j.jsx)("li",{children:"Our Acceptable Use Policy which sets out the permitted uses and prohibited uses of our site. When using our site, you must comply with this Acceptable Use Policy."}),Object(j.jsx)("li",{children:"If you purchase goods from our site, our Terms and conditions of supply will apply to the sales."})]}),Object(j.jsx)("h4",{children:"We may make changes to these terms"}),Object(j.jsx)("p",{children:"We amend these terms from time to time. Every time you wish to use our site, please check these terms to ensure you understand the terms that apply at that time."}),Object(j.jsx)("h4",{children:"We may make changes to our site"}),Object(j.jsx)("p",{children:"We may update and change our site from time to time to reflect changes to our products, our users\u2019 needs and our business priorities."}),Object(j.jsx)("h4",{children:"We may suspend or withdraw our site"}),Object(j.jsx)("p",{children:"Our site is made available free of charge. We do not guarantee that our site, or any content on it, will always be available or be uninterrupted. We may suspend or withdraw or restrict the availability of all or any part of our site for business and operational reasons. We will try to give you reasonable notice of any suspension or withdrawal."}),Object(j.jsx)("p",{children:"You are also responsible for ensuring that all persons who access our site through your internet connection are aware of these terms of use and other applicable terms and conditions, and that they comply with them."}),Object(j.jsx)("h4",{children:"We may transfer this agreement to someone else"}),Object(j.jsx)("p",{children:"We may transfer our rights and obligations under these terms to another organisation. We will always tell you in writing if this happens and we will ensure that the transfer will not affect your rights under the contract."}),Object(j.jsx)("h4",{children:"You must keep your account details safe"}),Object(j.jsx)("p",{children:"If you choose, or you are provided with, a user identification code, password or any other piece of information as part of our security procedures, you must treat such information as confidential. You must not disclose it to any third party."}),Object(j.jsx)("p",{children:"We have the right to disable any user identification code or password, whether chosen by you or allocated by us, at any time, if in our reasonable opinion you have failed to comply with any of the provisions of these terms of use."}),Object(j.jsxs)("p",{children:["If you know or suspect that anyone other than you knows your user identification code or password, you must promptly notify us at"," ",Object(j.jsx)("b",{children:"info@IntelliDigest.com"}),"."]}),Object(j.jsx)("h4",{children:"You must keep your account details safe"}),Object(j.jsx)("p",{children:"We are the owner or the licensee of all intellectual property rights in our site, and in the material published on it. Those works are protected by copyright laws and treaties around the world. All such rights are reserved."}),Object(j.jsx)("p",{children:"You may print off one copy, and may download extracts, of any page(s) from our site for your personal use and you may draw the attention of others within your organisation to content posted on our site."}),Object(j.jsx)("p",{children:"You must not modify the paper or digital copies of any materials you have printed off or downloaded in any way, and you must not use any illustrations, photographs, video or audio sequences or any graphics separately from any accompanying text."}),Object(j.jsx)("p",{children:"Our status (and that of any identified contributors) as the authors of content on our site must always be acknowledged."}),Object(j.jsx)("p",{children:"You must not use any part of the content on our site for commercial purposes without obtaining a licence to do so from us or our licensors."}),Object(j.jsx)("p",{children:"If you print off, copy or download any part of our site in breach of these terms of use, your right to use our site will cease immediately and you must, at our option, return or destroy any copies of the materials you have made."}),Object(j.jsx)("h4",{children:"Do not rely on information on this site"}),Object(j.jsx)("p",{children:"The content on our site is provided for general information only. It is not intended to amount to advice on which you should rely. You must obtain professional or specialist advice before taking, or refraining from, any action on the basis of the content on our site."}),Object(j.jsx)("p",{children:"Although we make reasonable efforts to update the information on our site, we make no representations, warranties or guarantees, whether express or implied, that the content on our site is accurate, complete or up to date."}),Object(j.jsx)("h4",{children:"We are not responsible for websites we link to"}),Object(j.jsx)("p",{children:"Where our site contains links to other sites and resources provided by third parties, these links are provided for your information only. Such links should not be interpreted as approval by us of those linked websites or information you may obtain from them. We have no control over the contents of those sites or resources."}),Object(j.jsx)("h4",{children:"User-generated content is not approved by us"}),Object(j.jsx)("p",{children:"This website may include information and materials uploaded by other users of the site, including to bulletin boards and chat rooms. This information and these materials have not been verified or approved by us. The views expressed by other users on our site do not represent our views or values."}),Object(j.jsx)("h4",{children:"How to complain about content uploaded by other users"}),Object(j.jsxs)("p",{children:["If you wish to complain about content uploaded by other users, please contact us on"," ",Object(j.jsx)("a",{href:"//intellidigest.com/contact/",style:{color:"#AFBA15"},children:"https://intellidigest.com/contact/"}),"."]}),Object(j.jsx)("h4",{children:"Our responsibility for loss or damage suffered by you"}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"Whether you are a consumer or a business user:"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"We do not exclude or limit in any way our liability to you where it would be unlawful to do so. This includes liability for death or personal injury caused by our negligence or the negligence of our employees, agents or subcontractors and for fraud or fraudulent misrepresentation."}),Object(j.jsx)("li",{children:"Different limitations and exclusions of liability will apply to liability arising as a result of the supply of any products to you, which will be set out in our Terms and conditions of supply."})]}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"If you are a business user:"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"We exclude all implied conditions, warranties, representations or other terms that may apply to our site or any content on it."}),Object(j.jsxs)("li",{children:["We will not be liable to you for any loss or damage, whether in contract, tort (including negligence), breach of statutory duty, or otherwise, even if foreseeable, arising under or in connection with:",Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"use of, or inability to use, our site; or"}),Object(j.jsx)("li",{children:"use of or reliance on any content displayed on our site."})]})]}),Object(j.jsxs)("li",{children:["In particular, we will not be liable for:",Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"loss of profits, sales, business, or revenue;"}),Object(j.jsx)("li",{children:"business interruption;"}),Object(j.jsx)("li",{children:"loss of anticipated savings;"}),Object(j.jsx)("li",{children:"loss of business opportunity, goodwill or reputation; or"}),Object(j.jsx)("li",{children:"any indirect or consequential loss or damage."})]})]})]}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"If you are a consumer user:"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Please note that we only provide our site for domestic and private use. You agree not to use our site for any commercial or business purposes, and we have no liability to you for any loss of profit, loss of business, business interruption, or loss of business opportunity."}),Object(j.jsx)("li",{children:"If defective digital content that we have supplied, damages a device or digital content belonging to you and this is caused by our failure to use reasonable care and skill, we will either repair the damage or pay you compensation. However, we will not be liable for damage that you could have avoided by following our advice to apply an update offered to you free of charge or for damage that was caused by you failing to correctly follow installation instructions or to have in place the minimum system requirements advised by us."})]}),Object(j.jsx)("h4",{children:"How we may use your personal information"}),Object(j.jsxs)("p",{children:["We will only use your personal information as set out in our"," ",Object(j.jsxs)("a",{href:" //intellidigest.com/privacy-policy/",style:{color:"#AFBA15"},children:[" ","https://intellidigest.com/privacy-policy/"]})," "]}),Object(j.jsx)("h4",{children:"Uploading content to our site"}),Object(j.jsx)("p",{children:"Whenever you make use of a feature that allows you to upload content to our site, or to make contact with other users of our site, you must comply with the content standards set out in our Acceptable Use Policy."}),Object(j.jsx)("p",{children:"You warrant that any such contribution does comply with those standards, and you will be liable to us and indemnify us for any breach of that warranty. This means you will be responsible for any loss or damage we suffer as a result of your breach of warranty."}),Object(j.jsxs)("p",{children:["Any content you upload to our site will be considered non-proprietary. You retain all of your ownership rights in your content, but you are required to grant us and other users of our site a limited licence to use, store and copy that content and to distribute and make it available to third parties. The rights you license to us are described in ",Object(j.jsx)("b",{children:"Rights you are giving us to use material you upload"}),"."]}),Object(j.jsx)("p",{children:"We also have the right to disclose your identity to any third party who is claiming that any content posted or uploaded by you to our site constitutes a violation of their intellectual property rights, or of their right to privacy."}),Object(j.jsx)("p",{children:"We have the right to remove any posting you make on our site if, in our opinion, your post does not comply with the content standards set out in our Acceptable Use Policy."}),Object(j.jsx)("p",{children:"You are solely responsible for securing and backing up your content."}),Object(j.jsx)("p",{children:"We do not store terrorist content."}),Object(j.jsx)("h4",{children:"Rights you are giving us to use material you upload"}),Object(j.jsx)("p",{children:"When you upload or post content to our site, you grant us the following rights to use that content:"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"LICENCES GRANTED TO THE WEBSITE OWNER."}),Object(j.jsx)("li",{children:"LICENCES GRANTED TO OTHER USERS OF THE SITE OR TO THIRD PARTIES."})]}),Object(j.jsx)("h4",{children:"We are not responsible for viruses and you must not introduce them"}),Object(j.jsx)("p",{children:"We do not guarantee that our site will be secure or free from bugs or viruses. You are responsible for configuring your information technology, computer programmes and platform to access our site. You should use your own virus protection software."}),Object(j.jsx)("p",{children:"You must not misuse our site by knowingly introducing viruses, trojans, worms, logic bombs or other material that is malicious or technologically harmful. You must not attempt to gain unauthorised access to our site, the server on which our site is stored or any server, computer or database connected to our site. You must not attack our site via a denial-of-service attack or a distributed denial-of service attack. By breaching this provision, you would commit a criminal offence under the Computer Misuse Act 1990. We will report any such breach to the relevant law enforcement authorities and we will co-operate with those authorities by disclosing your identity to them. In the event of such a breach, your right to use our site will cease immediately."}),Object(j.jsx)("h4",{children:"Rules about linking to our site"}),Object(j.jsx)("p",{children:"You may link to our home page, provided you do so in a way that is fair and legal and does not damage our reputation or take advantage of it."}),Object(j.jsx)("p",{children:"You must not establish a link in such a way as to suggest any form of association, approval or endorsement on our part where none exists."}),Object(j.jsx)("p",{children:"You must not establish a link to our site in any website that is not owned by you."}),Object(j.jsx)("p",{children:"Our site must not be framed on any other site, nor may you create a link to any part of our site other than the home page."}),Object(j.jsx)("p",{children:"We reserve the right to withdraw linking permission without notice."}),Object(j.jsx)("p",{children:"The website in which you are linking must comply in all respects with the content standards set out in our Acceptable Use Policy."}),Object(j.jsxs)("p",{children:["If you wish to link to or make any use of content on our site other than that set out above, please contact ",Object(j.jsx)("b",{children:"info@IntelliDigest.com"}),"."," "]}),Object(j.jsx)("h4",{children:"Which country\u2019s laws apply to any disputes?"}),Object(j.jsx)("p",{children:"If you are a consumer, please note that these terms of use, their subject matter and their formation, are governed by Scottish law. You and we both agree that the courts of Scotland will have exclusive jurisdiction except that if you are a resident of Northern Ireland you may also bring proceedings in Northern Ireland, and if you are resident of England or Wales, you may also bring proceedings in England or Wales."}),Object(j.jsx)("p",{children:"If you are a business, these terms of use, their subject matter and their formation (and any non-contractual disputes or claims) are governed by Scottish law. We both agree to the exclusive jurisdiction of the courts of Scotland."}),Object(j.jsx)("h4",{children:"Our trade marks are registered"}),Object(j.jsxs)("p",{children:["IntelliDigest is an international registered trademark of IntelliDigest Ltd. You are not permitted to use them without our approval, unless they are part of material you are using as permitted under ",Object(j.jsx)("b",{children:"How you may use material on our site."})]})]}),Object(j.jsx)(Zn.a.Footer,{children:Object(j.jsx)(fc.a,{onClick:e.onHide,children:"Close"})})]}))}function gc(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(fc.a,{onClick:function(){return n(!0)},children:"TERMS AND CONDITIONS"}),Object(j.jsx)(Oc,{show:a,onHide:function(){return n(!1)}})]})}function xc(e){var t=e.handleSubmit;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:"You're all set! Please accept the terms and conditions to continue."}),Object(j.jsx)(gc,{}),Object(j.jsx)(m.a,{onSubmit:function(e){return t(e)},children:Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Check,{type:"checkbox",label:"I accept the terms and conditions.",required:!0}),Object(j.jsx)(p.a,{className:"blue-btn shadow-none mt-3",type:"submit",children:"Start"})]})})]})}var yc=Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{becomeSeller:function(t){return e(function(e){return function(t,a,c){var r,s=c.getFirebase,o=a().firebase.profile,i=a().firebase.auth.uid;switch(o.type){case"farm_admin":r=i;break;case"farm_sub":r=o.admin;break;default:r=i}var l=s().firestore();l.collection("users").doc(r).set(Object(n.a)({},e.profile),{merge:!0}).then((function(){return l.collection("marketplace").doc(r).set(Object(n.a)({},e.info),{merge:!0})})).then((function(){t({type:"SELLER_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"SELLER_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),n=a[0],r=a[1];switch(Object(c.useEffect)((function(){}),[n]),n){case 0:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(ic,{setForm:r,existing:e.existing,setExisting:e.setExisting})});case 1:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(lc,{setForm:r,setAssociation:e.setAssociation,association:e.association})});case 2:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(uc,{setForm:r,certificate:e.certificate,setCertificate:e.setCertificate})});case 3:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(dc,{setForm:r,farm:e.farm,setFarm:e.setFarm,address1:e.address1,setAddress1:e.setAddress1,address2:e.address2,setAddress2:e.setAddress2,town:e.town,setTown:e.setTown,country:e.country,setCountry:e.setCountry,postcode:e.postcode,setPostcode:e.setPostcode,existing:e.existing})});case 4:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(bc,{setForm:r,sector:e.sector,setSector:e.setSector})});case 5:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(hc,{setForm:r,practices:e.practices,practice:e.practice,setPractice:e.setPractice})});case 5.1:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(mc,{setForm:r,practices:e.practices,futurePractice:e.futurePractice,setFuturePractice:e.setFuturePractice})});case 5.2:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(pc,{setForm:r,setEffective:e.setEffective})});case 5.3:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-text",children:"Thanks for your interest in the World Food tracker. We only engage with sustainable farmers. Please, get back to us once you decide to farm sustainably."}),Object(j.jsx)("div",{className:"basic-text mb-2",children:"We are here to support you."}),Object(j.jsxs)("div",{className:"basic-text mb-2",children:["To learn more about our approach to sustainability, check out the Food Industry Sustainability Index on our website"," ",Object(j.jsx)("a",{href:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/?doing_wp_cron=1657288516.7443490028381347656250",children:"here"}),"."]})]});case 6:return Object(j.jsx)("div",{className:"auth",children:Object(j.jsx)(xc,{handleSubmit:function(t){var a;e.certificate?(a={profile:{isSeller:!0},info:{email:e.auth.email,association:e.association,certificate:"/farmer-auth/".concat(e.certificate.name),location:[e.farm,e.address1,e.address2,e.town,e.country,e.postcode],sector:e.sector,practice:e.practice,futurePractice:e.futurePractice,effective:e.effective}},t.preventDefault(),e.becomeSeller(a),mt("Success!","Thanks for joining the plan to Save")):(a={profile:{isSeller:!0},info:{email:e.auth.email,location:[e.farm,e.address1,e.address2,e.town,e.country,e.postcode],sector:e.sector,practice:e.practice,futurePractice:e.futurePractice,effective:e.effective}},t.preventDefault(),e.becomeSeller(a))}})});default:case"void":return Object(j.jsx)("div",{className:"basic-title",children:"We're sorry, you cannot make a plan with us at this time."})}}));function vc(){var e,t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],m=b[1],p=Object(c.useState)(""),f=Object(i.a)(p,2),O=f[0],g=f[1],x=Object(c.useState)(""),y=Object(i.a)(x,2),v=y[0],w=y[1],C=Object(c.useState)(""),S=Object(i.a)(C,2),k=S[0],N=S[1],E=Object(c.useState)(""),T=Object(i.a)(E,2),D=T[0],_=T[1],F=Object(c.useState)(""),P=Object(i.a)(F,2),R=P[0],M=P[1],I=Object(c.useState)(""),A=Object(i.a)(I,2),L=A[0],W=A[1],B=Object(c.useState)("Horticulture"),G=Object(i.a)(B,2),Y=G[0],U=G[1];switch(Y){default:case"Horticulture":e=["Permaculture","Biodynamic Farming","Agroforestry","Food forestry","Poly culture","Regenerative agriculture","Crop rotation","Mulching/ground cover","Growth of heirlooms","Natural pest management","Others"];break;case"Livestock":e=["Permaculture","Natural animal raising","Others"];break;case"Aquaculture":e=["Permaculture","Natural fish harvest","Others"];break;case"Insect Farm":e=["Permaculture","Others"];break;case"Other":e=["Permaculture","Biodynamic Farming","Agroforestry","Food forestry","Poly culture","Regenerative agriculture","Crop rotation","Mulching/ground cover","Growth of heirlooms","Natural animal raising","Natural pest management","Natural fish harvest","Others"]}var V=Object(c.useState)([]),q=Object(i.a)(V,2),H=q[0],z=q[1],K=Object(c.useState)([]),J=Object(i.a)(K,2),Z=J[0],$=J[1],X=Object(c.useState)(""),Q=Object(i.a)(X,2),ee=Q[0],te=Q[1];return Object(c.useEffect)((function(){z(new Array(e.length).fill(!1)),$(new Array(e.length).fill(!1)),console.log(H)}),[Y]),Object(j.jsx)(oe,{goTo:"/account",header:"My Farm Plan",subtitle:"Build your plan",children:Object(j.jsx)(yc,{existing:n,setExisting:r,association:l,setAssociation:u,certificate:h,setCertificate:m,farm:O,setFarm:g,address1:v,setAddress1:w,address2:k,setAddress2:N,town:D,setTown:_,country:R,setCountry:M,postcode:L,setPostcode:W,sector:Y,setSector:U,practices:e,practice:H,setPractice:z,futurePractice:Z,setFuturePractice:$,effective:ee,setEffective:te})})}function wc(e){var t;return t=e.items.map((function(e,t){return Object(j.jsx)("li",{children:e},t)})),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:t})})}var Cc=function(e){return Object(j.jsxs)(oe,{goTo:"/account",header:"My Meal Plan",subtitle:"Plan To Save",children:[Object(j.jsx)("p",{children:e.message}),Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Add preferred location(s) for pick up."}),Object(j.jsxs)(en.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Control,{type:"text",placeholder:"City",id:"pick-up-location"}),Object(j.jsx)(p.a,{className:"green-btn",id:"cities",onClick:function(t){e.addCity([].concat(Object(Ua.a)(e.cities),[t.target.previousSibling.value]))},children:"Add"})]}),Object(j.jsx)(wc,{items:e.cities})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Add preferred pick up day(s)"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(Ve,{id:"choose-day",function:function(t){e.setDay(t.target.value)},value:e.day,placeholder:"Choose available days",items:["Mondays","Tuesdays","Wednesdays","Thursdays","Fridays"]}),Object(j.jsx)(p.a,{className:"green-btn",id:"days",onClick:function(t){e.addDay([].concat(Object(Ua.a)(e.days),[t.target.previousSibling.value]))},children:"Add"})]}),Object(j.jsx)(wc,{items:e.days})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Add preferred pick up times(s) (24 hr)"}),Object(j.jsxs)(en.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Control,{type:"time",placeholder:"City",id:"pick-up-location"}),Object(j.jsx)(p.a,{className:"green-btn",id:"times",onClick:function(t){e.addTime([].concat(Object(Ua.a)(e.times),[t.target.previousSibling.value]))},children:"Add"})]}),Object(j.jsx)(wc,{items:e.times})]})]}),Object(j.jsx)(p.a,{className:"green-btn",onClick:function(t){return e.setForm("autoCreate")},children:"Next"})]})},Sc=Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{becomeConsumer:function(t){return e(g(t))}}}))((function(e){var t=Object(c.useState)("start"),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),h=b[0],f=b[1],O=Object(c.useState)(""),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)([]),w=Object(i.a)(v,2),C=w[0],S=w[1];Object(c.useEffect)((function(){}),[n]);var k=function(t){var a={uid:e.auth.uid,upload:{email:e.auth.email,cities:l,days:h,times:C},profile:{isConsumer:!0}};e.becomeConsumer(a)};switch(n){default:case"start":return Object(j.jsx)(oe,{goTo:"account",header:"My Meal Plan",subtitle:"Plan To Save",children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)(m.a.Label,{children:"Do you have a meal preparation plan?"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"meal-plan",label:"Yes",onClick:k}),Object(j.jsx)(m.a.Check,{type:"radio",name:"meal-plan",label:"No",onClick:function(){return r("location")}})]})});case"location":return Object(j.jsx)(Cc,{setForm:r,addCity:u,cities:l,setDay:y,day:x,addDay:f,days:h,addTime:S,times:C,message:"Thanks for choosing Plan To Save. To serve you better, we need to know a preferred location, day and time for picking up your food item. It may be close to work or home; whatever works best for you."});case"autoCreate":return Object(j.jsx)(oe,{goTo:"/account",header:"My Meal Plan",subtitle:"Plan To Save",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you want the tracker to work with you in the next 4 weeks to develop a plan?"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"develop-plan",label:"Yes"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"develop-plan",label:"No"})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you want us to create a plan for you based on your availability for pickup and your local suppliers?"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"create-plan",label:"Yes",onClick:function(e){return r("develop-plan")}}),Object(j.jsx)(m.a.Check,{type:"radio",name:"develop-plan",label:"No",onClick:k})]})]})});case"develop-plan":return Object(j.jsxs)(oe,{goto:"/account",header:"My Meal Plan",subtitle:"Plan To Save",children:[Object(j.jsx)("p",{children:"We are onboarding farmers in your location to create a plan for you. Check back soon."}),Object(j.jsx)(p.a,{className:"green-btn",onClick:k,children:"Okay"})]})}})),kc=(a(536),a(1106)),Nc=a(1086),Ec=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mealPlanData").doc(e.month).collection(e.day).add(e.upload).then((function(a){r().firestore().collection("marketplace").doc(c).collection("mealPlanData").doc(e.month).collection(e.day).doc(a.id).set({id:a.id},{merge:!0}),t({type:"CREATE_MEAL",mealPlan:e})})).catch((function(e){t({type:"CREATE_MEAL_ERROR",err:e})}))}},Tc=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mealPlanData").doc(e.month).collection(e.day).get().then((function(e){var a=[];e.forEach((function(e){a.push(e.data())})),t({type:"GET_MEALS",payload:a})})).catch((function(e){t({type:"GET_MEALS_ERROR",err:e})}))}},Dc=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}console.log("check:",e),r().firestore().collection("marketplace").doc(c).collection("mealPlanData").doc(e.month).collection(e.day).doc(e.id).set(e.upload,{merge:!0}).then((function(){return t({type:"EDIT_MEAL",mealPlan:e})})).catch((function(e){t({type:"EDIT_MEAL_ERROR",err:e})}))}};var _c=Object(f.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{recommend:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("recommendations").add(e).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"basic-title-left",children:[Object(j.jsx)("div",{className:"mb-3",children:"We have not identified a sustainable restaurant in your location, please, recommend a restaurant or check back later."}),Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={restaurant:n,email:l};e.recommend(t)}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Restaurant Name."}),Object(j.jsx)(m.a.Control,{type:"text",onChange:function(e){return r(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Their email address."}),Object(j.jsx)(m.a.Control,{type:"text",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsx)(p.a,{className:"green-btn",type:"submit",children:"Submit"})]})]})})}));function Fc(e){var t=e.setMealType,a=Object(c.useState)("Any"),n=Object(i.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){!function(){switch(r){default:case"Any":t("");break;case"Breakfast":t("Breakfast");break;case"Lunch":t("Lunch");break;case"Dinner":t("Dinner");break;case"Snack":t("Snack")}}()}),[r]);return Object(j.jsx)(Ue,{id:"meal-type",styling:"green dropdown-input",data:r,items:["Any","Breakfast","Lunch","Dinner","Snack"],function:function(e){return s(e)}})}var Pc=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a){var n,c,r;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"e61e6c91","25fbf2bfe68aaeac0f67859971acbee0","5",n="https://api.edamam.com/auto-complete?app_id=".concat("e61e6c91","&app_key=").concat("25fbf2bfe68aaeac0f67859971acbee0","&q=").concat(t,"&limit=").concat("5"),e.next=6,fetch(n);case 6:return c=e.sent,e.next=9,c.json();case 9:r=e.sent,a(r);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Rc=a(1095),Mc=a(1091);function Ic(e){var t,a=e.handleFoodSearch,r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)([]),d=Object(i.a)(u,2),b=d[0],h=d[1];return Object(c.useEffect)((function(){Pc(o,h)}),[o]),t=""===o?["..."]:b,Object(j.jsx)(j.Fragment,{children:o?Object(j.jsx)(Rc.a,{onInputChange:function(e){l(e.target.value),a(e)},onChange:function(e){a(e)},id:"food",options:t,sx:{width:"100%",lineHeight:"calc(1.5em + .75rem + 2px)"},renderInput:function(e){return Object(j.jsx)(Mc.a,Object(n.a)(Object(n.a)({},e),{},{label:"Item"}))}}):Object(j.jsx)(Rc.a,{onInputChange:function(e){l(e.target.value),a(e)},onChange:function(e){a(e)},id:"food",options:t,getOptionDisabled:function(e){return e===t[0]},sx:{width:"100%",lineHeight:"calc(1.5em + .75rem + 2px)"},renderInput:function(e){return Object(j.jsx)(Mc.a,Object(n.a)(Object(n.a)({},e),{},{label:"Item"}))}})})}var Ac=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mySavedMeals").add(e.upload).then((function(a){r().firestore().collection("marketplace").doc(c).collection("mySavedMeals").doc(a.id).set({id:a.id},{merge:!0}),t({type:"CREATE_RECIPE",recipe:e})})).catch((function(e){t({type:"CREATE_RECIPE_ERROR",err:e})}))}},Lc=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mySavedMeals").doc(e.id).set(e.upload,{merge:!0}).then((function(){return console.log("successfully edited! ")})).catch((function(e){t(console.log("Error editing document:",e))}))}},Wc=function(e){return function(t,a,n){var c,r=n.getFirestore,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}var i=e.upload.ingredients,l=r(),u=l.batch();i.forEach((function(t){var a=l.collection("marketplace").doc(c).collection("shoppingList").doc(e.week).collection(e.week).doc();u.set(a,{id:a.id,ingredient:t})})),u.commit().then((function(){t({type:"CREATE_SHOP",ingr:i})})).catch((function(e){t({type:"CREATE_SHOP_ERROR",err:e})}))}},Bc=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("shoppingList").doc(e.week).collection(e.week).doc(e.id).delete().then((function(){return t({type:"DELETE_SHOP"})})).catch((function(e){t({type:"DELETE_SHOP_ERROR",err:e})}))}},Gc=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a){var n,c,r;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"e61e6c91","25fbf2bfe68aaeac0f67859971acbee0",n="https://api.edamam.com/api/food-database/v2/parser?app_id=".concat("e61e6c91","&app_key=").concat("25fbf2bfe68aaeac0f67859971acbee0","&ingr=").concat(t,"&nutrition-type=cooking"),e.next=5,fetch(n);case 5:return c=e.sent,e.next=8,c.json();case 8:r=e.sent,a(r.hints[0].food.foodId);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var Yc=Object(f.b)(null,(function(e){return{createMealPlanData:function(t){return e(Ec(t))},createRecipe:function(t){return e(Ac(t))},addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),f=(h[0],h[1]),O=Object(c.useState)(!0),g=Object(i.a)(O,2),x=g[0],y=g[1],v={food:"",quantity:0,measure:"g",foodId:""},w=Object(c.useState)(v),C=Object(i.a)(w,2),S=C[0],k=C[1],N=function(e){k(Object(n.a)(Object(n.a)({},S),{},{foodId:e}))},E=Object(c.useState)([]),T=Object(i.a)(E,2),D=T[0],_=T[1],F=function(){var e=Object(Va.a)(Ya.a.mark((function e(){return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==S.food?Gc(S.food,N).then((function(){_((function(e){return[].concat(Object(Ua.a)(e),[S])})),k(v)})):f("Please input an ingredient to add.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("ingredients",D)}),[D]);var P=D.map((function(e,t){return Object(j.jsxs)("li",{children:[e.food,": ",e.quantity,e.measure]},t)})),R=Object(c.useState)(0),M=Object(i.a)(R,2),I=M[0],A=M[1],L=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:r,mealType:u,ingredients:D}};console.log("checking props:",e),e.createMealPlanData(t),A(I+1),x&&e.createRecipe(t),e.addToShoppingList(t)};return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),L(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Meal Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",onChange:function(e){s(e.target.value)},required:!0})]}),Object(j.jsx)(Fc,{setMealType:d,ownRecipe:!0}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:P})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?k(Object(n.a)(Object(n.a)({},S),{},{food:e.target.textContent})):k(Object(n.a)(Object(n.a)({},S),{},{food:e.target.value}))}})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Amount"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"quantity",type:"number",min:"0",step:".1",onChange:function(e){return function(e){e.target.textContent?k(Object(n.a)(Object(n.a)({},S),{},Object(Oa.a)({},e.target.id,e.target.textContent))):k(Object(n.a)(Object(n.a)({},S),{},Object(Oa.a)({},e.target.id,e.target.value)))}(e)},value:S.quantity}),Object(j.jsx)(Ue,{id:"measure",styling:"grey dropdown-input",data:S.measure,items:["g","kg","/","mL","L","/","tsp","tbsp","cups","unit"],function:function(e){k(Object(n.a)(Object(n.a)({},S),{},{measure:e}))}})]})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add ingredient",onClick:function(){F()},children:"Add Ingredient"})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Check,{type:"checkbox",defaultChecked:!0,label:"Save meal",onClick:function(){y(!x)}})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Done"})})]})})),Uc=a(616),Vc="html5qr-code-full-region",qc=function(e){return Object(c.useEffect)((function(){var t=function(e){var t={};return e.fps&&(t.fps=e.fps),e.qrbox&&(t.qrbox=e.qrbox),e.aspectRatio&&(t.aspectRatio=e.aspectRatio),void 0!==e.disableFlip&&(t.disableFlip=e.disableFlip),t}(e),a=!0===e.verbose;if(!e.qrCodeSuccessCallback)throw"qrCodeSuccessCallback is required callback.";var n=new Uc.a(Vc,t,a);return n.render(e.qrCodeSuccessCallback,e.qrCodeErrorCallback),function(){n.clear().catch((function(e){console.error("Failed to clear html5QrcodeScanner. ",e)}))}}),[]),Object(j.jsx)("div",{id:Vc})};c.Component;a(309);var Hc=a(1084);var zc=Object(f.b)(null,(function(e){return{createMealPlanData:function(t){return e(Ec(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)([]),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)([]),y=Object(i.a)(x,2),v=(y[0],y[1],Object(c.useState)([])),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)([]),N=Object(i.a)(k,2),E=N[0],T=N[1],D=Object(c.useState)([]),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)([]),M=Object(i.a)(R,2),I=M[0],A=M[1],L=Object(c.useState)([]),W=Object(i.a)(L,2),B=W[0],G=W[1],Y={food:"",quantity:0,measure:"g",foodId:""},U=Object(c.useState)(Y),V=Object(i.a)(U,2),q=V[0],H=V[1];Object(c.useEffect)((function(){console.log("ingredients",O)}),[O]);var z=Object(c.useState)(0),K=Object(i.a)(z,2),J=K[0],Z=K[1],$=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:s,ingredients:O,mealType:E,totalDaily:F,totalNutrients:I,recipeYield:B}};e.createMealPlanData(t),Z(J+1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(qc,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:function(e,t){fetch("https://world.openfoodfacts.org/api/v0/product/".concat(t.decodedText,".json")).then((function(e){return e.json()})).then((function(e){var t;return void 0==e.product.product_name_en?(t=e.product.product_name,o(t)):(t=e.product.product_name_en,o(t)),fetch("https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t))})).then((function(e){return e.json()})).then((function(e){console.log("name:",e.hits),S(e.hits)})).catch((function(e){console.log(e.message),b(e.message)})).catch((function(e){console.log(e.message),b(e.message)}))}}),Object(j.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:s}),Object(j.jsxs)(Hc.a,{variant:"success",children:[Object(j.jsx)(Hc.a.Heading,{children:"Missing some items in your meal plan?"}),Object(j.jsx)("p",{children:"The scanner allows you to add more items to your meal plan"})]}),Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),$(),e.handleFormClose()},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsx)("li",{children:C&&C.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:Object(j.jsx)("div",{class:"card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h5",{class:"card-title",children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:null===e||void 0===e?void 0:e.recipe.label}),Object(j.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",style:{alignItems:"right",marginLeft:"20px"},value:null===e||void 0===e?void 0:e.recipe.label,onClick:function(t){!function(e){o(e.target.value)}(t),T(null===e||void 0===e?void 0:e.recipe.mealType),P(null===e||void 0===e?void 0:e.recipe.totalDaily),A(null===e||void 0===e?void 0:e.recipe.totalNutrients),G(null===e||void 0===e?void 0:e.recipe.yield)}})]})}),Object(j.jsx)("p",{class:"card-text",children:null===e||void 0===e?void 0:e.recipe.ingredientLines.map((function(e){return Object(j.jsx)("ul",{children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",children:e}),Object(j.jsx)("input",{class:"form-check-input",type:"checkbox",value:e,id:"flexCheckDefault",style:Object(Oa.a)({alignItems:"right",marginLeft:"20px"},"alignItems","left"),onClick:function(e){!function(e){H(q.food=e.target.value),g((function(e){return[].concat(Object(Ua.a)(e),[q])})),H(Y)}(e)}})]})})}))})]})})})})}))})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Save"})})]}),d&&Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Oops..Could not fetch food item, pls try another barcode..\ud83d\ude2d"})})]})}));Object(f.b)(null,(function(e){return{createMealPlanData:function(t){return e(Ec(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)([]),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)([]),y=Object(i.a)(x,2),v=(y[0],y[1],Object(c.useState)([])),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)([]),N=Object(i.a)(k,2),E=N[0],T=N[1],D=Object(c.useState)([]),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)([]),M=Object(i.a)(R,2),I=M[0],A=M[1],L=Object(c.useState)([]),W=Object(i.a)(L,2),B=W[0],G=W[1],Y={food:"",quantity:0,measure:"g",foodId:""},U=Object(c.useState)(Y),V=Object(i.a)(U,2),q=V[0],H=V[1];Object(c.useEffect)((function(){console.log("ingredients",O)}),[O]);var z=Object(c.useState)(0),K=Object(i.a)(z,2),J=K[0],Z=K[1],$=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:s,ingredients:O,mealType:E,totalDaily:F,totalNutrients:I,recipeYield:B}};e.createMealPlanData(t),Z(J+1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(qc,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:function(e,t){fetch("https://world.openfoodfacts.org/api/v0/product/".concat(t.decodedText,".json")).then((function(e){return e.json()})).then((function(e){var t;return void 0==e.product.product_name_en?(t=e.product.product_name,o(t)):(t=e.product.product_name_en,o(t)),fetch("https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t))})).then((function(e){return e.json()})).then((function(e){console.log("name:",e.hits),S(e.hits)})).catch((function(e){console.log(e.message),b(e.message)})).catch((function(e){console.log(e.message),b(e.message)}))}}),Object(j.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:s}),Object(j.jsxs)(Hc.a,{variant:"success",children:[Object(j.jsx)(Hc.a.Heading,{children:"Missing some items in your meal plan?"}),Object(j.jsx)("p",{children:"The scanner allows you to add more items to your meal plan"})]}),Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),$(),e.handleFormClose()},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsx)("li",{children:C&&C.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:Object(j.jsx)("div",{class:"card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h5",{class:"card-title",children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:null===e||void 0===e?void 0:e.recipe.label}),Object(j.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",style:{alignItems:"right",marginLeft:"20px"},value:null===e||void 0===e?void 0:e.recipe.label,onClick:function(t){!function(e){o(e.target.value)}(t),T(null===e||void 0===e?void 0:e.recipe.mealType),P(null===e||void 0===e?void 0:e.recipe.totalDaily),A(null===e||void 0===e?void 0:e.recipe.totalNutrients),G(null===e||void 0===e?void 0:e.recipe.yield)}})]})}),Object(j.jsx)("p",{class:"card-text",children:null===e||void 0===e?void 0:e.recipe.ingredientLines.map((function(e){return Object(j.jsx)("ul",{children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",children:e}),Object(j.jsx)("input",{class:"form-check-input",type:"checkbox",value:e,id:"flexCheckDefault",style:Object(Oa.a)({alignItems:"right",marginLeft:"20px"},"alignItems","left"),onClick:function(e){!function(e){H(q.food=e.target.value),g((function(e){return[].concat(Object(Ua.a)(e),[q])})),H(Y)}(e)}})]})})}))})]})})})})}))})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Save"})})]}),d&&Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Oops..Could not fetch food item, pls try another barcode..\ud83d\ude2d"})})]})}));function Kc(e){var t=e.value,a=Object(c.useState)("unconfirmed"),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),m=h[0],p=h[1],f=Object(c.useState)("+ scan from barcode"),O=Object(i.a)(f,2),g=O[0],x=O[1],y=function(){d(!1),s("unconfirmed")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return d(!0)}})})}),Object(j.jsxs)(Zn.a,{show:u,onHide:y,size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:"Add new meal for"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsxs)(Jc,{eatLater:r,setEatLater:s,handleFormClose:y,value:t,children:[Object(j.jsx)("button",{className:"btn success shadow-none qrcode-btn",onClick:function(){return p(!m),void x(m?"+ scan from barcode":"- input manually")},children:g}),m?Object(j.jsx)(zc,{value:t,handleFormClose:y}):Object(j.jsx)(Yc,{value:t,handleFormClose:y})]})})]})]})}function Jc(e){switch(e.eatLater){default:case"unconfirmed":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Eat Now or Later"}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Eat Now",onClick:function(){return e.setEatLater("no")}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Eat Later",onClick:function(){return e.setEatLater("yes")}})})]})]});case"no":case"yes":return Object(j.jsx)(j.Fragment,{children:e.children})}}function Zc(e){var t=e.value,a=Object(c.useState)("unconfirmed"),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),m=h[0],p=h[1],f=Object(c.useState)("+ scan from barcode"),O=Object(i.a)(f,2),g=O[0],x=O[1],y=function(){d(!1),s("unconfirmed")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return d(!0)}})})}),Object(j.jsxs)(Zn.a,{show:u,onHide:y,size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:"Eat Now or Add Recipe"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsxs)($c,{eatRecipe:r,setEatRecipe:s,handleFormClose:y,value:t,children:[Object(j.jsx)("button",{className:"btn success shadow-none qrcode-btn",onClick:function(){return p(!m),void x(m?"+ scan from barcode":"- input manually")},children:g}),m?Object(j.jsx)(zc,{value:t,handleFormClose:y}):Object(j.jsx)(Yc,{value:t,handleFormClose:y})]})})]})]})}function $c(e){switch(e.eatRecipe){default:case"unconfirmed":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Eat Now or Add Recipe"}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Eat Now",onClick:function(){return e.setEatRecipe("no")}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Add Recipe",onClick:function(){return e.setEatRecipe("yes")}})})]})]});case"no":case"yes":return Object(j.jsx)(j.Fragment,{children:e.children})}}function Xc(e){var t=e.value,a=Object(c.useState)("unconfirmed"),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),m=h[0],p=h[1],f=Object(c.useState)("+ scan from barcode"),O=Object(i.a)(f,2),g=O[0],x=O[1],y=function(){d(!1),s("unconfirmed")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return d(!0)}})})}),Object(j.jsxs)(Zn.a,{show:u,onHide:y,size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:"Add new meal for"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsxs)(Qc,{raw:r,setRaw:s,handleFormClose:y,value:t,children:[Object(j.jsx)("button",{className:"btn success shadow-none qrcode-btn",onClick:function(){return p(!m),void x(m?"+ scan from barcode":"- input manually")},children:g}),m?Object(j.jsx)(zc,{value:t,handleFormClose:y}):Object(j.jsx)(Yc,{value:t,handleFormClose:y})]})})]})]})}function Qc(e){switch(e.raw){default:case"unconfirmed":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Prepared Or Raw"}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Prepared",onClick:function(){return e.setRaw("no")}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Raw",onClick:function(){return e.setRaw("yes")}})})]})]});case"no":return Object(j.jsx)(Kc,{value:e.value,handleFormClose:e.handleFormClose});case"yes":return Object(j.jsx)(Zc,{value:e.value,handleFormClose:e.handleFormClose})}}function er(e){var t=e.show,a=e.setShow,n=e.value,r=Object(c.useState)("unconfirmed"),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)("+ scan from barcode"),d=Object(i.a)(u,2),b=(d[0],d[1],function(){a(!1),l("unconfirmed")});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return a(!0)}})})}),Object(j.jsxs)(Zn.a,{show:t,onHide:b,size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsxs)(Zn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:["Add new meal for ",n.format("DD/MM")]})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsx)(tr,{eatingOut:o,setEatingOut:l,handleFormClose:b,value:n})})]})]})}function tr(e){switch(e.eatingOut){default:case"unconfirmed":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Are you cooking at home or eating out?"}),Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"At Home",onClick:function(){return e.setEatingOut("no")}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Eating Out",onClick:function(){return e.setEatingOut("yes")}})})]})]});case"yes":return Object(j.jsx)(_c,{handleFormClose:e.handleFormClose});case"no":return Object(j.jsx)(Xc,{value:e.value})}}function ar(e){for(var t=e.clone().startOf("month").startOf("week"),a=e.clone().endOf("month").endOf("week"),n=t.clone().subtract(1,"day"),c=[];n.isBefore(a,"day");)c.push(Array(7).fill(0).map((function(){return n.add(1,"day").clone()})));return c}function nr(e){return e.isBefore(new Date,"day")}function cr(e,t){return nr(e)?"before":function(e,t){return t.isSame(e,"day")}(e,t)?"selected":function(e){return e.isSame(new Date,"day")}(e)?"today":""}function rr(e){var t=e.value,a=e.setValue;function n(){return t.isSame(new Date,"month")}return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"previous",onClick:function(){return!n()&&a(t.clone().subtract(1,"month"))},children:n()?null:String.fromCharCode(171)}),Object(j.jsxs)("div",{className:"current",children:[t.format("MMMM")," ",t.format("YYYY")]}),Object(j.jsx)("div",{className:"next",onClick:function(){return a(t.clone().add(1,"month"))},children:String.fromCharCode(187)})]})}var sr=a(1118),or=a(345),ir=a.n(or),lr=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mealPlannerData").add(e.upload).then((function(a){r().firestore().collection("marketplace").doc(c).collection("mealPlannerData").doc(a.id).set({id:a.id},{merge:!0}),t({type:"CREATE_MEAL_PLANNER",mealPlanner:e})})).catch((function(e){t({type:"CREATE_MEAL_PLANNER_ERROR",err:e})}))}},ur=function(e){return{type:"GET_ALL_MEAL_PLAN",plan:e}};var dr=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{deleteMealData:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirebase,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mealPlanData").doc(a.month).collection(a.day).doc(a.id).delete().then((function(){return e({type:"DELETE_MEAL",mealPlan:a})})).catch((function(t){e({type:"DELETE_MEAL_ERROR",err:t})}))}));var a},deleteSavedMeal:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirebase,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mySavedMeals").doc(a.id).delete().then((function(){return e({type:"DELETE_RECIPE",recipe:a})})).catch((function(t){e({type:"DELETE_RECIPE_ERROR",err:t})}))}));var a}}}))((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Delete",children:Object(j.jsx)(Et.a,{"aria-label":"Delete",sx:{ml:2},onClick:function(){!function(t){var a={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:t};e.saved?(e.deleteSavedMeal(a),e.forceUpdate()):(e.deleteMealData(a),e.forceUpdate())}(e.id)},children:Object(j.jsx)(ir.a,{fontSize:"inherit"})})})})})),br=a(346),jr=a.n(br);var hr=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{editMealData:function(t){return e(Dc(t))},editSavedMeal:function(t){return e(Lc(t))}}}))((function(e){var t=Object(c.useState)(e.meal),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(e.ingredient),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:e.id,upload:{meal:n,ingredients:l,id:e.id}};e.saved?(e.editSavedMeal(t),e.forceUpdate()):(e.editMealData(t),e.forceUpdate())}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Meal Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",defaultValue:n,onChange:function(e){r(e.target.value)}})]}),l.map((function(e,t){return Object(j.jsxs)("div",{className:"form",children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Ingredients"}),Object(j.jsx)(m.a.Control,{type:"text",id:"food",onChange:function(a){u([].concat(Object(Ua.a)(l.slice(0,t)),[{food:a.target.value,quantity:e.quantity,measure:e.measure}],Object(Ua.a)(l.slice(t+1,l.length))))},defaultValue:e.food})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"quantity",type:"number",min:"0",step:".1",onChange:function(a){u([].concat(Object(Ua.a)(l.slice(0,t)),[{food:e.food,quantity:a.target.value,measure:e.measure}],Object(Ua.a)(l.slice(t+1,l.length))))},defaultValue:e.quantity}),Object(j.jsx)(Ue,{id:"measure",styling:"grey dropdown-input",data:e.measure,items:["g","kg","/","mL","L","cups","pcs"],function:function(a){return u([].concat(Object(Ua.a)(l.slice(0,t)),[{food:e.food,quantity:e.quantity,measure:a}],Object(Ua.a)(l.slice(t+1,l.length))))}})]})})]},t)})),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn",type:"submit",children:"Done"})})]})}));function mr(e){var t=e.meal,a=e.ingredients,n=e.id,c=e.show,r=e.setShow,s=e.value,o=e.forceUpdate,i=e.saved,l=function(){return r(!1)};return Object(j.jsxs)(Zn.a,{show:c,onHide:l,size:"lg","aria-labelledby":"edit meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-meal",children:"Edit Meal"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsx)(hr,{meal:t,ingredient:a,id:n,forceUpdate:o,value:s,handleFormClose:l,saved:i})})]})}var pr=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"Edit",children:Object(j.jsx)(Et.a,{className:"edit","aria-label":"Edit",sx:{ml:2},onClick:function(){r(!0)},children:Object(j.jsx)(jr.a,{fontSize:"inherit"})})}),Object(j.jsx)(mr,{value:e.value,show:n,setShow:r,meal:e.meal,ingredients:e.ingredients,id:e.id,forceUpdate:e.forceUpdate,saved:e.saved})]})},fr=a(602),Or=a.n(fr);a(875);var gr=Object(f.b)(null,(function(e){return{createMealPlanData:function(t){return e(Ec(t))},addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=function(){return e.setShow(!1)};return Object(c.useEffect)((function(){r(ar(e.value))}),[e.value]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(Zn.a,{show:e.show,onHide:s,size:"lg","aria-labelledby":"add-to-calendar",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsxs)(Zn.a.Title,{id:"add-to-calendar",children:["Add ",e.selected.meal," to Calendar"]})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"calendar",style:{maxWidth:"100%"},children:[Object(j.jsx)(rr,{value:e.value,setValue:e.onChange}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(e,t){return Object(j.jsx)("div",{className:"week",children:e},t)}))}),n.map((function(t){return Object(j.jsx)("div",{children:t.map((function(t){return Object(j.jsx)("div",{className:"day",onClick:function(){return!nr(t)&&e.onChange(t)},children:Object(j.jsx)("div",{className:cr(t,e.value),children:t.format("D").toString()})},t.format("D").toString())}))},t)}))]})]}),Object(j.jsx)(Q,{styling:"green",text:"Add",onClick:function(t){t.preventDefault(),function(){var t;t=e.saved&&!e.selected.nonNativeData?{year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:e.selected.meal,mealType:e.selected.mealType,ingredients:e.selected.ingredients}}:{year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:e.selected.meal,ingredients:e.selected.ingredients,mealType:e.selected.mealType,totalNutrients:e.selected.totalNutrients,totalDaily:e.selected.totalDaily,yield:e.selected.yield,url:e.selected.url,nonNativeData:!0}},e.createMealPlanData(t),e.addToShoppingList(t)}(),s()}})]})})]})})}));var xr=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)({}),o=Object(i.a)(s,2),l=o[0],u=o[1],d=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saved?e.nonNativeData?u({meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,id:e.id,nonNativeData:e.nonNativeData,totalDaily:e.totalDaily,totalNutrients:e.totalNutrients,url:e.url,yield:e.recipeYield}):u({meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,id:e.id}):u({meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,url:e.url,totalNutrients:e.totalNutrients,totalDaily:e.totalDaily,yield:e.yield});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"Add to Calendar",children:Object(j.jsx)(Et.a,{"aria-label":"Add to Calendar",sx:{ml:2},onClick:function(){r(!0),d()},children:Object(j.jsx)(Or.a,{fontSize:"20"})})}),Object(j.jsx)(gr,{value:e.value,onChange:e.onChange,show:n,setShow:r,selected:l,saved:e.saved})]})},yr=function(e){return function(t,a,n){var c,r=n.getFirestore,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}e.upload.item;r().collection("marketplace").doc(c).collection("inventory").add(e.upload).then((function(e){r().collection("marketplace").doc(c).collection("inventory").doc(e.id).set({id:e.id},{merge:!0}),t({type:"CREATE_INVENTORY_ITEM"})})).catch((function(e){t({type:"CREATE_INVENTORY_ITEM_ERROR",err:e})}))}},vr=function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("inventory").doc(e.id).delete().then((function(){return console.log("successfully deleted! ")})).catch((function(e){t(console.log("Error removing document:",e))}))}};var wr=Object(f.b)((function(e){return{data:e.data.getData,inventory:e.mealPlan.inventory}}),(function(e){return{getInventory:function(){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("inventory").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_INVENTORY",payload:a})})).catch((function(t){e({type:"GET_INVENTORY_ERROR",err:t})}))}))},removeFromInventory:function(t){return e(vr(t))},editMealData:function(t){return e(Dc(t))}}}))((function(e){return Object(c.useEffect)((function(){}),[e.inventory]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Mark meal as eaten",children:Object(j.jsx)(Et.a,{"aria-label":"Mark meal as eaten",sx:{ml:2},onClick:function(){!function(t){mt("Success","Food has been marked as eaten");var a={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:e.id,upload:{eaten:!0}};e.editMealData(a)}()},children:Object(j.jsx)(Kt.a,{fontSize:"inherit"})})})})}));function Cr(e){return Object(j.jsx)(j.Fragment,{children:e.meals.map((function(t,a){return Object(j.jsx)("div",{className:"meal-box",children:Object(j.jsx)("div",{className:"ingredients",children:Object(j.jsxs)(He.a,{styles:{paddingTop:0,paddingBottom:0,margin:0},children:[Object(j.jsxs)(sr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:t.meal}),t.mealType?Object(j.jsx)("div",{className:"meal-type",children:t.mealType}):null,Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)(dr,{value:e.value,id:t.id,forceUpdate:e.forceUpdate,saved:e.saved}),e.saved?Object(j.jsx)(xr,{value:e.value,meal:t.meal,ingredients:t.ingredients,mealType:t.mealType,id:t.id,onChange:e.onChange,saved:e.saved,nonNativeData:t.nonNativeData,totalDaily:t.totalDaily,totalNutrients:t.totalNutrients,url:t.url,recipeYield:t.recipeYield}):null,t.nonNativeData?null:Object(j.jsx)(pr,{value:e.value,meal:t.meal,ingredients:t.ingredients,id:t.id,forceUpdate:e.forceUpdate,saved:e.saved}),e.isMealPlan?Object(j.jsx)(wr,{meal:t,value:e.value,id:t.id}):null]})]}),t.ingredients.map((function(e,a){return Object(j.jsx)(ze.a,{className:"list",style:{alignItems:"baseline"},children:t.nn?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("p",{children:e.text})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{children:[e.food,": ",e.quantity,e.measure]})})},"item".concat(a))})),Object(j.jsx)(ze.a,{children:t.url?Object(j.jsx)("a",{href:t.url,children:t.url}):null})]},"ingrs".concat(a))})},"meal-box".concat(a))}))})}var Sr=Object(f.b)((function(e){return{mealPlan:e.mealPlan.meals,mealPlanner:e.mealPlanner.plans}}),(function(e){return{getMealData:function(t){return e(Tc(t))},getMealPlannerData:function(t){return e((function(e,t,a){var n,c=a.getFirebase,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().firestore().collection("marketplace").doc(n).collection("mealPlannerData").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_MEAL_PLANS",payload:a})})).catch((function(t){e({type:"GET_MEAL_PLANS_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD")};e.getMealData(t),e.getMealPlannerData(t)}),[e.value,l]);var d=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.mealPlan.forEach((function(e){var t,a=e.meal,n=e.ingredients,c=e.id,s=e.mealType,o=e.url,i=e.totalNutrients,l=e.totalDaily;t=!!e.nonNativeData&&e.nonNativeData,r((function(e){return[].concat(Object(Ua.a)(e),[{meal:a,mealType:s,ingredients:n,id:c,nn:t,url:o,totalNutrients:i,totalDaily:l}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[e.mealPlan,e.mealPlanner]),Object(j.jsx)(j.Fragment,{children:n.length?Object(j.jsx)("div",{children:Object(j.jsx)(Cr,{forceUpdate:function(){u(l+1)},meals:n,saved:!1,value:e.value,isMealPlan:!0})}):Object(j.jsx)("div",{className:"empty basic-title-left",children:Object(j.jsx)("p",{children:" No meal yet \ud83d\ude42 use the add button "})})})})),kr=function(e){var t=e.value,a=e.onChange,n=Object(c.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(c.useEffect)((function(){o(ar(t))}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(rr,{value:t,setValue:a}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(e,t){return Object(j.jsx)("div",{className:"week",children:e},t)}))}),s.map((function(e){return Object(j.jsx)("div",{children:e.map((function(e){return Object(j.jsx)("div",{className:"day",onClick:function(){return a(e)},children:Object(j.jsx)("div",{className:cr(e,t),children:e.format("D").toString()})},e.format("D").toString())}))},e)}))]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-8",style:{textAlign:"left"},children:"Add casual meals to your calendar or edit added meals \ud83d\ude42"}),Object(j.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(j.jsx)(er,{value:t,show:d,setShow:b})})]}),Object(j.jsx)("div",{}),Object(j.jsxs)("div",{className:"plan-box",children:[Object(j.jsx)("div",{className:"header",children:t.format("dddd DD/MM")}),Object(j.jsx)(Sr,{value:t,show:d})]})]})};var Nr=Object(f.b)(null,(function(e){return{addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),f=(h[0],h[1]),O=Object(c.useState)(!0),g=Object(i.a)(O,2),x=g[0],y=g[1],v={food:"",quantity:0,measure:"g",foodId:""},w=Object(c.useState)(v),C=Object(i.a)(w,2),S=C[0],k=C[1],N=function(e){k(Object(n.a)(Object(n.a)({},S),{},{foodId:e}))},E=Object(c.useState)([]),T=Object(i.a)(E,2),D=T[0],_=T[1],F=function(){var e=Object(Va.a)(Ya.a.mark((function e(){return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==S.food?Gc(S.food,N).then((function(){_((function(e){return[].concat(Object(Ua.a)(e),[S])})),k(v)})):f("Please input an ingredient to add.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("ingredients",D)}),[D]);var P=D.map((function(e,t){return Object(j.jsxs)("li",{children:[e.food,": ",e.quantity,e.measure]},t)})),R=Object(c.useState)(0),M=Object(i.a)(R,2);return M[0],M[1],Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:r,mealType:u,ingredients:D}};e.addToShoppingList(t)}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Meal Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",onChange:function(e){s(e.target.value)},required:!0})]}),Object(j.jsx)(Fc,{setMealType:d,ownRecipe:!0}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:P})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?k(Object(n.a)(Object(n.a)({},S),{},{food:e.target.textContent})):k(Object(n.a)(Object(n.a)({},S),{},{food:e.target.value}))}})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Amount"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"quantity",type:"number",min:"0",step:".1",onChange:function(e){return function(e){e.target.textContent?k(Object(n.a)(Object(n.a)({},S),{},Object(Oa.a)({},e.target.id,e.target.textContent))):k(Object(n.a)(Object(n.a)({},S),{},Object(Oa.a)({},e.target.id,e.target.value)))}(e)},value:S.quantity}),Object(j.jsx)(Ue,{id:"measure",styling:"grey dropdown-input",data:S.measure,items:["g","kg","/","mL","L","/","tsp","tbsp","cups","unit"],function:function(e){k(Object(n.a)(Object(n.a)({},S),{},{measure:e}))}})]})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add ingredient",onClick:function(){F()},children:"Add Ingredient"})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Check,{type:"checkbox",defaultChecked:!0,label:"Save meal",onClick:function(){y(!x)}})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Done"})})]})})),Er=a(228),Tr=a.n(Er);var Dr=Object(f.b)(null,(function(e){return{addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)([]),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)([]),y=Object(i.a)(x,2),v=(y[0],y[1],Object(c.useState)([])),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)(""),N=Object(i.a)(k,2),E=N[0],T=N[1],D=Object(c.useState)(""),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)(""),M=Object(i.a)(R,2),I=M[0],A=M[1],L={food:"",quantity:0,measure:"g",foodId:"",expiry:Yn()(F).format("DD/MM/yyyy")},W=Object(c.useState)(L),B=Object(i.a)(W,2),G=B[0],Y=B[1];Object(c.useEffect)((function(){console.log("ingredients",O)}),[O]);var U=Object(c.useState)(0),V=Object(i.a)(U,2),q=V[0],H=V[1],z=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:s,ingredients:O,purchase:E,expiry:Yn()(F).format("DD/MM/yyyy"),storage:I}};H(q+1),e.addToShoppingList(t)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(qc,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:function(e,t){fetch("https://world.openfoodfacts.org/api/v0/product/".concat(t.decodedText,".json")).then((function(e){return e.json()})).then((function(e){var t;return void 0==e.product.product_name_en?(t=e.product.product_name,o(t)):(t=e.product.product_name_en,o(t)),fetch("https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t))})).then((function(e){return e.json()})).then((function(e){console.log("name:",e.hits),S(e.hits)})).catch((function(e){console.log(e.message),b(e.message)})).catch((function(e){console.log(e.message),b(e.message)}))}}),Object(j.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:s}),Object(j.jsxs)(Hc.a,{variant:"success",children:[Object(j.jsx)(Hc.a.Heading,{children:"Missing some items in your meal plan?"}),Object(j.jsx)("p",{children:"The scanner allows you to add more items to your meal plan"})]}),Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),z(),e.handleFormClose()},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsx)("li",{children:C&&C.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:Object(j.jsx)("div",{class:"card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h5",{class:"card-title",children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:null===e||void 0===e?void 0:e.recipe.label}),Object(j.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",style:{alignItems:"right",marginLeft:"20px"},value:null===e||void 0===e?void 0:e.recipe.label,onClick:function(e){!function(e){o(e.target.value)}(e)}})]})}),Object(j.jsx)("p",{class:"card-text",children:null===e||void 0===e?void 0:e.recipe.ingredientLines.map((function(e){return Object(j.jsx)("ul",{children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",children:e}),Object(j.jsx)("input",{class:"form-check-input",type:"checkbox",value:e,id:"flexCheckDefault",style:Object(Oa.a)({alignItems:"right",marginLeft:"20px"},"alignItems","left"),onClick:function(e){!function(e){Y(G.food=e.target.value),Y(G.expiry=F),g((function(e){return[].concat(Object(Ua.a)(e),[G])})),Y(L)}(e)}})]})})}))})]})})})})}))})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Where did you purchase this item?"}),Object(j.jsx)(m.a.Control,{type:"text",id:"purchasePlace",onChange:function(e){T(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What is the Expiry date of this item?"}),Object(j.jsx)(Tr.a,{selected:F,onChange:function(e){return P(e)},dateFormat:"dd/MM/yyyy"})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"How do you store this item?"}),Object(j.jsx)(m.a.Control,{type:"text",id:"storageMethod",onChange:function(e){A(e.target.value)}})]}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Save"})})]}),d&&Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Oops..Could not fetch food item, pls try another barcode..\ud83d\ude2d"})})]})}));function _r(e){var t=e.show,a=e.setShow,n=e.value,r=Object(c.useState)("unconfirmed"),s=Object(i.a)(r,2),o=(s[0],s[1]),l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)("+ scan from barcode"),m=Object(i.a)(h,2),p=m[0],f=m[1],O=function(){a(!1),o("unconfirmed")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return a(!0)}})})}),Object(j.jsxs)(Zn.a,{show:t,onHide:O,size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsxs)(Zn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:["Add new meal for ",n.format("DD/MM")]})}),Object(j.jsxs)(Zn.a.Body,{children:[Object(j.jsx)("button",{className:"btn success shadow-none qrcode-btn",onClick:function(){return b(!d),void f(d?"+ scan from barcode":"- input manually")},children:p}),d?Object(j.jsx)(Dr,{value:n,handleFormClose:O}):Object(j.jsx)(Nr,{value:n,handleFormClose:O})]})]})]})}function Fr(e){var t=e.value,a=e.setValue,n=t.clone().startOf("week"),c=t.clone().endOf("week");return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"previous",onClick:function(){return a(t.clone().subtract(7,"days"))},children:String.fromCharCode(171)}),Object(j.jsxs)("div",{className:"current",children:["Shopping list for ",n.format("DD MMMM")," -"," ",c.format("DD MMMM")]}),Object(j.jsx)("div",{className:"next",onClick:function(){return a(t.clone().add(7,"days"))},children:String.fromCharCode(187)})]})}var Pr=a(350),Rr=a.n(Pr);Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{removeFromShop:function(t){return e(Bc(t))}}}))((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Remove",children:Object(j.jsx)(Et.a,{"aria-label":"Remove",sx:{ml:2},onClick:function(){!function(t){var a={year:e.value.format("YYYY"),week:e.value.format("w"),id:t};e.removeFromShop(a),e.setUpdate(e.update+1)}(e.id)},children:Object(j.jsx)(Rr.a,{})})})})})),a(603);var Mr=a(604),Ir=a.n(Mr);var Ar=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{addToInventory:function(t){return e(yr(t))},removeFromShop:function(t){return e(Bc(t))},newRemoveFromShop:function(t){return e(function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("newShoppingList").doc(e.week).collection(e.week).doc(e.id).delete().then((function(){return t({type:"DELETE_NEW_SHOP"})})).catch((function(e){t({type:"DELETE_BEW_SHOP_ERROR",err:e})}))}}(t))}}}))((function(e){var t=function(){var t=Object(Va.a)(Ya.a.mark((function t(){var a;return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={week:e.value.format("w")-1,day:e.value.format("DD"),upload:{ingredients:e.food}},e.addToInventory(a),mt("Success","Item added to Inventory!");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Bought Item",children:Object(j.jsx)(Et.a,{"aria-label":"Bought Item",sx:{ml:2},onClick:function(){t(),function(t){var a={week:e.value.format("w"),id:t};e.removeFromShop(a),e.newRemoveFromShop(a),e.setUpdate(e.update+1)}(e.id)},children:Object(j.jsx)(Ir.a,{fontSize:"25"})})})})})),Lr=a(620),Wr=a(351),Br=a(605),Gr=a(606);a(426);var Yr=Object(f.b)((function(e){return{data:e.mealPlanner.plans,allPlan:e.mealPlanner.newPlans,allItems:e.mealPlanner.allItems}}),(function(e){return{getMealPlannerData:function(t){return e((function(e,t,a){var n,c=a.getFirebase,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().firestore().collection("marketplace").doc(n).collection("mealPlannerData").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_MEAL_PLANS",payload:a})})).catch((function(t){e({type:"GET_MEAL_PLANS_ERROR",err:t})}))}))},getPlanData:function(t){return e((function(e,t,a){var n,c=a.getFirebase,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().firestore().collection("marketplace").doc(n).collection("newPlan").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_NEW_PLANS",payload:a})})).catch((function(t){e({type:"GET_NEW_PLANS_ERROR",err:t})}))}))},generateNewPlan:function(t){return e(function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("newPlan").add(e.upload).then((function(a){r().firestore().collection("marketplace").doc(c).collection("newPlan").doc(a.id).set({id:a.id},{merge:!0}),t({type:"GENERATE_MEAL_PLANNER",plan:e})})).catch((function(e){t({type:"GENERATE_MEAL_PLANNER_ERROR",err:e})}))}}(t))},getAllItems:function(t){return e(ur(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),h=b[0],m=b[1],f=Object(c.useState)([]),O=Object(i.a)(f,2),g=O[0],x=O[1],y=Object(c.useState)(!1),v=Object(i.a)(y,2),w=(v[0],v[1],Object(c.useState)([""])),C=Object(i.a)(w,2),S=(C[0],C[1],Object(c.useState)([])),k=Object(i.a)(S,2),N=k[0],E=k[1],T=Object(c.useState)(!1),D=Object(i.a)(T,2),_=D[0],F=D[1],P=Object(c.useState)(!1),R=Object(i.a)(P,2),M=R[0],I=R[1];console.log("check the props:",e);var A=new Date(e.value.format("YYYY-MM-DD"));A.setMonth(A.getMonth()+6),console.log("In six months",A.toISOString().slice(0,19));for(var L=function(e,t){for(var a=[],n=new Date(e);n<=new Date(t);n.setDate(n.getDate()+1))a.push(new Date(n));return a}(new Date(e.value.format("YYYY-MM-DD")),new Date(A.toISOString().slice(0,10))).map((function(e){return e.toISOString().slice(0,10)})),W=N,B=[],G=W.length,Y=0;Y<G;Y++){var U={};U.start=W[Y],U.end=W[Y],U.qty=3,B.push(U)}var V=B.flatMap((function(e){return Array(e.qty).fill({start:e.start,end:e.end})}));Object(c.useEffect)((function(){e.getAllItems()}),[]);var q=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m([]),x([]),e.data.forEach((function(e){var t,a=e.meal,n=e.ingredients,c=e.id,r=e.mealType,s=e.url,o=e.totalNutrients,i=e.totalDaily,l=e.yield;t=!!e.nonNativeData&&e.nonNativeData,"breakfast"==r?m((function(e){return[].concat(Object(Ua.a)(e),[{meal:a,mealType:r,ingredients:n,id:c,nn:t,url:s,totalNutrients:o,totalDaily:i,recipeYield:l}])})):x((function(e){return[].concat(Object(Ua.a)(e),[{meal:a,mealType:r,ingredients:n,id:c,nn:t,url:s,totalNutrients:o,totalDaily:i,recipeYield:l}])}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){q()}),[e.data]),Object(c.useEffect)((function(){E(L)}),[]),Object(c.useEffect)((function(){H()}),[h,g]),console.log("breakfast:",h);var H=function(){for(var e=[],t=0,a=0,n=0;t<h.length-1&&a<g.length-1;)e[n++]=h[t++],e[n++]=g[a++],e[n++]=g[a++];for(;t<h.length;)e[n++]=h[t++];for(;a<g.length;)e[n++]=g[a++];return e};Object(c.useEffect)((function(){z()}),[h,g]);var z=function(){var e=Object(Va.a)(Ya.a.mark((function e(){var t,a,c,s,o,i,l,u;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=0,e.next=4,H();case 4:if(""!=h&&""!=g){e.next=6;break}return e.abrupt("return",Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Loading..."})}));case 6:for(c=H(),i="T0"+(s=8)+(o=":00:00"),l=0;l<V.length;l++)(u={}).title=c[a].meal,u.start=V[l].start+i,u.end=V[l].end+i,u.ingredients=c[a].ingredients,u.totalDaily=c[a].totalDaily,u.totalNutrients=c[a].totalNutrients,u.recipeYield=c[a].recipeYield,u.nn=c[a].nn,u.url=c[a].url,t.push(u),(s+=6)>20&&(s=8),i=s>9?"T"+s+o:"T0"+s+o,++a===c.length-1&&(a=0);r(t),console.log("All items is:",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.forEach((function(t){var a={year:Yn()(t.start).format("yyyy"),week:Yn()(t.start).format("w"),upload:{meal:t.title,ingredients:t.ingredients,totalDaily:t.totalDaily,totalNutrients:t.totalNutrients,recipeYield:t.recipeYield,nn:t.nn,url:t.url,start:t.start,end:t.end,day:Yn()(t.start).format("DD-MM-yyyy")}};e.generateNewPlan(a)})),a="Saving..",c="refresh when notification disappears!",ht()({title:a,message:c,backgroundTop:"white",backgroundBottom:"white",colorTop:"black",colorBottom:"black",closeButton:"X",duration:3e4});case 2:case"end":return t.stop()}var a,c}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u([]),e.allPlan.forEach((function(e){var t=e.meal,a=e.ingredients,n=e.totalDaily,c=e.totalNutrients,r=e.recipeYield,s=e.nn,o=e.start,i=e.end;u((function(e){return[].concat(Object(Ua.a)(e),[{title:t,ingredients:a,totalDaily:n,totalNutrients:c,recipeYield:r,nn:s,start:o,end:i}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){e.getPlanData()}),[]),Object(c.useEffect)((function(){J()}),[e.allPlan]);var Z=function(){return F(!1)},$=function(){return F(!0)};return Object(j.jsx)(j.Fragment,{children:l.length?Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(Lr.a,{plugins:[Wr.b,Br.a,Gr.a],initialView:"dayGridMonth",themeSystem:"bootstrap",headerToolbar:{center:"dayGridMonth,timeGridWeek,timeGridDay"},events:l,contentHeight:"auto",eventDisplay:"block",display:"background",nowIndicator:!0,dateClick:function(e){return console.log(e.dateStr)}}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:Object(j.jsx)(p.a,{variant:"secondary",onClick:$,children:"Generate Plan"})}),Object(j.jsxs)(Zn.a,{show:_,onHide:Z,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{children:"Generate Plan"})}),Object(j.jsxs)(Zn.a.Body,{children:[Object(j.jsx)("p",{children:"Do you want to generate a new plan? "}),Object(j.jsx)("p",{children:"This will incure additional cost"})]}),Object(j.jsxs)(Zn.a.Footer,{children:[Object(j.jsx)(p.a,{variant:"secondary",children:"Yes"}),Object(j.jsx)(p.a,{variant:"secondary",onClick:Z,children:"No"})]})]})]})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"empty basic-title-center",children:Object(j.jsx)("p",{children:"You have not generated a new meal plan yet.. \ud83d\ude42"})}),Object(j.jsx)("p",{children:Object(j.jsx)(p.a,{variant:"secondary",onClick:$,children:"Generate Plan"})}),Object(j.jsxs)(Zn.a,{show:_,onHide:Z,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{children:"Generate Plan"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsx)("p",{children:"Do you want to generate a new plan? "})}),Object(j.jsxs)(Zn.a.Footer,{children:[Object(j.jsx)(p.a,{variant:"secondary",disabled:M,onClick:function(){K(),Z(),I(!0)},children:M?"Generated":"Generate"}),Object(j.jsx)(p.a,{variant:"secondary",onClick:Z,children:"No"})]})]})]})})}));var Ur=Object(f.b)((function(e){return{UpdatedShoppingList:e.mealPlan.shoppingList,newShoppingList:e.mealPlan.newShoppingList,inventory:e.mealPlan.inventory,shoppingList:e.mealPlanner.allItems,newPlans:e.mealPlanner.newPlans}}),(function(e){return{getShoppingList:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirestore,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}console.log("----",a),r().collection("marketplace").doc(c).collection("shoppingList").doc(a.week).collection(a.week).get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_SHOPPING_LIST",payload:a})})).catch((function(t){e({type:"GET_SHOPPING_LIST_ERROR",err:t})}))}));var a},getShoppingListUpdate:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirestore,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}console.log("----",a),r().collection("marketplace").doc(c).collection("newShoppingList").doc(a.week).collection(a.week).get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_NEW_SHOPPING_LIST",payload:a})})).catch((function(t){e({type:"GET_NEW_SHOPPING_LIST_ERROR",err:t})}))}));var a},getInventory:function(){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("inventory").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_INVENTORY",payload:a})})).catch((function(t){e({type:"GET_INVENTORY_ERROR",err:t})}))}))},getAllItems:function(t){return e(ur(t))},addToShoppingListUpdate:function(t){return e(function(e){return function(t,a,n){var c,r=n.getFirestore,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}var i=e.upload.result,l=r(),u=l.batch();i.forEach((function(t){var a=l.collection("marketplace").doc(c).collection("newShoppingList").doc(e.week).collection(e.week).doc();u.set(a,{id:a.id,ingredient:t})})),u.commit().then((function(){t({type:"CREATE_NEW_SHOP",ingr:i})})).catch((function(e){t({type:"CREATE_NEW_SHOP_ERROR",err:e})}))}}(t))},getPlanData:function(t){return e((function(e,t,a){var n,c=a.getFirebase,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().firestore().collection("marketplace").doc(n).collection("newPlan").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_NEW_PLANS",payload:a})})).catch((function(t){e({type:"GET_NEW_PLANS_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)([]),h=Object(i.a)(b,2),m=h[0],f=h[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)(0),w=Object(i.a)(v,2),C=w[0],S=w[1];Object(c.useEffect)((function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD-MM-yyyy")};e.getPlanData(t)}),[e.value,C]),Object(c.useEffect)((function(){var t={week:e.value.format("w")};e.getShoppingList(t),e.getShoppingListUpdate(t)}),[e.value,C]);var k=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d([]),e.UpdatedShoppingList.forEach((function(e){var t=e.id,a=e.ingredient.food,n=e.ingredient.quantity,c=e.ingredient.measure,r=e.ingredient.expiry;d((function(e){return[].concat(Object(Ua.a)(e),[{food:a,measure:c,quantity:n,expiry:r,id:t}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f([]),e.newShoppingList.forEach((function(e){var t=e.id,a=e.ingredient.food,n=e.ingredient.quantity,c=e.ingredient.measure,r=e.ingredient.expiry;f((function(e){return[].concat(Object(Ua.a)(e),[{food:a,measure:c,quantity:n,expiry:r,id:t}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){k(),N()}),[e.UpdatedShoppingList,e.newShoppingList]);var E=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s([]),void 0!=e.newPlans&&""!=e.newPlans){t.next=3;break}return t.abrupt("return",Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Loading..."})}));case 3:e.newPlans.forEach((function(e){e.ingredients.forEach((function(t){var a=e.id,n=Yn()(e.start).utc().format("YYYY-MM-DD"),c=t.food,r=t.quantity,o=t.measure;s((function(e){return[].concat(Object(Ua.a)(e),[{week:Yn()(n,"YYYY-MM-DD").week(),data:c,food:c+" "+r+" "+o,measure:o,quantity:r,id:a}])}))}))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function T(){return r.filter((function(t){return e.value.format("w")==t.week}))}Object(c.useEffect)((function(){E()}),[e.newPlans,C]),Object(c.useEffect)((function(){T()}),[e.newPlans]);var D=Object.values(T().reduce((function(e,t){return e[t.data]=e[t.data]?Object(n.a)(Object(n.a)({},t),{},{quantity:t.quantity+e[t.data].quantity}):t,e}),{})),_=function(){var t={week:e.value.format("w"),upload:{result:D}};console.log("this is function",t),e.addToShoppingListUpdate(t),y(!1)},F=function(){return y(!1)},P=function(){return y(!0)};return Object(j.jsx)(j.Fragment,{children:m.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(He.a,{children:u.map((function(t,a){return Object(j.jsxs)(ze.a,{className:"list",style:{alignItems:"flex-end"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:t.food}),Object(j.jsx)("br",{})]}),Object(j.jsx)("div",{style:{marginLeft:"20px"}}),Object(j.jsx)("div",{className:"icons",children:Object(j.jsx)(Ar,{value:e.value,food:t.food,id:t.id,update:C,setUpdate:S})})]},"ingr".concat(a))}))}),Object(j.jsx)(He.a,{children:m.map((function(t,a){return Object(j.jsxs)(ze.a,{className:"list",style:{alignItems:"flex-end"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:t.food}),Object(j.jsx)("br",{})]}),Object(j.jsx)("div",{style:{marginLeft:"20px"}}),Object(j.jsx)("div",{className:"icons",children:Object(j.jsx)(Ar,{value:e.value,food:t.food,id:t.id,update:C,setUpdate:S})})]},"ingr".concat(a))}))}),Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",onClick:P,children:"Update"}),Object(j.jsxs)(Zn.a,{show:x,onHide:F,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{children:"Update Shopping List"})}),Object(j.jsx)(Zn.a.Body,{children:"Update this Shopping list?"}),Object(j.jsxs)(Zn.a.Footer,{children:[Object(j.jsx)(p.a,{variant:"secondary",onClick:_,children:"Yes"}),Object(j.jsx)(p.a,{variant:"secondary",onClick:F,children:"No"})]})]})]}):Object(j.jsxs)("div",{className:"empty basic-title-left",children:[Object(j.jsx)("p",{children:"There are no items in the list yet :( please refresh page"}),Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",onClick:P,children:"Generate"}),Object(j.jsxs)(Zn.a,{show:x,onHide:F,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{children:"Generate New Shopping List"})}),Object(j.jsx)(Zn.a.Body,{children:"Generate a new list?"}),Object(j.jsxs)(Zn.a.Footer,{children:[Object(j.jsx)(p.a,{variant:"secondary",onClick:_,children:"Yes"}),Object(j.jsx)(p.a,{variant:"secondary",onClick:F,children:"No"})]})]})]})})})),Vr=function(e){var t=e.value,a=e.onChange,n=Object(c.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)(Yn()()),m=Object(i.a)(h,2),p=m[0],f=m[1];return Object(c.useEffect)((function(){o(ar(t))}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(rr,{value:t,setValue:a}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(e,t){return Object(j.jsx)("div",{className:"week",children:e},t)}))}),s.map((function(e){return Object(j.jsx)("div",{children:e.map((function(e){return Object(j.jsx)("div",{className:"day",onClick:function(){return a(e)},children:Object(j.jsx)("div",{className:cr(e,t),children:e.format("D").toString()})},e.format("D").toString())}))},e)}))]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-8",style:{textAlign:"left"},children:"Add other items to your Shopping List\ud83d\ude42"}),Object(j.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(j.jsx)(_r,{value:p,show:d,setShow:b})})]}),Object(j.jsxs)("div",{className:"plan-box",children:[Object(j.jsx)("div",{className:"header",children:t.format("dddd DD/MM")}),Object(j.jsx)(Fr,{value:t,setValue:f}),Object(j.jsx)(Ur,{value:t,show:d})]})]})};Object(f.b)(null,(function(e){return{createMealPlanData:function(t){return e(Ec(t))},createRecipe:function(t){return e(Ac(t))},addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),f=(h[0],h[1]),O=Object(c.useState)(!0),g=Object(i.a)(O,2),x=g[0],y=g[1],v={food:"",quantity:0,measure:"g",foodId:""},w=Object(c.useState)(v),C=Object(i.a)(w,2),S=C[0],k=C[1],N=function(e){k(Object(n.a)(Object(n.a)({},S),{},{foodId:e}))},E=Object(c.useState)([]),T=Object(i.a)(E,2),D=T[0],_=T[1],F=function(){var e=Object(Va.a)(Ya.a.mark((function e(){return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==S.food?Gc(S.food,N).then((function(){_((function(e){return[].concat(Object(Ua.a)(e),[S])})),k(v)})):f("Please input an ingredient to add.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("ingredients",D)}),[D]);var P=D.map((function(e,t){return Object(j.jsxs)("li",{children:[e.food,": ",e.quantity,e.measure]},t)})),R=Object(c.useState)(0),M=Object(i.a)(R,2),I=M[0],A=M[1],L=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{meal:r,mealType:u,ingredients:D}};e.createMealPlanData(t),A(I+1),x&&e.createRecipe(t),e.addToShoppingList(t)};return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),L(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Give this plan a name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",onChange:function(e){s(e.target.value)},required:!0})]}),Object(j.jsx)(Fc,{setMealType:d,ownRecipe:!0}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:P})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?k(Object(n.a)(Object(n.a)({},S),{},{food:e.target.textContent})):k(Object(n.a)(Object(n.a)({},S),{},{food:e.target.value}))}})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add ingredient",onClick:function(){F()},children:"Add Meal"})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Check,{type:"checkbox",defaultChecked:!0,label:"Save meal",onClick:function(){y(!x)}})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Done"})})]})}));var qr=a(1102),Hr=a(1103),zr=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a,n,c,r,s,o){var i,l,u;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"5532003c","511d39184173c54ebc5d02a5063a7b87",i="https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t),a&&(i+="&mealType=".concat(a)),n&&(i+="&cuisineType=".concat(n)),c&&(i+="&health=".concat(c)),e.next=8,fetch(i);case 8:return l=e.sent,e.next=11,l.json();case 11:u=e.sent,r(u.hits),s(u._links),o(i),console.log("This is your data",u);case 16:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r,s,o){return e.apply(this,arguments)}}(),Kr=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a,n){var c,r;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,n(r.hits),a(r._links),console.log("This is your data",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Jr=a(352),Zr=a.n(Jr),$r=a(607),Xr=a.n($r);var Qr=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{createMealPlannerData:function(t){return e(lr(t))}}}))((function(e){var t=function(){var t=Object(Va.a)(Ya.a.mark((function t(){var a;return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w")-1,day:e.value.format("DD"),upload:{meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,url:e.url,totalNutrients:e.totalNutrients,totalDaily:e.totalDaily,yield:e.yield,nonNativeData:!0}},e.createMealPlannerData(a),mt("Success","Added to Meal Plan!");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Add to Meal Plan",children:Object(j.jsx)(Et.a,{"aria-label":"Add to Meal Plan",sx:{ml:2},onClick:function(){t()},children:Object(j.jsx)(Xr.a,{fontSize:"40"})})})})}));function es(e){return Object(j.jsx)(j.Fragment,{children:e.query&&e.recipes.map((function(t,a){return Object(j.jsx)("div",{className:"meal-box",children:Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{className:"image",children:Object(j.jsx)("img",{src:t.recipe.image,alt:"".concat(t.recipe.label)})}),Object(j.jsx)(je.a,{className:"ingredients",children:Object(j.jsxs)(He.a,{styles:{paddingTop:0,paddingBottom:0,margin:0},children:[Object(j.jsxs)(sr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:t.recipe.label}),Object(j.jsx)("div",{className:"icons",children:Object(j.jsx)(Qr,{value:e.value,mealType:t.recipe.mealType,meal:t.recipe.label,ingredients:t.recipe.ingredients,url:t.recipe.url,totalNutrients:t.recipe.totalNutrients,totalDaily:t.recipe.totalDaily,yield:t.recipe.yield})})]}),t.recipe.ingredients&&t.recipe.ingredients.map((function(e,t){return Object(j.jsxs)(ze.a,{className:"list",children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Zr.a,{fontSize:"1rem"})}),e.text]},t)})),Object(j.jsx)("a",{href:t.recipe.url,children:t.recipe.url})]})})]})},a)}))})}function ts(e){var t=e.setMealType,a=Object(c.useState)("Breakfast"),n=Object(i.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){!function(){switch(r){default:case"Breakfast":t("Breakfast");break;case"Lunch":t("Lunch");break;case"Dinner":t("Dinner");break;case"Snacks":t("Snacks")}}()}),[r]);return Object(j.jsx)(Ue,{id:"meal-type",styling:"green dropdown-input",data:r,items:["Breakfast","Lunch","Dinner","Snacks"],function:function(e){return s(e)}})}function as(e){var t=e.setCuisineType,a=Object(c.useState)("Any"),n=Object(i.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){t("Any"===r?"":"".concat(r))}),[r]);return Object(j.jsx)(Ue,{id:"meal-type",styling:"green dropdown-input",data:r,items:["Any","American","Asian","British","Caribbean","Central Europe","Chinese","Eastern Europe","French","Indian","Italian","Japanese","Kosher","Mediterranean","Mexican","Middle Eastern","Nordic","South American","South East Asian"],function:function(e){return s(e)}})}function ns(e){var t=e.setRequirements,a=Object(c.useState)("Any"),n=Object(i.a)(a,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){!function(){switch(r){default:case"Any":t("");break;case"Alcohol Free":t("alcohol-free");break;case"Crustacean Free":t("crustacean-free");break;case"Dairy Free":t("dairy-free");break;case"Gluten Free":t("gluten-free");break;case"Keto Friendly":t("keto-friendly");break;case"Kosher":t("kosher");break;case"Nut Free":t("nut-free");break;case"Pescatarian":t("pescatarian");break;case"Vegan":t("vegan");break;case"Vegetarian":t("vegetarian")}}()}),[r]),Object(j.jsx)(Ue,{id:"requirements",styling:"green dropdown-input",data:r,items:["Any","Alcohol Free","Crustacean Free","Dairy Free","Gluten Free","Keto Friendly","Kosher","Nut Free","Pescatarian","Vegan","Vegetarian"],function:function(e){return s(e)}})}function cs(e){var t=e.links,a=e.pageNumber,n=e.changePage;return Object(j.jsxs)(b.a,{children:[t.back?Object(j.jsx)(Q,{onClick:function(){return console.log(t.back.href)},text:"Back",styling:"green"}):null,t.next?Object(j.jsxs)("div",{children:[Object(j.jsx)(be.a,{className:"justify-content-md-center",children:Object(j.jsxs)("p",{children:["Page: ",a+1]})}),Object(j.jsxs)(be.a,{children:[0!=a&&Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{onClick:function(){return n(-1)},text:"Previous Page",styling:"green"})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{onClick:function(){return n(1)},text:"Next Page",styling:"green"})})]})]}):null]})}function rs(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(""),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)(""),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)(""),y=Object(i.a)(x,2),v=y[0],w=y[1],C=Object(c.useState)(""),S=Object(i.a)(C,2),k=S[0],N=S[1],E=Object(c.useState)({}),T=Object(i.a)(E,2),D=T[0],_=T[1],F=Object(c.useState)(""),P=Object(i.a)(F,2),R=P[0],M=P[1],I=Object(c.useState)(""),A=Object(i.a)(I,2),L=A[0],W=A[1],B=Object(c.useState)([]),G=Object(i.a)(B,2),Y=G[0],U=G[1],V=Object(c.useState)(0),q=Object(i.a)(V,2),H=q[0],z=q[1];function K(e){Y.includes(e)?console.log("Page already in array!"):U((function(t){return[].concat(Object(Ua.a)(t),[e])}))}return Object(c.useEffect)((function(){zr(d,O,v,k,_,M,K)}),[d,O,v]),Object(c.useEffect)((function(){L&&Kr(L,M,_)}),[L]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Search Recipes"}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),b(s)},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{className:"shadow-none",type:"text",id:"query",defaultValue:d,onChange:function(e){o(e.target.value)}}),Object(j.jsx)(p.a,{type:"submit",className:"green-btn shadow-none",children:"Search"})]})}),Object(j.jsxs)(qr.a,{sx:{flexGrow:1},children:[Object(j.jsxs)(Hr.a,{container:!0,spacing:2,children:[Object(j.jsxs)(Hr.a,{item:!0,xs:12,md:6,children:[Object(j.jsx)("p",{children:"Meal Type:"}),Object(j.jsx)("div",{children:Object(j.jsx)(ts,{setMealType:g})})]}),Object(j.jsxs)(Hr.a,{item:!0,xs:12,md:6,children:[Object(j.jsx)("p",{children:"Origin:"}),Object(j.jsx)("div",{children:Object(j.jsx)(as,{setCuisineType:w})})]})]}),Object(j.jsxs)(Hr.a,{container:!0,spacing:2,children:[Object(j.jsxs)(Hr.a,{item:!0,xs:12,md:6,children:[Object(j.jsx)("p",{children:"Requirements:"}),Object(j.jsx)("div",{children:Object(j.jsx)(ns,{setRequirements:N})})]}),Object(j.jsx)(Hr.a,{item:!0,xs:12,md:6})]})]})]}),Object(j.jsx)(es,{recipes:D,query:d,value:e.value,onChange:e.onChange}),R?Object(j.jsx)(cs,{links:R,pageNumber:H,changePage:function(e){e>0?(z((function(t){return t+e})),W(R.next.href),K(R.next.href)):e<0&&(z((function(e){return 0===e?0:e-1})),0!=H&&W(Y[H]))}}):null]})}Object(f.b)(null,(function(e){return{createMealPlannerData:function(t){return e(lr(t))}}}))((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Choose atleast 7 meals each for Breakfast, Lunch and Dinner"}),Object(j.jsx)(rs,{value:e.value}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn blue-btn shadow-none",style:{marginTop:"25px"},onClick:function(){e.setPage(e.page+1)},children:"Next"})})]})}));Object(f.b)(null,(function(e){return{createMealPlannerData:function(t){return e(lr(t))}}}))((function(e){var t=Object(c.useState)("lunch"),a=Object(i.a)(t,2),r=a[0],s=(a[1],Object(c.useState)("")),o=Object(i.a)(s,2),l=(o[0],o[1]),u=Object(c.useState)(!0),d=Object(i.a)(u,2),b=(d[0],d[1],{food:"",foodId:""}),h=Object(c.useState)(b),f=Object(i.a)(h,2),O=f[0],g=f[1],x=function(e){g(Object(n.a)(Object(n.a)({},O),{},{foodId:e}))},y=Object(c.useState)([]),v=Object(i.a)(y,2),w=v[0],C=v[1],S=function(){var e=Object(Va.a)(Ya.a.mark((function e(){return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==O.food?Gc(O.food,x).then((function(){C((function(e){return[].concat(Object(Ua.a)(e),[O])})),g(b)})):l("Please input a meal to add.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("meal list",w)}),[w]);var k=w.map((function(e,t){return Object(j.jsx)("li",{children:e.food},t)})),N=Object(c.useState)(0),E=Object(i.a)(N,2),T=E[0],D=E[1],_=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{mealType:r,mealList:w}};console.log("checking the data:",t),console.log("checking props:",e),e.createMealPlannerData(t),D(T+1)};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Choose atleast 7 meals for Lunch"}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),_()},children:[Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:k})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?g(Object(n.a)(Object(n.a)({},O),{},{food:e.target.textContent})):g(Object(n.a)(Object(n.a)({},O),{},{food:e.target.value}))}})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add meal",onClick:function(){S()},children:"Add Meal"})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{onClick:function(){alert("Your meals have been saved")},className:"blue-btn shadow-none",type:"submit",children:"Save"})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:Object(j.jsx)("button",{className:"btn blue-btn shadow-none",style:{marginTop:"25px"},onClick:function(){e.setPage(e.page-1)},children:"Previous"})}),Object(j.jsx)("span",{children:Object(j.jsx)("button",{className:"btn blue-btn shadow-none",style:{marginLeft:"500px",marginTop:"25px"},onClick:function(){e.setPage(e.page+1)},children:"Next"})})]})]})}));Object(f.b)(null,(function(e){return{createMealPlannerData:function(t){return e(lr(t))}}}))((function(e){var t=Object(c.useState)("dinner"),a=Object(i.a)(t,2),r=a[0],s=(a[1],Object(c.useState)("")),o=Object(i.a)(s,2),l=(o[0],o[1]),u=Object(c.useState)(!0),d=Object(i.a)(u,2),b=(d[0],d[1],{food:"",foodId:""}),h=Object(c.useState)(b),f=Object(i.a)(h,2),O=f[0],g=f[1],x=function(e){g(Object(n.a)(Object(n.a)({},O),{},{foodId:e}))},y=Object(c.useState)([]),v=Object(i.a)(y,2),w=v[0],C=v[1],S=function(){var e=Object(Va.a)(Ya.a.mark((function e(){return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==O.food?Gc(O.food,x).then((function(){C((function(e){return[].concat(Object(Ua.a)(e),[O])})),g(b)})):l("Please input a meal to add.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("meal list",w)}),[w]);var k=w.map((function(e,t){return Object(j.jsx)("li",{children:e.food},t)})),N=Object(c.useState)(0),E=Object(i.a)(N,2),T=E[0],D=E[1],_=function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w"),day:e.value.format("DD"),upload:{mealType:r,mealList:w}};console.log("checking the data:",t),console.log("checking props:",e),e.createMealPlannerData(t),D(T+1)};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Choose atleast 7 meals for Dinner"}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),_()},children:[Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:k})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?g(Object(n.a)(Object(n.a)({},O),{},{food:e.target.textContent})):g(Object(n.a)(Object(n.a)({},O),{},{food:e.target.value}))}})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add meal",onClick:function(){S()},children:"Add Meal"})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Save"})})]}),Object(j.jsxs)("div",{className:"btn-group ml-auto",children:[Object(j.jsx)("span",{children:Object(j.jsx)("button",{className:"btn blue-btn shadow-none",style:{marginTop:"25px"},onClick:function(){e.setPage(e.page-1)},children:"Previous"})}),Object(j.jsx)("span",{children:Object(j.jsx)("button",{className:"btn blue-btn shadow-none",style:{marginLeft:"500px",marginTop:"25px"},onClick:function(){alert("You've successfully created your meal plan")},children:"Submit"})})]})]})}));function ss(e){var t=e.show,a=e.setShow,n=e.value,r=Object(c.useState)("unconfirmed"),s=Object(i.a)(r,2),o=(s[0],s[1]),l=Object(c.useState)(0),u=Object(i.a)(l,2),d=(u[0],u[1],Object(c.useState)([n])),b=Object(i.a)(d,2);b[0],b[1];console.log("just checking:",n);var h=Object(c.useState)({Breakfast:[],Lunch:[],Dinner:[]}),m=Object(i.a)(h,2),p=(m[0],m[1],Object(c.useState)(!1)),f=Object(i.a)(p,2);f[0],f[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return a(!0)}})})}),Object(j.jsxs)(Zn.a,{show:t,onHide:function(){a(!1),o("unconfirmed")},size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsxs)(Zn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:["Create 6-Months meal plan from ",n.format("DD/MM")]})}),Object(j.jsxs)(Zn.a.Body,{children:[Object(j.jsx)("h5",{children:"Choose atleast 7 meals each for Breakfast, Lunch and Dinner"}),Object(j.jsx)(rs,{value:n})]})]})]})}Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{deleteMealPlannerData:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirebase,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("mealPlannerData").doc(a.id).delete().then((function(){return e({type:"DELETE_MEAL_PLAN",mealPlanner:a})})).catch((function(t){e({type:"DELETE_MEAL_PLAN_ERROR",err:t})}))}));var a}}}))((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Delete",children:Object(j.jsx)(Et.a,{"aria-label":"Delete",sx:{ml:2},onClick:function(){!function(t){var a={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:t};e.deleteMealPlannerData(a),e.forceUpdate()}(e.id)},children:Object(j.jsx)(ir.a,{fontSize:"inherit"})})})})}));var os=Object(f.b)((function(e){return{data:e.data.getData,inventory:e.mealPlan.inventory}}),(function(e){return{getInventory:function(){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("inventory").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_INVENTORY",payload:a})})).catch((function(t){e({type:"GET_INVENTORY_ERROR",err:t})}))}))},removeFromInventory:function(t){return e(vr(t))},editMealData:function(t){return e(Dc(t))}}}))((function(e){return Object(c.useEffect)((function(){}),[e.inventory]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Mark meal as eaten",children:Object(j.jsx)(Et.a,{"aria-label":"Mark meal as eaten",sx:{ml:2},onClick:function(){!function(t){mt("Success","Food has been marked as eaten");var a=e.meal,n={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:e.id,upload:{eaten:!0,meal:a.meal,ingredients:a.ingredients,id:a.id,nn:a.nn,url:a.url,totalNutrients:a.totalNutrients,totalDaily:a.totalDaily,recipeYield:a.recipeYield}};e.editMealData(n)}()},children:Object(j.jsx)(Kt.a,{fontSize:"inherit"})})})})}));function is(e){return Object(j.jsx)(j.Fragment,{children:e.meals.map((function(t,a){return Object(j.jsx)("div",{className:"meal-box",children:Object(j.jsx)("div",{className:"ingredients",children:Object(j.jsxs)(He.a,{styles:{paddingTop:0,paddingBottom:0,margin:0},children:[Object(j.jsxs)(sr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:t.meal}),t.mealType?Object(j.jsx)("div",{className:"meal-type",children:t.mealType}):null,Object(j.jsx)("div",{className:"icons",children:e.isMealPlan?Object(j.jsx)(os,{meal:t,value:e.value,id:t.id}):null})]}),t.ingredients.map((function(e,a){return Object(j.jsx)(ze.a,{className:"list",style:{alignItems:"baseline"},children:t.nn?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("p",{children:e.text})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{children:[e.food,": ",e.quantity,e.measure]})})},"item".concat(a))})),Object(j.jsx)(ze.a,{children:t.url?Object(j.jsx)("a",{href:t.url,children:t.url}):null})]},"ingrs".concat(a))})},"meal-box".concat(a))}))})}var ls=Object(f.b)((function(e){return{mealPlanner:e.mealPlanner.plans,weekPlans:e.mealPlanner.weekPlans}}),(function(e){return{getMealPlannerData:function(t){return e((function(e,t,a){var n,c=a.getFirebase,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().firestore().collection("marketplace").doc(n).collection("mealPlannerData").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_MEAL_PLANS",payload:a})})).catch((function(t){e({type:"GET_MEAL_PLANS_ERROR",err:t})}))}))},getWeeklyPlan:function(t){return e((a=t,function(e,t,n){var c,r=n.getFirebase,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}console.log("this is day",a.day),r().firestore().collection("marketplace").doc(c).collection("newPlan").where("day","==",a.day).get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_WEEK_PLANS",payload:a})})).catch((function(t){e({type:"GET_WEEK_PLANS_ERROR",err:t})}))}));var a}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD-MM-yyyy")};e.getWeeklyPlan(t)}),[e.value,l]);var d=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.weekPlans.forEach((function(e){var t=e.meal,a=e.ingredients,n=e.id,c=e.url,s=e.totalNutrients,o=e.totalDaily,i=e.recipeYield,l=e.nn;r((function(e){return[].concat(Object(Ua.a)(e),[{meal:t,ingredients:a,id:n,nn:l,url:c,totalNutrients:s,totalDaily:o,recipeYield:i}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[e.weekPlans]),Object(c.useEffect)((function(){console.log("wahala",n)}),[e.weekPlans]),Object(j.jsx)(j.Fragment,{children:n.length?Object(j.jsx)("div",{children:Object(j.jsx)(is,{forceUpdate:function(){u(l+1)},meals:n,saved:!1,value:e.value,isMealPlan:!0})}):Object(j.jsx)("div",{className:"empty basic-title-left",children:Object(j.jsx)("p",{children:"Choose a start date to generate your 6 Months meal plan \ud83d\ude42"})})})})),us=function(e){var t=e.value,a=e.onChange,n=Object(c.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(c.useEffect)((function(){o(ar(t))}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(rr,{value:t,setValue:a}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(e,t){return Object(j.jsx)("div",{className:"week",children:e},t)}))}),s.map((function(e){return Object(j.jsx)("div",{children:e.map((function(e){return Object(j.jsx)("div",{className:"day",onClick:function(){return a(e)},children:Object(j.jsx)("div",{className:cr(e,t),children:e.format("D").toString()})},e.format("D").toString())}))},e)}))]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-8",style:{textAlign:"left"},children:"Add more meals to your calendar or edit added meals \ud83d\ude42"}),Object(j.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(j.jsx)(ss,{value:t,show:d,setShow:b})})]}),Object(j.jsxs)("div",{className:"plan-box",children:[Object(j.jsx)("div",{className:"header",children:t.format("dddd DD/MM")}),Object(j.jsx)("div",{children:Object(j.jsx)(ls,{value:t,show:d})})]})]})},ds=(a(1104),a(880),a(267),a(879),a(436),a(975),a(109),a(266),a(1085),a(908),function(e){return Object(j.jsx)("div",{children:e.data})});function bs(e,t,a){var n=Object(c.useState)(!1),r=Object(i.a)(n,2),s=r[0],o=(r[1],Object(c.useState)(null)),l=Object(i.a)(o,2),u=l[0];l[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"6-Months Meal Plan"}),Object(j.jsx)(Yr,{value:e.value,getItems:t,setGetItems:a}),Object(j.jsx)("br",{}),s&&Object(j.jsx)(ds,{data:u})]})}var js=Object(f.b)((function(e){return{mealPlan:e.mealPlan.savedMeals}}),(function(e){return{getRecipes:function(t){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("mySavedMeals").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_RECIPES",payload:a})})).catch((function(t){e({type:"GET_RECIPES_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){e.getRecipes()}),[l]);var d=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.mealPlan.forEach((function(e){var t=e.meal,a=e.ingredients,n=e.id,c=e.mealType,s=e.nonNativeData,o=e.totalDaily,i=e.totalNutrients,l=e.url,u=e.yield;r(s?function(e){return[].concat(Object(Ua.a)(e),[{meal:t,mealType:c,ingredients:a,id:n,nonNativeData:s,totalDaily:o,totalNutrients:i,url:l,recipeYield:u}])}:function(e){return[].concat(Object(Ua.a)(e),[{meal:t,mealType:c,ingredients:a,id:n}])})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[e.mealPlan]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left mb-3",children:"My Saved Meals"}),Object(j.jsx)("div",{className:"saved-meals",children:Object(j.jsx)(Cr,{forceUpdate:function(){u(l+1)},onChange:e.onChange,meals:n,saved:!0,value:e.value})})]})})),hs=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a,n,c,r,s,o){var i,l,u;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"5532003c","511d39184173c54ebc5d02a5063a7b87",i="https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t),a&&(i+="&mealType=".concat(a)),n&&(i+="&cuisineType=".concat(n)),c&&(i+="&health=".concat(c)),e.next=8,fetch(i);case 8:return l=e.sent,e.next=11,l.json();case 11:u=e.sent,r(u.hits),s(u._links),o(i),console.log("This is your data",u);case 16:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r,s,o){return e.apply(this,arguments)}}(),ms=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a,n){var c,r;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,n(r.hits),a(r._links),console.log("This is your data",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ps=a(608),fs=a.n(ps);var Os=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{createRecipe:function(t){return e(Ac(t))}}}))((function(e){var t=function(){var t=Object(Va.a)(Ya.a.mark((function t(){var a;return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w")-1,day:e.value.format("DD"),upload:{meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,url:e.url,totalNutrients:e.totalNutrients,totalDaily:e.totalDaily,yield:e.yield,nonNativeData:!0}},e.createRecipe(a),mt("Success","Added to Saved Meals!");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Add to Saved Meals",children:Object(j.jsx)(Et.a,{"aria-label":"Add to Saved Meals",sx:{ml:2},onClick:function(){t()},children:Object(j.jsx)(fs.a,{fontSize:"20"})})})})}));function gs(e){return Object(j.jsx)(j.Fragment,{children:e.query&&e.recipes.map((function(t,a){return Object(j.jsx)("div",{className:"meal-box",children:Object(j.jsxs)(be.a,{children:[Object(j.jsx)(je.a,{className:"image",children:Object(j.jsx)("img",{src:t.recipe.image,alt:"".concat(t.recipe.label)})}),Object(j.jsx)(je.a,{className:"ingredients",children:Object(j.jsxs)(He.a,{styles:{paddingTop:0,paddingBottom:0,margin:0},children:[Object(j.jsxs)(sr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:t.recipe.label}),Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)(xr,{value:e.value,mealType:t.recipe.mealType,meal:t.recipe.label,ingredients:t.recipe.ingredients,url:t.recipe.url,totalNutrients:t.recipe.totalNutrients,totalDaily:t.recipe.totalDaily,yield:t.recipe.yield,onChange:e.onChange,saved:!1}),Object(j.jsx)(Os,{value:e.value,mealType:t.recipe.mealType,meal:t.recipe.label,ingredients:t.recipe.ingredients,url:t.recipe.url,totalNutrients:t.recipe.totalNutrients,totalDaily:t.recipe.totalDaily,yield:t.recipe.yield})]})]}),t.recipe.ingredients&&t.recipe.ingredients.map((function(e,t){return Object(j.jsxs)(ze.a,{className:"list",children:[Object(j.jsx)(Ke.a,{children:Object(j.jsx)(Zr.a,{fontSize:"1rem"})}),e.text]},t)})),Object(j.jsx)("a",{href:t.recipe.url,children:t.recipe.url})]})})]})},a)}))})}function xs(e){var t=e.setCuisineType,a=Object(c.useState)("Any"),n=Object(i.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){t("Any"===r?"":"".concat(r))}),[r]);return Object(j.jsx)(Ue,{id:"meal-type",styling:"green dropdown-input",data:r,items:["Any","American","Asian","British","Caribbean","Central Europe","Chinese","Eastern Europe","French","Indian","Italian","Japanese","Kosher","Mediterranean","Mexican","Middle Eastern","Nordic","South American","South East Asian"],function:function(e){return s(e)}})}function ys(e){var t=e.setRequirements,a=Object(c.useState)("Any"),n=Object(i.a)(a,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){!function(){switch(r){default:case"Any":t("");break;case"Alcohol Free":t("alcohol-free");break;case"Crustacean Free":t("crustacean-free");break;case"Dairy Free":t("dairy-free");break;case"Gluten Free":t("gluten-free");break;case"Keto Friendly":t("keto-friendly");break;case"Kosher":t("kosher");break;case"Nut Free":t("nut-free");break;case"Pescatarian":t("pescatarian");break;case"Vegan":t("vegan");break;case"Vegetarian":t("vegetarian")}}()}),[r]),Object(j.jsx)(Ue,{id:"requirements",styling:"green dropdown-input",data:r,items:["Any","Alcohol Free","Crustacean Free","Dairy Free","Gluten Free","Keto Friendly","Kosher","Nut Free","Pescatarian","Vegan","Vegetarian"],function:function(e){return s(e)}})}var vs=a.p+"static/media/Edamam_Badge_White.d317b3d5.svg";function ws(e){var t=e.show,a=e.setShow;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"btn success edamam shadow-none",onClick:function(){return a(!0)},children:"Info"}),Object(j.jsx)(Zn.a,{show:t,onHide:function(){a(!1)},size:"sm","aria-labelledby":"info",centered:!0,children:Object(j.jsx)("a",{href:"https://www.edamam.com/",children:Object(j.jsx)("img",{src:vs,alt:"powered by edamam"})})})]})}function Cs(e){var t=e.links,a=e.pageNumber,n=e.changePage;return Object(j.jsxs)(b.a,{children:[t.back?Object(j.jsx)(Q,{onClick:function(){return console.log(t.back.href)},text:"Back",styling:"green"}):null,t.next?Object(j.jsxs)("div",{children:[Object(j.jsx)(be.a,{className:"justify-content-md-center",children:Object(j.jsxs)("p",{children:["Page: ",a+1]})}),Object(j.jsxs)(be.a,{children:[0!=a&&Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{onClick:function(){return n(-1)},text:"Previous Page",styling:"green"})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{onClick:function(){return n(1)},text:"Next Page",styling:"green"})})]})]}):null]})}function Ss(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],f=b[1],O=Object(c.useState)(""),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)(""),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)(""),N=Object(i.a)(k,2),E=N[0],T=N[1],D=Object(c.useState)({}),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)(""),M=Object(i.a)(R,2),I=M[0],A=M[1],L=Object(c.useState)(""),W=Object(i.a)(L,2),B=W[0],G=W[1],Y=Object(c.useState)([]),U=Object(i.a)(Y,2),V=U[0],q=U[1],H=Object(c.useState)(0),z=Object(i.a)(H,2),K=z[0],J=z[1];function Z(e){V.includes(e)?console.log("Page already in array!"):q((function(t){return[].concat(Object(Ua.a)(t),[e])}))}return Object(c.useEffect)((function(){hs(h,x,C,E,P,A,Z)}),[h,x,C]),Object(c.useEffect)((function(){B&&ms(B,A,P)}),[B]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Search Recipes"}),Object(j.jsx)(ws,{show:n,setShow:r}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),f(l)},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{className:"shadow-none",type:"text",id:"query",defaultValue:h,onChange:function(e){u(e.target.value)}}),Object(j.jsx)(p.a,{type:"submit",className:"green-btn shadow-none",children:"Search"})]})}),Object(j.jsxs)(qr.a,{sx:{flexGrow:1},children:[Object(j.jsxs)(Hr.a,{container:!0,spacing:2,children:[Object(j.jsxs)(Hr.a,{item:!0,xs:12,md:6,children:[Object(j.jsx)("p",{children:"Meal Type:"}),Object(j.jsx)("div",{children:Object(j.jsx)(Fc,{setMealType:y})})]}),Object(j.jsxs)(Hr.a,{item:!0,xs:12,md:6,children:[Object(j.jsx)("p",{children:"Origin:"}),Object(j.jsx)("div",{children:Object(j.jsx)(xs,{setCuisineType:S})})]})]}),Object(j.jsxs)(Hr.a,{container:!0,spacing:2,children:[Object(j.jsxs)(Hr.a,{item:!0,xs:12,md:6,children:[Object(j.jsx)("p",{children:"Requirements:"}),Object(j.jsx)("div",{children:Object(j.jsx)(ys,{setRequirements:T})})]}),Object(j.jsx)(Hr.a,{item:!0,xs:12,md:6})]})]})]}),Object(j.jsx)(gs,{recipes:F,query:h,value:e.value,onChange:e.onChange}),I?Object(j.jsx)(Cs,{links:I,pageNumber:K,changePage:function(e){e>0?(J((function(t){return t+e})),G(I.next.href),Z(I.next.href)):e<0&&(J((function(e){return 0===e?0:e-1})),0!=K&&G(V[K]))}}):null]})}var ks=function(e){e.tab,e.update,e.forceUpdate;var t=Object(c.useState)(Yn()()),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(Fr,{value:n,setValue:r}),Object(j.jsx)(Ur,{value:n})]})};var Ns=Object(f.b)(null,(function(e){return{addToInventory:function(t){return e(yr(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)("")),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)([]),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)([]),y=Object(i.a)(x,2),v=(y[0],y[1],Object(c.useState)([])),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)([]),N=Object(i.a)(k,2),E=(N[0],N[1],Object(c.useState)([])),T=Object(i.a)(E,2),D=(T[0],T[1],Object(c.useState)([])),_=Object(i.a)(D,2),F=(_[0],_[1],Object(c.useState)([])),P=Object(i.a)(F,2),R=(P[0],P[1],{food:"",quantity:0,measure:"g",foodId:""}),M=Object(c.useState)(R),I=Object(i.a)(M,2),A=I[0],L=I[1];Object(c.useEffect)((function(){console.log("ingredients",O)}),[O]);var W=Object(c.useState)(0),B=Object(i.a)(W,2),G=B[0],Y=B[1],U=function(){O.forEach((function(t){var a={upload:{ingredients:t.food}};console.log("data is:",a),e.addToInventory(a),Y(G+1)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(qc,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:function(e,t){fetch("https://world.openfoodfacts.org/api/v0/product/".concat(t.decodedText,".json")).then((function(e){return e.json()})).then((function(e){var t;return void 0==e.product.product_name_en?(t=e.product.product_name,o(t)):(t=e.product.product_name_en,o(t)),fetch("https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t))})).then((function(e){return e.json()})).then((function(e){console.log("name:",e.hits),S(e.hits)})).catch((function(e){console.log(e.message),b(e.message)})).catch((function(e){console.log(e.message),b(e.message)}))}}),Object(j.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"green"},children:s}),Object(j.jsxs)(Hc.a,{variant:"success",children:[Object(j.jsx)(Hc.a.Heading,{children:"Missing some items in your meal plan?"}),Object(j.jsx)("p",{children:"The scanner allows you to add more items to your meal plan"})]}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),U()},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsx)("li",{children:C&&C.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:Object(j.jsx)("div",{class:"card",children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h5",{class:"card-title",children:Object(j.jsx)("div",{class:"form-check",children:Object(j.jsx)("h5",{children:null===e||void 0===e?void 0:e.recipe.label})})}),Object(j.jsx)("p",{class:"card-text",children:null===e||void 0===e?void 0:e.recipe.ingredientLines.map((function(e){return Object(j.jsx)("ul",{children:Object(j.jsxs)("div",{class:"form-check",children:[Object(j.jsx)("label",{class:"form-check-label",for:"flexCheckDisabled",children:e}),Object(j.jsx)("input",{class:"form-check-input",type:"checkbox",value:e,id:"flexCheckDefault",style:Object(Oa.a)({alignItems:"right",marginLeft:"20px"},"alignItems","left"),onClick:function(e){!function(e){L(A.food=e.target.value),g((function(e){return[].concat(Object(Ua.a)(e),[A])})),L(R)}(e)}})]})})}))})]})})})})}))})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Save"})})]}),d&&Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Oops..Could not fetch food item, pls try another barcode..\ud83d\ude2d"})})]})})),Es=Object(f.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{addToInventory:function(t){return e(yr(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=(a[0],a[1],Object(c.useState)(0)),s=Object(i.a)(r,2),o=(s[0],s[1],Object(c.useState)("")),l=Object(i.a)(o,2),u=(l[0],l[1],Object(c.useState)(!1)),d=Object(i.a)(u,2),b=d[0],h=d[1],f=Object(c.useState)("+ scan from barcode"),O=Object(i.a)(f,2),g=O[0],x=O[1],y=Object(c.useState)(!0),v=Object(i.a)(y,2),w=(v[0],v[1]),C=Object(c.useState)(new Date),S=Object(i.a)(C,2),k=S[0],N=S[1],E=Object(c.useState)({food:"",quantity:0,measure:"g",foodId:""}),T=Object(i.a)(E,2),D=T[0],_=T[1];return Object(c.useEffect)((function(){console.log("item",D.food)}),[D.food]),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btn success shadow-none qrcode-btn",onClick:function(){return h(!b),void x(b?"+ scan from barcode":"- input manually")},children:g}),b?Object(j.jsx)(Ns,{handleFormClose:function(){w(!1)}}):Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={upload:{ingredients:D.food+" "+D.quantity+D.measure,expiry:Yn()(k).format("DD/MM/yyyy")}};console.log("lets do this:",t),e.addToInventory(t)}(),e.setUpdate(e.update+1),e.handleFormClose()},children:[Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?_(Object(n.a)(Object(n.a)({},D),{},{food:e.target.textContent})):_(Object(n.a)(Object(n.a)({},D),{},{food:e.target.value}))}}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Amount"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"quantity",type:"number",min:"0",step:".1",onChange:function(e){return function(e){e.target.textContent?_(Object(n.a)(Object(n.a)({},D),{},Object(Oa.a)({},e.target.id,e.target.textContent))):_(Object(n.a)(Object(n.a)({},D),{},Object(Oa.a)({},e.target.id,e.target.value)))}(e)},value:D.quantity}),Object(j.jsx)(Ue,{id:"measure",styling:"grey dropdown-input",data:D.measure,items:["g","kg","/","mL","L","/","tsp","tbsp","cups","units"],function:function(e){_(Object(n.a)(Object(n.a)({},D),{},{measure:e}))}})]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Expiry Date"}),Object(j.jsx)(Tr.a,{selected:k,onChange:function(e){return N(e)},dateFormat:"dd/MM/yyyy"})]}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none mt-3",type:"submit",children:"Done"})})]})]})})),Ts=function(e){var t=e.show,a=e.setShow,n=e.update,c=e.setUpdate,r=function(){return a(!1)};return Object(j.jsxs)("div",{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return a(!0)}})})}),Object(j.jsxs)(Zn.a,{show:t,onHide:r,size:"lg","aria-labelledby":"add item",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-item",className:"basic-title-left basic-lg",children:"Add new item to inventory"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsx)(Es,{handleFormClose:r,update:n,setUpdate:c})})]})]})};var Ds=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{removeFromInventory:function(t){return e(vr(t))}}}))((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($.a,{title:"Remove",children:Object(j.jsx)(Et.a,{"aria-label":"Remove",sx:{ml:2},onClick:function(){return function(t){var a={id:t};e.removeFromInventory(a),e.setUpdate(e.update+1)}(e.id)},children:Object(j.jsx)(Rr.a,{})})})})}));a(538);var _s=Object(f.b)((function(e){return{data:e.data.getData}}),(function(e){return{editInventoryData:function(t){return e(function(e){return function(t,a,n){var c,r=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}r().firestore().collection("marketplace").doc(c).collection("inventory").doc(e.id).set(e.upload,{merge:!0}).then((function(){return t({type:"EDIT_PLAN",data:e})})).catch((function(e){t({type:"EDIT_PLAN_ERROR",err:e})}))}}(t))},editSavedMeal:function(t){return e(Lc(t))}}}))((function(e){var t=Object(c.useState)(e.ingredients),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],f=b[1],O=Object(c.useState)("Choose Storage"),g=Object(i.a)(O,2),x=g[0],y=g[1];return console.log("checking ingredients ==>",n),Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={id:e.id,upload:{ingredients:n,id:e.id,expiry:Yn()(l).format("DD/MM/yyyy"),purchase:h,storage:x}};e.saved?(e.editSavedMeal(t),e.forceUpdate()):(e.editInventoryData(t),e.setUpdate(e.update+1))}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Ingredients"}),Object(j.jsx)(m.a.Control,{type:"text",id:"food",defaultValue:n,onChange:function(e){r(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Expiry Date"}),Object(j.jsx)(Tr.a,{type:"text",id:"expiry",selected:l,onChange:function(e){return u(e)},dateFormat:"dd/MM/yyyy"})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Place of Purchase"}),Object(j.jsx)(m.a.Control,{type:"text",id:"food",defaultValue:h,onChange:function(e){f(e.target.value)}})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ue,{id:"storage",styling:"grey dropdown-input",data:x,items:["Cool dry place","Air-tight container","Fridge","Freezer","Others"],function:function(e){y(e)}})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn",type:"submit",children:"Done"})})]})}));function Fs(e){var t=e.meal,a=e.ingredients,n=e.expiry,c=e.id,r=e.show,s=e.setShow,o=e.value,i=e.update,l=e.setUpdate,u=e.saved,d=function(){return s(!1)};return Object(j.jsxs)(Zn.a,{show:r,onHide:d,size:"lg","aria-labelledby":"edit meal",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-meal",children:"Edit Meal"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsx)(_s,{meal:t,ingredients:a,expiry:n,id:c,update:i,setUpdate:l,value:o,handleFormClose:d,saved:u})})]})}var Ps=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($.a,{title:"Edit",children:Object(j.jsx)(Et.a,{className:"edit","aria-label":"Edit",sx:{ml:2},onClick:function(){r(!0)},children:Object(j.jsx)(jr.a,{fontSize:"inherit"})})}),Object(j.jsx)(Fs,{show:n,setShow:r,ingredients:e.ingredients,expiry:e.expiry,id:e.id,update:e.update,setUpdate:e.setUpdate})]})};var Rs=Object(f.b)((function(e){return{data:e.mealPlan.inventory}}),(function(e){return{getInventory:function(t){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("inventory").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_INVENTORY",payload:a})})).catch((function(t){e({type:"GET_INVENTORY_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)("DD-MM-YYYY"),o=Object(i.a)(s,2);o[0],o[1],Yn()(new Date).format("DD/MM/YYYY"),Object(c.useEffect)((function(){e.getInventory(),console.log("this a props",e)}),[e.value,e.update]);var l=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.data.forEach((function(e){var t=e.id,a=e.ingredients,n=e.expiry,c=e.purchase,s=e.storage,o=(new Yn.a).to(Yn()(n));r((function(e){return[].concat(Object(Ua.a)(e),[{item:a,purchase:c,storage:s,expiry:n,id:t,daysUntil:o}])}))})),r((function(e){var t=Object(Ua.a)(e);return t.sort((function(e,t){return e.item<t.item?-1:e.item>t.item?1:0})),t}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){l()}),[e.data]),Object(j.jsx)(j.Fragment,{children:n.length?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(He.a,{children:n.map((function(t,a){return Object(j.jsxs)(ze.a,{className:"list",style:{alignItems:"flex-end"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:t.item}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Expiry Date: "}),t.expiry]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Item expires: "}),t.daysUntil]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Place of purchase: "}),t.purchase]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Storage:"}),t.storage]}),Yn()().isAfter(t.expiry)?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ee,{text:"Add Waste",goTo:"/food-waste",styling:"green"})}):""]}),Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)(Ps,{ingredients:t.item,expiry:t.expiry,id:t.id,update:e.update,setUpdate:e.setUpdate}),Object(j.jsx)(Ds,{id:t.id,value:e.value,update:e.update,setUpdate:e.setUpdate})]})]},"item".concat(a))}))})}):Object(j.jsx)("div",{className:"empty basic-title-left",children:Object(j.jsx)("p",{children:"There are no items in the list :( "})})})})),Ms=function(e){e.forceUpdate;var t=e.value,a=e.tab,n=Object(c.useState)(0),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-8",style:{textAlign:"left"},children:"Add new items to your inventory \ud83d\ude42"}),Object(j.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(j.jsx)(Ts,{show:d,setShow:b,update:s,setUpdate:o})})]}),Object(j.jsx)("div",{children:Object(j.jsx)(Rs,{value:t,tab:a,update:s,setUpdate:o})})]})};function Is(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1];Object(c.useEffect)((function(){setTimeout((function(){return n(!1)}),1500)}));var u=Object(c.useState)(Yn()()),d=Object(i.a)(u,2),b=d[0],h=d[1];return a?Object(j.jsx)(Mt,{}):Object(j.jsx)(oe,{goTo:"/account",header:"My Plan to Save",children:Object(j.jsxs)(kc.a,{defaultActiveKey:"calendar",id:"meal-plan-tabs",className:"mb-3 mealtabs basic-title",children:[Object(j.jsx)(Nc.a,{eventKey:"calendar",title:"MEAL DIARY",className:"mealtab",children:Object(j.jsx)(kr,{value:b,onChange:h})}),Object(j.jsxs)(Nc.a,{eventKey:"recipes",title:"RECIPES",className:"mealtab",children:[Object(j.jsx)(js,{value:b,onChange:h}),Object(j.jsx)(Ss,{value:b,onChange:h})]}),Object(j.jsx)(Nc.a,{eventKey:"shopscan",title:"SHOPPING LIST",className:"mealtab",children:Object(j.jsx)(Vr,{value:b,onChange:h,getItems:o})}),Object(j.jsx)(Nc.a,{eventKey:"inventory",title:"INVENTORY",className:"mealtab",children:Object(j.jsx)(Ms,{value:b})}),Object(j.jsx)(Nc.a,{eventKey:"mealplanner",title:"MEAL PLANNER",className:"mealtab",children:Object(j.jsx)(us,{value:b,onChange:h})}),Object(j.jsx)(Nc.a,{eventKey:"plan",title:"VIEW PLAN",className:"mealtab",children:Object(j.jsx)(bs,{value:b,getItems:o,setGetItems:l})})]})})}var As=a(1096);function Ls(e){var t=e.value,a=e.setValue;return Object(j.jsxs)("div",{className:"header",style:{display:"flex",justifyContent:"center"},children:[Object(j.jsx)("div",{className:"header previous",onClick:function(){return a(t.clone().subtract(1,"days"))},style:{marginRight:"auto",paddingLeft:"10px"},children:String.fromCharCode(171)}),Object(j.jsxs)("div",{className:"header",children:["Nutritional Information for ",t.format("DD MMMM")]}),Object(j.jsx)("div",{className:"header next",onClick:function(){return a(t.clone().add(1,"days"))},style:{marginLeft:"auto",paddingRight:"10px"},children:String.fromCharCode(187)})]})}var Ws=Object(f.b)((function(e){return{mealPlan:e.mealPlan.meals}}),(function(e){return{getMealData:function(t){return e(Tc(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD")};e.getMealData(t)}),[e.value]);var d=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.mealPlan.forEach((function(e){var t,a=e.meal,n=e.ingredients,c=e.id,s=e.mealType,o=e.url,i=e.totalNutrients,l=e.totalDaily,u=e.recipeYield,d=e.eaten;t=!!e.nonNativeData&&e.nonNativeData,r((function(e){return[].concat(Object(Ua.a)(e),[{meal:a,mealType:s,ingredients:n,id:c,nn:t,url:o,totalNutrients:i,totalDaily:l,recipeYield:u,eaten:d}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){d()}),[e.mealPlan]);var b=Object(c.useState)([]),h=Object(i.a)(b,2),m=h[0],p=h[1],f=Object(c.useState)([]),O=Object(i.a)(f,2),g=O[0],x=O[1];Object(c.useEffect)((function(){p([]),p((function(e){var t=Object(Ua.a)(e);return n.forEach((function(e){console.log("element.eaten",e.eaten),e.totalNutrients&&e.eaten&&Object.keys(e.totalNutrients).forEach((function(a){var n=t.find((function(t){return t.label===e.totalNutrients[a].label}));if(n)console.log("Table nutrient found"),n.quantity+=e.totalNutrients[a].quantity/e.recipeYield;else{var c=e.totalNutrients[a];c.quantity/=e.recipeYield,t.push(c)}}))})),t.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),t})),x([]),x((function(e){var t=Object(Ua.a)(e);return n.forEach((function(e){e.eaten&&u(!0),e.totalNutrients&&Object.keys(e.totalDaily).forEach((function(a){var n=t.find((function(t){return t.label===e.totalDaily[a].label}));if(n)n.quantity+=e.totalDaily[a].quantity/e.recipeYield;else{var c=e.totalDaily[a];c.quantity/=e.recipeYield,t.push(c)}}))})),t}))}),[n]);return console.log("fuck around => ",n),Object(j.jsx)("div",{children:Object(j.jsxs)(As.a,{defaultActiveKey:"0",children:[Object(j.jsx)(Ls,{value:e.value,setValue:e.setValue}),Object(j.jsxs)(Oe.a,{children:[Object(j.jsx)(Oe.a.Header,{}),Object(j.jsx)(As.a.Collapse,{eventKey:"0",children:Object(j.jsx)(Oe.a.Body,{children:n.length&&l?Object(j.jsxs)(Wn.a,{striped:!0,bordered:!0,hover:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Nutrient"}),Object(j.jsx)("th",{children:"Quantity Consumed"}),Object(j.jsx)("th",{children:"Reference Daily Intake (RDI)"})]})}),Object(j.jsx)("tbody",{children:null===m||void 0===m?void 0:m.map((function(e){var t,a;return Object(j.jsxs)("tr",{style:{backgroundColor:(a=null===(t=g.find((function(t){return t.label===e.label})))||void 0===t?void 0:t.quantity.toFixed(1),a<=10?"tomato":a>=50?"#b3b785":null)},children:[Object(j.jsx)("td",{children:e.label}),Object(j.jsxs)("td",{children:[e.quantity.toFixed(1)," ",e.unit]}),Object(j.jsx)("td",{children:g.find((function(t){return t.label===e.label}))?"".concat(g.find((function(t){return t.label===e.label})).quantity.toFixed(1)," %"):"-"})]})}))})]}):Object(j.jsx)("div",{className:"empty basic-title-left",children:Object(j.jsx)("p",{children:"Nutritional information will be shown once a meal is added to your plan and is marked as eaten."})})})})]})]})})}));function Bs(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){setTimeout((function(){return n(!1)}),1500)}));var r=Object(c.useState)(Yn()()),s=Object(i.a)(r,2),o=s[0],l=s[1];return a?Object(j.jsx)(Mt,{}):Object(j.jsx)(oe,{goTo:"/account",header:"Nutrient Gap",children:Object(j.jsx)(Ws,{value:o,setValue:l})})}a(920);var Gs=a.p+"static/media/peppers-square.92ac872c.jpg";function Ys(e){return Object(j.jsxs)(Oe.a,{className:"product",children:[Object(j.jsx)("img",{src:Gs,alt:"product",className:"product-image"}),Object(j.jsx)("div",{className:"product-information",children:e.children})]},e.key)}var Us,Vs,qs,Hs,zs,Ks,Js=Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.data.getData}}),(function(e){return{getFirestoreData:function(t){return e(ot(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){e.data.length<=0&&function(){var t={masterCollection:"marketplace",collection:"products",uid:e.auth.uid};e.getFirestoreData(t)}()}),[]);var s=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data.forEach((function(e){var t=e.id,a=e.food,n=e.category,c=e.weight[0],s=e.weight[1],o=e.producedLocally,i=e.price[0],l=e.price[1],u=e.expires,d=e.comment;r((function(e){return[].concat(Object(Ua.a)(e),[{id:t,food:a,category:n,weight:c,unit:s,producedLocally:o,price:i,currency:l,expires:u,comment:d}])}))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[e.data]),Object(j.jsx)(oe,{goTo:"/account",header:"Sell Products",subtitle:"My Products",children:n.map((function(e){return Object(j.jsxs)(Ys,{styling:"product",children:[Object(j.jsxs)("h1",{children:[e.food,": ",e.weight,e.unit]}),Object(j.jsx)("h6",{children:e.category}),Object(j.jsxs)("p",{children:[" expiry date: ",e.expires]}),Object(j.jsxs)("h2",{children:[e.currency,e.price]}),Object(j.jsx)("p",{children:e.comment})]},e.id)}))})})),Zs=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Ue,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},$s=function(e){return"Edible"===e.upload.edibleInedible?""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"}):""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(se.a,{}),Object(j.jsx)(X,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(X,{text:"Update",styling:"green",disabled:"true"})},Xs=Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(rt(t))},createMapData:function(t){return e(st(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];Object(c.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("academic")||s(!0))}),[e.profile]);var o={edibleInedible:"Edible",projectName:"",foodName:"",foodWasteWeight:0,weightType:"Select Unit",expiryDate:"",ghg:0,foodWasteCost:0,currency:"Select Currency",notes:""},u={weightMultiplier:0,currencyMultiplier:0},d=Object(c.useState)(o),h=Object(i.a)(d,2),p=h[0],f=h[1],O=Object(c.useState)(u),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useRef)(null);Object(c.useEffect)((function(){S()}),[p.edibleInedible,p.foodWasteWeight,p.weightType,p.currency]);var w=function(e){e.target.textContent?f(Object(n.a)(Object(n.a)({},p),{},Object(Oa.a)({},e.target.id,e.target.textContent))):f(Object(n.a)(Object(n.a)({},p),{},Object(Oa.a)({},e.target.id,e.target.value)))},C=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}y(Object(n.a)(Object(n.a)({},x),{},Object(Oa.a)({},a,t)))},S=function(){f(Object(n.a)(Object(n.a)({},p),{},{ghg:Number(p.foodWasteWeight*x.weightMultiplier*2.5),foodWasteCost:(.85*Number(p.foodWasteWeight)*x.weightMultiplier*x.currencyMultiplier).toFixed(2)}))};return e.auth.uid?r?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(oe,{header:"Update Food Waste",subtitle:"Upload Edible or Inedible Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Project Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"projectName",onChange:function(e){w(e)},value:p.projectName})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Food Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"foodName",onChange:function(e){w(e)},value:p.foodName})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedibe"}),Object(j.jsx)(Ue,{id:"edibleInedible",styling:"grey dropdown-input",data:p.edibleInedible,function:function(e,t){w(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){w(e)},value:p.foodWasteWeight}),Object(j.jsx)(Ue,{id:"weightType",styling:"grey dropdown-input-right",data:p.weightType,function:function(e,t){C(t),w(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(Zs,{upload:p,multipliers:x,changeMultiplier:C,updateStateValue:w}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:p.ghg,title:p.ghg,readOnly:!0}),Object(j.jsx)(en.a.Append,{children:Object(j.jsx)(en.a.Text,{children:"kg co2"})})]})]}),Object(j.jsxs)(It.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Notes"}),Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",ref:v,onChange:function(e){w(e)}})]}),Object(j.jsx)($s,{upload:p,handleFoodWasteSubmit:function(){var t;switch(p.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,c,r={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:p.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":c="business_users",a=e.auth.uid;break;case"business_sub":c="business_users",a=e.profile.admin;break;case"academic_admin":c="academic_users",a=e.auth.uid;break;case"academic_sub":c="academic_users",a=e.profile.admin;break;case"farm_admin":c="farm_users",a=e.auth.uid;break;case"farm_sub":c="farm_users",a=e.profile.admin;break;case"household_admin":c="household_users",a=e.auth.uid;break;case"household_sub":c="household_users",a=e.profile.admin;break;default:c="data",a=e.auth.uid}var s={uid:a,masterCollection:c,collection:"writtenFoodWasteData",upload:Object(n.a)({date:Object(Qt.getFirebase)().firestore.Timestamp.fromDate(new Date)},p)};e.createFoodWasteData(s),e.createMapData(r),mt("Success","Food Waste successfully uploaded!"),f(o),y(u),v.current.value=""}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),Qs=(Yn()().format("MMMM Do YYYY, h:mm:ss a"),function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){var e;Object(ga.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:e.props.user.firstName,email:e.props.auth.email,uid:e.props.auth.uid,filteredData:[],formWidth:"",formHeight:"",submissionType:"Intake Academic",meal:"n/a",foodName:"",eatingInOrOut:"n/a",notes:"",foodWeight:0,weightType:"Select Unit",weightMultiplier:0,producedLocally:"Select Local or Non-local",projectName:"",expiryDate:"",chartSubmissionDay:Yn()().format("ddd"),chartSubmissionWeek:Yn()().format("W"),chartSubmissionMonth:Yn()().format("MMM"),chartSubmissionDate:Yn()().format("Do"),chartSubmissionYear:Yn()().format("YYYY"),chartSubmissionFullDate:Yn()().format("ddd MMM Do YYYY")},e.clearEFWForm=function(){e.setState({projectName:"",foodName:"",notes:"",foodWeight:0,weightType:"Select Unit",producedLocally:"Select Local or Non-local",expiryDate:"",formHeight:"665px"})},e.notificationTest=function(){ht()({title:"Success!",message:"Food Intake successfully updated!",backgroundTop:"#aab41e",backgroundBottom:"#aab41e",closeButton:"Close",duration:4e3})},e.handleChange=function(t){e.setState(Object(Oa.a)({},t.target.id,t.target.value))},e.handleEdibleInedibleSurplusChange=function(t){e.setState({edibleInedibleSurplus:t})},e.handleFoodWasteGHGChange=function(t){var a;e.setState((a={},Object(Oa.a)(a,t.target.id,t.target.value),Object(Oa.a)(a,"ghg",2.5*Number(t.target.value)),a))},e.handleFoodCostChange=function(t){var a;e.setState((a={},Object(Oa.a)(a,t.target.id,t.target.value),Object(Oa.a)(a,"foodWasteCost",(.85*Number(t.target.value)).toFixed(2)),a))},e.handleInedibleFoodCostChange=function(t){var a;e.setState((a={},Object(Oa.a)(a,t.target.id,t.target.value),Object(Oa.a)(a,"costOfInedibleFoodWaste",(.85*Number(t.target.value)).toFixed(2)),a))},e.pressButton=function(t){t.preventDefault(),e.props.startData(e.state)},e.handleFoodIntakeSubmit=function(t){t.preventDefault(),e.setState({}),e.props.createFoodIntakeResearchData(e.state)},e}return Object(xa.a)(a,[{key:"changeMeal",value:function(e){this.setState({meal:e})}},{key:"changeCurrency",value:function(e){this.setState({currency:e})}},{key:"changeCurrencyMultiplier",value:function(e){this.setState({currencyMultiplier:e})}},{key:"changeWeightMultiplier",value:function(e){this.setState({weightMultiplier:e})}},{key:"handleProducedLocallyChange",value:function(e){this.setState({producedLocally:e})}},{key:"handleWeightUnitChange",value:function(e){this.setState({weightType:e})}},{key:"componentDidMount",value:function(){vn.isMobile?this.setState({formWidth:"72vw",formHeight:"665px"}):vn.isBrowser&&this.setState({formWidth:"261px",formHeight:"665px"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,c=t.auth,r=this.state;r.foodWaste,r.foodSurplus;if(!c.uid)return Object(j.jsx)(l.a,{to:"/login"});if(a){var s=a&&a.filter((function(e){return e.email===c.email}));return Object(j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(j.jsx)(vn.MobileView,{children:Object(j.jsx)("h3",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Update Food"})}),Object(j.jsx)(vn.BrowserView,{children:Object(j.jsx)("h4",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Update Food"})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%"},children:Object(j.jsx)(p.a,{style:{width:this.state.formWidth,borderColor:"#aab41e"},className:"custom-btn-2",as:u.b,to:"/account",children:"Back"})}),0===s.length?Object(j.jsxs)(be.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found",children:[Object(j.jsx)(je.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"",xs:12,lg:4}),Object(j.jsx)(je.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(to,{children:Object(j.jsx)(Oe.a,{children:Object(j.jsx)(Oe.a.Body,{children:Object(j.jsxs)(Oe.a.Text,{className:"text-center",children:[Object(j.jsx)("h1",{style:{fontSize:"33px",fontWeight:"600",color:"rgb(55, 85, 54)"},children:"Start tracking your food intake now"}),Object(j.jsx)("button",{onClick:this.pressButton,style:{outline:"none",border:"none"},children:"Start now"})]})})})})}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12})]}):Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",height:"190%"},children:Object(j.jsx)(Oe.a,{style:{width:this.state.formWidth,height:this.state.formHeight,marginBottom:"10vh"},children:Object(j.jsxs)(m.a,{className:"form-layout",style:{padding:"10px"},children:[Object(j.jsx)("h5",{className:"text-center",style:{margin:"30px",fontSize:"23px",fontWeight:"600"},children:"Food Update"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Project Name"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(m.a.Control,{id:"projectName",placeholder:"Enter Project Name",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.projectName})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Food Name"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(In.a,{id:"foodName",options:eo.map((function(e){return e.title})),freeSolo:!0,style:{width:"100%"},size:"small",onChange:function(t){return e.setState({foodName:t.target.textContent})},onInputChange:function(t){return e.handleChange(t)},renderInput:function(e){return Object(j.jsx)(An.a,Object(n.a)(Object(n.a)({},e),{},{label:"Enter Food Name",variant:"outlined"}))}})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Weight / Volume"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWeight",placeholder:"Enter weight of food waste",onChange:function(t){e.handleFoodWasteGHGChange(t),e.handleFoodCostChange(t)},width:"100%",value:this.state.foodWeight}),Object(j.jsxs)(Ge.a,{as:en.a.Append,variant:"outline-secondary",title:this.state.weightType,id:"wtdd",children:[Object(j.jsx)(Ye.a.Header,{children:"Weight (Solids)"}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"kg"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"g"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.028)},children:"oz"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.454)},children:"lbs"})}),Object(j.jsx)(Ye.a.Divider,{}),Object(j.jsx)(Ye.a.Header,{children:"Volume (Liquids)"}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"l"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"ml"})})]})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Expiry Date"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(m.a.Control,{id:"expiryDate",type:"date",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.expiryDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Local or Non-local?"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(ao,{children:Object(j.jsxs)(Ye.a,{children:[Object(j.jsx)(Rn.a,{variant:"secondary",style:{width:"190px"},className:"dd",children:this.state.producedLocally}),Object(j.jsxs)(Pn.b,{children:[Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Local Produce"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Non-local Produce"})})]})]})})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Notes (Optional)"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",style:{resize:"none",width:"100%"},onChange:function(t){return e.handleChange(t)},value:this.state.notes})}),Object(j.jsx)(Fn.a,{}),Object(j.jsx)("div",{children:""!==this.state.foodName&&""!==this.state.projectName&&0!==this.state.foodWeight&&"Select Local or Non-local"!==this.state.producedLocally?Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",backgroundColor:"#aab41e",width:"80%",marginTop:"20px"},onClick:function(t){e.handleFoodIntakeSubmit(t),e.clearEFWForm(),e.notificationTest()},variant:"secondary",type:"button",children:"Update"}):Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",width:"80%",marginTop:"20px"},variant:"secondary",disabled:!0,children:"Update"})})]})]})})})]})}return Object(j.jsx)("div",{})}}]),a}(c.Component)),eo=[{title:"Cereal"},{title:"Bacon"},{title:"Baked Beans"},{title:"Porridge"},{title:"Pancake"},{title:"Beef"},{title:"Chicken"},{title:"Pork"},{title:"Apple"},{title:"Banana"},{title:"Orange"},{title:"Pear"},{title:"Grapes"},{title:"Chocolate"},{title:"Crisps"},{title:"Pasta"},{title:"Bolognese"},{title:"Potato"},{title:"Chips"},{title:"Milk"},{title:"Fruit Juice"},{title:"Onion"}],to=fe.a.div(Us||(Us=Object(pe.a)(["\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 70px 0 50px 0;\n  }\n\n  .card-body {\n    height: 200px;\n  }\n"]))),ao=fe.a.div(Vs||(Vs=Object(pe.a)(["\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n"]))),no=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{startData:function(t){return e(ct(t))},createFoodIntakeResearchData:function(t){return e((a=t,function(e,t,n){var c=n.getFirebase,r=(t().firebase.profile,t().firebase.auth),s=a.submissionType,o=a.projectName,i=a.foodName,l=a.weightType,u=a.producedLocally,d=a.notes,b=a.chartSubmissionDay,j=a.chartSubmissionWeek,h=a.chartSubmissionMonth,m=a.chartSubmissionDate,p=a.chartSubmissionYear,f=a.chartSubmissionFullDate,O=(new Date).getHours(),g="";g=O>=0&&O<6?"T1":O>=6&&O<12?"T2":O>=12&&O<18?"T3":"T4",c().firestore().collection("data").doc(r.uid).collection("writtenFoodIntakeAcademicData").add({date:c().firestore.Timestamp.fromDate(new Date),type:g,PROJECTNAME:o,FOODNAME:i,weight:Number(a.foodWeight),WEIGHTUNIT:l,LOCALORNOT:u,NOTES:d,WDAY:b,WEEK:j,MONTH:h,MDATE:m,YEAR:p,FULLDATE:f,SUBMISSIONTYPE:s}).then((function(){e({type:"CREATE_DATA"})})).catch((function(t){e({type:"CREATE_DATA_ERROR",err:t})}))}));var a}}})),Object(Qt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))(Qs),co=(Yn()().format("MMMM Do YYYY, h:mm:ss a"),Yn()().format("ddd MMM Do YYYY"),function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){var e;Object(ga.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:e.props.user.firstName,email:e.props.auth.email,uid:e.props.auth.uid,filteredData:[],formWidth:"",formHeight:"",submissionType:"Surplus Academic",foodName:"",foodCategory:"Select Category",foodSurplusWeight:0,weightType:"Select Unit",weightMultiplier:0,producedLocally:"Select Surplus or Local...",expiryDate:"",ghg:0,notes:"",foodSurplusCost:0,currency:"Select Currency",currencyMultiplier:0,chartSubmissionDay:Yn()().format("ddd"),chartSubmissionWeek:Yn()().format("W"),chartSubmissionMonth:Yn()().format("MMM"),chartSubmissionDate:Yn()().format("Do"),chartSubmissionYear:Yn()().format("YYYY"),chartSubmissionFullDate:Yn()().format("ddd MMM Do YYYY")},e.clearEFWForm=function(){e.setState({foodName:"",foodCategory:"Select Category",foodSurplusWeight:0,weightType:"Select Unit",producedLocally:"Select Surplus or Local...",expiryDate:"",ghg:0,foodSurplusCost:0,currency:"Select Currency",currencyMultiplier:0,notes:"",formHeight:"1065px"})},e.notificationTest=function(){ht()({title:"Success!",message:"Food Surplus successfully updated!",backgroundTop:"#aab41e",backgroundBottom:"#aab41e",closeButton:"Close",duration:4e3})},e.handleChange=function(t){e.setState(Object(Oa.a)({},t.target.id,t.target.value))},e.handleFoodCategoryChange=function(t){e.setState({foodCategory:t})},e.handleEdibleInedibleSurplusChange=function(t){e.setState({edibleInedibleSurplus:t})},e.handleFoodWasteGHGChange=function(t){var a;e.setState((a={},Object(Oa.a)(a,t.target.id,t.target.value),Object(Oa.a)(a,"ghg",2.5*Number(t.target.value)),a))},e.handleFoodCostChange=function(t){var a;e.setState((a={},Object(Oa.a)(a,t.target.id,t.target.value),Object(Oa.a)(a,"foodSurplusCost",(.85*Number(t.target.value)).toFixed(2)),a))},e.handleInedibleFoodCostChange=function(t){var a;e.setState((a={},Object(Oa.a)(a,t.target.id,t.target.value),Object(Oa.a)(a,"costOfInedibleFoodWaste",(.85*Number(t.target.value)).toFixed(2)),a))},e.pressButton=function(t){t.preventDefault(),e.props.startData(e.state)},e.handleFoodSurplusSubmit=function(t){t.preventDefault(),e.setState({}),e.props.createFoodSurplusData(e.state)},e}return Object(xa.a)(a,[{key:"changeCurrency",value:function(e){this.setState({currency:e})}},{key:"changeCurrencyMultiplier",value:function(e){this.setState({currencyMultiplier:e})}},{key:"changeWeightMultiplier",value:function(e){this.setState({weightMultiplier:e})}},{key:"handleProducedLocallyChange",value:function(e){this.setState({producedLocally:e})}},{key:"handleWeightUnitChange",value:function(e){this.setState({weightType:e})}},{key:"componentDidMount",value:function(){vn.isMobile?this.setState({formWidth:"72vw",formHeight:"1065px"}):vn.isBrowser&&this.setState({formWidth:"261px",formHeight:"1065px"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,c=t.auth,r=this.state;r.foodWaste,r.foodSurplus;if(!c.uid)return Object(j.jsx)(l.a,{to:"/login"});if(a){var s=a&&a.filter((function(e){return e.email===c.email}));return Object(j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(j.jsx)(vn.MobileView,{children:Object(j.jsx)("h6",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Update Food Surplus"})}),Object(j.jsx)(vn.BrowserView,{children:Object(j.jsx)("h4",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Upload Food"})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%"},children:Object(j.jsx)(p.a,{style:{width:this.state.formWidth,borderColor:"#aab41e"},className:"custom-btn-2",as:u.b,to:"/account",children:"Back"})}),0===s.length?Object(j.jsxs)(be.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found",children:[Object(j.jsx)(je.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"",xs:12,lg:4}),Object(j.jsx)(je.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(so,{children:Object(j.jsx)(Oe.a,{children:Object(j.jsx)(Oe.a.Body,{children:Object(j.jsxs)(Oe.a.Text,{className:"text-center",children:[Object(j.jsx)("h1",{style:{fontSize:"33px",fontWeight:"600",color:"rgb(55, 85, 54)"},children:"Start tracking your food waste and food surplus now"}),Object(j.jsx)("button",{onClick:this.pressButton,style:{outline:"none",border:"none"},children:"Start now"})]})})})})}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(je.a,{className:"mt-5 pt-5",xs:12})]}):Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",height:"190%"},children:Object(j.jsx)(Oe.a,{style:{width:this.state.formWidth,height:"805px",marginBottom:"10vh"},children:Object(j.jsxs)(m.a,{className:"form-layout",style:{padding:"10px"},children:[Object(j.jsx)("h5",{className:"text-center",style:{margin:"30px",fontSize:"23px",fontWeight:"600"},children:"Upload Food"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Food Name"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(In.a,{id:"foodName",options:ro.map((function(e){return e.title})),freeSolo:!0,style:{width:"100%"},size:"small",onChange:function(t){return e.setState({foodName:t.target.textContent})},onInputChange:function(t){return e.handleChange(t)},renderInput:function(e){return Object(j.jsx)(An.a,Object(n.a)(Object(n.a)({},e),{},{label:"Enter Food Name",variant:"outlined"}))}})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Food Category"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(oo,{children:Object(j.jsxs)(Ye.a,{children:[Object(j.jsx)(Rn.a,{variant:"secondary",style:{width:"190px"},className:"dd",children:this.state.foodCategory}),Object(j.jsxs)(Pn.b,{children:[Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Meat"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Fruits"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Vegetables"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Dairy"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Pets"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Frozen"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Drinks"})})]})]})})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Weight / Volume"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodSurplusWeight",placeholder:"Enter weight of food waste",onChange:function(t){e.handleFoodWasteGHGChange(t),e.handleFoodCostChange(t)},width:"100%",value:this.state.foodSurplusWeight}),Object(j.jsxs)(Ge.a,{as:en.a.Append,variant:"outline-secondary",title:this.state.weightType,id:"wtdd",children:[Object(j.jsx)(Ye.a.Header,{children:"Weight (Solids)"}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"kg"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"g"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.028)},children:"oz"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.454)},children:"lbs"})}),Object(j.jsx)(Ye.a.Divider,{}),Object(j.jsx)(Ye.a.Header,{children:"Volume (Liquids)"}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"l"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"ml"})})]})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Upload Type"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(oo,{children:Object(j.jsxs)(Ye.a,{children:[Object(j.jsx)(Rn.a,{variant:"secondary",style:{width:"190px"},className:"dd",children:this.state.producedLocally}),Object(j.jsxs)(Pn.b,{children:[Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Local Produce"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Surplus"})})]})]})})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Expiry Date"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(en.a,{children:Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.expiryDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"GHG"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"GHG",placeholder:"Enter GHG value",value:(this.state.ghg*this.state.weightMultiplier).toFixed(2),width:"100%"}),Object(j.jsx)(en.a.Append,{children:Object(j.jsx)(en.a.Text,{children:"kg co2"})})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Cost"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsxs)(en.a,{children:[Object(j.jsxs)(Ge.a,{as:en.a.Prepend,variant:"outline-secondary",title:this.state.currency,id:"input-group-dropdown-1",children:[Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.changeCurrency(t.target.textContent),e.changeCurrencyMultiplier(1)},children:"GBP (\xa3)"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.changeCurrency(t.target.textContent),e.changeCurrencyMultiplier(1.404)},children:"USD ($)"})}),Object(j.jsx)(Mn.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.changeCurrency(t.target.textContent),e.changeCurrencyMultiplier(1.161)},children:"EUR (\u20ac)"})})]}),Object(j.jsx)(m.a.Control,{type:"number",id:"foodSurplusCost",placeholder:"Enter cost of food surplus",value:(this.state.foodSurplusCost*this.state.currencyMultiplier*this.state.weightMultiplier).toFixed(2)})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Notes (Optional)"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",style:{resize:"none",width:"100%"},onChange:function(t){return e.handleChange(t)},value:this.state.notes})}),Object(j.jsx)("div",{children:""!==this.state.foodName&&0!==this.state.foodSurplusWeight&&"Select Unit"!==this.state.weightType&&"Select Surplus or Local..."!==this.state.producedLocally&&""!==this.state.expiryDate&&"Select Currency"!==this.state.currency?Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",backgroundColor:"#aab41e",width:"80%",marginTop:"5px"},onClick:function(t){e.handleFoodSurplusSubmit(t),e.notificationTest(),e.clearEFWForm()},variant:"secondary",type:"button",children:"Update"}):Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",width:"80%",marginTop:"5px"},variant:"secondary",disabled:!0,children:"Update"})})]})]})})})]})}return Object(j.jsx)("div",{})}}]),a}(c.Component)),ro=[{title:"Cereal"},{title:"Bacon"},{title:"Baked Beans"},{title:"Porridge"},{title:"Pancake"},{title:"Beef"},{title:"Chicken"},{title:"Pork"},{title:"Apple"},{title:"Banana"},{title:"Orange"},{title:"Pear"},{title:"Grapes"},{title:"Chocolate"},{title:"Crisps"},{title:"Pasta"},{title:"Bolognese"},{title:"Potato"},{title:"Chips"},{title:"Milk"},{title:"Fruit Juice"},{title:"Onion"}],so=fe.a.div(qs||(qs=Object(pe.a)(["\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 70px 0 50px 0;\n  }\n\n  .card-body {\n    height: 200px;\n  }\n"]))),oo=(fe.a.div(Hs||(Hs=Object(pe.a)(["\n  .form {\n    display: flex;\n    align-items: center;\n    top: 50%;\n    transform: translateY(20%);\n  }\n"]))),fe.a.div(zs||(zs=Object(pe.a)(["\n  .chart {\n    position: absolute;\n    left: 17%;\n    padding: 20px;\n  }\n"]))),fe.a.div(Ks||(Ks=Object(pe.a)(["\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n"])))),io=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{startData:function(t){return e(ct(t))},createFoodSurplusData:function(t){return e((a=t,function(e,t,n){var c=n.getFirebase,r=(t().firebase.profile,t().firebase.auth),s=a.submissionType,o=a.foodName,i=a.foodCategory,l=a.producedLocally,u=a.expiryDate,d=a.ghg*a.weightMultiplier,b=(a.foodSurplusCost*a.weightMultiplier*a.currencyMultiplier).toFixed(2),j=a.currency,h=a.weightType,m=a.notes,p=a.chartSubmissionDay,f=a.chartSubmissionWeek,O=a.chartSubmissionMonth,g=a.chartSubmissionDate,x=a.chartSubmissionYear,y=a.chartSubmissionFullDate,v=a.price,w=a.postcode,C=a.carbsContent,S=a.proteinContent,k=a.fibreContent,N=a.fatContent,E=(new Date).getHours(),T="";T=E>=0&&E<6?"T1":E>=6&&E<12?"T2":E>=12&&E<18?"T3":"T4",c().firestore().collection("data").doc(r.uid).collection("writtenFoodSurplusData").add({date:c().firestore.Timestamp.fromDate(new Date),weight:Number(a.foodSurplusWeight),type:T,SUBMISSIONTYPE:s,FOODNAME:o,FOODCATEGORY:i,LOCALORNOT:l,EXPIRYDATE:u,GHG:d,COST:Number(b),CURRENCY:j,WEIGHTUNIT:h,NOTES:m,WDAY:p,WEEK:f,MONTH:O,MDATE:g,YEAR:x,FULLDATE:y,PRICE:v,POSTCODE:w,CARBSCONTENT:C,PROTEINCONTENT:S,FIBRECONTENT:k,FATCONTENT:N}).then((function(){e({type:"CREATE_DATA"})})).catch((function(t){e({type:"CREATE_DATA_ERROR",err:t})}))}));var a}}})),Object(Qt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))(co);var lo=Object(f.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{createMealPlanData:function(t){return e(Ec(t))},createRecipe:function(t){return e(Ac(t))},addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),u=l[0],d=(l[1],{food:"",quantity:0,measure:"g"}),b=Object(c.useState)(d),h=Object(i.a)(b,2),f=h[0],O=h[1],g=function(e){e.target.textContent?O(Object(n.a)(Object(n.a)({},f),{},Object(Oa.a)({},e.target.id,e.target.textContent))):O(Object(n.a)(Object(n.a)({},f),{},Object(Oa.a)({},e.target.id,e.target.value)))},x=r.map((function(e,t){return Object(j.jsxs)("li",{children:[e.food,": ",e.quantity,e.measure]},t)}));return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={year:e.value.format("YYYY"),month:e.value.format("YYYYMM"),week:e.value.format("w")-1,day:e.value.format("DD"),upload:{ingredients:r}};e.createMealPlanData(t),e.addToShoppingList(t),e.forceUpdate(),u&&e.createRecipe(t)}(),e.handleFormClose()},children:[Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:x})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Product"}),Object(j.jsx)(m.a.Control,{type:"text",id:"food",onChange:function(e){return g(e)},value:f.food})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Quantity"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"quantity",type:"number",min:"0",step:"1",onChange:function(e){return g(e)},value:f.quantity}),Object(j.jsx)(Ue,{id:"measure",styling:"grey dropdown-input",data:f.measure,items:["g","kg","/","mL","L","/","pcs"],function:function(e){O(Object(n.a)(Object(n.a)({},f),{},{measure:e}))}})]})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add-new-ing",onClick:function(e){s((function(e){return[].concat(Object(Ua.a)(e),[f])})),O(d)},children:"Add Product"})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",children:"Submit order"})})]})})),uo=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(""),d=Object(i.a)(u,2),b=d[0],h=d[1],p=Object(c.useState)(""),f=Object(i.a)(p,2),O=f[0],g=(f[1],Object(c.useState)("")),x=Object(i.a)(g,2),y=x[0],v=(x[1],Object(c.useState)("")),w=Object(i.a)(v,2),C=w[0];w[1];return Object(j.jsx)(oe,{goTo:"/account",header:"Restaurant tools",children:Object(j.jsxs)("div",{className:"create",children:[Object(j.jsx)("h2",{children:" Shopping List"}),Object(j.jsx)("p",{children:"Tell us what you expect to need each week. "}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={product:O,quantity:y,unit:C};console.log(t),fetch("http://localhost:8000/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(){console.log("new order added")}))},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Start date:"}),Object(j.jsx)(m.a.Control,{type:"date",id:"startDate",onChange:function(e){return n(e.target.value)},value:a})]}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"}}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)("label",{children:" End date:"}),Object(j.jsx)(m.a.Control,{type:"date",id:"endDate",onChange:function(e){return l(e.target.value)},value:o})]}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"}}),Object(j.jsx)("label",{children:"Delivery or pick-up day"}),Object(j.jsxs)("select",{value:b,onChange:function(e){return h(e.target.value)},children:[Object(j.jsx)("option",{value:"Monday",children:"Monday"}),Object(j.jsx)("option",{value:"Tuesday",children:"Tuesday"}),Object(j.jsx)("option",{value:"Wednesday",children:"Wednesday"}),Object(j.jsx)("option",{value:"Thursday",children:"Thursday"}),Object(j.jsx)("option",{value:"Friday",children:"Friday"}),Object(j.jsx)("option",{value:"Saturday",children:"Saturday"}),Object(j.jsx)("option",{value:"Sunday",children:"Sunday"})]}),Object(j.jsx)(lo,{}),"    "]})]})})},bo=function(){return Object(j.jsx)(oe,{goTo:"/account",header:"Restaurant Tools",children:Object(j.jsxs)("div",{className:"create",children:[Object(j.jsx)("h2",{children:" Inventory"}),Object(j.jsx)("p",{children:" By using the World Food Tracker to track your inventory, we can provide useful analytics on your ordering practices, average usage of ingredients and more. In turn, this will allow us to help you better predict what you need, farther in advance. "}),Object(j.jsx)(Ms,{})]})})},jo=Object(f.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{addToRestaurantShoppingList:function(t){return e(function(e){return function(t,a,n){var c,r=n.getFirestore,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":c=o;break;case"business_sub":c=s.admin;break;case"academic_admin":c=o;break;case"academic_sub":c=s.admin;break;case"household_admin":c=o;break;case"household_sub":c=s.admin;break;default:c=o}var i=e.upload.ingredients,l=r(),u=l.batch();i.forEach((function(t){var a=l.collection("marketplace").doc(c).collection("shoppingList").doc(e.year).collection(e.week).doc();u.set(a,{id:a.id,ingredient:t})})),u.commit().then((function(){t({type:"CREATE_SHOP",ingr:i})})).catch((function(e){t({type:"CREATE_SHOP_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),h=b[0],f=b[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)("+ scan from barcode"),w=Object(i.a)(v,2),C=w[0],S=w[1];return Object(c.useEffect)((function(){console.log("item:",n,"quantity:",l,"measure",h)}),[n]),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btn success shadow-none qrcode-btn",onClick:function(){return y(!x),void S(x?"+ scan from barcode":"- input manually")},children:C}),x?Object(j.jsx)(zc,{}):Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={upload:{item:n,quantity:l,measure:h}};e.addToRestaurantShoppingList(t)}(),e.setUpdate(e.update+1),e.handleFormClose()},children:[Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?r(e.target.textContent):r(e.target.value)}}),Object(j.jsx)("input",{name:"quantity",type:"number",value:l,label:"Quantity",onChange:function(e){return u(e.target.value)},sx:{width:"100%",lineHeight:"calc(1.5em + .75rem + 2px)"}}),"  ",Object(j.jsx)("input",{name:"measure",type:"text",value:h,label:"Unit",onChange:function(e){return f(e.target.value)},sx:{width:"100%",lineHeight:"calc(1.5em + .75rem + 2px)"}}),"  ",Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none mt-3",type:"submit",children:"Done"})})]})]})})),ho=function(e){var t=e.show,a=e.setShow,n=e.update,c=e.setUpdate,r=function(){return a(!1)};return Object(j.jsxs)("div",{children:[Object(j.jsx)($.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(te,{onClick:function(){return a(!0)}})})}),Object(j.jsxs)(Zn.a,{show:t,onHide:r,size:"lg","aria-labelledby":"add item",centered:!0,children:[Object(j.jsx)(Zn.a.Header,{closeButton:!0,children:Object(j.jsx)(Zn.a.Title,{id:"add-item",className:"basic-title-left basic-lg",children:"Add a new item to your shopping list"})}),Object(j.jsx)(Zn.a.Body,{children:Object(j.jsx)(jo,{handleFormClose:r,update:n,setUpdate:c})})]})]})};var mo=Object(f.b)((function(e){return{data:e.mealPlan.restaurantShoppingListItems}}),(function(e){return{getRestaurantShoppingList:function(t){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("shoppingList").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_SHOPPING_LIST",payload:a})})).catch((function(t){e({type:"GET_SHOPPING_LIST_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){e.getRestaurantShoppingList()}),[e.value,e.quantity,e.measure,e.update]);var s=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.data.forEach((function(e){var t=e.id,a=e.item,n=e.quantity,c=e.measure;r((function(e){return[].concat(Object(Ua.a)(e),[{item:a,id:t,measure:c,quantity:n}])}))})),r((function(e){var t=Object(Ua.a)(e);return t.sort((function(e,t){return e.item<t.item?-1:e.item>t.item?1:0})),t}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[e.data]),Object(j.jsx)(j.Fragment,{children:n.length?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(He.a,{children:n.map((function(t,a){return Object(j.jsxs)(ze.a,{className:"list",style:{alignItems:"flex-end"},children:[Object(j.jsxs)("p",{children:[t.quantity," ",t.measure," ",t.item]}),"       ",Object(j.jsx)("div",{className:"icons",children:Object(j.jsx)(Ds,{id:t.id,value:e.value,update:e.update,setUpdate:e.setUpdate})})]},"item".concat(a))}))})}):Object(j.jsx)("div",{className:"empty basic-title-left",children:Object(j.jsx)("p",{children:"There are no items in the list. "})})})})),po=function(e){e.forceUpdate;var t=e.value,a=e.tab,n=Object(c.useState)(0),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],b=u[1];return Object(j.jsxs)("div",{className:"RestaurantShoppingList",children:[Object(j.jsx)(mo,{value:t,tab:a,update:s,setUpdate:o}),Object(j.jsx)(ho,{show:d,setShow:b,update:s,setUpdate:o})]})},fo=function(){return Object(j.jsxs)(oe,{goTo:"/account",header:"Restaurant Tools",children:[Object(j.jsxs)("div",{className:"inventory",children:[Object(j.jsx)("h2",{children:" Inventory"}),Object(j.jsx)("p",{children:" By using the World Food Tracker to track your inventory, we can provide useful analytics on your ordering practices, average usage of ingredients and more. In turn, this will allow us to help you better predict what you need, farther in advance. "}),Object(j.jsx)(Ms,{})]}),Object(j.jsxs)("div",{className:"shoppinglist",children:[Object(j.jsx)("h2",{children:" Shopping List"}),Object(j.jsx)(po,{})]})]})};function Oo(e){var t=e.setMenuSection,a=e.ownRecipe,n=Object(c.useState)("Any"),r=Object(i.a)(n,2),s=r[0],o=r[1];Object(c.useEffect)((function(){!function(){if(a)switch(s){default:case"Any":t("");break;case"Breakfast":t("Breakfast");break;case"Lunch":t("Lunch");break;case"Dinner":t("Dinner");break;case"Snack":t("Snack");break;case"Brunch":t("Brunch");break;case"Large Plates":t("Large Plates");break;case"Small Plates":t("Small Plates");break;case"Sides":t("Sides");break;case"Dessert":t("Dessert")}else switch(s){default:case"Any":t("");break;case"Breakfast":t("&menuSection=Breakfast");break;case"Lunch":t("&menuSection=Lunch");break;case"Dinner":t("&menuSection=Dinner");break;case"Snack":t("&menuSection=Snack");break;case"Brunch":t("&menuSection=Brunch");break;case"Large Plates":t("&menuSection=Large Plates");break;case"Small PLates":t("&menuSection=Small Plates");break;case"Sides":t("&menuSection=Sides");break;case"Dessert":t("&menuSection=Dessert")}}()}),[s]);return Object(j.jsx)(Ue,{id:"menu-section",styling:"green dropdown-input",data:s,items:["Any","Breakfast","Lunch","Dinner","Snack","Brunch","Large Plates","Small Plates","Sides","Dessert"],function:function(e){return o(e)}})}var go=Object(f.b)(null,(function(e){return{createMealPlanData:function(t){return e(Ec(t))},createRecipe:function(t){return e(Ac(t))},addToShoppingList:function(t){return e(Wc(t))}}}))((function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),f=h[0],O=h[1],g=Object(c.useState)(""),x=Object(i.a)(g,2),y=x[0],v=x[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),S=(C[0],C[1]),k=Object(c.useState)(!0),N=Object(i.a)(k,2),E=N[0],T=N[1],D={food:"",quantity:0,measure:"g",foodId:""},_=Object(c.useState)(D),F=Object(i.a)(_,2),P=F[0],R=F[1],M=function(e){R(Object(n.a)(Object(n.a)({},P),{},{foodId:e}))},I=Object(c.useState)([]),A=Object(i.a)(I,2),L=A[0],W=A[1],B=function(){var e=Object(Va.a)(Ya.a.mark((function e(){return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==P.food?Gc(P.food,M).then((function(){W((function(e){return[].concat(Object(Ua.a)(e),[P])})),R(D)})):S("Please input an ingredient to add.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){console.log("ingredients",L)}),[L]);var G=L.map((function(e,t){return Object(j.jsxs)("li",{children:[e.food,": ",e.quantity,e.measure]},t)})),Y=Object(c.useState)(0),U=Object(i.a)(Y,2);return U[0],U[1],Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={upload:{meal:r,mealDescription:u,mealPrice:f,menuSection:y,ingredients:L}};E&&e.createRecipe(t)}()},children:[Object(j.jsx)(Oo,{setMenuSection:v,ownRecipe:!0}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Dish name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",onChange:function(e){s(e.target.value)},required:!0}),Object(j.jsx)(m.a.Label,{children:"Dish description"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealDescription",onChange:function(e){d(e.target.value)}}),Object(j.jsx)(m.a.Label,{children:"Dish price"}),Object(j.jsx)(m.a.Control,{type:"number",id:"mealPrice",onChange:function(e){O(e.target.value)}})]}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:G})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(Ic,{handleFoodSearch:function(e){e.target.textContent?R(Object(n.a)(Object(n.a)({},P),{},{food:e.target.textContent})):R(Object(n.a)(Object(n.a)({},P),{},{food:e.target.value}))}})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Amount"}),Object(j.jsxs)(en.a,{children:[Object(j.jsx)(m.a.Control,{id:"quantity",type:"number",min:"0",step:".1",onChange:function(e){return function(e){e.target.textContent?R(Object(n.a)(Object(n.a)({},P),{},Object(Oa.a)({},e.target.id,e.target.textContent))):R(Object(n.a)(Object(n.a)({},P),{},Object(Oa.a)({},e.target.id,e.target.value)))}(e)},value:P.quantity}),Object(j.jsx)(Ue,{id:"measure",styling:"grey dropdown-input",data:P.measure,items:["g","kg","/","mL","L","/","tsp","tbsp","cups"],function:function(e){R(Object(n.a)(Object(n.a)({},P),{},{measure:e}))}})]})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn shadow-none",id:"add ingredient",onClick:function(){B()},children:"Add Ingredient"})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn shadow-none",type:"submit",onClick:function(){T(!E)},children:"Done"})})]})}));function xo(e){return Object(j.jsx)(j.Fragment,{children:e.meals.map((function(e,t){return Object(j.jsx)("div",{className:"menu-item",children:Object(j.jsx)("div",{className:"ingredients",children:Object(j.jsxs)(He.a,{children:[Object(j.jsxs)(sr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:e.meal}),e.menuSection?Object(j.jsx)("div",{className:"menu-section",children:e.menuSection}):null,e.mealDescription?Object(j.jsx)("div",{className:"meal-description",children:e.mealDescription}):null,e.mealPrice?Object(j.jsx)("div",{className:"meal-price",children:e.mealPrice}):null]}),Object(j.jsx)(ze.a,{children:e.url?Object(j.jsx)("a",{href:e.url,children:e.url}):null})]})})},"menu-item".concat(t))}))})}var yo=a(610),vo=a.n(yo),wo=Object(f.b)((function(e){return{mealPlan:e.mealPlan.savedMeals}}),(function(e){return{getRecipes:function(t){return e((function(e,t,a){var n,c=a.getFirestore,r=t().firebase.profile,s=t().firebase.auth.uid;switch(r.type){case"business_admin":n=s;break;case"business_sub":n=r.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=r.admin;break;case"household_admin":n=s;break;case"household_sub":n=r.admin;break;default:n=s}c().collection("marketplace").doc(n).collection("mySavedMeals").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_RECIPES",payload:a})})).catch((function(t){e({type:"GET_RECIPES_ERROR",err:t})}))}))}}}))((function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(0),o=Object(i.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){e.getRecipes()}),[l]);var d=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r([]),e.mealPlan.forEach((function(e){var t=e.meal,a=e.ingredients,n=e.id,c=e.mealType,s=e.menuSection,o=e.nonNativeData,i=e.totalDaily,l=e.totalNutrients,u=e.url,d=e.yield;r(o?function(e){return[].concat(Object(Ua.a)(e),[{meal:t,mealType:c,menuSection:s,ingredients:a,id:n,nonNativeData:o,totalDaily:i,totalNutrients:l,url:u,recipeYield:d}])}:function(e){return[].concat(Object(Ua.a)(e),[{meal:t,mealType:c,menuSection:s,ingredients:a,id:n}])})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[e.mealPlan]),console.log(n),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left mb-3",children:"Menu Preview"}),Object(j.jsx)("div",{className:"saved-meals",children:Object(j.jsx)("div",{className:"sort",children:Object(j.jsx)(xo,{forceUpdate:function(){u(l+1)},onChange:e.onChange,meals:vo()(n,["menuSection"]),saved:!0,value:e.value})})})]})}));function Co(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),a=(t[0],t[1]);Object(c.useEffect)((function(){setTimeout((function(){return a(!1)}),1500)}));var n=Object(c.useState)(Yn()()),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(j.jsx)(oe,{goTo:"/account",header:"My Plan to Save",children:Object(j.jsxs)(kc.a,{defaultActiveKey:"calendar",id:"meal-plan-tabs",className:"mb-3 mealtabs basic-title",children:[Object(j.jsx)(Nc.a,{eventKey:"calendar",title:"MEAL PLAN",className:"mealtab",children:Object(j.jsx)(kr,{value:s,onChange:o})}),Object(j.jsxs)(Nc.a,{eventKey:"recipes",title:"CREATE MENU",className:"mealtab",children:[Object(j.jsx)(js,{value:s,onChange:o}),Object(j.jsx)(go,{}),Object(j.jsx)(wo,{})]}),Object(j.jsx)(Nc.a,{eventKey:"shopping-list",title:"SHOPPING LIST",className:"mealtab",children:Object(j.jsx)(ks,{value:s})}),Object(j.jsx)(Nc.a,{eventKey:"inventory",title:"INVENTORY",className:"mealtab",children:Object(j.jsx)(Ms,{value:s})})]})})}var So=a(446),ko=a.n(So);function No(e){return"Restaurants"!=e.profile.buildingFunction?Object(j.jsxs)(b.a,{fluid:!0,className:"profile",children:[Object(j.jsx)(Pt,{priority:"4",text:e.profile.firstName+" "+e.profile.lastName}),Object(j.jsx)(Pt,{priority:"5",text:e.profile.email}),Object(j.jsxs)("p",{children:[e.profile.buildingFunction," Account"]}),Object(j.jsx)($.a,{title:"Settings",children:Object(j.jsx)(Et.a,{href:"/settings",component:"a",style:{float:"right"},children:Object(j.jsx)(ko.a,{})})})]}):(console.log(e),Object(j.jsxs)(b.a,{fluid:!0,className:"profile",children:[Object(j.jsx)(Pt,{priority:"4",text:e.profile.firstName+" "+e.profile.lastName+", "+e.profile.restaurantName}),Object(j.jsx)(Pt,{priority:"5",text:e.profile.email}),Object(j.jsxs)("p",{children:[e.profile.buildingFunction," Account"]}),Object(j.jsx)($.a,{title:"Settings",children:Object(j.jsx)(Et.a,{href:"/settings",component:"a",style:{float:"right"},children:Object(j.jsx)(ko.a,{})})})]}))}var Eo=a(449),To=a(1094),Do=a(1088),_o=a(1087),Fo=a(244),Po=a.n(Fo),Ro=a(168),Mo="#afba15",Io="#d9a12d",Ao="#32797e";function Lo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Plan your meals with us, search a range of delicious recipes.",icon:"notes",label:"My Food Diary",color:"turquoise",goTo:"/meal-plan"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"food",label:"Plan to Save",color:"yellow",onClick:function(){t(!0),a(!0)}})]})}function Wo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"plant",label:"Nutrient Gap",color:"yellow",goTo:"/nutrient-gap"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"food",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}}),Object(j.jsx)(ae,{icon:"plant",label:"Composition",color:"green",goTo:"/nutrient-composition"})]})}function Bo(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Record your food waste.",icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-waste"}),Object(j.jsx)(ae,{title:"View your food waste data.",icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)(ae,{title:"View the world map of WFT users!",icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)(ae,{title:"Useful tips on how to reduce food waste in your home.",icon:"info",label:"Waste Tips",color:"green",goTo:"/food-reduction"})]})}function Go(e){var t=e.isSeller;return Object(j.jsxs)(j.Fragment,{children:[t?Object(j.jsx)(ae,{title:"Start planning your farm with us. Coordinate your produce with consumers and grow into sustainability.",icon:"notes",label:"My Farm Plan",color:"turquoise",goTo:"/farm-plan"}):Object(j.jsx)(ae,{title:"Start planning your farm with us. Coordinate your produce with consumers and grow into sustainability.",icon:"notes",label:"My Farm Plan",color:"turquoise",goTo:"/farm-auth"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"food",label:"Plan to Save",color:"yellow",goTo:"/pts"}),Object(j.jsx)(ae,{icon:"my-products",label:"Food Returned",color:"turquoise",goTo:"/view-products",disabled:!0}),Object(j.jsx)(ae,{icon:"chart",label:"Produce Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0})]})}function Yo(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Record your food loss.",icon:"waste",label:"Food Loss",color:"turquoise",goTo:"/food-loss"}),Object(j.jsx)(ae,{title:"View your food loss data.",icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)(ae,{title:"Useful tips on how to reduce food waste in your home.",icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)(ae,{title:"View the world map of WFT users!",icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"food",label:"Plan to Save",color:"yellow",goTo:"/pts"})]})}function Uo(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Find out about our Agrifood TechPreneur program.",icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)(ae,{title:"Buff up the sustainability of your business with our online masterclasses.",icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)(ae,{title:"Calculate the Food Industry Sustainability Index (FISI) of your business.",icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"food",label:"Plan to Save",color:"yellow",goTo:"/pts"})]})}function Vo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"notes",label:"Meal Plan",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"my-products",label:"Meal Sold",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"my-products",label:"Meal Returned",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"chart",label:"Meal Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function qo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Record your food waste.",icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-wasteBusiness"}),Object(j.jsx)(ae,{title:"View your food waste data.",icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)(ae,{title:"Useful tips on how to reduce food waste in your home.",icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)(ae,{title:"View the world map of WFT users!",icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function Ho(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Find out about our Agrifood TechPreneur program.",icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)(ae,{title:"Buff up the sustainability of your business with our online masterclasses.",icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)(ae,{title:"Calculate the Food Industry Sustainability Index (FISI) of your business.",icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"})]})}function zo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"notes",label:"Meal Plan",color:"turquoise",goTo:"/meal-plan"}),Object(j.jsx)(ae,{icon:"my-products",label:"Meal Sold",color:"turquoise",goTo:"/view-products"}),Object(j.jsx)(ae,{icon:"my-products",label:"Meal Returned",color:"turquoise",goTo:"/view-products",disabled:!0}),Object(j.jsx)(ae,{icon:"chart",label:"Meal Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function Ko(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"notes",label:"Research Plan",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"my-products",label:"Food Items Used",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"my-products",label:"Food Items Not Used",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"chart",label:"Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Research Cost",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function Jo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-wasteAcademic"}),Object(j.jsx)(ae,{icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)(ae,{icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)(ae,{icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)(ae,{icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function Zo(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)(ae,{icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)(ae,{icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"})]})}function $o(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{icon:"notes",label:"Meal Plan",color:"turquoise",goTo:"/restaurant-meal-plan"}),Object(j.jsx)(ae,{icon:"notes",label:"Restaurant details",color:"turquoise",goTo:"/restaurant-meal-plan"}),Object(j.jsx)(ae,{icon:"my-products",label:"Meal Sold",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"my-products",label:"Meal Returned",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"chart",label:"Meal Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function Xo(e){var t=e.setShow,a=e.setChooseModal;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Record your food waste.",icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-wasteBusiness"}),Object(j.jsx)(ae,{title:"View your food waste data.",icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)(ae,{title:"Useful tips on how to reduce food waste in your home.",icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)(ae,{title:"View the world map of WFT users!",icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)(ae,{title:"Find out more about the Plan to Save campaign, and what you can do to help.",icon:"kitchen",label:"Plan to Save",color:"turquoise",onClick:function(){t(!0),a(!0)}})]})}function Qo(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ae,{title:"Find out about our Agrifood TechPreneur program.",icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)(ae,{title:"Buff up the sustainability of your business with our online masterclasses.",icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)(ae,{title:"Calculate the Food Industry Sustainability Index (FISI) of your business.",icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"})]})}var ei=a(1098),ti=(a(939),function(){return"_"+Math.random().toString(36).substr(2,9)}),ai=function(e){return Object(j.jsx)("div",{className:"".concat(e.className),children:e.data.map((function(t){return a=t,n=e.toggleHandler,c=e.isCheckedState,Object(j.jsx)(ni,{name:a.name,handler:n,isChecked:!!c[a.name],text:a.text},a.name);var a,n,c}))})},ni=function(e){var t=e.name,a=e.text,n=e.isChecked,c=e.handler,r=ti();return Object(j.jsx)("div",{className:"Checkbox",children:Object(j.jsxs)("label",{htmlFor:r,className:"Checkbox__label ".concat(e.className),children:[Object(j.jsx)("input",{id:r,name:t,type:"checkbox",checked:n,onChange:function(){c(t)}}),a]})})},ci=function(e){Object(ya.a)(a,e);var t=Object(va.a)(a);function a(){var e;Object(ga.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).passPropsToChildren=function(){var t=e.props,a=t.children,n=t.handleChange,c=t.activeIndex;return r.a.Children.map(a,(function(e,t){return r.a.cloneElement(e,{index:t,onChange:n,checked:t===c})}))},e}return Object(xa.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"RadioGroup ".concat(this.props.className),children:this.passPropsToChildren()})}}]),a}(c.Component),ri=function(e){var t=ti();return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{className:"Radio",type:"radio",checked:e.checked,name:e.name,id:t,onChange:function(){e.onChange(e.index)}}),Object(j.jsx)("label",{htmlFor:t,className:e.className,children:e.children})]})},si=function(e){return Object(j.jsx)("select",{value:e.value,onChange:e.handler,name:e.name,children:e.options.map((function(e){return Object(j.jsx)("option",{value:e.val,children:e.text},e.val)}))})},oi={selectOpt:{mealCount:[{val:3,text:"Three"},{val:5,text:"Five"},{val:2,text:"Two"}],planType:[{val:7,text:"Weekly"},{val:1,text:"Daily"}]},dietSpec:[{name:"balanced",text:"Balanced Diet (Recommended)"},{name:"low-carb",text:"Low-Carb (Less than 20% of total calories from carbs)"},{name:"low-fat",text:"Low-Fat (Less than 15% of total calories from fat)"}],healthSpec:[{name:"vegan",text:"Vegan (No meat, poultry, fish, dairy, eggs or honey)"},{name:"vegetarian",text:"Vegetarian (No wheat, can have gluten though)"},{name:"alcohol-free",text:"Alcohol-free (No alcohol used or contained)"},{name:"peanut-free",text:"Peanut Free (No peanuts or products containing peanuts)"}],mealTypes:{3:["Breakfast","Lunch","Dinner"],5:["Breakfast Snack","Breakfast","Lunch","Afternoon Snack","Dinner"],2:["Brunch","Dinner"]},calories:{min:1800,max:2500}},ii={ID:"5532003c",KEY:"511d39184173c54ebc5d02a5063a7b87",URL:"https://api.edamam.com/recipes/v2?type=public&"},li=function(){var e=Object(Va.a)(Ya.a.mark((function e(t,a,c){var r,s,o,i,l,u,d;return Ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(r=ii).URL,o=ui(t,r.ID,r.KEY),e.t0=Ya.a.keys(o);case 3:if((e.t1=e.t0()).done){e.next=16;break}return i=e.t1.value,console.log(i),l=encodeURI(s+o[i]),e.next=9,fetch(l);case 9:return u=e.sent,e.next=12,u.json();case 12:d=e.sent,c(Object(n.a)(Object(n.a)({},a),{},Object(Oa.a)({},i,d.hits))),e.next=3;break;case 16:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ui=function(e,t,a){if(!e.plan||!e.meals||!e.calories||!e.diet)return!1;var n=parseInt(e.plan,10),c=e.meals.length,r={min:Math.round(parseInt(e.calories.min,10)/c),max:Math.round(parseInt(e.calories.max,10)/c)},s="";e.health&&(s=di(e.health,"health"));for(var o=e.meals,i={},l=0;l<c;l++){var u=o[l],d="q=".concat(u,"&app_id=").concat(t,"&app_key=").concat(a,"&to=").concat(n,"&diet=").concat(e.diet).concat(s,"&calories=").concat(r.min,"-").concat(r.max);i[u]=d}return i},di=function(e,t){var a="&";for(var n in e)"true"===e[n].toString()&&(a+="".concat(t,"=").concat(n,"&"));return a.slice(0,-1)},bi=li;function ji(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(oi),o=Object(i.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),h=b[0],m=b[1],p=Object(c.useState)(l.selectOpt.mealCount[0].val),f=Object(i.a)(p,2),O=f[0],g=f[1],x=Object(c.useState)(l.selectOpt.planType[0].val),y=Object(i.a)(x,2),v=y[0],w=y[1],C=Object(c.useState)({}),S=Object(i.a)(C,2),k=S[0],N=S[1],E=Object(c.useState)({activeIndex:0,selected:"rec",min:1800,max:2500}),T=Object(i.a)(E,2),D=T[0],_=T[1],F=Object(c.useState)({activeIndex:0,name:l.dietSpec[0].name}),P=Object(i.a)(F,2),R=P[0],M=P[1],I=Object(c.useState)(!1),A=Object(i.a)(I,2),L=(A[0],A[1]),W=Object(c.useState)(!1),B=Object(i.a)(W,2),G=(B[0],B[1]);Object(c.useEffect)((function(){console.log("Generated Meal Plan",h)}),[h]);var Y=function(e){var t=e.target;if(t.value){var a=parseInt(t.value,10);isNaN(a)&&(a=0),_(Object(n.a)(Object(n.a)({},D),{},Object(Oa.a)({},t.name,a)))}},U=function(){r(a+1)},V=function(){r(a-1)},q=l.selectOpt,H=l.dietSpec,z=l.healthSpec;switch(a){default:case 0:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"How many meals do you ( or want to ) have in a day?"}),Object(j.jsx)(si,{name:"mealCount",value:O,handler:function(e){return g(parseInt(e.target.value,10))},options:q.mealCount}),Object(j.jsx)("button",{onClick:U,children:"Next"})]});case 1:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Choose a plan type"}),Object(j.jsx)(si,{name:"planType",value:v,handler:function(e){return w(parseInt(e.target.value,10))},options:q.planType}),Object(j.jsx)("button",{onClick:V,children:"Back"}),Object(j.jsx)("button",{onClick:U,children:"Next"})]});case 2:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Any dietary preferences?"}),Object(j.jsx)(ci,{handleChange:function(e){var t=l.dietSpec[e].name;M({activeIndex:e,name:t})},activeIndex:R.activeIndex,children:H.map((function(e){return Object(j.jsx)(ri,{children:e.text},e.name)}))}),Object(j.jsx)("button",{onClick:V,children:"Back"}),Object(j.jsx)("button",{onClick:U,children:"Next"})]});case 3:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Any health preferences?"}),Object(j.jsx)(ai,{data:z,toggleHandler:function(e){N((function(){var t=!k[e]||!k[e];return Object(n.a)(Object(n.a)({},k),{},Object(Oa.a)({},e,t))}))},isCheckedState:k}),Object(j.jsx)("button",{onClick:V,children:"Back"}),Object(j.jsx)("button",{onClick:U,children:"Next"})]});case 4:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Calorie intake"}),Object(j.jsxs)(ci,{handleChange:function(e){var t=1===parseInt(e,10)?"custom":"rec";_(Object(n.a)(Object(n.a)({},D),{},{activeIndex:e,selected:t}))},activeIndex:D.activeIndex,children:[Object(j.jsx)(ri,{children:"Go with recommended"}),Object(j.jsx)(ri,{children:"Choose custom values"})]}),"custom"===D.selected?Object(j.jsxs)("div",{className:"Survey__input--custom",children:[Object(j.jsx)("input",{placeholder:"min",type:"number",name:"min",onChange:Y,value:D.min}),Object(j.jsx)("input",{placeholder:"max",type:"number",name:"max",onChange:Y,value:D.max})]}):null,Object(j.jsx)("button",{onClick:V,children:"Back"}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault();var t=l.mealTypes[O],a={plan:v,health:k,calories:{min:D.min,max:D.max},diet:R.name,meals:t};L(!0),bi(a,h,m).then((function(e){var t={num:v,data:e};L(!1),G(!0),u(t)}))},children:"Get Plan!"})]})}}var hi=Object(f.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{becomeConsumer:function(t){return e(g(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=(a[0],a[1]),r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(""),d=Object(i.a)(u,2),b=d[0],h=d[1],f=Object(c.useState)(""),O=Object(i.a)(f,2),g=O[0],x=O[1],y=Object(c.useState)(!1),v=Object(i.a)(y,2),w=v[0],C=v[1];Object(c.useEffect)((function(){if(o){var e=ut.find((function(e){return e.name===o}));h(e.code)}}),[o]),Object(c.useEffect)((function(){Object(aa.b)(b)?Object(aa.a)(g.trim(),b)?(n(!0),C(!1)):(n(!1),C(!0)):n(!0)}),[g]);var S=function(){var t={uid:e.auth.uid,upload:{postcode:g},profile:{isConsumer:!0}};e.becomeConsumer(t),mt("Success","Thanks for joining the plan to save! You have taken a huge step in making food sustainable for everybody."),e.setContent("6month"),e.handleClose()};switch(Object(c.useEffect)((function(){}),[e.content]),e.content){default:case"start":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"title",children:"JOIN THE PLAN TO SAVE!"}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("p",{children:"Thanks for choosing to plan your meals with us!"}),Object(j.jsx)("p",{children:"A six month meal plan will help you to eat more nutritious food by ordering and collecting the food in advance."}),Object(j.jsx)("p",{children:"Through the Plan to Save, your six month meal plan will be shared with local farmers to influence their own planning. With the secure knowledge that your food will not go to waste, they can focus on adopting sustainable farm practices that produce more nutritious food with a better impact on the environment."}),Object(j.jsx)(Q,{text:"Start now!",goTo:"/meal-plan",styling:"green"})]})]});case"6month":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"title",style:{marginTop:"15%"},children:"JOIN THE PLAN TO SAVE!"}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("p",{children:"Do you have a six month meal plan already?"}),Object(j.jsxs)(be.a,{className:"mt-5",children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{text:"Yes",styling:"green",onClick:function(){return e.setContent("location")}})}),Object(j.jsx)(je.a,{children:Object(j.jsx)(Q,{text:"No",styling:"green",onClick:function(){return e.setContent("choose")}})})]})]})]});case"choose":return Object(j.jsx)("div",{className:"body",children:Object(j.jsx)(ji,{})});case"refine":return Object(j.jsx)("div",{className:"body",children:Object(j.jsx)("p",{children:"this content is still in development"})});case"location":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"title",style:{marginTop:"10%"},children:"JOIN THE PLAN TO SAVE!"}),Object(j.jsx)("div",{className:"body",children:Object(j.jsxs)(m.a,{onSubmit:function(e){!function(e){w?(e.preventDefault(),console.log("prevented"),e.stopPropagation()):(e.preventDefault(),S())}(e)},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)("p",{children:"Your Country"}),Object(j.jsx)(Ve,{id:"country",function:function(e){l(e.target.value)},value:o,placeholder:"Country",items:bt})]}),Object(j.jsxs)(m.a.Group,{controlId:"postcode",children:[Object(j.jsx)("p",{children:"Your Postcode"}),Object(j.jsx)(m.a.Control,{type:"text",onChange:function(e){return x(e.target.value)},required:!0}),w&&Object(j.jsx)("div",{className:"err",children:"Please enter a valid postcode."})]}),Object(j.jsx)(p.a,{type:"submit",className:"sub-btn green-btn shadow-none",children:Object(j.jsx)("div",{className:"basic-title",children:"Finish"})})]})})]})}})),mi=a.p+"static/media/Blueberries.81f84019.jpg",pi=a.p+"static/media/pts_field_standing-dark.1765a687.jpg";function fi(e){var t=e.show,a=e.setShow,n=Object(c.useState)("start"),r=Object(i.a)(n,2),s=r[0],o=r[1],l=function(){a(!1),o("start")};return Object(j.jsx)(ei.a,{open:t,onClose:l,"aria-labelledby":"plan to save title",color:"default",children:Object(j.jsxs)("div",{className:"pts-modal",children:[vn.isBrowser?Object(j.jsx)("img",{src:mi,alt:"create your own plan",width:"100%"}):Object(j.jsx)("img",{src:pi,alt:"create your own plan",width:"100%"}),Object(j.jsx)("button",{className:"close",onClick:l,children:"X"}),Object(j.jsx)(hi,{content:s,setContent:o,handleClose:l})]})})}var Oi=function(e){switch(e.type){case"farm_admin":case"farm_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(To.a,{TabIndicatorProps:{style:{backgroundColor:Mo}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(_o.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Environment",value:"1"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"FSSP",value:"2"})]}),Object(j.jsxs)(Po.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(Do.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(Go,{isSeller:e.profile.isSeller})}),Object(j.jsx)(Do.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(Yo,{})}),Object(j.jsx)(Do.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(Uo,{})})]})]});case"business_admin":case"business_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(To.a,{TabIndicatorProps:{style:{backgroundColor:Mo}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(_o.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Environment",value:"1"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"FSSP",value:"2"})]}),Object(j.jsxs)(Po.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(Do.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(Vo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(qo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(Ho,{})})]})]});case"restaurant_admin":case"restaurant_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(To.a,{TabIndicatorProps:{style:{backgroundColor:Mo}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(_o.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Environment",value:"1"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"FSSP",value:"2"})]}),Object(j.jsxs)(Po.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(Do.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)($o,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(Xo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(Qo,{})})]})]});case"academic_admin":case"academic_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(To.a,{TabIndicatorProps:{style:{backgroundColor:Mo}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(_o.a,{disableRipple:!0,label:"Food Business",value:"0"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Research",value:"1"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Environment",value:"2"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"FSSP",value:"3"})]}),Object(j.jsxs)(Po.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(Do.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(zo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(Ko,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(Jo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:3,dir:e.theme.direction,children:Object(j.jsx)(Zo,{})})]})]});case"household_admin":case"household_sub":default:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(To.a,{TabIndicatorProps:{style:{backgroundColor:Mo}},variant:"fullWidth",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(_o.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Health",value:"1"}),Object(j.jsx)(_o.a,{disableRipple:!0,label:"Environment",value:"2"})]}),Object(j.jsxs)(Po.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(Do.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(Lo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(Wo,{setShow:e.setShow,setChooseModal:e.setChooseModal})}),Object(j.jsx)(Do.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(Bo,{})})]})]})}},gi=Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createSubAccount:function(t){return e(y(t))}}}))((function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){setTimeout((function(){return r(!1)}),1500)}));var s=Object(c.useState)(e.profile.type),o=Object(i.a)(s,2),u=o[0],d=o[1],h=Object(c.useState)(!0),m=Object(i.a)(h,2),p=m[0],f=m[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)(!1),w=Object(i.a)(v,2),C=w[0],S=w[1];Object(c.useEffect)((function(){d(e.profile.type)}),[e.profile.type]),Object(c.useEffect)((function(){var t=setTimeout((function(){"Farm"!==e.profile.buildingFunction&&y(!0)}),1e3);return function(){return clearTimeout(t)}})),Object(c.useEffect)((function(){}),[u]);var k=Object(Ro.a)(),N=Object(c.useState)("0"),E=Object(i.a)(N,2),T=E[0],D=E[1];return e.auth.uid?n?Object(j.jsx)(Mt,{}):Object(j.jsxs)(j.Fragment,{children:[x&&!e.profile.isConsumer?Object(j.jsx)(fi,{show:p,setShow:f}):null,C?Object(j.jsx)(fi,{show:p,setShow:f}):null,Object(j.jsx)(ie,{children:Object(j.jsxs)(b.a,{className:"web-center",children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("img",{src:ce,alt:"World Food Tracker, empowering global food sustainability",className:"img-fluid rounded fix-image mb-3",style:{maxWidth:"40%"}}),Object(j.jsx)(No,{profile:e.profile,type:u})]}),Object(j.jsx)("div",{className:"tabs",children:Object(j.jsx)(Eo.a,{value:T,children:Object(j.jsx)(Oi,{profile:e.profile,type:u,value:T,theme:k,handleChange:function(e,t){D(t)},handleChangeIndex:function(e){D(String(e))},setShow:f,setChooseModal:S})})})]})})]}):Object(j.jsx)(l.a,{to:"/login"})})),xi=a(1097),yi=a(611),vi=a(609),wi=new Date,Ci=new Date(wi.getFullYear(),0,1),Si=Math.floor((wi-Ci)/864e5),ki=Math.ceil((wi.getDay()+1+Si)/7);function Ni(e,t,a){var n=new Date(t,0,1),c=Math.floor((e-n)/864e5);return Math.ceil((a+1+c)/7)}function Ei(e){return Object(j.jsx)(yi.a,{chartType:"ColumnChart",data:e.data,height:"500px",loader:Object(j.jsx)("div",{children:"Loading Chart"}),options:e.options})}var Ti=function(e){return Object(j.jsx)(Ei,{data:e.chartType,options:{title:"".concat(e.title," Food Waste Performance"),legend:{position:"top",maxLines:5},colors:[Ao,Io,Mo],hAxis:{title:e.title,minValue:0},vAxis:{title:"Food Wastage"}}})};var Di=Object(ye.d)(Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,data:e.firestore.data.FoodData}}),(function(e){return{getFirestoreData:function(t){return e(ot(t))}}})),Object(Qt.firestoreConnect)((function(e){var t,a,n="writtenFoodWasteData";switch(e.profile.type){case"business_admin":a="business_users",t=e.auth.uid;break;case"business_sub":a="business_users",t=e.profile.admin;break;case"academic_admin":a="academic_users",t=e.auth.uid;break;case"academic_sub":a="academic_users",t=e.profile.admin;break;case"farm_admin":a="farm_users",n="writtenFoodLossData",t=e.auth.uid;break;case"farm_sub":a="farm_users",n="writtenFoodLossData",t=e.profile.admin;break;case"household_admin":a="household_users",t=e.auth.uid;break;case"household_sub":a="household_users",t=e.profile.admin;break;default:a="data",t=e.auth.uid}return e.auth.uid?[{collection:a,doc:t,subcollections:[{collection:n}],storeAs:"FoodData"}]:[]})))((function(e){var t=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),a=(t[0],t[1]);return function(){return a((function(e){return e+1}))}}(),a=Object(c.useState)(0),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(0),u=Object(i.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)(0),m=Object(i.a)(h,2),p=m[0],f=m[1],O=Object(c.useState)(0),g=Object(i.a)(O,2),x=g[0],y=g[1],v=Object(c.useState)(0),w=Object(i.a)(v,2),C=w[0],S=w[1],k=Object(c.useState)(0),N=Object(i.a)(k,2),E=N[0],T=N[1],D=Object(c.useState)(0),_=Object(i.a)(D,2),F=_[0],P=_[1],R=Object(c.useState)(0),M=Object(i.a)(R,2),I=M[0],A=M[1],L=Object(c.useState)(0),W=Object(i.a)(L,2),B=W[0],G=W[1],Y=Object(c.useState)(0),U=Object(i.a)(Y,2),V=U[0],q=U[1],H=Object(c.useState)(0),z=Object(i.a)(H,2),K=z[0],J=z[1],Z=Object(c.useState)(0),$=Object(i.a)(Z,2),X=$[0],Q=$[1],ee=Object(c.useState)(0),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useState)(0),re=Object(i.a)(ce,2),se=re[0],ie=re[1],le=Object(c.useState)(0),ue=Object(i.a)(le,2),de=ue[0],be=ue[1],je=Object(c.useState)(0),he=Object(i.a)(je,2),me=he[0],pe=he[1],fe=Object(c.useState)(0),Oe=Object(i.a)(fe,2),ge=Oe[0],xe=Oe[1],ye=Object(c.useState)(0),ve=Object(i.a)(ye,2),we=ve[0],Ce=ve[1],Se=Object(c.useState)(0),ke=Object(i.a)(Se,2),Ne=ke[0],Ee=ke[1],Te=Object(c.useState)(0),De=Object(i.a)(Te,2),_e=De[0],Fe=De[1],Pe=Object(c.useState)(0),Re=Object(i.a)(Pe,2),Me=Re[0],Ie=Re[1],Ae=Object(c.useState)(0),Le=Object(i.a)(Ae,2),We=Le[0],Be=Le[1],Ge=Object(c.useState)(0),Ye=Object(i.a)(Ge,2),Ue=Ye[0],Ve=Ye[1],qe=Object(c.useState)(0),He=Object(i.a)(qe,2),ze=He[0],Ke=He[1],Je=Object(c.useState)(0),Ze=Object(i.a)(Je,2),$e=Ze[0],Xe=Ze[1],Qe=Object(c.useState)(0),et=Object(i.a)(Qe,2),tt=et[0],at=et[1],nt=Object(c.useState)(0),ct=Object(i.a)(nt,2),rt=ct[0],st=ct[1],ot=Object(c.useState)(0),it=Object(i.a)(ot,2),lt=it[0],ut=it[1],dt=Object(c.useState)(0),bt=Object(i.a)(dt,2),jt=bt[0],ht=bt[1],mt=Object(c.useState)(0),pt=Object(i.a)(mt,2),ft=pt[0],Ot=pt[1],gt=Object(c.useState)(0),xt=Object(i.a)(gt,2),yt=xt[0],vt=xt[1],wt=Object(c.useState)(0),Ct=Object(i.a)(wt,2),St=Ct[0],kt=Ct[1],Nt=Object(c.useState)(0),Et=Object(i.a)(Nt,2),Tt=Et[0],Dt=Et[1],_t=Object(c.useState)(0),Ft=Object(i.a)(_t,2),Pt=Ft[0],Rt=Ft[1],Mt=Object(c.useState)(0),It=Object(i.a)(Mt,2),At=It[0],Lt=It[1],Wt=Object(c.useState)(0),Bt=Object(i.a)(Wt,2),Gt=Bt[0],Yt=Bt[1],Ut=Object(c.useState)(0),Vt=Object(i.a)(Ut,2),qt=Vt[0],Ht=Vt[1],zt=Object(c.useState)(0),Kt=Object(i.a)(zt,2),Jt=Kt[0],Zt=Kt[1],$t=Object(c.useState)(0),Xt=Object(i.a)($t,2),Qt=Xt[0],ea=Xt[1],ta=Object(c.useState)(0),aa=Object(i.a)(ta,2),na=aa[0],ca=aa[1],ra=Object(c.useState)(0),sa=Object(i.a)(ra,2),oa=sa[0],ia=sa[1],la=Object(c.useState)(0),ua=Object(i.a)(la,2),da=ua[0],ba=ua[1],ja=Object(c.useState)(0),ha=Object(i.a)(ja,2),ma=ha[0],pa=ha[1],fa=Object(c.useState)(0),Oa=Object(i.a)(fa,2),ga=Oa[0],xa=Oa[1],ya=Object(c.useState)(0),va=Object(i.a)(ya,2),wa=va[0],Ca=va[1],Sa=Object(c.useState)(0),ka=Object(i.a)(Sa,2),Na=ka[0],Ea=ka[1],Ta=Object(c.useState)(0),Da=Object(i.a)(Ta,2),_a=Da[0],Fa=Da[1],Pa=Object(c.useState)(0),Ra=Object(i.a)(Pa,2),Ma=Ra[0],Ia=Ra[1],Aa=Object(c.useState)(0),La=Object(i.a)(Aa,2),Wa=La[0],Ba=La[1],Ga=Object(c.useState)(0),Ua=Object(i.a)(Ga,2),qa=Ua[0],Ha=Ua[1],za=Object(c.useState)(0),Ka=Object(i.a)(za,2),Ja=Ka[0],Za=Ka[1],$a=Object(c.useState)(0),Xa=Object(i.a)($a,2),Qa=Xa[0],en=Xa[1],tn=Object(c.useState)(0),an=Object(i.a)(tn,2),nn=an[0],cn=an[1],rn=Object(c.useState)(0),sn=Object(i.a)(rn,2),on=sn[0],ln=sn[1],un=Object(c.useState)(0),dn=Object(i.a)(un,2),bn=dn[0],jn=dn[1],hn=Object(c.useState)(0),mn=Object(i.a)(hn,2),pn=mn[0],fn=mn[1],On=Object(c.useState)(0),gn=Object(i.a)(On,2),xn=gn[0],yn=gn[1],vn=Object(c.useState)(0),wn=Object(i.a)(vn,2),Cn=wn[0],Sn=wn[1],kn=Object(c.useState)(0),Nn=Object(i.a)(kn,2),En=Nn[0],Tn=Nn[1],Dn=Object(c.useState)(0),_n=Object(i.a)(Dn,2),Fn=_n[0],Pn=_n[1],Rn=Object(c.useState)(0),Mn=Object(i.a)(Rn,2),In=Mn[0],An=Mn[1],Ln=Object(c.useState)(0),Wn=Object(i.a)(Ln,2),Bn=Wn[0],Gn=Wn[1],Yn=Object(c.useState)(0),Un=Object(i.a)(Yn,2),Vn=Un[0],qn=Un[1],Hn=Object(c.useState)(0),zn=Object(i.a)(Hn,2),Kn=zn[0],Jn=zn[1],Zn=Object(c.useState)(0),$n=Object(i.a)(Zn,2),Xn=$n[0],Qn=$n[1],ec=Object(c.useState)(0),tc=Object(i.a)(ec,2),ac=tc[0],nc=tc[1],cc=Object(c.useState)(0),rc=Object(i.a)(cc,2),sc=rc[0],oc=rc[1],ic=Object(c.useState)(0),lc=Object(i.a)(ic,2),uc=lc[0],dc=lc[1],bc=Object(c.useState)(0),jc=Object(i.a)(bc,2),hc=jc[0],mc=jc[1];Object(c.useEffect)((function(){o(0),b(0),f(0),y(0),S(0),T(0),P(0),A(0),G(0),q(0),J(0),Q(0),ne(0),ie(0),be(0),pe(0),xe(0),Ce(0),Ee(0),Fe(0),Ie(0),Be(0),Ve(0),Ke(0),Xe(0),at(0),st(0),ut(0),ht(0),Ot(0),vt(0),kt(0),Dt(0),Rt(0),Lt(0),Yt(0),Ht(0),Zt(0),ea(0),ca(0),ia(0),ba(0),pa(0),xa(0),Ca(0),Ea(0),Fa(0),Ia(0),Ba(0),Ha(0),Za(0),en(0),cn(0),ln(0),jn(0),fn(0),yn(0),Sn(0),Tn(0),Pn(0),An(0),Gn(0),qn(0),Jn(0),Qn(0),nc(0),oc(0),dc(0),mc(0),void 0!==e.data&&null!==e.data&&pc()}),[e.data]);var pc=function(){var t=Object(Va.a)(Ya.a.mark((function t(){return Ya.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object.values(e.data).forEach((function(e){try{var t=new Date(1e3*e.date.seconds),a=t.getFullYear(),n=t.getMonth(),c=t.getDate(),r=t.getDay(),s=Ni(t,a,r)}catch(F){return void console.error(F)}var i,l,u=e.foodWasteWeight,d=e.weightType,j=0,h=e.edibleIndeible,m=e.carbsPerUnit,p=e.carbsContent,O=0,g=e.fatPerUnit,x=e.fatContent,v=0,w=e.proteinPerUnit,C=e.proteinContent,k=0,N=e.foodWasteCost,E=e.currency,D=0,_=0;switch(d){default:case"kg":case"l":j=1;break;case"g":case"ml":j=.001;break;case"oz":j=.028;break;case"lbs":j=.454}switch(m){default:case"100g":case"100ml":O=.01;break;case"500g":case"500ml":O=.002;break;case"1l":case"1kg":O=.001}switch(g){default:case"100g":case"100ml":v=.01;break;case"500g":case"500ml":v=.002;break;case"1l":case"1kg":v=.001}switch(w){default:case"100g":case"100ml":k=.01;break;case"500g":case"500ml":k=.002;break;case"1l":case"1kg":k=.001}switch(E){case"GBP (\xa3)":D=1;break;case"USD ($)":D=1.404;break;case"EUR (\u20ac)":D=1.161;break;default:D=1}if(i=Number((u*j).toFixed(3)),_=Number("Edible"===h?320.848*j*u*(.01852*O*p+.01744*k*C+.04608*v*x):u*j*2.5),l=Number(N*D*j),a===wi.getFullYear())switch(n){case 0:Rt((function(e){return e+i})),Ea((function(e){return e+_})),Sn((function(e){return e+l}));break;case 1:Lt((function(e){return e+i})),Fa((function(e){return e+_})),Tn((function(e){return e+l}));break;case 2:Yt((function(e){return e+i})),Ia((function(e){return e+_})),Pn((function(e){return e+l}));break;case 3:Ht((function(e){return e+i})),Ba((function(e){return e+_})),An((function(e){return e+l}));break;case 4:Zt((function(e){return e+i})),Ha((function(e){return e+_})),Gn((function(e){return e+l}));break;case 5:ea((function(e){return e+i})),Za((function(e){return e+_})),qn((function(e){return e+l}));break;case 6:ca((function(e){return e+i})),en((function(e){return e+_})),Jn((function(e){return e+l}));break;case 7:ia((function(e){return e+i})),cn((function(e){return e+_})),Qn((function(e){return e+l}));break;case 8:ba((function(e){return e+i})),ln((function(e){return e+_})),nc((function(e){return e+l}));break;case 9:pa((function(e){return e+i})),jn((function(e){return e+_})),oc((function(e){return e+l}));break;case 10:xa((function(e){return e+i})),fn((function(e){return e+_})),dc((function(e){return e+l}));break;case 11:Ca((function(e){return e+i})),yn((function(e){return e+_})),mc((function(e){return e+l}))}if(a===wi.getFullYear()&&n===wi.getMonth()&&(c>=0&&c<=7?(Be((function(e){return e+i})),at((function(e){return e+_})),Ot((function(e){return e+l}))):c>=8&&c<=14?(Ve((function(e){return e+i})),st((function(e){return e+_})),vt((function(e){return e+l}))):c>=15&&c<=21?(Ke((function(e){return e+i})),ut((function(e){return e+_})),kt((function(e){return e+l}))):(Xe((function(e){return e+i})),ht((function(e){return e+_})),Dt((function(e){return e+l})))),a===wi.getFullYear()&&ki===s)switch(console.log(ki+"/"+s),r){case 0:P((function(e){return e+i})),ie((function(e){return e+_})),Ie((function(e){return e+l}));break;case 1:o((function(e){return e+i})),A((function(e){return e+_})),be((function(e){return e+l}));break;case 2:b((function(e){return e+i})),G((function(e){return e+_})),pe((function(e){return e+l}));break;case 3:f((function(e){return e+i})),q((function(e){return e+_})),xe((function(e){return e+l}));break;case 4:y((function(e){return e+i})),J((function(e){return e+_})),Ce((function(e){return e+l}));break;case 5:S((function(e){return e+i})),Q((function(e){return e+_})),Ee((function(e){return e+l}));break;case 6:T((function(e){return e+i})),ne((function(e){return e+_})),Fe((function(e){return e+l}))}}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),fc=[["Day","Weight (KG)","GHG (KG/CO2)","Cost (\xa3)"],["Mon",s,I,de],["Tue",d,B,me],["Wed",p,V,ge],["Thu",x,K,we],["Fri",C,X,Ne],["Sat",E,ae,_e],["Sun",F,se,Me]],Oc=[["Week","Weight (KG)","GHG (KG/CO2)","Cost (\xa3)"],["1st-7th",We,tt,ft],["8th-14th",Ue,rt,yt],["15th-21st",ze,lt,St],["22nd-31st",$e,jt,Tt]],gc=[["Month","Weight (KG)","GHG (KG/CO2)","Cost (\xa3)"],["Jan",Pt,Na,Cn],["Feb",At,_a,En],["Mar",Gt,Ma,Fn],["Apr",qt,Wa,In],["May",Jt,qa,Bn],["Jun",Qt,Ja,Vn],["Jul",na,Qa,Kn],["Aug",oa,nn,Xn],["Sep",da,on,ac],["Oct",ma,bn,sc],["Nov",ga,pn,uc],["Dec",wa,xn,hc]];function xc(e){switch(e){case"Daily":return fc;case"Weekly":return Oc;case"Monthly":return gc;default:return fc}}return Object(j.jsx)(oe,{header:"Food Waste/Loss Chart",subtitle:"View Food Waste/Loss",goTo:"/account",children:Object(j.jsxs)(Nc.a.Container,{defaultActiveKey:"daily",children:[Object(j.jsx)(Nc.a.Content,{children:Object(j.jsx)(Nc.a.Pane,{eventKey:"daily",title:"Daily",children:Object(j.jsx)(Ti,Object(n.a)({title:"Daily",chartType:xc("Daily")},e))})}),Object(j.jsx)(Nc.a.Content,{children:Object(j.jsx)(Nc.a.Pane,{eventKey:"weekly",title:"Weekly",children:Object(j.jsx)(Ti,Object(n.a)({title:"Weekly",chartType:xc("Weekly")},e))})}),Object(j.jsx)(Nc.a.Content,{children:Object(j.jsx)(Nc.a.Pane,{eventKey:"monthly",title:"Monthly",children:Object(j.jsx)(Ti,Object(n.a)({title:"Monthly",chartType:xc("Monthly")},e))})}),Object(j.jsxs)(vi.a,{justify:!0,variant:"pills",children:[Object(j.jsx)(vi.a.Item,{children:Object(j.jsx)(vi.a.Link,{eventKey:"daily",onClick:t,children:"Daily"})}),Object(j.jsx)(vi.a.Item,{children:Object(j.jsx)(vi.a.Link,{eventKey:"weekly",onClick:t,children:"Weekly"})}),Object(j.jsx)(vi.a.Item,{children:Object(j.jsx)(vi.a.Link,{eventKey:"monthly",onClick:t,children:"Monthly"})})]})]})})})),_i=Object(f.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),null)((function(e){var t=Object(c.useState)(e.auth.uid),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)(!1)),s=Object(i.a)(n,2),o=s[0],d=s[1];Object(c.useEffect)((function(){if(e.auth.uid&&d(!0),!e.auth.uid)return Object(j.jsx)(l.a,{to:"/landing"})}),[e.auth.uid]);var b=Object(c.useState)(!1),h=Object(i.a)(b,2),m=h[0],p=h[1],f=Object(c.useState)({title:"",body:"",image:""}),O=Object(i.a)(f,2),g=O[0],x=O[1],y=Object(c.useState)(!1),w=Object(i.a)(y,2);w[0];return function(e){if(null!=Me)return Me.getToken().then((function(t){t?e(!0):(console.log("No registration token available. Request permission to generate one."),e(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e)}));console.log("FCM Not supported")}(w[1]),new Promise((function(e){null!=Me&&Me.onMessage((function(t){e(t)}))})).then((function(e){p(!0),x({image:e.notification.image,title:e.notification.title,body:e.notification.body})})).catch((function(e){return console.log("failed: ",e)})),Object(j.jsxs)(r.a.Fragment,{children:[Object(j.jsx)(jt.Notifications,{position:"top-right"}),Object(j.jsxs)(u.a,{children:[Object(j.jsxs)(xi.a,{onClose:function(){return p(!1)},show:m,delay:1e4,autohide:!0,animation:!0,style:{position:"absolute",top:70,right:20,width:300,zIndex:1},children:[Object(j.jsxs)(xi.a.Header,{children:[Object(j.jsx)("img",{src:g.image,className:"rounded me-2",alt:"",style:{width:20,height:20,margin:10}}),Object(j.jsx)("strong",{className:"mr-auto",children:g.title}),Object(j.jsx)("small",{children:"just now"})]}),Object(j.jsx)(xi.a.Body,{style:{backgroundColor:"white"},children:g.body})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(vn.MobileView,{children:Object(j.jsx)(l.b,{exact:!0,path:"/",render:function(){return o?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(l.a,{to:"/landing"})}})}),Object(j.jsx)(vn.BrowserView,{children:Object(j.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(j.jsx)(l.a,{to:"/landing"})}})}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/login",exact:!0,component:v}),Object(j.jsx)(l.b,{path:"/landing",exact:!0,component:re}),Object(j.jsx)(l.b,{path:"/about-us",exact:!0,component:he}),Object(j.jsx)(l.b,{path:"/signup",exact:!0,component:vt}),Object(j.jsx)(l.b,{path:"/settings",exact:!0,component:da}),Object(j.jsx)(l.b,{path:"/questionnaire",exact:!0,component:ja}),Object(j.jsx)(l.b,{path:"/contact",exact:!0,component:we}),Object(j.jsx)(l.b,{path:"/forgot-password",exact:!0,component:ka}),Object(j.jsx)(l.b,{exact:!0,path:"/consultants",component:Ce}),Object(j.jsx)(l.b,{path:"/consultants/question2",exact:!0,component:Ee}),Object(j.jsx)(l.b,{path:"/consultants/onboard",exact:!0,component:Te}),Object(j.jsx)(l.b,{path:"/consultant-login",exact:!0,component:De}),Object(j.jsx)(l.b,{path:"/consultant-account",exact:!0,component:Be}),Object(j.jsx)(l.b,{path:"/consultant-settings",exact:!0,component:We}),Object(j.jsx)(l.b,{path:"/account",exact:!0,component:gi}),Object(j.jsx)(l.b,{path:"/pts",exact:!0,component:Ia}),Object(j.jsx)(l.b,{path:"/change-password",exact:!0,component:Ba}),Object(j.jsx)(l.b,{path:"/view-map",exact:!0,component:Qa}),Object(j.jsx)(l.b,{path:"/food-waste",exact:!0,component:nn}),Object(j.jsx)(l.b,{path:"/food-loss",exact:!0,component:sn}),Object(j.jsx)(l.b,{path:"/food-wasteBusiness",exact:!0,component:un}),Object(j.jsx)(l.b,{path:"/food-intake",exact:!0,component:jn}),Object(j.jsx)(l.b,{path:"/table",component:yn}),Object(j.jsx)(l.b,{path:"/chart",exact:!0,component:Di}),Object(j.jsx)(l.b,{path:"/food-reduction",component:gn}),Object(j.jsx)(l.b,{path:"/product-listing",component:_n}),Object(j.jsx)(l.b,{path:"/reserve-items",component:Hn}),Object(j.jsx)(l.b,{path:"/farm-plan",component:oc,children:!e.profile.isSeller&&Object(j.jsx)(l.a,{to:"/farm-plan"})}),Object(j.jsx)(l.b,{path:"/farm-auth",component:vc,children:e.profile.isSeller&&Object(j.jsx)(l.a,{to:"/farm-plan"})}),Object(j.jsx)(l.b,{path:"/cons-auth",component:Sc}),Object(j.jsx)(l.b,{path:"/meal-plan",component:Is}),Object(j.jsx)(l.b,{path:"/nutrient-gap",component:Bs}),Object(j.jsx)(l.b,{path:"/view-products",component:Js}),Object(j.jsx)(l.b,{path:"/food-wasteAcademic",component:Xs}),Object(j.jsx)(l.b,{path:"/food-intakeAcademic",component:no}),Object(j.jsx)(l.b,{path:"/food-surplusAcademic",component:io}),Object(j.jsx)(l.b,{path:"/restaurant-shopping-list",component:uo}),Object(j.jsx)(l.b,{path:"/restaurant-inventory",component:bo}),Object(j.jsx)(l.b,{path:"/restaurant-dashboard",component:fo}),Object(j.jsx)(l.b,{path:"/restaurant-meal-plan",component:Co}),Object(j.jsx)(l.b,{component:fa})]})]})]})]})})),Fi=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1119)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Pi=a(231),Ri={authError:null},Mi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"CREATE_SUBACCOUNT":return console.log("subaccount success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_SUBACCOUNT_ERROR":return Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"DELETE_SUBACCOUNT":return console.log("delete subaccount success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_SUBACCOUNT_ERROR":return Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"CHANGE_ERROR":return console.log("change password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing password failed"});case"CHANGE_SUCCESS":return console.log("change password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CHANGE_EMAIL_ERROR":return console.log("change email error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing email failed"});case"CHANGE_EMAIL_SUCCESS":return console.log("change email success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CHANGE_PROFILE_ERROR":return console.log("change email error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing profile failed"});case"CHANGE_PROFILE_SUCCESS":return console.log("change profile success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"RESET_ERROR":return console.log("reset password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Resetting password failed"});case"RESET_SUCCESS":return console.log("reset password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SELLER_ERROR":return console.log("become seller error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Become seller failed"});case"SELLER_SUCCESS":return console.log("Successfully became a seller."),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CONSUMER_ERROR":return console.log("become consumer error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Please accept the terms and conditions"});case"CONSUMER_SUCCESS":return console.log("Successfully became a consumer."),Object(n.a)(Object(n.a)({},e),{},{authError:null});default:return e}},Ii={},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ii;return e},Li={authError:null,getData:[]},Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_DATA_ERROR":return console.log("create data error "+t.err.message),Object(n.a)(Object(n.a)({},e),{},{authError:"Create failed"});case"CREATE_DATA":return console.log("create data success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"GET_DATA_ERROR":return console.log("get data error "+t.err.message),Object(n.a)(Object(n.a)({},e),{},{authError:"Get failed"});case"GET_DATA":return console.log("get data success"),Object(n.a)(Object(n.a)({},e),{},{getData:t.payload,authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"CHANGE_ERROR":return console.log("change password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing password failed"});case"CHANGE_SUCCESS":return console.log("change password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"RESET_ERROR":return console.log("reset password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Resetting password failed"});case"RESET_SUCCESS":return console.log("reset password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});default:return e}},Bi={authError:null,meals:[],savedMeals:[],shoppingList:[],newShoppingList:[],shopItems:[],inventory:[]},Gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MEAL":return console.log("meal created",t.mealPlan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_MEAL_ERROR":return console.log("error, meal not created",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Create meal failed"});case"GET_MEALS":return console.log("get meals success",t.payload),Object(n.a)(Object(n.a)({},e),{},{meals:t.payload,authError:null});case"GET_MEALS_ERROR":return console.log("error, couldn't fetch meals",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get meals failed"});case"EDIT_MEAL":return console.log("successfully edited",t.mealPlan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"EDIT_MEAL_ERROR":return console.log("error, couldn't edit meal",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Edit meal failed"});case"DELETE_MEAL":return console.log("successfully deleted",t.mealPlan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_MEAL_ERROR":return console.log("error, couldn't delete meal",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete meal failed"});case"CREATE_RECIPE":return console.log("recipe saved",t.recipe),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_RECIPE_ERROR":return console.log("error, recipe not saved",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Create recipe failed"});case"GET_RECIPES":return console.log("get meals success",t.payload),Object(n.a)(Object(n.a)({},e),{},{savedMeals:t.payload,authError:null});case"GET_RECIPES_ERROR":return console.log("error, couldn't fetch recipes",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get recipe failed"});case"DELETE_RECIPE":return console.log("successfully deleted",t.recipe),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_RECIPE_ERROR":return console.log("error, couldn't delete meal",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete recipe failed"});case"GET_SHOPPING_LIST":return console.log("get shopping list success",t.payload),Object(n.a)(Object(n.a)({},e),{},{shoppingList:t.payload,authError:null});case"GET_SHOPPING_LIST_ERROR":return console.log("error, couldn't get shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get shoppiung list failed"});case"GET_NEW_SHOPPING_LIST":return console.log("get shopping list success",t.payload),Object(n.a)(Object(n.a)({},e),{},{newShoppingList:t.payload,authError:null});case"GET_NEW_SHOPPING_LIST_ERROR":return console.log("error, couldn't get shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get shoppiung list failed"});case"CREATE_SHOP":return console.log("added to shop",t.ingr),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_SHOP_ERROR":return console.log("error, couldn't add to shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Add to shop failed"});case"CREATE_NEW_SHOP":return console.log("added to shop",t.ingr),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_NEW_SHOP_ERROR":return console.log("error, couldn't add to shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Add to shop failed"});case"CREATE_SHOP_ITEMS":return console.log("added to shop",t.ingr),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_SHOP_ITEMS_ERROR":return console.log("error, couldn't add to shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Add to shop failed"});case"DELETE_SHOP":return console.log("successfully deleted item"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_SHOP_ERROR":return console.log("error, couldn't delete item",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete item failed"});case"DELETE_NEW_SHOP":return console.log("successfully deleted item"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_NEW_SHOP_ERROR":return console.log("error, couldn't delete item",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete item failed"});case"GET_RESTAURANT_SHOPPING_LIST":return console.log("get shopping list success",t.payload),Object(n.a)(Object(n.a)({},e),{},{shoppingList:t.payload,authError:null});case"GET_RESTAURANT_SHOPPING_LIST_ERROR":return console.log("error, couldn't get shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get shoppiung list failed"});case"CREATE_RESTAURANT_SHOP":return console.log("added to shop",t.ingr),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_RESTAURANT_SHOP_ERROR":return console.log("error, couldn't add to shopping list",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Add to shop failed"});case"DELETE_RESTAURANT_SHOP":return console.log("successfully deleted item"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_RESTAURANT_SHOP_ERROR":return console.log("error, couldn't delete item",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete item failed"});case"GET_INVENTORY":return console.log("get inventory success",t.payload),Object(n.a)(Object(n.a)({},e),{},{inventory:t.payload,authError:null});case"GET_INVENTORY_ERROR":return console.log("error, couldn't fetch inventory",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get inventory failed"});case"CREATE_INVENTORY_ITEM":return console.log("inventory item created",t.mealPlan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_INVENTORY_ITEM_ERROR":return console.log("error, inventory item not created",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Create inventory item failed"});case"DELETE_INVENTORY_ITEM":return console.log("successfully deleted",t.mealPlan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_INVENTORY_ITEM_ERROR":return console.log("error, couldn't delete inventory item",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Edit inventory item failed"});default:return e}},Yi={authError:null,meals:[],savedMeals:[],shoppingList:[],inventory:[],plans:[],items:[],newPlans:[],weekPlans:[],allItems:[]},Ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MEAL_PLAN":return console.log("meal planner created",t.mealPlanner),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_MEAL_PLANNER_ERROR":return console.log("error, meal plan not created",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Create meal failed"});case"GENERATE_MEAL_PLAN":return console.log("meal planner generated",t.plan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"GENERATE_MEAL_PLANNER_ERROR":return console.log("error, meal plan not generated",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Create meal failed"});case"REMOVE_ALL_MEAL_PAN":return console.log("successfully removed all meal plan",t.mealPlan),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"REMOVE_ALL_MEAL_PLAN_ERROR":return console.log("error, couldn't remove all meal plan",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete meal failed"});case"GET_MEAL_PLANS":return console.log("get meals plans success",t.payload),Object(n.a)(Object(n.a)({},e),{},{plans:t.payload,authError:null});case"GET_MEAL_PLANS_ERROR":return console.log("error, couldn't fetch meals",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get meals failed"});case"GET_WEEK_PLANS":return console.log("get week plans success",t.payload),Object(n.a)(Object(n.a)({},e),{},{weekPlans:t.payload,authError:null});case"GET_WEEK_PLANS_ERROR":return console.log("error, couldn't fetch meals",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get meals failed"});case"GET_NEW_PLANS":return console.log("get meal plan success",t.payload),Object(n.a)(Object(n.a)({},e),{},{newPlans:t.payload,authError:null});case"GET_NEW_PLANS_ERROR":return console.log("error, couldn't fetch meals",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Get meals failed"});case"DELETE_MEAL_PLAN":return console.log("successfully deleted item"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_MEAL_PLAN_ERROR":return console.log("error, couldn't delete item",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"delete item failed"});case"GET_ALL_MEAL_PLAN":return console.log("getting all meal panner items",t.plan),Object(n.a)(Object(n.a)({},e),{},{allItems:t.plan,authError:null});case"EDIT_INVENTORY":return console.log("successfully edited",t.data),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"EDIT_INVENTORY_ERROR":return console.log("error, couldn't edit inventory item",t.err),Object(n.a)(Object(n.a)({},e),{},{authError:"Edit inventory item failed"});default:return e}},Vi=Object(ye.c)({auth:Mi,map:Ai,data:Wi,mealPlan:Gi,mealPlanner:Ui,firebase:Qt.firebaseReducer,firestore:Pi.firestoreReducer}),qi=a(613),Hi=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,zi=Object(ye.e)(Vi,{},Hi(Object(ye.a)(qi.a.withExtraArgument({getFirebase:Qt.getFirebase,getFirestore:Pi.getFirestore})))),Ki={firebase:O.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:zi.dispatch,createFirestoreInstance:Pi.createFirestoreInstance,RealtimeDB:Ie},Ji=function(e){var t=e.children,a=Object(f.c)((function(e){return e.firebase.auth}));return Object(Qt.isLoaded)(a)?t:Object(j.jsx)("div",{})};o.a.render(Object(j.jsx)(f.a,{store:zi,children:Object(j.jsx)(Qt.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},Ki),{},{children:Object(j.jsx)(Ji,{children:Object(j.jsx)(_i,{})})}))}),document.getElementById("root")),Fi()}},[[971,1,2]]]);
//# sourceMappingURL=main.35b28388.chunk.js.map