(this.webpackJsonpplatform=this.webpackJsonpplatform||[]).push([[0],{101:function(e,t,a){},112:function(e,t,a){},199:function(e,t,a){},229:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},382:function(e,t,a){},453:function(e){e.exports=JSON.parse('{"categories":{"Grains":[{"crop":"Winter wheat","phosphorus":50,"potassium":125,"nitrogen":280,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","black point","black rust","blackberry-cereal aphid","brown foot rot","brown rust","bunt","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","click beetles","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","hare, brown","keeled slugs","late season diseases","leaf spot","leatherjackets","loose smut","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","stem rust","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","wheat shoot beetle","wheat soil-borne mosaic","white-soled slugs","wireworms","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Maize","pests":["barley yellow dwarf","bird cherry-oat aphid","cereal leaf aphid","click beetles","corn leaf aphid","fescue aphid (subspecies)","field slug","frit fly","garden slugs","grain aphid","hare, brown","keeled slugs","rabbit","rat, brown","rose-grain aphid","slugs","smut","stalk rot","white-soled slugs","wireworms"]},{"crop":"Winter barley","phosphorus":50,"potassium":125,"nitrogen":220,"pests":["barley mosaic","barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","brown rust","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","halo spot","hare, brown","keeled slugs","late season diseases","leaf blotch","leaf spot","leaf stripe","leatherjackets","loose smut","net blotch","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","white-soled slugs","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Winter oats","phosphorus":50,"potassium":125,"nitrogen":190,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","cereal cyst nematode","cereal leaf aphid","click beetles","common rustic moth","corn leaf aphid","crane flies","crown rust","daddy longlegs","ear blight","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","grain aphid","hare, brown","keeled slugs","leatherjackets","loose smut","oat golden stripe","oat mosaic","oat thrips","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","slugs","sooty moulds","stem nematode","thrips","wheat flea beetle","wheat shoot beetle","white-soled slugs","wireworms"]},{"crop":"Spring wheat","phosphorus":50,"potassium":125,"nitrogen":220,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","black point","black rust","blackberry-cereal aphid","brown foot rot","brown rust","bunt","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","click beetles","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","hare, brown","keeled slugs","late season diseases","leaf spot","leatherjackets","loose smut","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","stem rust","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","wheat shoot beetle","wheat soil-borne mosaic","white-soled slugs","wireworms","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Spring barley","phosphorus":50,"potassium":125,"nitrogen":160,"pests":["barley mosaic","barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","brown rust","cereal cyst nematode","cereal leaf aphid","cereal root-knot nematode","common rustic moth","corn leaf aphid","crane flies","daddy longlegs","ear blight","ergot","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","glume blotch","gout fly","grain aphid","halo spot","hare, brown","keeled slugs","late season diseases","leaf blotch","leaf spot","leaf stripe","leatherjackets","loose smut","net blotch","oat thrips","pigeon","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","sharp eyespot","slugs","snow mould","snow rot","sooty moulds","take-all","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","wheat flea beetle","white-soled slugs","wood pigeon","yellow cereal fly","yellow rust"]},{"crop":"Spring oats","phosphorus":50,"potassium":125,"nitrogen":130,"pests":["barley thrips","barley yellow dwarf","bird cherry-oat aphid","blackberry-cereal aphid","brown foot rot","cereal cyst nematode","cereal leaf aphid","click beetles","common rustic moth","corn leaf aphid","crane flies","crown rust","daddy longlegs","ear blight","eyespot","fescue aphid (subspecies)","field slug","frit fly","garden slugs","grain aphid","hare, brown","keeled slugs","leatherjackets","loose smut","oat golden stripe","oat mosaic","oat thrips","powdery mildew","rabbit","rat, brown","rose-grain aphid","saddle gall midge","seedling blight","slugs","sooty moulds","stem nematode","thrips","wheat flea beetle","wheat shoot beetle","white-soled slugs","wireworms"]},{"crop":"Rye","phosphorus":50,"potassium":125,"nitrogen":150,"pests":["barley thrips","bird cherry-oat aphid","blackberry-cereal aphid","crane flies","daddy longlegs","ergot","field slug","frit fly","garden slugs","gout fly","grain aphid","hare, brown","keeled slugs","leatherjackets","oat thrips","rabbit","rat, brown","rose-grain aphid","saddle gall midge","slugs","stem nematode","thrips","wheat blossom midge, orange","wheat blossom midge, yellow","wheat bulb fly","white-soled slugs","yellow cereal fly"],"nutrients":{"crop":"Rye","Fat":"3.3g","Sodium":"603mg","Potassium":"166mg","Carbs":"48g","Protein":"9g","Vit. C":0,"Iron":0.15,"Vit. B6":0.05,"Magnesium":0.1,"Calcium":0.07}},{"crop":"Triticale","phosphorus":50,"potassium":125,"nitrogen":280,"nutrients":{"crop":"Triticale","Fat":"4g","Sodium":"9.6mg","Potassium":"637mg","Carbs":"138g","Protein":"25g","Vit. C":0,"Iron":0.27,"Vit. B6":0.2,"Magnesium":0.3,"Calcium":0.04}},{"crop":"Peas","phosphorus":45,"potassium":85,"nitrogen":0,"pests":["bacterial blight","bean leaf roll","bean seed flies","black root rot","cabbage thrips","field slug","field thrips","foot rot","garden slugs","grey mould","keeled slugs","leaf and pod spot","pea and bean weevil","pea aphid","pea blight","pea cyst nematode","pea downy mildew","pea early browning","pea enation mosaic","pea leaf roll","pea midge","pea moth","pea seed-borne mosaic","pea thrips","pea top yellows","pea wilt","pigeon","pre-emergence damping off","root rot","sclerotinia","silver y moth","slugs","stem nematode","white-soled slugs","wood pigeon"],"nutrients":{"crop":"Peas","Fat":"0.2g","Sodium":"58mg","Potassium":"244mg","Carbs":"14g","Protein":"5g","Vit. C":0.66,"Iron":0.08,"Vit. B6":0.1,"Magnesium":0.08,"Calcium":0.02}},{"crop":"Broad beans","phosphorus":45,"potassium":85,"nitrogen":0,"pests":["bean beetle","bean leaf roll","bean seed beetle","bean yellow mosaic","black bean aphid","blackfly","broad bean stain","broad bean true mosaic","cabbage thrips","chocolate spot","downy mildew","field thrips","foot rot","leaf stem and pod spot","pea and bean weevil","pea aphid","pea cyst nematode","root rot","rust","sclerotinia stem rot","stem nematode"],"nutrients":{"crop":"Broad beans","Fat":"0.7g","Sodium":"25mg","Potassium":"332mg","Carbs":"18g","Protein":"8g","Vit. C":0.06,"Iron":0.08,"Vit. B6":0.05,"Magnesium":0.08,"Calcium":0.03}},{"crop":"Runner peas","phosphorus":45,"potassium":85,"nitrogen":0,"pests":["bacterial blight","bean leaf roll","bean seed flies","black root rot","cabbage thrips","field slug","field thrips","foot rot","garden slugs","grey mould","keeled slugs","leaf and pod spot","pea and bean weevil","pea aphid","pea blight","pea cyst nematode","pea downy mildew","pea early browning","pea enation mosaic","pea leaf roll","pea midge","pea moth","pea seed-borne mosaic","pea thrips","pea top yellows","pea wilt","pigeon","pre-emergence damping off","root rot","sclerotinia","silver y moth","slugs","stem nematode","white-soled slugs","wood pigeon"],"nutrients":{"crop":"Runner peas","Fat":"0.4g","Sodium":"6mg","Potassium":"130mg","Carbs":"3.2g","Protein":"1.8g","Vit. C":0.27,"Iron":0.05,"Vit. B6":0.05,"Magnesium":0.06,"Calcium":0.03}},{"crop":"Lupin","pests":["anthracnose","bean yellow mosaic","brown spot","cabbage thrips","field thrips","grey mould","lupin aphid","lupin rust"]}],"Oil":[{"crop":"Winter rapeseed","phosphorus":45,"potassium":75,"nitrogen":220,"pests":["beet cyst nematode","beet western yellows","blossom beetles","botrytis","brassica cyst nematode","brassica pod midge","cabbage aphid","cabbage leaf miner","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","club root","damping-off","dark leaf and pod spot","downy mildew","field slug","garden slugs","grey mould","keeled slugs","light leaf spot","phoma leaf spot","pigeon","pollen beetles","powdery mildew","rape winter stem weevil","sclerotinia stem rot","slugs","stem canker","white blister","white leaf spot","white rust","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Spring rapeseed","phosphorus":45,"potassium":75,"nitrogen":150,"pests":["beet cyst nematode","beet western yellows","blossom beetles","botrytis","brassica cyst nematode","brassica pod midge","cabbage aphid","cabbage leaf miner","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","club root","damping-off","dark leaf and pod spot","downy mildew","field slug","garden slugs","grey mould","keeled slugs","light leaf spot","phoma leaf spot","pigeon","pollen beetles","powdery mildew","rape winter stem weevil","sclerotinia stem rot","slugs","stem canker","white blister","white leaf spot","white rust","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Linseed","phosphorus":45,"potassium":75,"nitrogen":100,"pests":["blight","cabbage thrips","capsids","common green capsid","field thrips","flax flea beetle","fusarium wilt","grey mould","large flax flea beetle","linseed flea beetle","pasmo","potato capsid","powdery mildew","sclerotinia","tarnished plant bug","verticillium wilt"]},{"crop":"Sunflower","phosphorus":15,"potassium":45,"nitrogen":50,"pests":["botrytis head rot","sclerotinia rot","sclerotinia wilt"]}],"Vegetables":[{"crop":"Sugar beet","pests":["beet cyst nematode","beet flea beetle","beet fly","beet leaf miner","beet mosaic","black bean aphid","blackfly","blackleg","cabbage thrips","capsids","click beetles","common green capsid","crane flies","cutworms","daddy longlegs","Docking disorder","downy mildew","field mouse","field slug","field thrips","flat millepede","garden dart moth","garden slugs","glasshouse and potato aphid","hare, brown","keeled slugs","large yellow underwing moth","leatherjackets","mangel flea beetle","mangel fly","mangold flea beetle","mangold fly","millepedes","mouse","needle nematodes","partridge","peach-potato aphid","pheasant","potato aphid","potato capsid","powdery mildew","pygmy beetle","pygmy mangold beetle","rabbit","ramularia leaf spot","rat, brown","red spider mite","rhizomania","rust","silver y moth","skylark","slugs","spotted millepede","spotted snake millepede","springtails","stem nematode","stubby-root nematodes","symphylid, glasshouse","tarnished plant bug","turnip moth","two-spotted spider mite","violet root rot","virus yellows","white-line dart moth","white-soled slugs","wireworms","wood mouse"]},{"crop":"Mustard, brown","pests":["beet cyst nematode","blossom beetles","brassica pod midge","cabbage seed weevil","cabbage stem weevil","pollen beetles"]},{"crop":"Mustard, white","pests":["beet cyst nematode","blossom beetles","cabbage stem weevil","pollen beetles"]},{"crop":"Swiss Chard","pests":["Aphids","Armyworms","Blister Beetles","Cabbageworms","Cucumber Beetles","Cutworms","Darkling Beetles","Diamondback Moth Caterpillars","Flea Beetles","Leafhoppers","Leaf Miners","Lygus Bugs","Slugs and Snails"]},{"crop":"Sprouts","phosphorus":90,"potassium":240,"nitrogen":330,"pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","dark leaf spot","diamond-back moth","downy mildew","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","powdery mildew","ringspot","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white blister","white rust","white-soled slugs","wirestem","wood pigeon"],"nutrients":{"crop":"Sprouts","Fat":"0.3g","Sodium":"25mg","Potassium":"389mg","Carbs":"9g","Protein":"3.4g","Vit. C":1.41,"Iron":0.07,"Vit. B6":0.1,"Magnesium":0.05,"Calcium":0.04}},{"crop":"Broccoli","pests":["bean seed flies","beet cyst nematode","blossom beetles","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","pollen beetles","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Winter cabbage","phosphorus":90,"potassium":240,"nitrogen":325,"pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","onion thrips","pigeon","powdery mildew","sclerotinia stem rot","slugs","small striped fleabeetle","small white butterfly","swede midge","turnip flea beetle","turnip gallweevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Winter collards","phosphorus":90,"potassium":240,"nitrogen":210},{"crop":"Winter cauliflower","phosphorus":90,"potassium":240,"nitrogen":100,"pests":["bean seed flies","beet cyst nematode","black rot","blossom beetles","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cauliflower mosaic","club root","cruciferous flea beetle","damping-off","diamond-back moth","downy mildew","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","pollen beetles","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip yellow mosaic","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Spring cabbage","phosphorus":90,"potassium":240,"nitrogen":240,"pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","onion thrips","pigeon","powdery mildew","sclerotinia stem rot","slugs","small striped fleabeetle","small white butterfly","swede midge","turnip flea beetle","turnip gallweevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Spring collards","phosphorus":90,"potassium":240,"nitrogen":320},{"crop":"Summer cauliflower","phosphorus":90,"potassium":240,"nitrogen":290,"pests":["bean seed flies","beet cyst nematode","black rot","blossom beetles","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cauliflower mosaic","club root","cruciferous flea beetle","damping-off","diamond-back moth","downy mildew","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","light leaf spot","pigeon","pollen beetles","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip yellow mosaic","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Calabrese","phosphorus":90,"potassium":240,"nitrogen":235,"nutrients":{"crop":"Calabrese","Fat":"0.3g","Sodium":"30mg","Potassium":"293mg","Carbs":"6g","Protein":"2.6g","Vit. C":0.84,"Iron":0.06,"Vit. B6":0.12,"Magnesium":0.27,"Calcium":0.02}},{"crop":"Leek","phosphorus":90,"potassium":230,"nitrogen":200,"pests":["cutworms","garden dart moth","large yellow underwing moth","leek moth","leek rust","onion fly","onion thrips","stem nematode","turnip moth","white tip","white-line dart moth"],"nutrients":{"crop":"Leek","Fat":"0.3g","Sodium":"20mg","Potassium":"180mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.2,"Iron":0.11,"Vit. B6":0.1,"Magnesium":0.07,"Calcium":0.05}},{"crop":"lettuce","phosphorus":110,"potassium":220,"nitrogen":200,"pests":["beet western yellows","currant-lettuce aphid","cutworms","downy mildew","field slug","garden dart moth","garden slugs","glasshouse and potato aphid","grey mould","keeled slugs","large yellow underwing moth","lettuce big vein","lettuce mosaic","lettuce root aphid","peach-potato aphid","potato aphid","rhizoctonia rot","sclerotinia rot","silver y moth","slugs","turnip moth","white-line dart moth","white-soled slugs"]},{"crop":"Kale","pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","pigeon","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white-soled slugs","wirestem","wood pigeon"]},{"crop":"Kohlrabi","pests":["bean seed flies","beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage leaf miner","cabbage moth","cabbage root fly","cabbage seed weevil","cabbage stem flea beetle","cabbage stem weevil","cruciferous flea beetle","damping-off","diamond-back moth","field slug","flea beetles","garden slugs","green-veined white butterfly","keeled slugs","large striped flea beetle","large white butterfly","pigeon","sclerotinia stem rot","slugs","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","white-soled slugs","wirestem","wood pigeon"]}],"Soft fruits":[{"crop":"Blackcurrant","phosphorus":50,"potassium":200,"nitrogen":60,"nutrients":{"crop":"Blackcurrant","Fat":"0g","Sodium":"25mg","Potassium":"332mg","Carbs":"31.1g","Protein":"0g","Vit. C":3.01,"Iron":0.195,"Vit. B6":0.04,"Magnesium":0.06,"Calcium":0.055}},{"crop":"Gooseberry","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Gooseberry","Fat":"0.58g","Sodium":"1mg","Potassium":"198mg","Carbs":"15g","Protein":"1g","Vit. C":0.55,"Iron":0.04,"Vit. B6":0.07,"Magnesium":0.025,"Calcium":0.025}},{"crop":"Raspberry","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Raspberry","Fat":"0.7g","Sodium":"1mg","Potassium":"151mg","Carbs":"12g","Protein":"1.2g","Vit. C":0.43,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.02}},{"crop":"Blackberry","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Blackberry","Fat":"0.5g","Sodium":"1mg","Potassium":"162mg","Carbs":"10g","Protein":"1.4g","Vit. C":0.35,"Iron":0.03,"Vit. B6":0,"Magnesium":0.05,"Calcium":0.02}},{"crop":"Redcurrant","phosphorus":50,"potassium":200,"nitrogen":120,"nutrients":{"crop":"Redcurrant","Fat":"0.2g","Sodium":"1.1mg","Potassium":"308mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.68,"Iron":0.08,"Vit. B6":0.06,"Magnesium":0.06,"Calcium":0.055}},{"crop":"Strawberry","phosphorus":50,"potassium":200,"nitrogen":60,"nutrients":{"crop":"Strawberry","Fat":"0.3g","Sodium":"1mg","Potassium":"153mg","Carbs":"8g","Protein":"0.7g","Vit. C":0.97,"Iron":0.02,"Vit. B6":0,"Magnesium":0.03,"Calcium":0.01}}],"Root vegetables":[{"crop":"Beetroot","phosphorus":90,"potassium":240,"nitrogen":290,"nutrients":{"crop":"Beetroot","Fat":"0.2g","Sodium":"78mg","Potassium":"325mg","Carbs":"10g","Protein":"1.6g","Vit. C":0.08,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.01}},{"crop":"Peppers","pests":["Cutworms"," aphids"," armyworms"," fruitworms"," flea beeetles"," corn borers"," hornworms"," whitflies"]},{"crop":"Tomatoes","pests":["Aphids"," Tomato Fruitworms"," Hornworms"," Leaf-footed Bugs"," Stink Bugs"," Flea Beetles"," Whiteflies"," Thrips"," Spider Mites"," Cutworms"]},{"crop":"Potatoes","pests":["black dot","black scurf","blackleg","brown rot","buckthorn-potato aphid","capsids","click beetles","Colorado beetle","common green capsid","common scab","cutworms","dry rot","field slug","gangrene","garden dart moth","garden slugs","glasshouse and potato aphid","keeled slugs","large yellow underwing moth","late blight","leaf drop streak","mild mosaic","mop top","PCN","peach-potato aphid","pink rot","potato aphid","potato capsid","potato cyst nematode, white","potato cyst nematode, yellow","potato leaf roll","potato tuber nematode","powdery scab","rattle","rugose mosaic","severe mosaic","silver scurf","skin spot","slugs","spraing","stem canker","tarnished plant bug","turnip moth","verticillium wilt","violet root rot","wart","watery wound rot","white-line dart moth","white-soled slugs","wireworms "]},{"crop":"Swede","phosphorus":90,"potassium":240,"nitrogen":135,"pests":["beet cyst nematode","brassica cyst nematode","cabbage aphid","cabbage root fly","club root","cruciferous flea beetle","cutworms","damping-off","diamond-back moth","flea beetles","garden dart moth"," green-veined white butterflylarge striped flea beetle","large white butterfly","large yellow underwing moth","light leaf spot","pigeon","powdery mildew","rape winter stem weevil","sclerotinia stem rot","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip moth","white-line dart moth","wirestem","wood pigeon"],"nutrients":{"crop":"Swede","Fat":"0.2g","Sodium":"12mg","Potassium":"305mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.41,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.04}},{"crop":"Turnip","phosphorus":90,"potassium":240,"nitrogen":170,"pests":["beet cyst nematode","brassica cyst nematode","cabbage root fly","cruciferous flea beetle","cutworms","damping-off","diamond-back moth","flea beetles","garden dart moth","green-veined white butterfly","large striped flea beetle","large white butterfly","large yellow underwing moth","pigeon","powdery mildew","rape winter stem weevil","sclerotinia stem rot","small striped flea beetle","small white butterfly","swede midge","turnip flea beetle","turnip gall weevil","turnip mosaic","turnip moth","turnip yellow mosaic","white-line dart moth","wirestem","wood pigeon"],"nutrients":{"crop":"Turnip","Fat":"0.1g","Sodium":"67mg","Potassium":"191mg","Carbs":"6g","Protein":"0.9mg","Vit. C":0.35,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.03}},{"crop":"Parsnip","phosphorus":90,"potassium":240,"nitrogen":170,"pests":["canker","carrot fly","celery fly","celery leaf miner","cutworms","Docking disorder","garden dart moth","large yellow underwing moth","needle nematodes","parsnip mosaic","stem nematode","stubby-root nematodes","turnip moth","violet root rot","white rot","white-line dart moth","willow-carrot aphid"],"nutrients":{"crop":"Parsnip","Fat":"0.3g","Sodium":"10mg","Potassium":"375mg","Carbs":"18g","Protein":"1.2mg","Vit. C":0.28,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.07,"Calcium":0.03}},{"crop":"Carrot","phosphorus":90,"potassium":240,"nitrogen":100,"pests":["carrot cyst nematode","carrot fly","carrot motley dwarf","carrot mottle","carrot red leaf","cavity spot","cutworms","Docking disorder","field slug","garden dart moth","garden slugs","hare"],"nutrients":{"crop":"Carrot","Fat":"0.2g","Sodium":"69mg","Potassium":"320mg","Carbs":"10g","Protein":"0.9mg","Vit. C":0.09,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.03}},{"crop":"Onion","phosphorus":90,"potassium":230,"nitrogen":160,"pests":["bean seed flies","downy mildew","leaf rot","leek moth","neck rot","onion fly","onion thrips","onion yellow dwarf","smut","stem nematode","white rot","white tip"],"nutrients":{"crop":"Onion","Fat":"0.1g","Sodium":"4mg","Potassium":"146mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.12,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02}},{"crop":"Garlic","pests":["basal rot"," white rot"," downy mildew"," botrytis rot"," penicillium decay"]},{"crop":"Fodder beet","pests":["beet cyst nematode","beet flea beetle","beet fly","beet leaf miner","black bean aphid","blackfly","cabbage thrips","capsids","click beetles","common green capsid","crane flies","cutworms","daddy longlegs","field mouse","field slug","field thrips","flat millepede","garden dart moth","garden slugs","glasshouse and potato aphid","hare, brown","keeled slugs","large yellow underwing moth","leatherjackets","mangel flea beetle","mangel fly","mangold flea beetle","mangold fly","millepedes","mouse","partridge","peach-potato aphid","pheasant","potato aphid","potato capsid","pygmy beetle","pygmy mangold beetle","rabbit","rat, brown","red spider mite","silver y moth","skylark","slugs","spotted millepede","spotted snake millepede","springtails","stem nematode","symphylid, glasshouse","tarnished plant bug","turnip moth","two-spotted spider mite","white-line dart moth","white-soled slugs","wireworms","wood mouse"]},{"crop":"Celery","phosphorus":110,"potassium":380,"nitrogen":75,"pests":["carrot fly","carrot motley dwarf","carrot mottle","carrot red leaf","celery fly","celery leaf miner","cutworms","field slug","garden dart moth","garden slugs","keeled slugs","large yellow underwing moth","late blight","leaf spot","slugs","turnip moth","violet root rot","white-line dart moth","white-soled slugs","willow-carrot aphid"],"nutrients":{"crop":"Celery","Fat":"0.1g","Sodium":"32mg","Potassium":"104mg","Carbs":"1.2g","Protein":"0.3g","Vit. C":0.08,"Iron":0.17,"Vit. B6":0.046,"Magnesium":0.2,"Calcium":0.13}}],"Other":[{"crop":"Sweetcorn","phosphorus":80,"potassium":210,"nitrogen":200,"nutrients":{"crop":"Sweetcorn","Fat":"1.2g","Sodium":"15mg","Potassium":"270mg","Carbs":"19g","Protein":"3.2g","Vit. C":0.11,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.09,"Calcium":0}},{"crop":"Radish","phosphorus":80,"potassium":210,"nitrogen":100,"nutrients":{"crop":"Radish","Fat":"0.1g","Sodium":"39mg","Potassium":"233mg","Carbs":"3.4g","Protein":"0.7g","Vit. C":0.24,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02}},{"crop":"Pumpkin","phosphorus":110,"potassium":125,"nitrogen":100,"nutrients":{"crop":"Pumpkin","Fat":"0.1g","Sodium":"1mg","Potassium":"340mg","Carbs":"7g","Protein":"1g","Vit. C":0.15,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.02}},{"crop":"Courgette","phosphorus":110,"potassium":125,"nitrogen":100,"nutrients":{"crop":"Courgette","Fat":"0.3g","Sodium":"8mg","Potassium":"261mg","Carbs":"3.1g","Protein":"1.2g","Vit. C":0.29,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.04,"Calcium":0.01}},{"crop":"Aubergine","pests":["American Serpentine Leafminer"," Aphids"," Armyworms"," Melon Thrips"," Silverleaf Whitefly"," Tomato Pinworm"]},{"crop":"Parsley","pests":["carrot fly","carrot motley dwarf","carrot mottle","carrot red leaf","celery fly","celery leaf miner","late blight","leaf spot","parsnip mosaic","violet root rot","willow-carrot aphid"]}]}}')},560:function(e,t,a){},564:function(e,t,a){},578:function(e,t,a){},727:function(e,t,a){},730:function(e,t,a){},740:function(e,t,a){},741:function(e,t,a){},742:function(e,t,a){},743:function(e,t,a){},744:function(e,t,a){},745:function(e,t,a){},746:function(e,t,a){},749:function(e,t,a){var n={"./Grains-01.png":750,"./Oil-01.png":751,"./Other-01.png":752,"./Root vegetables-01.png":753,"./Soft fruits-01.png":754,"./Vegetables-01.png":755};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=749},750:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Grains-01.6d747af3.png"},751:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Oil-01.bf2d671a.png"},752:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Other-01.d0da66c7.png"},753:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Root vegetables-01.8390b8aa.png"},754:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Soft fruits-01.ab2cfac3.png"},755:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Vegetables-01.387314a6.png"},756:function(e){e.exports=JSON.parse('[{"crop":"Wheat flour","Fat":"1g","Sodium":"2mg","Potassium":"107mg","Carbs":"76g","Protein":"10g","Vit. C":0,"Iron":0.06,"Vit. B6":0,"Magnesium":0.05,"Calcium":0.01},{"crop":"Barley","Fat":"2.3g","Sodium":"12mg","Potassium":"452mg","Carbs":"73g","Protein":"12g","Vit. C":0,"Iron":0.19,"Vit. B6":0.15,"Magnesium":0.33,"Calcium":0.03},{"crop":"Oats","Fat":"5g","Sodium":"230mg","Potassium":"130mg","Carbs":"51g","Protein":"13g","Vit. C":0,"Iron":0.26,"Vit. B6":0.06,"Magnesium":0.39,"Calcium":0.05},{"crop":"Rye","Fat":"3.3g","Sodium":"603mg","Potassium":"166mg","Carbs":"48g","Protein":"9g","Vit. C":0,"Iron":0.15,"Vit. B6":0.05,"Magnesium":0.1,"Calcium":0.07},{"crop":"Triticale","Fat":"4g","Sodium":"9.6mg","Potassium":"637mg","Carbs":"138g","Protein":"25g","Vit. C":0,"Iron":0.27,"Vit. B6":0.2,"Magnesium":0.3,"Calcium":0.04},{"crop":"Rapeseed oil","Fat":"14g","Sodium":"0mg","Potassium":"0mg","Carbs":"0g","Protein":"0g","Vit. C":0,"Iron":0,"Vit. B6":0,"Magnesium":0,"Calcium":0},{"crop":"Linseed oil","Fat":"100g","Sodium":"0mg","Potassium":"813mg","Carbs":"0g","Protein":"0.1g","Vit. C":0,"Iron":0,"Vit. B6":0,"Magnesium":0,"Calcium":0},{"crop":"Sunflower seeds","Fat":"51g","Sodium":"9mg","Potassium":"645mg","Carbs":"20g","Protein":"21g","Vit. C":0.02,"Iron":0.29,"Vit. B6":0.65,"Magnesium":0.81,"Calcium":0.07},{"crop":"Peas","Fat":"0.2g","Sodium":"58mg","Potassium":"244mg","Carbs":"14g","Protein":"5g","Vit. C":0.66,"Iron":0.08,"Vit. B6":0.1,"Magnesium":0.08,"Calcium":0.02},{"crop":"Broad beans","Fat":"0.7g","Sodium":"25mg","Potassium":"332mg","Carbs":"18g","Protein":"8g","Vit. C":0.06,"Iron":0.08,"Vit. B6":0.05,"Magnesium":0.08,"Calcium":0.03},{"crop":"Runner peas","Fat":"0.4g","Sodium":"6mg","Potassium":"130mg","Carbs":"3.2g","Protein":"1.8g","Vit. C":0.27,"Iron":0.05,"Vit. B6":0.05,"Magnesium":0.06,"Calcium":0.03},{"crop":"Sprouts","Fat":"0.3g","Sodium":"25mg","Potassium":"389mg","Carbs":"9g","Protein":"3.4g","Vit. C":1.41,"Iron":0.07,"Vit. B6":0.1,"Magnesium":0.05,"Calcium":0.04},{"crop":"Cabbage","Fat":"0.1g","Sodium":"18mg","Potassium":"170mg","Carbs":"6g","Protein":"1.3g","Vit. C":0.6,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.04},{"crop":"Collards","Fat":"0.6g","Sodium":"17mg","Potassium":"213mg","Carbs":"5g","Protein":"3g","Vit. C":0.58,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.06,"Calcium":0.23},{"crop":"Cauliflower","Fat":"0.3g","Sodium":"30mg","Potassium":"299mg","Carbs":"5g","Protein":"1.9g","Vit. C":0.8,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.03,"Calcium":0.02},{"crop":"Calabrese","Fat":"0.3g","Sodium":"30mg","Potassium":"293mg","Carbs":"6g","Protein":"2.6g","Vit. C":0.84,"Iron":0.06,"Vit. B6":0.12,"Magnesium":0.27,"Calcium":0.02},{"crop":"Blackcurrant","Fat":"0g","Sodium":"25mg","Potassium":"332mg","Carbs":"31.1g","Protein":"0g","Vit. C":3.01,"Iron":0.195,"Vit. B6":0.04,"Magnesium":0.06,"Calcium":0.055},{"crop":"Gooseberry","Fat":"0.58g","Sodium":"1mg","Potassium":"198mg","Carbs":"15g","Protein":"1g","Vit. C":0.55,"Iron":0.04,"Vit. B6":0.07,"Magnesium":0.025,"Calcium":0.025},{"crop":"Raspberry","Fat":"0.7g","Sodium":"1mg","Potassium":"151mg","Carbs":"12g","Protein":"1.2g","Vit. C":0.43,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.02},{"crop":"Blackberry","Fat":"0.5g","Sodium":"1mg","Potassium":"162mg","Carbs":"10g","Protein":"1.4g","Vit. C":0.35,"Iron":0.03,"Vit. B6":0,"Magnesium":0.05,"Calcium":0.02},{"crop":"Redcurrant","Fat":"0.2g","Sodium":"1.1mg","Potassium":"308mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.68,"Iron":0.08,"Vit. B6":0.06,"Magnesium":0.06,"Calcium":0.055},{"crop":"Strawberry","Fat":"0.3g","Sodium":"1mg","Potassium":"153mg","Carbs":"8g","Protein":"0.7g","Vit. C":0.97,"Iron":0.02,"Vit. B6":0,"Magnesium":0.03,"Calcium":0.01},{"crop":"Beetroot","Fat":"0.2g","Sodium":"78mg","Potassium":"325mg","Carbs":"10g","Protein":"1.6g","Vit. C":0.08,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.01},{"crop":"Swede","Fat":"0.2g","Sodium":"12mg","Potassium":"305mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.41,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.05,"Calcium":0.04},{"crop":"Turnip","Fat":"0.1g","Sodium":"67mg","Potassium":"191mg","Carbs":"6g","Protein":"0.9mg","Vit. C":0.35,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.03},{"crop":"Parsnip","Fat":"0.3g","Sodium":"10mg","Potassium":"375mg","Carbs":"18g","Protein":"1.2mg","Vit. C":0.28,"Iron":0.03,"Vit. B6":0.05,"Magnesium":0.07,"Calcium":0.03},{"crop":"Carrot","Fat":"0.2g","Sodium":"69mg","Potassium":"320mg","Carbs":"10g","Protein":"0.9mg","Vit. C":0.09,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.03},{"crop":"Onion","Fat":"0.1g","Sodium":"4mg","Potassium":"146mg","Carbs":"9g","Protein":"1.1g","Vit. C":0.12,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02},{"crop":"Leek","Fat":"0.3g","Sodium":"20mg","Potassium":"180mg","Carbs":"14g","Protein":"1.5g","Vit. C":0.2,"Iron":0.11,"Vit. B6":0.1,"Magnesium":0.07,"Calcium":0.05},{"crop":"Whole lettuce","Fat":"0.2g","Sodium":"28mg","Potassium":"194mg","Carbs":"2.9g","Protein":"1.4g","Vit. C":0.15,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.03},{"crop":"Sweetcorn","Fat":"1.2g","Sodium":"15mg","Potassium":"270mg","Carbs":"19g","Protein":"3.2g","Vit. C":0.11,"Iron":0.02,"Vit. B6":0.05,"Magnesium":0.09,"Calcium":0},{"crop":"Radish","Fat":"0.1g","Sodium":"39mg","Potassium":"233mg","Carbs":"3.4g","Protein":"0.7g","Vit. C":0.24,"Iron":0.01,"Vit. B6":0.05,"Magnesium":0.02,"Calcium":0.02},{"crop":"Pumpkin","Fat":"0.1g","Sodium":"1mg","Potassium":"340mg","Carbs":"7g","Protein":"1g","Vit. C":0.15,"Iron":0.04,"Vit. B6":0.05,"Magnesium":0.03,"Calcium":0.02},{"crop":"Courgette","Fat":"0.3g","Sodium":"8mg","Potassium":"261mg","Carbs":"3.1g","Protein":"1.2g","Vit. C":0.29,"Iron":0.02,"Vit. B6":0.1,"Magnesium":0.04,"Calcium":0.01},{"crop":"Celery","Fat":"0.1g","Sodium":"32mg","Potassium":"104mg","Carbs":"1.2g","Protein":"0.3g","Vit. C":0.08,"Iron":0.17,"Vit. B6":0.046,"Magnesium":0.2,"Calcium":0.13}]')},757:function(e,t,a){},758:function(e,t,a){},808:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(1),i=a.n(r),s=a(30),o=a.n(s),c=(a(316),a(4)),l=a(53),d=a(35),u=(a(382),a(383),a(101),a(229),a(317),a.p+"static/media/intellidigest-logo-small.6a3103c7.png"),b=a(873),j=a(0),h=function(e){return Object(j.jsxs)(b.a,{className:"mobile-style",children:[Object(j.jsx)("div",{className:"top",children:Object(j.jsx)("img",{className:"logo",src:u,alt:"IntelliDigest"})}),Object(j.jsx)("div",{className:"titles",children:Object(j.jsx)("h2",{children:e.subtitle})}),e.children]})},m=a(902),p=a(468),g=a(16),f=a(90),O=function(e){return function(t,a,n){(0,n.getFirebase)().auth().sendPasswordResetEmail(e.email).then((function(){t({type:"RESET_SUCCESS"})})).catch((function(e){t({type:"RESET_ERROR",err:e})}))}},x=function(e){return function(t,a,n){var r,i=n.getFirebase,s=f.a.initializeApp({apiKey:"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w",authDomain:"itracker-development.firebaseapp.com",projectId:"itracker-development",storageBucket:"itracker-development.appspot.com",messagingSenderId:"57163396396",appId:"1:57163396396:web:dd800621173f5733a4a889"},"second");s.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){r=t.user.uid,i().firestore().collection(e.masterCollection).doc(e.uid).collection("sub_accounts").doc(r).set({email:e.email,name:e.firstName+" "+e.lastName,role:e.role})})).then((function(){i().firestore().collection("users").doc(r).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],email:e.email,buildingFunction:e.function,city:e.city,country:e.country,region:e.region,admin:e.uid,type:e.type})})).then((function(){s.auth().currentUser.sendEmailVerification()})).then((function(){s.auth().signOut()})).then((function(){s.delete()})).then((function(){t({type:"CREATE_SUBACCOUNT"})})).catch((function(e){t({type:"CREATE_SUBACCOUNT_ERROR",err:e})}))}};var y=Object(g.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))((function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),u=o[0],b=o[1],g=e.authError,f=Object(r.useState)(!1),O=Object(c.a)(f,2),x=O[0],y=O[1];return Object(r.useEffect)((function(){e.auth.uid&&y(!0)}),[e.auth.uid]),x?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsxs)(h,{subtitle:"Log In",children:[Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter email",required:!0,onChange:function(e){return i(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Password",required:!0,onChange:function(e){return b(e.target.value)}})]}),Object(j.jsx)("div",{className:"signup-center subtitles row",children:Object(j.jsx)(d.b,{to:"/forgot-password",style:{color:"#AFBA15"},children:"Forgot your password?"})})]}),Object(j.jsx)("div",{className:"auth-error",children:g?Object(j.jsxs)("p",{children:[" ",g]}):null}),Object(j.jsx)(p.a,{style:{fontWeight:"700"},variant:"default",className:"signup-confirm",onClick:function(t){t.preventDefault(),function(){var t={email:n,password:u};e.signIn(t)}()},children:"Confirm"})]})})),v=(a(560),a(112),a(472)),w=a.n(v),C=a(473),S=a.n(C),k=a(474),N=a.n(k),T=a(476),E=a.n(T),F=a(477),D=a.n(F),P=a(478),W=a.n(P),M=a(479),A=a.n(M),I=a(480),R=a.n(I),_=a(481),L=a.n(_),B=a(482),U=a.n(B),G=a(483),V=a.n(G),H=a(475),Y=a.n(H),q=a(484),z=a.n(q),K=a(469),J=a.n(K);function Z(e){return e.disabled?Object(j.jsx)(p.a,{variant:"default",className:["default-btn","".concat(e.styling,"-btn"),"shadow-none"],disabled:!0,children:Object(j.jsx)("div",{className:"basic-title",children:e.text})}):Object(j.jsx)(p.a,{variant:"default",className:["default-btn","".concat(e.styling,"-btn"),"shadow-none"],href:e.goTo,onClick:e.onClick,children:Object(j.jsx)("div",{className:"basic-title",children:e.text})})}function Q(e){return Object(j.jsx)(p.a,{variant:"default",className:["sub-btn","".concat(e.styling,"-btn"),"shadow-none"],href:e.goTo,onClick:e.onClick,children:Object(j.jsx)("div",{className:"basic-title",children:e.text})})}function X(e){var t=e.onClick,a=e.title;return Object(j.jsx)(p.a,{variant:"default",className:["add-btn","green-btn","shadow-none"],onClick:t,title:a,children:Object(j.jsx)("div",{children:Object(j.jsx)(J.a,{sx:{fontSize:30}})})})}function $(e){function t(){switch(e.icon){default:case"waste":return Object(j.jsx)(w.a,{sx:{fontSize:90}});case"chart":return Object(j.jsx)(S.a,{sx:{fontSize:90}});case"food":return Object(j.jsx)(N.a,{sx:{fontSize:90}});case"surplus":return Object(j.jsx)(Y.a,{sx:{fontSize:90}});case"buy":return Object(j.jsx)(E.a,{sx:{fontSize:90}});case"info":return Object(j.jsx)(D.a,{sx:{fontSize:90}});case"world":return Object(j.jsx)(W.a,{sx:{fontSize:90}});case"book":return Object(j.jsx)(A.a,{sx:{fontSize:90}});case"plant":return Object(j.jsx)(R.a,{sx:{fontSize:90}});case"kitchen":return Object(j.jsx)(L.a,{sx:{fontSize:90}});case"product":return Object(j.jsx)(U.a,{sx:{fontSize:90}});case"my-products":return Object(j.jsx)(V.a,{sx:{fontSize:90}});case"notes":return Object(j.jsx)(z.a,{sx:{fontSize:90}})}}var a;return a=String(e.goTo).startsWith("/")?"_self":"_blank",Object(j.jsx)(p.a,{variant:"default",className:["icon-btn","".concat(e.color,"-btn")],href:e.goTo,target:a,disabled:e.disabled,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(t,{}),e.label]})})}var ee=a.p+"static/media/peppers.65825e19.jpg",te=a.p+"static/media/Logo.6193d653.svg";var ae,ne=Object(g.b)((function(e){return{auth:e.firebase.auth}}),null)((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"landing",src:ee,alt:"Four brightly coloured bell peppers arranged in a square."}),Object(j.jsx)("div",{className:"title",children:Object(j.jsx)("img",{src:te,alt:"IntelliDigest Logo"})}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)(Q,{styling:"blue",goTo:"/login",text:"Log In"}),Object(j.jsx)(Q,{styling:"blue",goTo:"/signup",text:"Sign Up"})]})]})})),re=a(42),ie=(a(199),a(913)),se=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"top",children:[Object(j.jsx)("div",{style:{width:"50%",paddingLeft:"1rem"},children:Object(j.jsx)(Q,{styling:"green",goTo:e.goTo,text:"Back"})}),Object(j.jsx)("div",{className:"basic-title basic-lg",children:e.header})]}),Object(j.jsx)(ie.a,{})]}),Object(j.jsxs)(b.a,{className:"mobile-style",children:[e.children,Object(j.jsx)(ie.a,{variant:"middle"})]})]})},oe=function(e){return Object(j.jsx)(b.a,{className:"account-style",children:e.children})},ce=a(52),le=a(467),de=a(877),ue=a(911),be=a(485),je=a.n(be),he=a(45);var me=ce.a.div(ae||(ae=Object(re.a)(["\n  .card {\n    margin-top: 5px;\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: 1px solid rgb(77, 109, 77);\n\n    &:hover {\n      background-color: rgb(207, 207, 207);\n    }\n  }\n\n  .card-body {\n  }\n\n  @media (max-width: 1400px) {\n    .details p {\n      font-size: 11px;\n    }\n  }\n"]))),pe=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,user:e.firebase.profile,profile:e.firebase.profile}})))((function(e){var t=e.profile,a=Object(r.useState)(e.auth.email),n=Object(c.a)(a,2),i=n[0],s=n[1],o=Object(r.useState)(t.firstName+" "+t.lastName),l=Object(c.a)(o,2),d=l[0],u=l[1];return Object(j.jsxs)(se,{header:"Contact Us",goTo:"/settings",children:[Object(j.jsxs)("div",{className:"contact",children:[Object(j.jsx)("i",{className:"fa fa-group contact-logo"}),Object(j.jsx)("div",{className:"contact-text-layout",children:Object(j.jsx)("h1",{children:"If you have any questions regarding your experience of using the Global Food Loss & Waste Tracker, please complete the contact form below. We aim to respond to you via e-mail as soon as possible."})})]}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),je.a.sendForm(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EMAIL_SERVICE,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EMAIL_TEMPLATE,e.target,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_EMAIL_ID).then((function(e){alert("Your Message has been sent successfully!")}),(function(e){alert("There has been an error while sending your message. Please refresh the page and try again.")})),e.target.reset()},children:[Object(j.jsxs)(m.a.Row,{children:[Object(j.jsx)(m.a.Group,{as:le.a,children:Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Name",id:"name",name:"name",onChange:function(e){return u(e.target.value)},value:d,required:!0})}),Object(j.jsx)(m.a.Group,{as:le.a,children:Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Email",id:"email",name:"email",onChange:function(e){return s(e.target.value)},value:i,required:!0})})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{placeholder:"Subject",id:"subject",name:"subject",required:!0})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:6,placeholder:"Message",id:"message",name:"message",required:!0})}),Object(j.jsx)(m.a.Group,{controlId:"formActions",children:Object(j.jsx)(p.a,{variant:"dark",type:"submit",children:"Submit"})})]}),Object(j.jsx)("div",{className:"details",children:Object(j.jsx)("h1",{className:"more-details-header",children:"More Contact Details"})}),Object(j.jsxs)(de.a,{children:[Object(j.jsx)(le.a,{children:Object(j.jsx)(me,{children:Object(j.jsx)(ue.a,{onClick:function(){window.open("tel:03332420822")},children:Object(j.jsxs)(ue.a.Body,{children:[Object(j.jsx)(ue.a.Title,{children:"Telephone"}),Object(j.jsxs)(ue.a.Text,{children:[Object(j.jsx)("i",{className:"fa fa-phone contact-footer-icon"}),Object(j.jsx)("p",{children:"0333 242 0822"})]})]})})})}),Object(j.jsx)(le.a,{children:Object(j.jsx)(me,{children:Object(j.jsx)(ue.a,{onClick:function(){window.open("mailto:info@intellidigest.com?subject=Subject&body=Body%20goes%20here")},children:Object(j.jsxs)(ue.a.Body,{children:[Object(j.jsx)(ue.a.Title,{children:"Email"}),Object(j.jsxs)(ue.a.Text,{children:[Object(j.jsx)("i",{className:"fa fa-envelope-o contact-footer-icon"}),Object(j.jsx)("p",{children:"INFO@INTELLIDIGEST.COM"})]})]})})})}),Object(j.jsx)(le.a,{children:Object(j.jsx)(me,{children:Object(j.jsx)(ue.a,{children:Object(j.jsxs)(ue.a.Body,{children:[Object(j.jsx)(ue.a.Title,{children:"Address"}),Object(j.jsxs)(ue.a.Text,{children:[Object(j.jsx)("i",{className:"fa fa-location-arrow contact-footer-icon"}),Object(j.jsx)("p",{children:"Edinburgh Business School, Heriot Watt University, Currie, EH14 4AS"})]})]})})})})]})]})})),ge=(a(564),a(878)),fe=a(516);function Oe(e){var t;return t=e.items.map((function(t,a){return"/"===t?Object(j.jsx)(fe.a.Divider,{},a):Object(j.jsx)(fe.a.Item,{id:e.id,eventKey:t,children:t},a)})),e.disabled?Object(j.jsx)(ge.a,{title:e.data,onSelect:e.function,className:["dropdown center",e.styling],variant:"default",disabled:!0,drop:"down",children:t}):Object(j.jsx)(ge.a,{title:e.data,onSelect:e.function,className:["dropdown center",e.styling],variant:"default",drop:"down",children:t})}function xe(e){var t;return t=e.items.map((function(t,a){return"/"===t?Object(j.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}):Object(j.jsx)("option",{id:e.id,children:t},a)})),Object(j.jsxs)(m.a.Control,{id:e.id,disabled:e.disabled,onChange:e.function,as:"select",value:e.value,children:[Object(j.jsx)("option",{hidden:!0,value:!0,style:{color:"rgba(0, 0, 0, 0.5)"},children:e.placeholder},"blankChoice"),t]})}var ye,ve=a(914),we=a(909),Ce=a(915),Se=a(916),ke=a(283),Ne=a.n(ke),Te=a(284),Ee=a.n(Te),Fe=a(285),De=a.n(Fe),Pe=a(488),We=a.n(Pe),Me=function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("data").doc(e.uid).set({user:e.name,email:e.email}).then((function(){t({type:"START_DATA"})})).catch((function(e){t({type:"START_DATA_ERROR",err:e})}))}},Ae=function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection(e.masterCollection).doc(e.uid).collection(e.collection).add(e.upload).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}},Ie=function(e){return function(t,a,r){var i=r.getFirebase,s=i().firestore.FieldValue.increment(e.upload.foodWasteWeight);console.log("catch"),i().firestore().collection(e.masterCollection).doc(e.uid).set(Object(n.a)(Object(n.a)({},e.upload),{},{foodWasteWeight:s}),{merge:!0}).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}},Re=function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection(e.masterCollection).doc(e.uid).collection(e.collection).get().then((function(e){var a=[];e.forEach((function(e){a.push(e.data())})),t({type:"GET_DATA",payload:a})})).catch((function(e){t({type:"GET_DATA_ERROR",err:e})}))}},_e=a(137),Le=a.n(_e),Be=["Asia","Africa","Australia","Europe","North America","South America"],Ue=[{name:"Afghanistan",code:"AF"},{name:"Alland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"British Virgin Islands",code:"VG"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo, Democratic Republic of the",code:"CG"},{name:"Congo, Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote d'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea-Bissau",code:"GW"},{name:"Guinea",code:"GN"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and McDonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kosovo",code:"XK"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, the Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestine, State of",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Barthelemy",code:"BL"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Martin (French part)",code:"MF"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Sint Maarten (Dutch part)",code:"SX"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"South Sudan",code:"SS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United Republic of Tanzania",code:"TZ"},{name:"United States",code:"US"},{name:"Uruguay",code:"UY"},{name:"US Virgin Islands",code:"VI"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}].map((function(e){return e.name})),Ge=(a(565),a(105)),Ve=a.n(Ge),He=function(e,t){Ve()({title:e,message:t,backgroundTop:"white",backgroundBottom:"white",colorTop:"black",colorBottom:"black",closeButton:"X",duration:1e4})},Ye=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Ke,{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Row,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:le.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Name"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Enter name",defaultValue:e.firstName,required:!0,onChange:function(t){return e.setFirstName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:le.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Surname"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Enter surname",defaultValue:e.lastName,required:!0,onChange:function(t){return e.setLastName(t.target.value)}})]})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter email",defaultValue:e.email,required:!0,onChange:function(t){return e.setEmail(t.target.value)}}),Object(j.jsx)(m.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Password",defaultValue:e.password,required:!0,onChange:function(t){return e.setPassword(t.target.value)}})]}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(p.a,{type:"submit",variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(2)},children:"Next"})})]})})})},qe=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Ke,{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Town"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Town",defaultValue:e.town,required:!0,onChange:function(t){e.setTown(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Country"}),Object(j.jsx)(xe,{id:"country",function:function(t){e.setCountry(t.target.value)},value:e.country,placeholder:"Please Select a Country",items:Ue})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Region"}),Object(j.jsx)(xe,{id:"region",function:function(t){e.setRegion(t.target.value)},value:e.region,placeholder:"Please Select a Region",items:Be})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"What kind of account are you creating?"}),Object(j.jsx)(xe,{id:"buildingFunction",function:function(t){e.setBuildingFunction(t.target.value)},value:e.buildingFunction,placeholder:"Please Select an Account Type",items:["Households","Personal","Hospitals","Schools","Hotels","Offices","Restaurants","Shop/Supermarket","Farm","Recreational Centers","Other"]})]})]})}),Object(j.jsx)("div",{className:"signup-center",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(1)},children:"Back"}),Object(j.jsx)(p.a,{variant:"default",className:"signup-btn",onClick:function(t){t.preventDefault(),e.setStage(3)},children:"Next"})]})})]})},ze=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(ve.a,{children:[Object(j.jsxs)(we.a,{children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(Ne.a,{})}),Object(j.jsxs)(Se.a,{children:[e.firstName," ",e.lastName]})]}),Object(j.jsxs)(we.a,{children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(Ee.a,{})}),Object(j.jsx)(Se.a,{children:e.email})]}),Object(j.jsxs)(we.a,{className:"space-between",children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(De.a,{})}),Object(j.jsxs)(Se.a,{children:[e.town," ",e.country," ",e.region]})]}),Object(j.jsxs)(we.a,{children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(We.a,{})}),Object(j.jsx)(Se.a,{children:e.buildingFunction})]})]})})},Ke=ce.a.div(ye||(ye=Object(re.a)(["\n  form {\n    width: 80%;\n    margin: auto;\n    padding: 10px;\n  }\n\n  input {\n    border: 1px solid #62680a;\n  }\n\n  .btn-dark {\n    background-color: #071850;\n    color: whitesmoke;\n    border: 1px solid #03091d;\n    float: right;\n\n    &:hover {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n\n    &:active {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n  }\n"]))),Je=Object(g.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r,i=n.getFirebase;switch(e.function){case"Hospitals":case"Hotels":case"Offices":case"Restaurants":case"Shop/Supermarket":case"Recreational Centers":case"Business":r="business_admin";break;case"Schools":r="academic_admin";break;case"Farm":r="farm_admin";break;case"Households":r="household_admin";break;default:r="user"}var s=i().firestore(),o=i();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){var a;s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],email:e.email,buildingFunction:e.function,city:e.city,country:e.country,region:e.region,type:r}),"user"!==(a="business_admin"===r?"business_users":"academic_admin"===r?"academic_users":"farm_admin"===r?"farm_users":"household_admin"===r?"household_users":"user")&&s.collection(a).doc(t.user.uid).set({name:e.firstName+" "+e.lastName,email:e.email})})).then((function(){o.auth().currentUser.sendEmailVerification()})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))},createMapData:function(t){return e(Ie(t))}}}))((function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),u=o[0],b=o[1],m=Object(r.useState)(""),g=Object(c.a)(m,2),f=g[0],O=g[1],x=Object(r.useState)(""),y=Object(c.a)(x,2),v=y[0],w=y[1],C=Object(r.useState)(""),S=Object(c.a)(C,2),k=S[0],N=S[1],T=Object(r.useState)(""),E=Object(c.a)(T,2),F=E[0],D=E[1],P=Object(r.useState)(""),W=Object(c.a)(P,2),M=W[0],A=W[1],I=Object(r.useState)(""),R=Object(c.a)(I,2),_=R[0],L=R[1],B=Object(r.useState)(1),U=Object(c.a)(B,2),G=U[0],V=U[1],H=Object(r.useState)(),Y=Object(c.a)(H,2),q=Y[0],z=Y[1];Object(r.useEffect)((function(){q&&(He("Error",q),z())}),[q]);var K=function(){var e=/^[0-9\b]+$/,t=""!==n&&""!==u&&""!==f&&""!==v,a=""!==k&&""!==F&&""!==M&&""!==_,r=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(f),i=!e.test(u)&&!e.test(n),s=!e.test(k);return!!(t&&a&&r&&i&&s)||(z(t?a?r?i?s?"Please enter valid information.":"Please enter a valid town.":"Please enter a valid name.":"Please enter a valid email address.":"Please enter a valid town, country, region, and account type.":"Please enter a valid name, email, and password."),!1)},J=e.authError,Z=Object(r.useState)(!1),Q=Object(c.a)(Z,2),X=Q[0],$=Q[1];if(Object(r.useEffect)((function(){Le.a.setApiKey("AIzaSyA7vyoyDlw8wHqveKrfkkeku_46bdR_aPk"),Le.a.setLocationType("ROOFTOP")}),[]),Object(r.useEffect)((function(){e.auth.uid&&($(!0),""!==k&&""!==F&&Le.a.fromAddress(k+" "+F).then((function(t){var a={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:0,location:t.results[0].address_components[0].long_name,coords:[t.results[0].geometry.location.lat,t.results[0].geometry.location.lng]}};e.createMapData(a)})))}),[e.auth.uid]),Object(r.useEffect)((function(){}),[G]),X)return Object(j.jsx)(l.a,{to:"/account"});switch(G){default:case 1:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("p",{children:"First, create your account."})}),Object(j.jsx)(Ye,{setFirstName:i,firstName:n,setLastName:b,lastName:u,setEmail:O,email:f,setPassword:w,password:v,setStage:V}),Object(j.jsxs)("div",{className:"signup-center subtitles row",children:[Object(j.jsx)("p",{children:"Already have an account? "}),Object(j.jsxs)(d.b,{style:{color:"#AFBA15"},to:"/login",children:["  ","Log In"]})]})]});case 2:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("p",{children:"First, create your account."})}),Object(j.jsx)(qe,{setTown:N,town:k,setCountry:D,country:F,setRegion:A,region:M,setBuildingFunction:L,buildingFunction:_,setStage:V,countries:Ue})]});case 3:return Object(j.jsxs)(h,{subtitle:"Sign Up",children:[Object(j.jsx)("div",{className:"signup-center subtitles",children:Object(j.jsx)("h5",{children:"Confirmation"})}),Object(j.jsx)(ze,{setStage:V,firstName:n,lastName:u,email:f,town:k,region:M,country:F,buildingFunction:_}),Object(j.jsxs)("div",{className:"signup-center",children:[Object(j.jsx)("div",{className:"auth-error",children:J?Object(j.jsxs)("p",{children:[" ",J]}):null}),Object(j.jsx)("div",{children:Object(j.jsx)(p.a,{style:{width:"30%"},variant:"default",className:"signup-btn",onClick:function(e){return V(1)},children:"Change"})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)(p.a,{style:{fontWeight:"700"},variant:"default",className:"signup-confirm",onClick:function(t){t.preventDefault(),function(){var t={firstName:n,lastName:u,initials:n[0]+u[0],email:f,password:v,function:_,city:k,country:F,region:M,type:"user"};K()?(console.log("signup"),e.signUp(t)):console.log("error")}()},children:"Confirm"})})]})]})}})),Ze=(a(578),a(881)),Qe=a(489),Xe=a.n(Qe),$e=a(903),et=a(880),tt=a(918),at=a(288),nt=a.n(at);function rt(e){var t=e.open,a=e.onClose,n=e.handleButtonClick,r=e.to,i=e.text;return Object(j.jsxs)($e.a,{open:t,maxWidth:"xs",fullWidth:!0,children:[Object(j.jsxs)(et.a,{children:[e.children,Object(j.jsx)(tt.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(j.jsx)(nt.a,{})})]}),Object(j.jsx)(Q,{styling:"blue",text:i,onClick:n,goTo:r})]})}function it(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],i=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ve.a,{children:Object(j.jsx)(we.a,{className:"space-between",children:Object(j.jsxs)(Ze.a,{onClick:function(){i(!0)},children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(Xe.a,{})}),Object(j.jsx)(Se.a,{children:"Logout"})]})})}),Object(j.jsx)(rt,{open:n,onClose:function(){i(!1)},text:"Log Out",handleButtonClick:e.handleSignOut,to:e.to,children:"Are you sure you want to log out?"})]})}var st=a(466),ot=a(882),ct=a(883),lt=a(490),dt=a.n(lt),ut=a(492),bt=a.n(ut),jt=a(493),ht=a.n(jt),mt=a(491),pt=a.n(mt),gt=a(32);a(727);function ft(e){var t="h".concat(e.priority);return Object(j.jsx)(t,{className:["heading",e.styling],children:e.text})}var Ot=a(919),xt=a(920);function yt(e){var t;return t=e.listItems.map((function(t){return Object(j.jsx)(we.a,{children:Object(j.jsxs)(Ze.a,{onClick:function(){e.HandleButtonState(t.change)},children:[Object(j.jsx)(Ce.a,{children:t.icon}),Object(j.jsx)(Se.a,{children:t.item})]})},t.key)})),Object(j.jsx)(ve.a,{children:t})}var vt=function(e){var t=[{key:"name",item:e.firstName+" "+e.lastName,change:"changeName",icon:Object(j.jsx)(Ne.a,{})},{key:"email",item:e.email,change:"changeEmail",icon:Object(j.jsx)(Ee.a,{})},{key:"password",item:"Password",change:"changePassword",icon:Object(j.jsx)(dt.a,{})},{key:"location",item:e.town+", "+e.country+", "+e.region,change:"changeLocation",icon:Object(j.jsx)(De.a,{})}];return Object(j.jsxs)(j.Fragment,{children:[String(e.type).includes("sub")?Object(j.jsx)(j.Fragment,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(yt,{listItems:t,HandleButtonState:e.HandleButtonState}),String(e.type).includes("admin")?Object(j.jsx)(we.a,{children:Object(j.jsxs)(Ze.a,{onClick:function(){e.HandleButtonState("changeSubAccounts")},children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(pt.a,{})}),Object(j.jsx)(Se.a,{children:"Sub Accounts"})]})},"subaccounts"):Object(j.jsx)(j.Fragment,{}),e.children]}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(we.a,{children:Object(j.jsxs)(Ze.a,{href:"/questionnaire",component:"a",children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(bt.a,{})}),Object(j.jsx)(Se.a,{children:"Help us to offer your greater value by answering this short questionnaire."})]})}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(we.a,{children:Object(j.jsxs)(Ze.a,{href:"/contact",component:"a",children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(ht.a,{})}),Object(j.jsx)(Se.a,{children:"Contact Us"})]})}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(it,{handleSignOut:e.HandleSignOut,to:"/landing"})]})},wt=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{children:Object(j.jsxs)(m.a.Row,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:le.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Name"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter name",defaultValue:e.firstName,id:"firstname",onChange:function(t){return e.setFirstName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:le.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Surname"}),Object(j.jsx)(m.a.Control,{type:"surname",placeholder:"Enter surname",defaultValue:e.lastName,onChange:function(t){return e.setLastName(t.target.value)}})]})]})})})},Ct=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter new email",onChange:function(t){return e.setEmail(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Confirm Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",onChange:function(t){return e.setPassword(t.target.value)}})]})]})})},St=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("h5",{children:Object(j.jsx)("b",{children:"Follow the email instructions to reset your password."})})}),Object(j.jsx)(m.a.Group,{className:"mb-3",children:Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter Email",onChange:function(t){return e.setEmail(t.target.value)}})})]})})},kt=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Town"}),Object(j.jsx)(m.a.Control,{type:"address",placeholder:"Town",defaultValue:e.town,onChange:function(t){e.setTown(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Country"}),Object(j.jsx)(m.a.Control,{type:"address",placeholder:"Country",defaultValue:e.country,onChange:function(t){e.setCountry(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Region"}),Object(j.jsx)(m.a.Control,{type:"address",placeholder:"Region",defaultValue:e.region,onChange:function(t){return e.setRegion(t.target.value)}})]})]})})},Nt=function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)([]),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(""),b=Object(c.a)(u,2),h=b[0],p=b[1],g=function(){i(!1)};if(null!==e.subAccounts&&void 0!==e.subAccounts)var f=Object.values(e.subAccounts);return Object(j.jsxs)("div",{children:[Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:Object(j.jsx)(ft,{priority:"3",text:"Sub Accounts"})}),Object(j.jsx)(ot.a,{children:null===f||void 0===f?void 0:f.map((function(e,t){return Object(j.jsxs)(ot.a.Item,{action:!0,as:"li",className:"d-flex justify-content-between align-items-start",onClick:function(){return function(e){i(!0),d(e)}(e)},children:[Object(j.jsxs)("div",{className:"ms-2 me-auto",children:[Object(j.jsx)("div",{className:"fw-bold",children:e.name}),e.email]}),Object(j.jsx)(ct.a,{variant:"primary",pill:!0,children:e.role})]},t)}))})]}),Object(j.jsx)(ie.a,{}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:Object(j.jsx)(ft,{priority:"3",text:"Create Sub Account"})}),Object(j.jsxs)(m.a.Row,{className:"mb-3",children:[Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:le.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Name"}),Object(j.jsx)(m.a.Control,{type:"name",placeholder:"Enter Name",value:e.subFirstName,onChange:function(t){return e.setSubFirstName(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",style:{backgroundColor:"white"},as:le.a,children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Surname"}),Object(j.jsx)(m.a.Control,{type:"surname",placeholder:"Enter Surname",value:e.subLastName,onChange:function(t){return e.setSubLastName(t.target.value)}})]})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Email address"}),Object(j.jsx)(m.a.Control,{type:"email",placeholder:"Enter Email",value:e.subEmail,onChange:function(t){return e.setSubEmail(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",value:e.subPassword,onChange:function(t){return e.setSubPassword(t.target.value)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Role"}),Object(j.jsx)(m.a.Control,{type:"role",placeholder:"Enter Role",value:e.subRole,onChange:function(t){return e.setSubRole(t.target.value)}})]})]})]}),Object(j.jsxs)($e.a,{onClose:g,open:n,maxWidth:"xs",fullWidth:!0,children:[Object(j.jsxs)(et.a,{children:["Delete '",l.email,"' account?",Object(j.jsx)(tt.a,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(j.jsx)(nt.a,{})})]}),Object(j.jsx)(Ot.a,{children:Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Sub Account Password"}),Object(j.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",onChange:function(e){return p(e.target.value)}})]})}),Object(j.jsx)(xt.a,{children:Object(j.jsx)(Q,{styling:"blue",text:"Delete Account",onClick:function(){var t;switch(e.profile.type){case"business_admin":t="business_users";break;case"academic_admin":t="academic_users";break;case"farm_admin":t="farm_users";break;case"household_admin":t="household_users"}var a={masterCollection:t,uid:e.uid,email:l.email,password:h};e.deleteSubAccount(a),g()}})})]})]})},Tt=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError,profile:e.firebase.profile,data:e.firestore.data.SubAccounts}}),(function(e){return{resetPassword:function(t){return e(O(t))},updateEmail:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,i=r(),s=r().firestore(),o=i.auth.EmailAuthProvider.credential(a.email,a.password);i.auth().currentUser.reauthenticateWithCredential(o).then((function(){i.auth().currentUser.verifyBeforeUpdateEmail(a.newEmail).then((function(){return s.collection("users").doc(a.uid).update({email:a.newEmail})})).then((function(){e({type:"CHANGE_EMAIL_SUCCESS"})})).catch((function(t){e({type:"CHANGE_EMAIL_ERROR",err:t})}))}))}));var a},updateProfile:function(t){return e(function(e){return function(t,a,r){(0,r.getFirebase)().firestore().collection("users").doc(e.uid).set(Object(n.a)({},e.profile),{merge:!0}).then((function(){t({type:"CHANGE_PROFILE_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"CHANGE_PROFILE_ERROR",err:e})}))}}(t))},signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))},createMapData:function(t){return e(Ie(t))},createSubAccount:function(t){return e(x(t))},deleteSubAccount:function(t){return e((a=t,function(e,t,n){var r,i=n.getFirebase,s=f.a.initializeApp({apiKey:"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w",authDomain:"itracker-development.firebaseapp.com",projectId:"itracker-development",storageBucket:"itracker-development.appspot.com",messagingSenderId:"57163396396",appId:"1:57163396396:web:dd800621173f5733a4a889"},"second");s.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){r=s.auth().currentUser.uid,i().firestore().collection(a.masterCollection).doc(a.uid).collection("sub_accounts").doc(r).delete(),i().firestore().collection("users").doc(r).delete()})).then((function(){s.auth().currentUser.delete()})).then((function(){s.auth().signOut()})).then((function(){s.delete()})).then((function(){e({type:"DELETE_SUBACCOUNT"})})).catch((function(t){e({type:"DELETE_SUBACCOUNT_ERROR",err:t})}))}));var a},getFirestoreData:function(t){return e(Re(t))}}})),Object(gt.firestoreConnect)((function(e){var t;switch(e.profile.type){case"business_admin":t="business_users";break;case"academic_admin":t="academic_users";break;case"farm_admin":t="farm_users";break;case"household_admin":default:t="household_users"}return e.auth.uid?[{collection:t,doc:e.auth.uid,subcollections:[{collection:"sub_accounts"}],storeAs:"SubAccounts"}]:[]})))((function(e){var t=Object(r.useState)(e.profile.firstName),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(e.profile.lastName),o=Object(c.a)(s,2),d=o[0],u=o[1],b=Object(r.useState)(e.auth.email),h=Object(c.a)(b,2),m=h[0],p=h[1],g=Object(r.useState)(""),f=Object(c.a)(g,2),O=f[0],x=f[1],y=Object(r.useState)(""),v=Object(c.a)(y,2),w=v[0],C=v[1],S=Object(r.useState)(""),k=Object(c.a)(S,2),N=k[0],T=k[1],E=Object(r.useState)(""),F=Object(c.a)(E,2),D=F[0],P=F[1],W=Object(r.useState)(""),M=Object(c.a)(W,2),A=M[0],I=M[1],R=Object(r.useState)(""),_=Object(c.a)(R,2),L=_[0],B=_[1],U=Object(r.useState)(),G=Object(c.a)(U,2),V=G[0],H=G[1],Y=Object(r.useState)(e.profile.city),q=Object(c.a)(Y,2),z=q[0],K=q[1],J=Object(r.useState)(e.profile.country),Z=Object(c.a)(J,2),X=Z[0],$=Z[1],ee=Object(r.useState)(e.profile.region),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(null),oe=Object(c.a)(re,2),ce=oe[0],le=oe[1],de=Object(r.useState)(""),ue=Object(c.a)(de,2),be=ue[0],je=ue[1],he=Object(r.useState)(!1),me=Object(c.a)(he,2),pe=me[0],ge=me[1];function fe(e){ce?ce===e?le(null):ce!==e&&ce&&le(e):le(e)}function Oe(){var t={auth:e.auth,email:e.auth.email,newEmail:m,uid:e.auth.uid,password:O};e.updateEmail(t),e.authError?je(e.authError):ge(!0)}if(Object(r.useEffect)((function(){void 0!==e.data&&null!==e.data?H(e.data):H({})}),[e.data]),Object(r.useEffect)((function(){je(""),ge(!1)}),[ce]),Object(r.useEffect)((function(){if(!e.auth.uid)return Object(j.jsx)(l.a,{to:"/login"})}),[e.auth.uid]),Object(r.useEffect)((function(){Le.a.setApiKey("AIzaSyA7vyoyDlw8wHqveKrfkkeku_46bdR_aPk"),Le.a.setLocationType("ROOFTOP")}),[]),!e.auth.uid)return Object(j.jsx)(l.a,{to:"/login"});switch(ce){case"changeName":return Object(j.jsx)(se,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(vt,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:le,HandleButtonState:fe,type:e.profile.type,children:[Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(wt,{firstName:n,setFirstName:i,lastName:d,setLastName:u,setForm:le}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={uid:e.auth.uid,profile:{firstName:n,lastName:d,initials:n[0]+d[0]}};e.updateProfile(t),e.authError?je(e.authError):(ge(!0),He("Success","Name Successfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:pe?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeEmail":return Object(j.jsx)(se,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(vt,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:le,HandleButtonState:fe,type:e.profile.type,children:[Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(Ct,{email:m,setEmail:p,setPassword:x,setForm:le,HandleEmail:Oe}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(e){e.preventDefault(),Oe()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:pe?Object(j.jsx)("p",{children:"Your email has been updated!"}):null})]})});case"changePassword":return Object(j.jsx)(se,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(vt,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:le,HandleButtonState:fe,type:e.profile.type,children:[Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(St,{setEmail:p}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){var t={email:m};m===e.auth.email?(e.resetPassword(t),He("Success","A Password reset Email has been sent!")):je("This email does not match this account.")}()}})}),Object(j.jsxs)("div",{className:"auth-error",children:[be?Object(j.jsxs)("p",{children:[" ",be]}):null,e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null]})]})});case"changeLocation":return Object(j.jsx)(se,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(vt,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:le,HandleButtonState:fe,type:e.profile.type,children:[Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(kt,{town:z,setTown:K,country:X,setCountry:$,region:ae,setRegion:ne,setForm:le}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Confirm",onClick:function(t){t.preventDefault(),function(){Le.a.fromAddress(z+" "+X).then((function(t){var a={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:0,location:t.results[0].address_components[0].long_name,coords:[t.results[0].geometry.location.lat,t.results[0].geometry.location.lng]}};e.createMapData(a)}));var t={uid:e.auth.uid,profile:{city:z,country:X,region:ae}};e.updateProfile(t),e.authError?je(e.authError):(ge(!0),He("Success","Location Sucessfully Updated!"))}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:pe?Object(j.jsx)("p",{children:"Change Success"}):null})]})});case"changeSubAccounts":return Object(j.jsx)(se,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsxs)(vt,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:le,HandleButtonState:fe,type:e.profile.type,children:[Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsx)(Nt,{setSubFirstName:C,setSubLastName:T,setSubEmail:P,setSubPassword:I,setSubRole:B,subAccounts:V,subFirstName:w,subLastName:N,subEmail:D,subPassword:A,subRole:L,profile:e.profile,uid:e.auth.uid,deleteSubAccount:e.deleteSubAccount}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"blue",text:"Create Sub Account",onClick:function(t){t.preventDefault(),function(){var t,a;"business_admin"===e.profile.type?(t="business_users",a="business_sub"):"academic_admin"===e.profile.type?(t="academic_users",a="academic_sub"):"farm_admin"===e.profile.type?(t="farm_users",a="farm_sub"):"household_admin"===e.profile.type&&(t="household_users",a="household_sub");var n={masterCollection:t,uid:e.auth.uid,email:D,password:A,firstName:w,lastName:N,role:L,function:e.profile.buildingFunction,city:e.profile.city,country:e.profile.country,region:e.profile.region,type:a};""!==w&&""!==N&&""!=D&&""!==A&&""!==L?(e.createSubAccount(n),e.authError?je(e.authError):(ge(!0),He("Success","Sub Account Sucessfully Created!"),C(""),T(""),P(""),I(""),B(""))):He("Error","Please ensure the form is completed.")}()}})}),Object(j.jsx)("div",{className:"auth-error",children:e.authError?Object(j.jsxs)("p",{children:[" ",e.authError]}):null}),Object(j.jsx)("div",{className:"success",children:pe?Object(j.jsx)("p",{children:"Account Created"}):null})]})});default:return Object(j.jsx)(se,{header:"Settings",subtitle:"What would you like to change?",goTo:"/account",children:Object(j.jsx)(vt,{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,town:e.profile.city,region:e.profile.region,country:e.profile.country,buildingFunction:e.profile.buildingFunction,setForm:le,HandleButtonState:fe,HandleSignOut:e.signOut,type:e.profile.type})})}}));var Et,Ft=Object(g.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createResearchData:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("data").doc(e.uid).collection("researchData").add(e.upload).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(r.useState)(Boolean),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(""),b=Object(c.a)(u,2),h=b[0],p=b[1],g=Object(r.useState)(""),f=Object(c.a)(g,2),O=f[0],x=f[1],y=Object(r.useState)(""),v=Object(c.a)(y,2),w=v[0],C=v[1],S=Object(r.useState)(""),k=Object(c.a)(S,2),N=k[0],T=k[1],E=Object(r.useState)(!1),F=Object(c.a)(E,2),D=F[0],P=F[1];return Object(j.jsxs)(se,{header:"Questionnaire",subtitle:"",goTo:"/settings",children:[Object(j.jsx)(m.a,{children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are you 16 years old or above?"}),Object(j.jsx)(m.a.Check,{type:"radio",inline:!0,label:"Yes",name:"16 or above",id:"yes",onClick:function(e){return i(!0)}}),Object(j.jsx)(m.a.Check,{type:"radio",inline:!0,label:"No",name:"16 or above",id:"no",onClick:function(e){return i(!1)}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What is your current living arrangement?"}),Object(j.jsx)(m.a.Check,{label:"I live alone",name:"living arrangement",type:"radio",id:"alone",onClick:function(e){return d(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"I live with family",name:"living arrangement",type:"radio",id:"family",onClick:function(e){return d(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"Mixed residence",name:"living arrangement",type:"radio",id:"mixed",onClick:function(e){return d(e.target.id)}})]}),"family"===l?Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are there any children under 16 in your household?"}),Object(j.jsx)(m.a.Check,{label:"Yes",name:"Ages in household",type:"radio",id:"Living with under 16's",onClick:function(e){return p(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"No",name:"Ages in household",type:"radio",id:"16+ household",onClick:function(e){return p(e.target.id)}})]}):null,Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What is your building type?"}),Object(j.jsx)(m.a.Check,{inline:!0,label:"Flat",name:"building type",type:"radio",id:"flat",onClick:function(e){return x(e.target.id)}}),Object(j.jsx)(m.a.Check,{inline:!0,label:"House",name:"building type",type:"radio",id:"house",onClick:function(e){return x(e.target.id)}}),Object(j.jsx)(m.a.Check,{inline:!0,label:"Other",name:"building type",type:"radio",id:"other",onClick:function(e){return x(e.target.id)}})]}),Object(j.jsxs)(m.a.Group,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{children:"Where do you go shopping for your groceries?"}),Object(j.jsx)(Oe,{id:"shopAt",styling:"grey",data:w,function:function(e){C(e)},items:["Aldi","Asda","Lidl","M&S","Sainsbury's","Tesco","Waitrose","Other"]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"How often do you go shopping for groceries per week?"}),Object(j.jsx)(m.a.Check,{label:"1 or 2 visits",name:"how often",type:"radio",id:"1 or 2 visits",onClick:function(e){return T(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"3 or more visits",name:"how often",type:"radio",id:"3 or more visits",onClick:function(e){return T(e.target.id)}}),Object(j.jsx)(m.a.Check,{label:"Weekends only",name:"how often",type:"radio",id:"Weekends only",onClick:function(e){return T(e.target.id)}})]})]},"inline-radio")}),Object(j.jsx)("div",{className:"success",children:D?Object(j.jsx)("p",{children:"Thanks!"}):null}),Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{styling:"green",text:"Submit",onClick:function(t){!function(){var t={uid:e.auth.uid,upload:{sixteenPlus:n,arrangement:l,ages:h,buildingType:O,shopAt:w,shopPerWeek:N}};e.createResearchData(t),He("Thanks!","By answering this questionnaire you have helped us conduct our research on how to arrange the food system in a more sustainable way!"),P(!0)}()}})})]})}));var Dt,Pt,Wt=ce.a.div(Et||(Et=Object(re.a)(["\n      .card{\n        color: rgb(59, 59, 59);\n        background-color: rgb(238, 238, 238);\n        border: none;\n        border-radius:5px;\n        padding:70px 0 50px 0;\n      }\n      \n      .card-body{\n          height:200px;\n      }\n\n      "]))),Mt=function(){return Object(j.jsx)(i.a.Fragment,{children:Object(j.jsxs)(de.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found",children:[Object(j.jsx)(le.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"",xs:12,lg:4}),Object(j.jsx)(le.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(Wt,{children:Object(j.jsx)(ue.a,{children:Object(j.jsx)(ue.a.Body,{children:Object(j.jsxs)(ue.a.Text,{className:"text-center",children:[Object(j.jsx)("h1",{className:"page-not-found",children:"404 - Page Not Found"}),Object(j.jsx)("h1",{className:"not-found-message",children:"The page you were looking for does not exist."})]})})})})}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12})]})})},At=a(9),It=a(69),Rt=a(70),_t=a(80),Lt=a(79),Bt=function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(It.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:""},e.handleChange=function(t){e.setState(Object(At.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.resetPassword(e.state)},e}return Object(Rt.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(i.a.Fragment,{children:Object(j.jsxs)(de.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex frg-pass",children:[Object(j.jsx)(le.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"",xs:12,lg:4}),Object(j.jsx)(le.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(Gt,{children:Object(j.jsx)(ue.a,{children:Object(j.jsx)(ue.a.Body,{children:Object(j.jsx)(ue.a.Text,{children:Object(j.jsxs)(Ut,{children:[Object(j.jsx)("h1",{className:"text-center",children:"Reset Password"}),Object(j.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Email"}),Object(j.jsx)(m.a.Control,{type:"email",id:"email",placeholder:"Email",required:!0,onChange:this.handleChange})]}),Object(j.jsx)(m.a.Group,{controlId:"formActions",children:Object(j.jsx)(p.a,{variant:"dark",type:"submit",children:"Reset Password"})})]}),Object(j.jsx)("p",{className:"text-center rmb-pass",children:Object(j.jsx)(d.b,{to:"/login",className:"remember-password",children:"I remember my password."})}),Object(j.jsxs)("p",{className:"text-center no-acc",children:["Not got an account? ",Object(j.jsx)(d.b,{to:"/signup",className:"register",children:"Click here"})," to sign up today!"]}),Object(j.jsx)("div",{className:"auth-error",children:t?Object(j.jsxs)("p",{children:[" ",t]}):null})]})})})})})}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12})]})})}}]),a}(r.Component),Ut=ce.a.div(Dt||(Dt=Object(re.a)(["\n    form{\n      margin:auto;\n        padding:10px;\n      width:100%;\n\n    }\n\n    input{\n      border: 1px solid #62680a;\n    }\n\n    .btn-dark{\n      background-color:#071850;\n      color:whitesmoke;\n      border: 1px solid #03091d;\n      float:right;\n\n      &:hover{\n        background-color: #030d2b;\n        border: 1px solid #03091d;\n      }\n\n      &:active{\n        background-color: #030d2b;\n        border: 1px solid #03091d;\n      }\n    }\n\n"]))),Gt=ce.a.div(Pt||(Pt=Object(re.a)(["\n.card{\n  color: rgb(59, 59, 59);\n  background-color: rgb(238, 238, 238);\n  border: none;\n  border-radius:5px;\n  padding:10px 0 10px 0;\n}\n\n"]))),Vt=Object(g.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{resetPassword:function(t){return e(O(t))}}}))(Bt),Ht=a.p+"static/media/fr_positive-planet.8257fa0d.jpg",Yt=a.p+"static/media/pts_plate_notebook.fd4f56df.png",qt=a.p+"static/media/pts-banner.a6e618cb.png",zt=a.p+"static/media/stfcfoodnetwork.8c8f186f.png",Kt=a(496);function Jt(){return Object(j.jsxs)(ue.a,{className:"countdown-card",children:[Object(j.jsx)(Kt.a,{className:"countdown",date:"2022-06-30T23:59:59"}),Object(j.jsx)("span",{className:"label",children:"days : hrs : mins : secs"})]})}var Zt,Qt,Xt=Object(g.b)((function(e){return{profile:e.firebase.profile}}))((function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=(a[0],a[1]),i=Object(r.useState)("/meal-plan"),s=Object(c.a)(i,2),o=(s[0],s[1]);return Object(r.useEffect)((function(){e.profile.buildingFunction,n(!0),e.profile.isConsumer?o("/meal-plan"):o("cons-auth")})),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(se,{header:"The Plan to Save Campaign",goTo:"/account",children:[Object(j.jsx)(Jt,{}),Object(j.jsx)("div",{className:"disclaimer",children:Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"NOTE:"}),"This is part of the 'Fail to Plan, Plan to Fail' campaign. Click 'Plan to Save' to express interest in reserving food items from local sources, this countdown is representative of our target timeline for deploying the plan to save and coordinating food consumption between consumers and their local farmers."]})}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("img",{className:"large-img",src:Yt,alt:""}),Object(j.jsx)("div",{className:"img-overlay blue",children:Object(j.jsx)("h2",{children:"How Does It Work?"})})]}),Object(j.jsx)("div",{className:"pts-p-div",children:Object(j.jsx)("p",{className:"pts-p",children:"If you can reserve your fresh food, local farmers can plan better in their food production to meet your need in the most sustainable way. By signing up to the Plan to Save campaign and reserving your weekly, fortnightly and monthly fresh food requirements, we will take the responsibility to identify local farmers around you or encourage the set up of local farmers to supply your reservation, ensuring the supply of nutritious food all year round for all."})}),(e.profile.buildingFunction,Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(Q,{text:"Start your plan now!",goTo:"/meal-plan",styling:"green"})})),Object(j.jsx)("a",{href:"https://intellidigest.com/services/food-system-sustainability/food-waste-tracker/plan-to-save/",children:Object(j.jsx)("img",{className:"large-img",src:qt,alt:"Plan to Save promotional banner"})})]}),Object(j.jsx)("div",{className:"support",children:Object(j.jsx)("h4",{children:"Supported By:"})}),Object(j.jsxs)(de.a,{style:{backgroundColor:"white"},children:[Object(j.jsx)(le.a,{children:Object(j.jsx)("img",{className:"small-img",src:zt,alt:"STFC Food Network"})}),Object(j.jsx)(le.a,{children:Object(j.jsx)("img",{className:"small-img",src:Ht,alt:"Positive Planet"})})]})]})})),$t=function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(It.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={password:""},e.handleChange=function(t){e.setState(Object(At.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.updatePassword(e.state)},e}return Object(Rt.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?Object(j.jsx)(i.a.Fragment,{children:Object(j.jsxs)(de.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex change-password",children:[Object(j.jsx)(le.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"",xs:12,lg:4}),Object(j.jsx)(le.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(ta,{children:Object(j.jsx)(ue.a,{children:Object(j.jsx)(ue.a.Body,{children:Object(j.jsx)(ue.a.Text,{children:Object(j.jsxs)(ea,{children:[Object(j.jsx)("div",{className:"text-center"}),Object(j.jsx)("h1",{className:"text-center",children:"Change Password"}),Object(j.jsxs)(m.a,{onSubmit:this.handleSubmit,children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"New Password"}),Object(j.jsx)(m.a.Control,{type:"password",id:"password",placeholder:"New Password",required:!0,onChange:this.handleChange})]}),Object(j.jsx)(m.a.Group,{controlId:"formActions",children:Object(j.jsx)(p.a,{variant:"dark",type:"submit",children:"Change Password"})})]}),Object(j.jsx)("p",{className:"text-center back-to-acc",children:Object(j.jsx)(d.b,{to:"/account",className:"cancel",children:"Cancel"})}),Object(j.jsx)("div",{className:"auth-error",children:a?Object(j.jsxs)("p",{children:[" ",a]}):null})]})})})})})}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12})]})}):Object(j.jsx)(l.a,{to:"/login"})}}]),a}(r.Component),ea=ce.a.div(Zt||(Zt=Object(re.a)(["\n  form {\n    margin: auto;\n    padding: 10px;\n    width: 100%;\n  }\n\n  input {\n    border: 1px solid #62680a;\n  }\n\n  .btn-dark {\n    background-color: #071850;\n    color: whitesmoke;\n    border: 1px solid #03091d;\n    float: right;\n\n    &:hover {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n\n    &:active {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n  }\n"]))),ta=ce.a.div(Qt||(Qt=Object(re.a)(["\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 10px 0 10px 0;\n  }\n"]))),aa=Object(g.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{updatePassword:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().currentUser.updatePassword(a.password).then((function(){e({type:"CHANGE_SUCCESS"})})).catch((function(t){e({type:"CHANGE_ERROR",err:t})}))}));var a}}}))($t),na=a(46),ra=a.n(na),ia=a(28),sa=a(71),oa=a(884),ca=a(885),la=a(886),da=a(887),ua=a(63),ba=a.n(ua),ja=a(497),ha=a.n(ja),ma=(a(729),a(730),Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,data:e.firestore.data.mapData}}),(function(e){return{getMapData:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().firestore().collection(a.masterCollection).get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_DATA",payload:a})})).catch((function(t){e({type:"GET_DATA_ERROR",err:t})}))}));var a}}})),Object(gt.firestoreConnect)((function(e){return e.auth?[{collection:"mapData",storeAs:"mapData"}]:[]})))((function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){i([]),null!==e.data&&void 0!==e.data&&s()}),[e.data]);var s=function(){var t=Object(sa.a)(ra.a.mark((function t(){var a,n;return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object.values(e.data),n=[],a.forEach((function(e){var t=n.findIndex((function(t){return t.location===e.location})),a={foodWasteWeight:e.foodWasteWeight,location:e.location,coords:e.coords,users:1};-1===t?n.push(a):(n[t].foodWasteWeight+=e.foodWasteWeight,n[t].users+=1)})),n.forEach((function(e){try{var t={lat:e.coords[0],lng:e.coords[1],location:e.location,users:e.users,foodWasteWeight:e.foodWasteWeight};i((function(e){return[].concat(Object(ia.a)(e),[t])}))}catch(a){}}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o={color:"#ffffff",fillColor:"#f5b041",fillOpacity:.5},d={color:"#ffffff",fillColor:"#58d68d",fillOpacity:.5};function u(e){var t;t=e.users<=10?d:o;var a="User";return e.users>1&&(a="Users"),Object(j.jsx)(oa.a,{center:[e.lat,e.lng],pathOptions:t,radius:18,children:Object(j.jsxs)(ca.a,{children:[e.location,": ",e.users," ",a]})})}return e.auth.uid?Object(j.jsx)(se,{header:"Users Map",goTo:"/account",children:Object(j.jsxs)(la.a,{className:"map-data",center:[0,0],zoom:1.4,minZoom:1.4,maxZoom:12,scrollWheelZoom:!0,maxBounds:[[84.865782,-179.632962],[-84.865782,199.335822]],children:[Object(j.jsx)(da.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> IntelliDigest - iTracker',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(j.jsx)(ha.a,{iconCreateFunction:function(e){var t=e.getAllChildMarkers(),a=0;t.forEach((function(e){a+=e._tooltip.options.children[2]}));var n=" ";return n+=a<10?"small":"medium",ba.a.divIcon({html:"<b>".concat(a,"</b>"),className:"marker-cluster-custom"+n,iconSize:ba.a.point(40,40,!0)})},polygonOptions:{weight:2,opacity:1,fillOpacity:.5,smoothFactor:20},showCoverageOnHover:!0,maxClusterRadius:50,children:n.map((function(e,t){var a=e.lat,n=e.lng,r=e.foodWasteWeight,i=e.location,s=e.users;return Object(j.jsx)(u,{lat:a,lng:n,foodWasteWeight:r,location:i,users:s},t)}))})]})}):Object(j.jsx)(l.a,{to:"/login"})}))),pa=a(888),ga=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Oe,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},fa=function(e){return"Edible"===e.upload.edibleInedible?e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"}):e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"})},Oa=Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(Ae(t))},createMapData:function(t){return e(Ie(t))}}}))((function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0];a[1];Object(r.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("household")||String(e.profile.type).includes("user")||console.log(e.profile.type))}),[e.profile]);var s={edibleInedible:"Edible",foodWasteWeight:0,weightType:"Select Unit",carbsContent:0,carbsPerUnit:"Select Unit",proteinContent:0,proteinPerUnit:"Select Unit",fatContent:0,fatPerUnit:"Select Unit",ghg:0,expiryDate:"",foodWasteCost:0,currency:"Select Currency"},o={weightMultiplier:0,currencyMultiplier:0,carbsMultiplier:0,proteinMultiplier:0,fatMultiplier:0},d=Object(r.useState)(Object(n.a)({},s)),u=Object(c.a)(d,2),h=u[0],p=u[1],g=Object(r.useState)(Object(n.a)({},o)),f=Object(c.a)(g,2),O=f[0],x=f[1];Object(r.useEffect)((function(){w()}),[h.edibleInedible,h.foodWasteWeight,h.weightType,h.currency,h.carbsContent,h.carbsPerUnit,h.proteinContent,h.proteinPerUnit,h.fatContent,h.fatPerUnit]);var y=function(e){e.target.textContent?p(Object(n.a)(Object(n.a)({},h),{},Object(At.a)({},e.target.id,e.target.textContent))):p(Object(n.a)(Object(n.a)({},h),{},Object(At.a)({},e.target.id,e.target.value)))},v=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"100g":case"100ml":t=.01;break;case"500g":case"500ml":t=.002;break;case"1l":case"1kg":t=.001;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}x(Object(n.a)(Object(n.a)({},O),{},Object(At.a)({},a,t)))},w=function(){var e=Number(h.foodWasteWeight*O.weightMultiplier*2.5);p(Object(n.a)(Object(n.a)({},h),{},{ghg:e,foodWasteCost:(.85*Number(h.foodWasteWeight)*O.weightMultiplier*O.currencyMultiplier).toFixed(2)}))};return e.auth.uid?i?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(se,{header:"Update Food Waste",subtitle:"Upload Edible or Inedible Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedible"}),Object(j.jsx)(Oe,{id:"edibleInedible",styling:"grey dropdown-input",data:h.edibleInedible,function:function(e,t){y(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){y(e)},value:h.foodWasteWeight}),Object(j.jsx)(Oe,{id:"weightType",styling:"grey dropdown-input-right",data:h.weightType,function:function(e,t){v(t),y(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(ga,{upload:h,multipliers:O,changeMultiplier:v,updateStateValue:y}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:h.ghg,title:h.ghg,readOnly:!0}),Object(j.jsx)(pa.a.Append,{children:Object(j.jsx)(pa.a.Text,{children:"kg co2"})})]})]}),Object(j.jsx)(fa,{upload:h,handleFoodWasteSubmit:function(){var t;switch(h.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,r,i={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:h.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":r="business_users",a=e.auth.uid;break;case"business_sub":r="business_users",a=e.profile.admin;break;case"academic_admin":r="academic_users",a=e.auth.uid;break;case"academic_sub":r="academic_users",a=e.profile.admin;break;case"farm_admin":r="farm_users",a=e.auth.uid;break;case"farm_sub":r="farm_users",a=e.profile.admin;break;case"household_admin":r="household_users",a=e.auth.uid;break;case"household_sub":r="household_users",a=e.profile.admin;break;default:r="data",a=e.auth.uid}var c={uid:a,masterCollection:r,collection:"writtenFoodWasteData",upload:Object(n.a)({date:Object(gt.getFirebase)().firestore.Timestamp.fromDate(new Date)},h)};e.createFoodWasteData(c),e.createMapData(i),He("Success","Food Waste successfully uploaded!"),p(s),x(o)}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),xa=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Oe,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},ya=function(e){return"Edible"===e.upload.edibleInedible?""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"}):""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"})},va=Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(Ae(t))},createMapData:function(t){return e(Ie(t))}}}))((function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("farm")||s(!0))}),[e.profile]);var o={edibleInedible:"Edible",foodName:"",foodWasteWeight:0,weightType:"Select Unit",expiryDate:"",ghg:0,foodWasteCost:0,currency:"Select Currency"},d={weightMultiplier:0,currencyMultiplier:0},u=Object(r.useState)(o),h=Object(c.a)(u,2),p=h[0],g=h[1],f=Object(r.useState)(d),O=Object(c.a)(f,2),x=O[0],y=O[1];Object(r.useEffect)((function(){C()}),[p.edibleInedible,p.foodWasteWeight,p.weightType,p.currency]);var v=function(e){e.target.textContent?g(Object(n.a)(Object(n.a)({},p),{},Object(At.a)({},e.target.id,e.target.textContent))):g(Object(n.a)(Object(n.a)({},p),{},Object(At.a)({},e.target.id,e.target.value)))},w=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}y(Object(n.a)(Object(n.a)({},x),{},Object(At.a)({},a,t)))},C=function(){g(Object(n.a)(Object(n.a)({},p),{},{ghg:Number(p.foodWasteWeight*x.weightMultiplier*2.5),foodWasteCost:(.85*Number(p.foodWasteWeight)*x.weightMultiplier*x.currencyMultiplier).toFixed(2)}))};return e.auth.uid?i?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(se,{header:"Update Food Waste",subtitle:"Upload Edible or Inedible Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Food Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"foodName",onChange:function(e){v(e)},value:p.foodName})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedibe"}),Object(j.jsx)(Oe,{id:"edibleInedible",styling:"grey dropdown-input",data:p.edibleInedible,function:function(e,t){v(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){v(e)},value:p.foodWasteWeight}),Object(j.jsx)(Oe,{id:"weightType",styling:"grey dropdown-input-right",data:p.weightType,function:function(e,t){w(t),v(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(xa,{upload:p,multipliers:x,changeMultiplier:w,updateStateValue:v}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:p.ghg,title:p.ghg,readOnly:!0}),Object(j.jsx)(pa.a.Append,{children:Object(j.jsx)(pa.a.Text,{children:"kg co2"})})]})]}),Object(j.jsx)(ya,{upload:p,handleFoodWasteSubmit:function(){var t;switch(p.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,r,i={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:p.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":r="business_users",a=e.auth.uid;break;case"business_sub":r="business_users",a=e.profile.admin;break;case"academic_admin":r="academic_users",a=e.auth.uid;break;case"academic_sub":r="academic_users",a=e.profile.admin;break;case"farm_admin":r="farm_users",a=e.auth.uid;break;case"farm_sub":r="farm_users",a=e.profile.admin;break;case"household_admin":r="household_users",a=e.auth.uid;break;case"household_sub":r="household_users",a=e.profile.admin;break;default:r="data",a=e.auth.uid}var s={uid:a,masterCollection:r,collection:"writtenFoodLossData",upload:Object(n.a)({date:Object(gt.getFirebase)().firestore.Timestamp.fromDate(new Date)},p)};e.createFoodWasteData(s),e.createMapData(i),He("Success","Food Loss successfully uploaded!"),g(o),y(d)}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),wa=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Oe,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},Ca=function(e){return"Edible"===e.upload.edibleInedible?e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"}):e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"})},Sa=Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(Ae(t))},createMapData:function(t){return e(Ie(t))}}}))((function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("business")||s(!0))}),[e.profile]);var o={edibleInedible:"Edible",foodWasteWeight:0,weightType:"Select Unit",expiryDate:"",ghg:0,foodWasteCost:0,currency:"Select Currency",notes:""},d={weightMultiplier:0,currencyMultiplier:0},u=Object(r.useState)(o),h=Object(c.a)(u,2),p=h[0],g=h[1],f=Object(r.useState)(d),O=Object(c.a)(f,2),x=O[0],y=O[1],v=Object(r.useRef)(null);Object(r.useEffect)((function(){S(),console.log(p.currency)}),[p.edibleInedible,p.foodWasteWeight,p.weightType,p.currency]);var w=function(e){e.target.textContent?g(Object(n.a)(Object(n.a)({},p),{},Object(At.a)({},e.target.id,e.target.textContent))):g(Object(n.a)(Object(n.a)({},p),{},Object(At.a)({},e.target.id,e.target.value)))},C=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}y(Object(n.a)(Object(n.a)({},x),{},Object(At.a)({},a,t)))},S=function(){g(Object(n.a)(Object(n.a)({},p),{},{ghg:Number(p.foodWasteWeight*x.weightMultiplier*2.5),foodWasteCost:(.85*Number(p.foodWasteWeight)*x.weightMultiplier*x.currencyMultiplier).toFixed(2)}))};return e.auth.uid?i?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(se,{header:"Update Food Waste",subtitle:"Upload Edible or Inedibe Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedibe"}),Object(j.jsx)(Oe,{id:"edibleInedible",styling:"grey dropdown-input",data:p.edibleInedible,function:function(e,t){w(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){w(e)},value:p.foodWasteWeight}),Object(j.jsx)(Oe,{id:"weightType",styling:"grey dropdown-input-right",data:p.weightType,function:function(e,t){C(t),w(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(wa,{upload:p,multipliers:x,changeMultiplier:C,updateStateValue:w}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:p.ghg,title:p.ghg,readOnly:!0}),Object(j.jsx)(pa.a.Append,{children:Object(j.jsx)(pa.a.Text,{children:"kg co2"})})]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Notes"}),Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",ref:v,onChange:function(e){w(e)}})]}),Object(j.jsx)(Ca,{upload:p,handleFoodWasteSubmit:function(){var t;switch(p.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,r,i={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:p.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":r="business_users",a=e.auth.uid;break;case"business_sub":r="business_users",a=e.profile.admin;break;case"academic_admin":r="academic_users",a=e.auth.uid;break;case"academic_sub":r="academic_users",a=e.profile.admin;break;case"farm_admin":r="farm_users",a=e.auth.uid;break;case"farm_sub":r="farm_users",a=e.profile.admin;break;case"household_admin":r="household_users",a=e.auth.uid;break;case"household_sub":r="household_users",a=e.profile.admin;break;default:r="data",a=e.auth.uid}var s={uid:a,masterCollection:r,collection:"writtenFoodWasteData",upload:Object(n.a)({date:Object(gt.getFirebase)().firestore.Timestamp.fromDate(new Date)},p)};e.createFoodWasteData(s),e.createMapData(i),He("Success","Food Waste successfully uploaded!"),g(o),y(d),v.current.value=""}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),ka=a(515),Na=function(e){return"Select Meal"!==e.upload.meal&&""!==e.upload.foodName?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(){e.handleFoodIntakeSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"})},Ta=Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(Ae(t))}}}))((function(e){var t={meal:"Select Meal",foodName:"",local:!0,eatingIn:!0},a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],o=i[1],d=Object(r.useState)([]),u=Object(c.a)(d,2),h=u[0],p=u[1],g=Object(r.useState)(t),f=Object(c.a)(g,2),O=f[0],x=f[1],y=function(e){x(Object(n.a)(Object(n.a)({},O),{},Object(At.a)({},e.target.name,!O[[e.target.name]])))},v=Object(r.useRef)();return e.auth.uid?Object(j.jsx)(se,{header:"Update Food Intake",subtitle:"Upload Food Intake",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Meal"}),Object(j.jsx)(xe,{id:"meal",function:function(e){!function(e){x(Object(n.a)(Object(n.a)({},O),{},Object(At.a)({},e.target.id,e.target.value)))}(e)},value:O.meal,placeholder:"Please select a meal",items:["Breakfast","Lunch","Dinner","Other"]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Food Name"}),Object(j.jsx)(ka.a,{filterBy:function(){return!0},id:"foodName",isLoading:s,labelKey:"name",minLength:3,onSearch:function(e){o(!0),fetch("https://web-wrggqo5tiq-lz.a.run.app/completion",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"food=".concat(e)}).then((function(e){return e.json().then((function(t){return{data:t,status:e.status}}))})).then((function(e){var t=e.data.map((function(e){return{food_id:e.food_id,name:e.name}}));p(t),o(!1)})),x(Object(n.a)(Object(n.a)({},O),{},{foodName:e}))},onChange:function(e){x(Object(n.a)(Object(n.a)({},O),{},{foodName:e[0].name}))},options:h,placeholder:"Enter a food name",value:O.foodName,ref:v})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Local or Non-Local"}),Object(j.jsx)(m.a.Check,{name:"local",type:"radio",label:"Local",checked:O.local,onChange:function(e){y(e)}}),Object(j.jsx)(m.a.Check,{name:"local",type:"radio",label:"Non-Local",onChange:function(e){y(e)}})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Eating In or Eating Out"}),Object(j.jsx)(m.a.Check,{name:"eatingIn",type:"radio",label:"Eating In",checked:O.eatingIn,onChange:function(e){y(e)}}),Object(j.jsx)(m.a.Check,{name:"eatingIn",type:"radio",label:"Eating Out",onChange:function(e){y(e)}})]}),Object(j.jsx)(Na,{upload:O,handleFoodIntakeSubmit:function(){var a,r;switch(e.profile.type){case"business_admin":r="business_users",a=e.auth.uid;break;case"business_sub":r="business_users",a=e.profile.admin;break;case"academic_admin":r="academic_users",a=e.auth.uid;break;case"academic_sub":r="academic_users",a=e.profile.admin;break;case"farm_admin":r="farm_users",a=e.auth.uid;break;case"farm_sub":r="farm_users",a=e.profile.admin;break;case"household_admin":r="household_users",a=e.auth.uid;break;case"household_sub":r="household_users",a=e.profile.admin;break;default:r="data",a=e.auth.uid}var i={uid:a,masterCollection:r,collection:"writtenFoodIntakeData",upload:Object(n.a)({date:Object(gt.getFirebase)().firestore.Timestamp.fromDate(new Date),name:e.profile.firstName+" "+e.profile.lastName},O)};e.createFoodWasteData(i),He("Success","Food Diary successfully updated!"),x(t),v.current.clear()}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),Ea=a.p+"static/media/tip1.04d20bae.jpg",Fa=a.p+"static/media/tip2.238da9ad.jpg",Da=a.p+"static/media/tip3.3622e4fa.jpg",Pa=a.p+"static/media/tip4.a95f5cac.jpg",Wa=a.p+"static/media/tip5.ee47f4f7.jpg",Ma=function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){return Object(It.a)(this,a),t.apply(this,arguments)}return Object(Rt.a)(a,[{key:"render",value:function(){return Object(j.jsx)(se,{header:"Reduction Tips",subtitle:"Food Waste Reduction Tips",goTo:"/account",children:Object(j.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:["Food waste is a bigger problem than many people realize.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"In fact, nearly one-third of all food produced in the world is discarded or wasted for various reasons. That equates to nearly"," ",Object(j.jsx)("b",{children:"1.3 billion tons"})," every year.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Not surprisingly, industrialized countries like the United States waste more food than developing nations. In 2010, the average American generated about 219 pounds (99 kg) of food waste, according to the US Environmental Protection Agency (EPA).",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"While you might not think food waste affects you, think again.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Tossing edible food doesn\u2019t just waste money. Discarded food is sent to landfills, where it rots and produces methane gas, which is the second most common greenhouse gas. In other words, throwing out your food contributes to climate change.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"It wastes a huge amount of water, too. According to the World Resources Institute, 24% of all the water used for agriculture is lost through food waste every year. That\u2019s 45 trillion gallons (about 170 trillion liters).",Object(j.jsx)("br",{}),Object(j.jsx)("br",{})," These things will help to reduce food waste:-"," "]}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[" ",Object(j.jsx)("h3",{children:"1. Shop Smart:-"})," ",Object(j.jsx)("img",{src:Ea,alt:"tip1",className:"img-fluid rounded fix-image"})," ","Most people tend to buy more food than they need. Though buying in bulk may be convenient, research has shown that this shopping method leads to more food waste. To avoid buying more food than you need, make frequent trips to the grocery store every few days rather than doing a bulk shopping trip once a week. Make a point to use up all the food you purchased during the last trip to the market before buying more groceries. Additionally, try making a list of items that you need to buy and stick to that list. This will help you reduce impulse buying and reduce food waste as well"]}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[" ",Object(j.jsx)("h3",{children:"2. Store Food Correctly:-"})," ",Object(j.jsx)("img",{src:Fa,alt:"tip2",className:"img-fluid rounded fix-image"})," ","Improper storage leads to a massive amount of food waste. According to the Natural Resource Defense Council, about two-thirds of household waste in the United Kingdom is due to food spoilage. Many people are unsure how to store fruits and vegetables, which can lead to premature ripening and, eventually, rotten produce. For instance, potatoes, tomatoes, garlic, cucumbers and onions should never be refrigerated. These items should be kept at room temperature. Separating foods that produce more ethylene gas from those that don\u2019t is another great way to reduce food spoilage. Ethylene promotes ripening in foods and could lead to spoilage."]}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[Object(j.jsx)("h3",{children:"3. Learn to Preserve:-"})," ",Object(j.jsx)("img",{src:Da,alt:"tip3",className:"img-fluid rounded fix-image"})," ","While you might think fermenting and pickling are new fads, food preservation techniques like these have been used for thousands of years. Pickling, a type of preservation method using brine or vinegar, may have been used as far back as 2400 BC. Pickling, drying, canning, fermenting, freezing and curing are all methods you can use to make food last longer, thus reducing waste. Not only will these methods shrink your carbon footprint, they will save you money as well. What\u2019s more, most preservation techniques are simple and can be fun. For example, canning an excess of ripe apples and turning them into applesauce, or pickling fresh carrots from the market will provide you with a delicious and long-lasting treat that even kids will enjoy."]}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 0 2%"},children:[Object(j.jsx)("h3",{children:"4. Don\u2019t Be a Perfectionist:-"})," ",Object(j.jsx)("img",{src:Pa,alt:"tip4",className:"img-fluid rounded fix-image"})," ","Did you know that rummaging through a bin of apples until you find the most perfect-looking one contributes to food waste? Though identical in taste and nutrition, so-called \u201cugly\u201d fruits and vegetables get passed up for produce that is more pleasing to the eye. The consumer demand for flawless fruits and vegetables has led major grocery chains to buy only picture-perfect produce from farmers. This leads to tons of perfectly good food going to waste. It\u2019s such a big issue that major grocery chains like Walmart and Whole Foods have started offering \u201cugly\u201d fruits and vegetables at a discount in an attempt to reduce waste. Do your part by choosing slightly imperfect produce at the grocery store, or better yet, directly from the farmer."]}),Object(j.jsx)(ie.a,{variant:"middle"}),Object(j.jsxs)("p",{style:{textAlign:"left",padding:"10px 2% 50px 2%"},children:[Object(j.jsx)("h3",{children:"5. Keep Your Fridge Clutter-Free:-"})," ",Object(j.jsx)("img",{src:Wa,alt:"tip5",className:"img-fluid rounded fix-image"})," ","You\u2019ve probably heard the saying, \u201cout of sight, out of mind.\u201d This rings especially true when it comes to food. While having a well-stocked fridge can be a good thing, an overly filled fridge can be bad when it comes to food waste. Help avoid food spoilage by keeping your fridge organized so you can clearly see foods and know when they were purchased. A good way to stock your fridge is by using the FIFO method, which stands for \u201cfirst in, first out.\u201d For example, when you buy a new carton of berries, place the newer package behind the old one. This helps ensure that older food gets used, not wasted."]})]})})}}]),a}(r.Component),Aa=function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){return Object(It.a)(this,a),t.apply(this,arguments)}return Object(Rt.a)(a,[{key:"renderTableData",value:function(){return this.props.users&&this.props.users.map((function(e,t){var a=e.id,n=e.email,r=e.firstName,i=e.lastName,s=e.address,o=e.city,c=e.country,l=e.postcode,d=e.buildingFunction;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:a}),Object(j.jsxs)("td",{children:[r," ",i]}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:d}),Object(j.jsxs)("td",{children:[s,", ",o,", ",c,", ",l]})]},a)}))}},{key:"renderTableHeader",value:function(){}},{key:"render",value:function(){return this.props.auth.uid?"user"===this.props.profile.type?Object(j.jsx)(l.a,{to:"/"}):Object(j.jsxs)("div",{style:{paddingBottom:"50px",paddingTop:"70px"},children:[Object(j.jsxs)("h1",{id:"title",children:["The People who have signed in -"," ",this.props.users?this.props.users.length:0]}),Object(j.jsx)("table",{id:"students",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"EMAIL"}),Object(j.jsx)("th",{children:"BUILDING FUNTION"}),Object(j.jsx)("th",{children:"ADDRESS"})]}),this.renderTableData()]})})]}):Object(j.jsx)(l.a,{to:"/login"})}}]),a}(r.Component),Ia=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.ordered.users}})),Object(gt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"users",doc:e.auth.uid}]:[]})))(Aa),Ra=a(41),_a=(a(740),function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),l=o[0],u=o[1],b=Object(r.useState)(""),h=Object(c.a)(b,2),m=h[0],p=h[1],g=Object(r.useState)(""),f=Object(c.a)(g,2),O=f[0],x=f[1],y=Object(r.useState)(""),v=Object(c.a)(y,2),w=v[0],C=v[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={title:n,amount:m,date:new Date(O),type:l,code:w};e.onSaveExpenseData(a),i(""),u(""),p(""),x(""),C("")},children:[Object(j.jsxs)("div",{className:"new-item__control",children:[Object(j.jsx)("div",{className:"item__actions",children:Object(j.jsx)("h2",{style:{fontWeight:600,marginBottom:"3.5%"},children:"Add a product"})}),Object(j.jsx)("label",{style:{marginBottom:"0.25%"},children:"Name"}),Object(j.jsx)("input",{type:"text",value:n,onChange:function(e){i(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Type"}),Object(j.jsx)("input",{type:"text",value:l,onChange:function(e){u(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Post Code"}),Object(j.jsx)("input",{type:"text",value:w,onChange:function(e){C(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Amount"}),Object(j.jsx)("input",{type:"number",min:"0.01",step:"0.01",value:m,onChange:function(e){p(e.target.value)}}),Object(j.jsx)("label",{style:{marginTop:"2%",marginBottom:"0.25%"},children:"Date"}),Object(j.jsx)("input",{type:"date",min:"2019-01-01",max:"2022-12-31",value:O,onChange:function(e){x(e.target.value)},style:{marginBottom:"2.5%"}})]}),Object(j.jsx)("div",{className:"item__actions",children:Object(j.jsx)("button",{style:{marginBottom:"-1%"},type:"submit",children:"Add Product"})})]}),Object(j.jsx)("br",{}),Object(j.jsx)(d.b,{to:"/account",children:Object(j.jsx)("button",{type:"button",children:"Back"})})]})}),La=(a(741),function(e){return Object(j.jsx)("div",{className:"new-item",children:Object(j.jsx)(_a,{onSaveExpenseData:function(t){var a=Object(n.a)(Object(n.a)({},t),{},{id:Math.random().toString()});e.onAddE(a)}})})}),Ba=(a(742),function(e){var t=e.date.toLocaleString("en-US",{month:"long"}),a=e.date.toLocaleString("en-US",{day:"2-digit"}),n=e.date.getFullYear();return Object(j.jsxs)("div",{className:"exp-date",children:[Object(j.jsx)("label",{children:"EXPIRY"}),Object(j.jsx)("div",{className:"exp-date__month",children:t}),Object(j.jsx)("div",{className:"exp-date__day",children:a}),Object(j.jsx)("div",{className:"exp-date__year",children:n})]})}),Ua=(a(743),function(e){var t="card "+e.className;return Object(j.jsx)("div",{className:t,children:e.children})}),Ga=(a(744),function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsx)(Ua,{className:"item",children:Object(j.jsxs)("div",{style:{height:"7rem"},children:[Object(j.jsx)(Ba,{date:e.date}),Object(j.jsxs)("div",{className:"item__description",style:{marginLeft:"17.5%",marginTop:"-12.5%"},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Name: "}),e.title.toUpperCase()]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Type: "}),e.type]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Post code: "}),e.code]})]}),Object(j.jsxs)("div",{className:"item__price",style:{width:"10%",marginLeft:"85%",marginTop:"-100px"},children:["\xa3",e.amount]}),Object(j.jsx)("button",{className:"item-b",style:{width:"10%",marginLeft:"85%",marginTop:"5px"},children:"Buy"})]})})}),Object(j.jsx)(Ra.MobileView,{children:Object(j.jsx)(Ua,{className:"item",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(Ba,{date:e.date}),Object(j.jsxs)("div",{className:"item__description",style:{marginLeft:"35%",marginTop:"-32.5%"},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Name: "}),e.title.toUpperCase()]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Type: "}),e.type]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Post code: "}),e.code]}),Object(j.jsxs)("div",{className:"item__price",children:["\xa3",e.amount]}),Object(j.jsx)("button",{className:"item-b",children:"Buy"})]})]})})})]})}),Va=(a(745),function(e){return Object(j.jsx)("div",{className:"Lbl",children:Object(j.jsx)("label",{children:"My products"})})}),Ha=(a(746),function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)(Ua,{className:"listings",children:[Object(j.jsx)(Va,{}),e.items.map((function(e){return Object(j.jsx)(Ga,{title:e.title,type:e.type,amount:e.amount,date:e.date,code:e.code})}))]})})}),Ya=[{id:"e1",title:"Minced beef",amount:4.12,date:new Date(2021,9,14),type:"Meat",code:"EH11 2AB"},{id:"e2",title:"Carrots",amount:9.49,date:new Date(2021,12,12),type:"Vegetable",code:"EH1 2CA"},{id:"e3",title:"Sausage",amount:2.67,date:new Date(2021,9,28),type:"Meat",code:"EH9 2AB"},{id:"e4",title:"Banana",amount:450,date:new Date(2021,5,12),type:"Fruit",code:"EH11 2AB"}],qa=function(){var e=Object(r.useState)(Ya),t=Object(c.a)(e,2),a=t[0],n=t[1],i=function(e){n((function(t){return[e].concat(Object(ia.a)(t))}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ra.MobileView,{children:Object(j.jsxs)("div",{style:{marginTop:"20%",marginBottom:"20%"},children:[Object(j.jsx)(La,{onAddE:i}),Object(j.jsx)(Ha,{items:a})]})}),Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsxs)("div",{style:{marginTop:"5%",marginBottom:"5%"},children:[Object(j.jsx)(La,{onAddE:i}),Object(j.jsx)(Ha,{items:a})]})})]})},za=a(896),Ka=a(89),Ja=a(96),Za=a(26),Qa=a(904),Xa=a(900),$a=a(494),en=a(894),tn=a(895),an=a(44),nn=a.n(an),rn=(a(810),a(747),a(811),a(809),{apiKey:"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w",authDomain:"itracker-development.firebaseapp.com",projectId:"itracker-development",storageBucket:"itracker-development.appspot.com",messagingSenderId:"57163396396",appId:"1:57163396396:web:dd800621173f5733a4a889"});f.a.initializeApp(rn);var sn,on=f.a.storage(),cn=f.a.messaging.isSupported()?f.a.messaging():null,ln=rn,dn=(f.a.auth,f.a.firestore()),un=function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(It.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={uid:e.props.auth.uid,item:"",itemWeight:0,weightType:"Select Unit",items:[],fromDate:"",toDate:"",frequency:"Select Frequency",formWidth:"",dropdownWidth:"",submissionType:"Reserve Items",submissionDay:nn()().format("ddd"),submissionWeek:nn()().format("W"),submissionMonth:nn()().format("MMM"),submissionDate:nn()().format("Do"),submissionYear:nn()().format("YYYY"),submissionFullDate:nn()().format("ddd MMM Do YYYY"),myReservations:[]},e.handleChange=function(t){e.setState(Object(At.a)({},t.target.id,t.target.value))},e.clearForm=function(){e.setState({item:"",itemWeight:0,weightType:"Select Unit",items:[],fromDate:"",toDate:"",frequency:"Select Frequency",myReservations:[]}),e.fetchMyReservationsData()},e.showNotification=function(){Ve()({title:"Success!",message:"Thank you for reserving items, you have helped a farmer plan their harvest more sustainably. We will contact you by the end of January via email about your reservation.",backgroundTop:"#9D5F1A",backgroundBottom:"#EA9434",closeButton:"Close",duration:2e4})},e.deleteReservation=function(t){var a=e.state.myReservations.filter((function(e){return e.resID!==t}));e.setState({myReservations:a}),dn.collection("data").doc(e.state.uid).collection("writtenFoodWasteData").doc(t).delete()},e.handleReserveItemSubmit=function(t){t.preventDefault(),e.setState({}),e.props.createReserveItemsData(e.state)},e.fetchMyReservationsData=Object(sa.a)(ra.a.mark((function t(){return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:dn.collection("data").doc(e.state.uid).collection("writtenFoodWasteData").get().then((function(t){t.forEach((function(t){var a=t.data().SUBMISSIONTYPE,n=t.data().ITEMLIST,r=t.data().FROMDATE,i=t.data().TODATE,s=t.data().FREQUENCY;"Reserve Items"===a&&e.setState((function(e){return{myReservations:e.myReservations.concat({itemList:n,fromDate:r,toDate:i,frequency:s,resID:t.id})}}))}))})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)}))),e}return Object(Rt.a)(a,[{key:"handleWeightUnitChange",value:function(e){this.setState({weightType:e})}},{key:"handleFreqChange",value:function(e){this.setState({frequency:e})}},{key:"isItemsEmpty",value:function(e){return 0===e.length}},{key:"handleAddClick",value:function(){var e=this;this.setState({itemWeight:0,weightType:"Select Unit"}),this.setState((function(t){return{items:t.items.concat({name:e.state.item,weight:e.state.itemWeight+e.state.weightType})}}))}},{key:"componentDidMount",value:function(){this.fetchMyReservationsData(),Ra.isMobile?this.setState({formWidth:"90vw",dropdownWidth:"241px"}):Ra.isBrowser&&this.setState({formWidth:"783px",dropdownWidth:"610px"})}},{key:"render",value:function(){var e=this,t=this.props;t.data,t.auth;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(j.jsx)("h4",{className:"text-center",style:{marginTop:"5%",marginBottom:"2.5%",paddingTop:"8vh",fontWeight:600},children:"Plan, Reserve, Collect, Save"}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%"},children:Object(j.jsx)(p.a,{style:{width:this.state.formWidth,borderColor:"#040335",backgroundColor:"#040335"},as:d.b,to:"/pts",children:"Back"})}),Object(j.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",height:"190%"},children:[Object(j.jsx)(ue.a,{style:{width:this.state.formWidth,marginBottom:"10vh",backgroundColor:"#aab41e"},children:Object(j.jsxs)(m.a,{className:"form-layout",style:{padding:"10px"},children:[Object(j.jsx)("h5",{className:"text-center",style:{margin:"30px",fontSize:"15px",fontWeight:"600"},children:"Plan, Reserve, Collect, Save"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Select Items"}),Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(Qa.a,{freeSolo:!0,id:"item",options:bn.map((function(e){return e.title})),style:{width:"100%",backgroundColor:"white"},size:"small",onInputChange:function(t){return e.handleChange(t)},onChange:function(t){return e.setState({item:t.target.textContent})},renderInput:function(e){return Object(j.jsx)(Xa.a,Object(n.a)(Object(n.a)({},e),{},{placeholder:"Enter Items",variant:"outlined"}))}})})}),Object(j.jsx)(Ra.MobileView,{children:Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(Qa.a,{freeSolo:!0,id:"item",options:bn.map((function(e){return e.title})),style:{width:"70%",backgroundColor:"white"},size:"small",onInputChange:function(t){return e.handleChange(t)},onChange:function(t){return e.setState({item:t.target.textContent})},renderInput:function(e){return Object(j.jsx)(Xa.a,Object(n.a)(Object(n.a)({},e),{},{label:"Enter Items",variant:"outlined"}))}})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Weight / Volume"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"itemWeight",placeholder:"Enter weight",onChange:function(t){e.handleChange(t)},width:"100%",value:this.state.itemWeight}),Object(j.jsxs)(ge.a,{as:pa.a.Append,variant:"outline-secondary",title:Object(j.jsx)("span",{style:{color:"white"},children:this.state.weightType}),id:"wtdd",style:{backgroundColor:"#040335"},children:[Object(j.jsx)(fe.a.Header,{children:"Weight (Solids)"}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"kg"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"g"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"oz"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"lbs"})}),Object(j.jsx)(fe.a.Divider,{}),Object(j.jsx)(fe.a.Header,{children:"Volume (Liquids)"}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"l"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent)},children:"ml"})})]})]})}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:""!==this.state.item&&0!==this.state.itemWeight&&"Select Unit"!==this.state.weightType?Object(j.jsx)(p.a,{type:"button",style:{width:"50%",backgroundColor:"#040335"},onClick:function(){return e.handleAddClick()},children:"Add"}):Object(j.jsx)(p.a,{type:"button",style:{width:"50%"},variant:"secondary",disabled:!0,children:"Add"})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Selected Items"}),Object(j.jsxs)("div",{style:{overflowY:"scroll",height:"85px",width:"80%",marginLeft:"10%",backgroundColor:"white",marginBottom:"10px"},children:[Object(j.jsx)(ot.a,{children:Object(j.jsx)($a.a,{style:{textAlign:"center",backgroundColor:"rgb(13, 27, 92, 0.8)",color:"white",width:"100%",fontWeight:600,padding:"0 1px 0 1px",borderRadius:"0px"},children:"Items Added"})}),Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsx)(en.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Weight / Volume"})})]}),this.state.items.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})}))]})})}),Object(j.jsx)(Ra.MobileView,{children:Object(j.jsx)(en.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Weight/Volume"})})]}),this.state.items.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})}))]})})})]}),Object(j.jsxs)(tn.a,{style:{width:"80%",marginLeft:"10%",marginTop:"-10px",marginBottom:"10px"},children:[this.isItemsEmpty(this.state.items)?Object(j.jsx)(p.a,{variant:"secondary",style:{width:"50%",fontSize:"75%"},disabled:!0,children:"Remove Last Item"}):Object(j.jsx)(p.a,{style:{backgroundColor:"#040335",width:"50%",fontSize:"75%"},onClick:function(){return e.setState({items:e.state.items.filter((function(t,a){return a!==e.state.items.length-1}))})},children:"Remove Last Item"}),this.isItemsEmpty(this.state.items)?Object(j.jsx)(p.a,{variant:"secondary",style:{width:"50%",fontSize:"75%"},disabled:!0,children:"Clear"}):Object(j.jsx)(p.a,{style:{backgroundColor:"#040335",width:"50%",fontSize:"75%"},onClick:function(){return e.setState({items:[]})},children:"Clear"})]}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"From"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(m.a.Control,{id:"fromDate",type:"date",min:"2022-06-01",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.fromDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"To"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(m.a.Control,{id:"toDate",type:"date",min:"2022-07-01",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.toDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Frequency"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(jn,{children:Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(Ja.a,{variant:"secondary",width:"100%",className:"dd",children:this.state.frequency}),Object(j.jsxs)(Ka.b,{children:[Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleFreqChange(t.target.textContent)},children:"Weekly"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleFreqChange(t.target.textContent)},children:"Fortnightly"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleFreqChange(t.target.textContent)},children:"Monthly"})})]})]})})})}),Object(j.jsx)(za.a,{style:{marginBottom:"10px"}}),this.state.items!==[]&&""!==this.state.fromDate&&""!==this.state.toDate&&"Select Frequency"!==this.state.frequency?Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",backgroundColor:"#040335",width:"80%",marginTop:"5px"},onClick:function(t){e.handleReserveItemSubmit(t),e.clearForm(),e.showNotification()},variant:"secondary",type:"button",children:"Reserve"}):Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",width:"80%",marginTop:"5px"},variant:"secondary",disabled:!0,children:"Reserve"})]})]})}),Object(j.jsxs)(ue.a,{style:{width:this.state.formWidth,height:"720px",marginBottom:"10vh",backgroundColor:"#040335",overflowY:"auto"},children:[Object(j.jsx)("h5",{className:"text-center",style:{fontWeight:600,color:"white",marginTop:"2.5%",marginBottom:"5%"},children:"My Reservations"}),Object(j.jsx)("div",{children:this.state.myReservations.map((function(t){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsxs)(ue.a,{style:{width:"95%",marginLeft:"2.5%",backgroundColor:"rgb(38, 120, 214)",height:"160px",marginBottom:"50px"},children:[Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"7.5px"},children:[Object(j.jsxs)("span",{style:{marginRight:"20%"},children:[Object(j.jsx)("b",{children:"From: "})," ",t.fromDate]})," ",Object(j.jsx)("b",{children:"To: "})," ",t.toDate]}),Object(j.jsx)("div",{onClick:function(){return e.deleteReservation(t.resID)},style:{fontSize:"150%",fontWeight:600,marginLeft:"97.5%",marginTop:"-4.5%"},children:"X"}),Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"10px"},children:[Object(j.jsx)("b",{children:"Frequency: "})," ",t.frequency," ",t.resID]}),Object(j.jsxs)("div",{style:{overflowY:"scroll",marginBottom:"10px"},children:[Object(j.jsx)(ot.a,{children:Object(j.jsx)($a.a,{style:{textAlign:"center",backgroundColor:"rgb(13, 27, 92, 0.8)",color:"white",width:"99.5%",marginLeft:"0.5%",fontWeight:600,padding:"0 1px 0 1px",borderRadius:"0px"},children:"Items Reserved"})}),Object(j.jsx)(en.a,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{width:"99.5%",marginLeft:"0.5%",height:"50px",backgroundColor:"white"},children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{children:"Weight / Volume"})})]}),t.itemList.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})})}))]})})]})]})}),Object(j.jsx)(Ra.MobileView,{children:Object(j.jsxs)(ue.a,{style:{width:"95%",marginLeft:"2.5%",backgroundColor:"rgb(38, 120, 214)",height:"160px",marginBottom:"50px"},children:[Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"5px"},children:[Object(j.jsxs)("span",{style:{marginRight:"8.5%"},children:[Object(j.jsx)("b",{children:"From: "})," ",t.fromDate," "]})," ",Object(j.jsx)("b",{children:"To: "})," ",t.toDate]}),Object(j.jsx)("div",{onClick:function(){return e.deleteReservation(t.resID)},style:{marginLeft:"95%",marginTop:"-10%",fontWeight:600,fontSize:"150%"},children:"X"}),Object(j.jsxs)("div",{className:"text-center",style:{marginBottom:"10px"},children:[Object(j.jsx)("b",{children:"Frequency: "})," ",t.frequency]}),Object(j.jsxs)("div",{style:{overflowY:"scroll",marginBottom:"10px"},children:[Object(j.jsx)(ot.a,{children:Object(j.jsx)($a.a,{style:{textAlign:"center",backgroundColor:"rgb(13, 27, 92, 0.8)",color:"white",width:"99.5%",marginLeft:"0.25%",fontWeight:600,padding:"0 1px 0 1px",borderRadius:"0px"},children:"Items Reserved"})}),Object(j.jsx)(en.a,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{width:"99.5%",marginLeft:"0.25%",height:"50px",backgroundColor:"white"},children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Item Name"})}),Object(j.jsx)("th",{style:{textAlign:"center",width:"50%"},children:Object(j.jsx)("b",{style:{fontSize:"85%"},children:"Weight/Volume"})})]}),t.itemList.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:e.name}),Object(j.jsx)("th",{children:e.weight})]})}))]})})]})]})})]})}))})]})]})]})})}}]),a}(r.Component),bn=[{title:"Ham"},{title:"Beef"},{title:"Chicken"},{title:"Pork"},{title:"Cod"},{title:"Haddock"},{title:"Lamb"},{title:"Apple"},{title:"Banana"},{title:"Orange"},{title:"Pear"},{title:"Grapes"},{title:"Potato"},{title:"Milk"},{title:"Onion"},{title:"Cucumber"},{title:"Peppers"},{title:"Cabbage"}],jn=ce.a.div(sn||(sn=Object(re.a)(["\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n"]))),hn=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{startData:function(t){return e(Me(t))},createReserveItemsData:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,i=(t().firebase.profile,t().firebase.auth),s=a.submissionType,o=a.items,c=a.fromDate,l=a.toDate,d=a.frequency,u=a.submissionDay,b=a.submissionWeek,j=a.submissionMonth,h=a.submissionDate,m=a.submissionYear,p=a.submissionFullDate,g=(new Date).getHours(),f="";f=g>=0&&g<6?"T1":g>=6&&g<12?"T2":g>=12&&g<18?"T3":"T4",r().firestore().collection("data").doc(i.uid).collection("writtenReserveFoodData").add({date:r().firestore.Timestamp.fromDate(new Date),type:f,SUBMISSIONTYPE:s,ITEMLIST:o,FROMDATE:c,TODATE:l,FREQUENCY:d,WDAY:u,WEEK:b,MONTH:j,MDATE:h,YEAR:m,FULLDATE:p}).then((function(){e({type:"CREATE_DATA"})})).catch((function(t){e({type:"CREATE_DATA_ERROR",err:t})}))}));var a}}})),Object(gt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))(un),mn=function(){var e=Object(r.useState)({zip:""}),t=Object(c.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),l=o[0],d=o[1],u="5e08f390d68d20c770a7727d2bafe3b1",b="http://api.openweathermap.org/geo/1.0/zip?zip=".concat(a.zip,",GB&appid=").concat(u),h="https://api.openweathermap.org/data/2.5/onecall?exclude=minutely,hourly&&units=metric&lat=".concat(a.lat,"&lon=").concat(a.lon,"&&appid=").concat(u);Object(r.useEffect)((function(){a.lat&&fetch(h).then((function(e){return e.json()})).then((function(e){var t="";e.daily.forEach((function(e,a){t+="Day "+(a+1)+": "+e.weather[0].main+" "})),d({message:t,class:"success"})})).catch((function(e){d({message:"Weather fetch error",class:"danger"})}))}),[a.lat]);var m=function(e){i(Object(n.a)(Object(n.a)({},a),{},{lat:e.coords.latitude,lon:e.coords.longitude}))};return Object(j.jsxs)("section",{id:"weather",className:"mb-4",children:[Object(j.jsx)("h5",{className:"mt-3",children:"Weather Forecast"}),Object(j.jsx)("input",{type:"text",name:"location",id:"location",placeholder:"Post code",className:"p-1 pl-2",onChange:function(e){i(Object(n.a)(Object(n.a)({},a),{},{zip:e.target.value}))},value:a.zip}),Object(j.jsx)("button",{id:"getWeather",className:"ml-3 mr-1 btn blue-btn",onClick:function(e){e.preventDefault(),fetch(b).then((function(e){return e.json()})).then((function(e){console.log(e),e.zip?i(Object(n.a)(Object(n.a)({},a),{},{lat:e.lat,lon:e.lon})):d({message:"Invalid postcal code",class:"danger"})})).catch((function(e){d({message:"Geolocation fetch error",class:"danger"})}))},children:"Get weather for post code"}),Object(j.jsx)("button",{className:"btn green-btn",onClick:function(e){e.preventDefault(),navigator.geolocation?navigator.geolocation.getCurrentPosition(m):d({message:"geolocation not supported",class:"danger"})},children:"Use my location"}),l&&Object(j.jsx)("p",{className:"alert alert-".concat(l.class," mb-2 mt-2"),children:l.message})]})},pn=function(e){return Object(j.jsx)("div",{style:{overflowY:"scroll",height:"20rem",marginBottom:"2%"},children:Object(j.jsxs)(ve.a,{children:[e.category&&e.category.map((function(e){return Object(j.jsx)(we.a,{children:Object(j.jsx)("a",{href:"https://www.google.com/search?q=".concat(e),children:e})},e)})),!e.category&&Object(j.jsx)("p",{children:"No data available"})]})})},gn=function(e){return Object(j.jsxs)(ve.a,{children:[e.data.phosphorus&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{children:["Phosphorus: ",e.data.phosphorus," Kg/Ha"]}),Object(j.jsxs)("h3",{children:["Potassium: ",e.data.potassium," Kg/Ha"]}),Object(j.jsxs)("h3",{children:["Potassium: ",e.data.potassium," Kg/Ha"]})]}),!e.data.phosphorus&&Object(j.jsx)("p",{children:"No data available"})]})},fn=a(901),On=a(364),xn=a.n(On),yn=a(506),vn=a.n(yn),wn=a(453),Cn=function(e){var t=Object(r.useState)(""),i=Object(c.a)(t,2),s=i[0],o=i[1],l=Object(r.useState)(0),d=Object(c.a)(l,2),u=d[0],b=d[1],h=Object(r.useState)((100/e.rows).toFixed(0)),g=Object(c.a)(h,2),f=g[0],O=g[1],x=Object(r.useState)(!1),y=Object(c.a)(x,2),v=y[0],w=y[1],C=Object(r.useState)(!1),S=Object(c.a)(C,2),k=S[0],N=S[1];Object(r.useEffect)((function(){e.setRowTotal(f,e.index),T()}),[f,e.unit,e.land]),Object(r.useEffect)((function(){var t=-1;wn.categories[e.cat].find((function(e,a){if(e.crop===s)return t=a,a}));b(t),T()}),[s]);var T=function(){var t=e.land*(f/100),a=Object(ia.a)(e.farmPlan),r=Object(n.a)({},a[e.index]);r={crop:s,percentOfTotal:f,landMass:t.toFixed(3)},a[e.index]=r,e.setFarmPlan(a)};return Object(j.jsxs)(de.a,{className:"farm-row",children:[Object(j.jsxs)(le.a,{children:[Object(j.jsx)("img",{src:a(749)("./".concat(e.cat,"-01.png")).default,alt:e.cat,height:70,width:70}),e.index+1]}),Object(j.jsxs)(le.a,{children:[Object(j.jsx)(Oe,{id:"crop",styling:"green",data:"Select ".concat(e.cat),function:function(e){o(e)},items:wn.categories[e.cat].map((function(e){return e.crop}))}),Object(j.jsx)(m.a.Control,{type:"text",id:"food",className:"mt-2",onChange:function(e){return o(e.target.value)},value:s,required:!0})]}),Object(j.jsxs)(le.a,{children:[Object(j.jsxs)("label",{htmlFor:"amount",children:[Object(j.jsx)(xn.a,{name:"amount",min:0,max:100,value:f,onChange:function(e){return O(Number(e).toFixed(1))}}),Object(j.jsx)("span",{children:"%"})]}),Object(j.jsx)(vn.a,{value:f,className:"slider",onChange:function(e){return O(Number(e.target.value).toFixed(1))}})]}),Object(j.jsx)(le.a,{children:Object(j.jsxs)("div",{className:"d-grid gap-2",children:[Object(j.jsx)(p.a,{onClick:function(){w(!0)},className:"sub-btn blue-btn",children:"Pests"}),Object(j.jsx)(p.a,{onClick:function(){N(!0)},className:"sub-btn green-btn",children:"Nutrient requirement"})]})}),Object(j.jsxs)(fn.a,{show:v,onHide:function(){return w(!1)},children:[Object(j.jsx)(fn.a.Header,{closeButton:!0,children:Object(j.jsx)(fn.a.Title,{children:s?Object(j.jsxs)("p",{children:["Common pests in ",s]}):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(fn.a.Body,{children:s&&wn.categories[e.cat][u]&&Object(j.jsx)(pn,{category:wn.categories[e.cat][u].pests})}),Object(j.jsx)(fn.a.Footer,{children:Object(j.jsx)(p.a,{variant:"secondary",onClick:function(){return w(!1)},children:"Close"})})]}),Object(j.jsxs)(fn.a,{show:k,onHide:function(){return N(!1)},children:[Object(j.jsx)(fn.a.Header,{closeButton:!0,children:Object(j.jsx)(fn.a.Title,{children:s?Object(j.jsxs)("p",{children:["Soil nutrient requirements to grow ",s]}):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(fn.a.Body,{children:s&&wn.categories[e.cat][u]&&Object(j.jsx)(gn,{data:wn.categories[e.cat][u]})}),Object(j.jsx)(fn.a.Footer,{children:Object(j.jsx)(p.a,{variant:"secondary",onClick:function(){return N(!1)},children:"Close"})})]})]},e.cat)},Sn=a(910);function kn(e){return Object(j.jsxs)(fn.a,Object(n.a)(Object(n.a)({},e),{},{size:"lg","aria-labelledby":"terms-cons-modal",centered:!0,children:[Object(j.jsx)(fn.a.Header,{closeButton:!0,children:Object(j.jsx)(fn.a.Title,{id:"terms-cons-modal",children:"PLEASE READ THESE TERMS AND CONDITIONS CAREFULLY BEFORE USING THIS MARKETPLACE"})}),Object(j.jsxs)(fn.a.Body,{contentClassName:"modal",children:[Object(j.jsx)("h4",{children:"What\u2019s in these terms?"}),Object(j.jsx)("p",{children:Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Who we are and how to contact us"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"By using our site you accept these terms"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"There are other terms that may apply to you"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may make changes to these terms"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may make changes to our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may suspend or withdraw our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We may transfer this agreement to someone else"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"You must keep your account details safe"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"How you may use material on our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Do not rely on information on our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We are not responsible for websites we link to"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"User-generated content is not approved by us"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"How to complain about content uploaded by other users"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Our responsibility for loss or damage suffered by you"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"How we may use your personal information"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Uploading content to our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Rights you are giving us to use material you upload"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"We are not responsible for viruses and you must not introduce them"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Rules about linking to our site"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Which country\u2019s laws apply to any disputes?"})}),Object(j.jsx)("li",{children:Object(j.jsx)("b",{children:"Our trademarks are registered"})})]})}),Object(j.jsx)("h4",{children:"Who we are and how to contact us"}),Object(j.jsxs)("p",{children:[Object(j.jsxs)("a",{href:"//intellidigest.com/",style:{color:"#AFBA15"},children:["https://intellidigest.com/"," "]}),Object(j.jsx)("b",{children:"and any other website "})," operated by IntelliDigest Ltd (\u201cWe\u201d). We are registered in Scotland under company number SC544884 and have our registered office at Edinburgh Business School Incubator, Heriot Watt University, Riccarton, Currie EH14 4AS. Our main trading address is Royal Academy of Engineering, Enterprise Hub, 4 Carlton House Terrace, London, SW1Y 5DG, United Kingdom."]}),Object(j.jsx)("p",{children:"Our VAT number is 342981288."}),Object(j.jsx)("p",{children:"We are a limited company."}),Object(j.jsxs)("p",{children:["To contact us, please email ",Object(j.jsx)("b",{children:"Info@IntelliDigest.com"})," or telephone our customer service line on ",Object(j.jsx)("b",{children:"0333 242 0822"}),"."]}),Object(j.jsx)("h4",{children:"By using our site you accept these terms"}),Object(j.jsx)("p",{children:"By using our site, you confirm that you accept these terms of use and that you agree to comply with them. If you do not agree to these terms, you must not use our site. We recommend that you print a copy of these terms for future reference."}),Object(j.jsx)("h4",{children:"There are other terms that may apply to you."}),Object(j.jsx)("p",{children:"These terms of use refer to the following additional terms, which also apply to your use of our site:"}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Our Privacy Policy"," ",Object(j.jsxs)("a",{href:" //intellidigest.com/privacy-policy/",style:{color:"#AFBA15"},children:[" ","https://intellidigest.com/privacy-policy/"]})," ","See further under ",Object(j.jsx)("b",{children:"How we may use your personal information."})," "]}),Object(j.jsx)("li",{children:"Our Cookie Policy which sets out information about the cookies on our site."}),Object(j.jsx)("li",{children:"Our Acceptable Use Policy which sets out the permitted uses and prohibited uses of our site. When using our site, you must comply with this Acceptable Use Policy."}),Object(j.jsx)("li",{children:"If you purchase goods from our site, our Terms and conditions of supply will apply to the sales."})]}),Object(j.jsx)("h4",{children:"We may make changes to these terms"}),Object(j.jsx)("p",{children:"We amend these terms from time to time. Every time you wish to use our site, please check these terms to ensure you understand the terms that apply at that time."}),Object(j.jsx)("h4",{children:"We may make changes to our site"}),Object(j.jsx)("p",{children:"We may update and change our site from time to time to reflect changes to our products, our users\u2019 needs and our business priorities."}),Object(j.jsx)("h4",{children:"We may suspend or withdraw our site"}),Object(j.jsx)("p",{children:"Our site is made available free of charge. We do not guarantee that our site, or any content on it, will always be available or be uninterrupted. We may suspend or withdraw or restrict the availability of all or any part of our site for business and operational reasons. We will try to give you reasonable notice of any suspension or withdrawal."}),Object(j.jsx)("p",{children:"You are also responsible for ensuring that all persons who access our site through your internet connection are aware of these terms of use and other applicable terms and conditions, and that they comply with them."}),Object(j.jsx)("h4",{children:"We may transfer this agreement to someone else"}),Object(j.jsx)("p",{children:"We may transfer our rights and obligations under these terms to another organisation. We will always tell you in writing if this happens and we will ensure that the transfer will not affect your rights under the contract."}),Object(j.jsx)("h4",{children:"You must keep your account details safe"}),Object(j.jsx)("p",{children:"If you choose, or you are provided with, a user identification code, password or any other piece of information as part of our security procedures, you must treat such information as confidential. You must not disclose it to any third party."}),Object(j.jsx)("p",{children:"We have the right to disable any user identification code or password, whether chosen by you or allocated by us, at any time, if in our reasonable opinion you have failed to comply with any of the provisions of these terms of use."}),Object(j.jsxs)("p",{children:["If you know or suspect that anyone other than you knows your user identification code or password, you must promptly notify us at"," ",Object(j.jsx)("b",{children:"info@IntelliDigest.com"}),"."]}),Object(j.jsx)("h4",{children:"You must keep your account details safe"}),Object(j.jsx)("p",{children:"We are the owner or the licensee of all intellectual property rights in our site, and in the material published on it. Those works are protected by copyright laws and treaties around the world. All such rights are reserved."}),Object(j.jsx)("p",{children:"You may print off one copy, and may download extracts, of any page(s) from our site for your personal use and you may draw the attention of others within your organisation to content posted on our site."}),Object(j.jsx)("p",{children:"You must not modify the paper or digital copies of any materials you have printed off or downloaded in any way, and you must not use any illustrations, photographs, video or audio sequences or any graphics separately from any accompanying text."}),Object(j.jsx)("p",{children:"Our status (and that of any identified contributors) as the authors of content on our site must always be acknowledged."}),Object(j.jsx)("p",{children:"You must not use any part of the content on our site for commercial purposes without obtaining a licence to do so from us or our licensors."}),Object(j.jsx)("p",{children:"If you print off, copy or download any part of our site in breach of these terms of use, your right to use our site will cease immediately and you must, at our option, return or destroy any copies of the materials you have made."}),Object(j.jsx)("h4",{children:"Do not rely on information on this site"}),Object(j.jsx)("p",{children:"The content on our site is provided for general information only. It is not intended to amount to advice on which you should rely. You must obtain professional or specialist advice before taking, or refraining from, any action on the basis of the content on our site."}),Object(j.jsx)("p",{children:"Although we make reasonable efforts to update the information on our site, we make no representations, warranties or guarantees, whether express or implied, that the content on our site is accurate, complete or up to date."}),Object(j.jsx)("h4",{children:"We are not responsible for websites we link to"}),Object(j.jsx)("p",{children:"Where our site contains links to other sites and resources provided by third parties, these links are provided for your information only. Such links should not be interpreted as approval by us of those linked websites or information you may obtain from them. We have no control over the contents of those sites or resources."}),Object(j.jsx)("h4",{children:"User-generated content is not approved by us"}),Object(j.jsx)("p",{children:"This website may include information and materials uploaded by other users of the site, including to bulletin boards and chat rooms. This information and these materials have not been verified or approved by us. The views expressed by other users on our site do not represent our views or values."}),Object(j.jsx)("h4",{children:"How to complain about content uploaded by other users"}),Object(j.jsxs)("p",{children:["If you wish to complain about content uploaded by other users, please contact us on"," ",Object(j.jsx)("a",{href:"//intellidigest.com/contact/",style:{color:"#AFBA15"},children:"https://intellidigest.com/contact/"}),"."]}),Object(j.jsx)("h4",{children:"Our responsibility for loss or damage suffered by you"}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"Whether you are a consumer or a business user:"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"We do not exclude or limit in any way our liability to you where it would be unlawful to do so. This includes liability for death or personal injury caused by our negligence or the negligence of our employees, agents or subcontractors and for fraud or fraudulent misrepresentation."}),Object(j.jsx)("li",{children:"Different limitations and exclusions of liability will apply to liability arising as a result of the supply of any products to you, which will be set out in our Terms and conditions of supply."})]}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"If you are a business user:"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"We exclude all implied conditions, warranties, representations or other terms that may apply to our site or any content on it."}),Object(j.jsxs)("li",{children:["We will not be liable to you for any loss or damage, whether in contract, tort (including negligence), breach of statutory duty, or otherwise, even if foreseeable, arising under or in connection with:",Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"use of, or inability to use, our site; or"}),Object(j.jsx)("li",{children:"use of or reliance on any content displayed on our site."})]})]}),Object(j.jsxs)("li",{children:["In particular, we will not be liable for:",Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"loss of profits, sales, business, or revenue;"}),Object(j.jsx)("li",{children:"business interruption;"}),Object(j.jsx)("li",{children:"loss of anticipated savings;"}),Object(j.jsx)("li",{children:"loss of business opportunity, goodwill or reputation; or"}),Object(j.jsx)("li",{children:"any indirect or consequential loss or damage."})]})]})]}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"If you are a consumer user:"})}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Please note that we only provide our site for domestic and private use. You agree not to use our site for any commercial or business purposes, and we have no liability to you for any loss of profit, loss of business, business interruption, or loss of business opportunity."}),Object(j.jsx)("li",{children:"If defective digital content that we have supplied, damages a device or digital content belonging to you and this is caused by our failure to use reasonable care and skill, we will either repair the damage or pay you compensation. However, we will not be liable for damage that you could have avoided by following our advice to apply an update offered to you free of charge or for damage that was caused by you failing to correctly follow installation instructions or to have in place the minimum system requirements advised by us."})]}),Object(j.jsx)("h4",{children:"How we may use your personal information"}),Object(j.jsxs)("p",{children:["We will only use your personal information as set out in our"," ",Object(j.jsxs)("a",{href:" //intellidigest.com/privacy-policy/",style:{color:"#AFBA15"},children:[" ","https://intellidigest.com/privacy-policy/"]})," "]}),Object(j.jsx)("h4",{children:"Uploading content to our site"}),Object(j.jsx)("p",{children:"Whenever you make use of a feature that allows you to upload content to our site, or to make contact with other users of our site, you must comply with the content standards set out in our Acceptable Use Policy."}),Object(j.jsx)("p",{children:"You warrant that any such contribution does comply with those standards, and you will be liable to us and indemnify us for any breach of that warranty. This means you will be responsible for any loss or damage we suffer as a result of your breach of warranty."}),Object(j.jsxs)("p",{children:["Any content you upload to our site will be considered non-proprietary. You retain all of your ownership rights in your content, but you are required to grant us and other users of our site a limited licence to use, store and copy that content and to distribute and make it available to third parties. The rights you license to us are described in ",Object(j.jsx)("b",{children:"Rights you are giving us to use material you upload"}),"."]}),Object(j.jsx)("p",{children:"We also have the right to disclose your identity to any third party who is claiming that any content posted or uploaded by you to our site constitutes a violation of their intellectual property rights, or of their right to privacy."}),Object(j.jsx)("p",{children:"We have the right to remove any posting you make on our site if, in our opinion, your post does not comply with the content standards set out in our Acceptable Use Policy."}),Object(j.jsx)("p",{children:"You are solely responsible for securing and backing up your content."}),Object(j.jsx)("p",{children:"We do not store terrorist content."}),Object(j.jsx)("h4",{children:"Rights you are giving us to use material you upload"}),Object(j.jsx)("p",{children:"When you upload or post content to our site, you grant us the following rights to use that content:"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"LICENCES GRANTED TO THE WEBSITE OWNER."}),Object(j.jsx)("li",{children:"LICENCES GRANTED TO OTHER USERS OF THE SITE OR TO THIRD PARTIES."})]}),Object(j.jsx)("h4",{children:"We are not responsible for viruses and you must not introduce them"}),Object(j.jsx)("p",{children:"We do not guarantee that our site will be secure or free from bugs or viruses. You are responsible for configuring your information technology, computer programmes and platform to access our site. You should use your own virus protection software."}),Object(j.jsx)("p",{children:"You must not misuse our site by knowingly introducing viruses, trojans, worms, logic bombs or other material that is malicious or technologically harmful. You must not attempt to gain unauthorised access to our site, the server on which our site is stored or any server, computer or database connected to our site. You must not attack our site via a denial-of-service attack or a distributed denial-of service attack. By breaching this provision, you would commit a criminal offence under the Computer Misuse Act 1990. We will report any such breach to the relevant law enforcement authorities and we will co-operate with those authorities by disclosing your identity to them. In the event of such a breach, your right to use our site will cease immediately."}),Object(j.jsx)("h4",{children:"Rules about linking to our site"}),Object(j.jsx)("p",{children:"You may link to our home page, provided you do so in a way that is fair and legal and does not damage our reputation or take advantage of it."}),Object(j.jsx)("p",{children:"You must not establish a link in such a way as to suggest any form of association, approval or endorsement on our part where none exists."}),Object(j.jsx)("p",{children:"You must not establish a link to our site in any website that is not owned by you."}),Object(j.jsx)("p",{children:"Our site must not be framed on any other site, nor may you create a link to any part of our site other than the home page."}),Object(j.jsx)("p",{children:"We reserve the right to withdraw linking permission without notice."}),Object(j.jsx)("p",{children:"The website in which you are linking must comply in all respects with the content standards set out in our Acceptable Use Policy."}),Object(j.jsxs)("p",{children:["If you wish to link to or make any use of content on our site other than that set out above, please contact ",Object(j.jsx)("b",{children:"info@IntelliDigest.com"}),"."," "]}),Object(j.jsx)("h4",{children:"Which country\u2019s laws apply to any disputes?"}),Object(j.jsx)("p",{children:"If you are a consumer, please note that these terms of use, their subject matter and their formation, are governed by Scottish law. You and we both agree that the courts of Scotland will have exclusive jurisdiction except that if you are a resident of Northern Ireland you may also bring proceedings in Northern Ireland, and if you are resident of England or Wales, you may also bring proceedings in England or Wales."}),Object(j.jsx)("p",{children:"If you are a business, these terms of use, their subject matter and their formation (and any non-contractual disputes or claims) are governed by Scottish law. We both agree to the exclusive jurisdiction of the courts of Scotland."}),Object(j.jsx)("h4",{children:"Our trade marks are registered"}),Object(j.jsxs)("p",{children:["IntelliDigest is an international registered trademark of IntelliDigest Ltd. You are not permitted to use them without our approval, unless they are part of material you are using as permitted under ",Object(j.jsx)("b",{children:"How you may use material on our site."})]})]}),Object(j.jsx)(fn.a.Footer,{children:Object(j.jsx)(Sn.a,{onClick:e.onHide,children:"Close"})})]}))}function Nn(){var e=i.a.useState(!1),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(Sn.a,{onClick:function(){return n(!0)},children:"TERMS AND CONDITIONS"}),Object(j.jsx)(kn,{show:a,onHide:function(){return n(!1)}})]})}var Tn=function(e){return Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:e.label}),e.list.map((function(t,a){return Object(j.jsx)(m.a.Check,{type:"checkbox",label:t,id:t,checked:e.checkedState[a],onChange:function(){return function(t){var a=e.checkedState.map((function(e,a){return a===t?!e:e}));e.setCheckedState(a)}(a)}},t)}))]})};function En(e){return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),e.HandleSubmit()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What location will you be selling from?"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Address 1",id:"address 1",onChange:function(t){return e.setAddress1(t.target.value)},required:!0}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Address 2",id:"address 2",onChange:function(t){return e.setAddress2(t.target.value)}}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Town",id:"town",onChange:function(t){return e.setTown(t.target.value)},required:!0}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Postcode",id:"postcode",onChange:function(t){return e.setPostcode(t.target.value)},required:!0})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What farming sector?"}),Object(j.jsx)(Oe,{required:!0,id:"category",styling:"green",data:e.sector,function:function(t){e.setSector(t)},items:["Horticulture","Livestock","Hydroponics","Aquaculture","Insect farm","Other"]})]}),Object(j.jsx)(Tn,{label:"Do you acccept any of the following sustainable farming practices? Select everything that applies;",list:e.practices,checkedState:e.practice,setCheckedState:e.setPractice}),Object(j.jsx)(Tn,{label:"Do you have plan to adopt any of the following sustainable farming practices in the future ? Select everything that applies;",list:e.practices,checkedState:e.futurePractice,setCheckedState:e.setFuturePractice}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsxs)(m.a.Label,{children:["When are you effecting the sustainable farming practice(s)?"," "]}),Object(j.jsx)(m.a.Check,{type:"radio",name:"effective",label:"Now",onClick:function(){return e.setPracticeEffective("Now")}}),Object(j.jsx)(m.a.Check,{type:"radio",name:"effective",label:"3 months time",onClick:function(){return e.setPracticeEffective("3months")}}),Object(j.jsx)(m.a.Check,{type:"radio",name:"effective",label:"6 months time",onClick:function(){return e.setPracticeEffective("6months")}}),Object(j.jsx)(m.a.Check,{type:"radio",name:"effective",label:"12 months time",onClick:function(){return e.setPracticeEffective("12months")}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"From where do you source farm input? "}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"",id:"input",onChange:function(t){return e.setInput(t.target.value)},required:!0})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What food items do you produce?"}),Object(j.jsx)(Oe,{required:!0,id:"category",styling:"green",data:e.foodItems,function:function(t){e.setFoodItems(t)},items:["Dairy","Drinks","Fish and Seafood","Fruits","Grains, Beans and Nuts","Meat and Poultry","Pet Foods","Vegetables"]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Harvest frequency and size"}),Object(j.jsx)(Oe,{required:!0,id:"harvestFrequency",styling:"green dropdown-input-right",function:function(t){return e.setHarvestFreq(t)},data:e.harvestFreq,items:["Daily","Weekly","Monthly","Quarterly","Yearly"]}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"harvestSize",placeholder:"Enter harvest size.",required:!0,onChange:function(t){return e.setHarvestSize(t.target.value)}}),Object(j.jsx)(Oe,{id:"harvestUnit",styling:"grey dropdown-input-right",data:e.harvestUnit,items:["g","kg","tons"]})]}),Object(j.jsx)("p",{children:"Farmers can be harvesting weekly, monthly, quarterly and yearly for different food items and be tied to customers that select their harvest days for pick up of that particular food item."})]}),Object(j.jsx)(Tn,{label:"Do you apply any processing of food produce onsite?",list:e.processes,checkedState:e.processing,setCheckedState:e.setProcessing}),Object(j.jsx)(Tn,{label:"Do you apply any preservation of food produce onsite?",list:e.preservations,checkedState:e.preservation,setCheckedState:e.setPreservation}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you have any food quality certifications?"}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"quality certification",label:"Yes",onClick:function(){return e.setQuality(!0)}}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"quality certification",label:"No",onClick:function(){return e.setQuality(!1)}}),e.quality?Object(j.jsx)(m.a.Control,{required:!0,as:"textarea",rows:2,placeholder:"List here",id:"quality",onChange:function(t){return e.setQualityCert(t.target.value)}}):null]}),Object(j.jsx)(Nn,{}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Check,{type:"checkbox",label:"I accept the terms and conditions.",required:!0})}),Object(j.jsx)(p.a,{type:"submit",className:"sub-btn blue",children:"Start"})]})}function Fn(e){switch(e.sector){default:case"Horticulture":return Object(j.jsx)(Dn,Object(n.a)({},e));case"Hydroponics":return Object(j.jsx)(Pn,Object(n.a)({},e));case"Aquaculture":case"Insect Farm":return Object(j.jsx)(Wn,Object(n.a)({},e))}}var Dn=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Tn,{label:"What type of crop, vegetable and fruit?",list:e.productTypes,checkedState:e.productType,setCheckedState:e.setProductType}),Object(j.jsx)(Tn,{label:"Determine nutrient requirement for the crop, vegetable and fruit growth.",list:e.nutrients,checkedState:e.nutrient,setCheckedState:e.setNutrient}),Object(j.jsx)(Tn,{label:"What is your current soil composition?",list:e.soilNutrients,checkedState:e.soilComp,setCheckedState:e.setSoilComp}),Object(j.jsx)("p",{children:"(Here we give you information based on your soil composition and the crops you grow on what biofertilizers and other sustainable products that will help you optimize growth.)"}),Object(j.jsx)("p",{children:"Key Items needed for crop growth:"}),Object(j.jsx)("div",{style:{marginLeft:"4%"},children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"List of nature-based pesticides "}),Object(j.jsx)("li",{children:"List of renewable energy sources"})]})}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"Planning for daily Harvest"})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Size of farm"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"farmSize",step:10,required:!0,onChange:function(t){e.setFarmSize(t.target.value)},value:e.farmSize}),Object(j.jsx)(Oe,{disabled:!0,id:"sizeUnit",styling:"grey dropdown-input-right",data:"acres",items:["acres"]})]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Duration of crop, vegatable and fruit growth"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{required:!0,type:"number",id:"growthTime",step:1,onChange:function(t){e.setGrowthTime(t.target.value)},value:e.growthTime}),Object(j.jsx)(Oe,{disabled:!0,id:"sizeUnit",styling:"grey dropdown-input-right",data:"days",items:["days"]})]})]}),Object(j.jsx)(Mn,Object(n.a)({},e))]})},Pn=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Tn,{label:"What type of crop, vegetable and fruit?",list:e.productTypes,checkedState:e.productType,setCheckedState:e.setProductType}),Object(j.jsx)(Tn,{label:"Determine nutrient requirement for the crop, vegetable and fruit growth.",list:e.nutrients,checkedState:e.nutrient,setCheckedState:e.setNutrient}),Object(j.jsx)(Tn,{label:"What is your current soil composition?",list:e.soilNutrients,checkedState:e.soilComp,setCheckedState:e.setSoilComp}),Object(j.jsx)("p",{children:"(Here we give you information based on your soil composition and the crops you grow on what biofertilizers and other sustainable products that will help you optimize growth.)"}),Object(j.jsx)("p",{children:"Key Items needed for crop growth:"}),Object(j.jsx)("div",{style:{marginLeft:"4%"},children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"List of nature-based pesticides "}),Object(j.jsx)("li",{children:"List of renewable energy sources"}),Object(j.jsx)("li",{children:"List of energy saving LED lights"}),Object(j.jsx)("li",{children:"List of upcyclable hydroponic farm equipment"})]})}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"Planning for daily Harvest"})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Size of farm"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{required:!0,type:"number",id:"farmSize",step:10,onChange:function(t){e.setFarmSize(t.target.value)},value:e.farmSize}),Object(j.jsx)(Oe,{disabled:!0,id:"sizeUnit",styling:"grey dropdown-input-right",data:"acres",items:["acres"]})]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Duration of crop, vegatable and fruit growth"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{required:!0,type:"number",id:"growthTime",step:1,onChange:function(t){e.setGrowthTime(t.target.value)},value:e.growthTime}),Object(j.jsx)(Oe,{disabled:!0,id:"sizeUnit",styling:"grey dropdown-input-right",data:"days",items:["days"]})]})]}),Object(j.jsx)(Mn,Object(n.a)({},e))]})},Wn=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Tn,{label:"What type of fish/insect?",list:e.productTypes,checkedState:e.productType,setCheckedState:e.setProductType}),Object(j.jsx)(Tn,{label:"Determine nutrient requirement for the fish/insect.",list:e.nutrients,checkedState:e.nutrient,setCheckedState:e.setNutrient}),Object(j.jsx)("p",{children:"(Here we give you information based on your fish/insect type about sustainable products that will help you optimize growth.)"}),Object(j.jsx)("p",{children:"Key Items needed for fish/insect growth:"}),Object(j.jsx)("div",{style:{marginLeft:"4%"},children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"List of renewable energy sources"}),Object(j.jsx)("li",{children:"List of upcyclable insect/fish farm equipment"})]})}),Object(j.jsx)("p",{children:Object(j.jsx)("b",{children:"Planning for daily Harvest"})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Size of farm"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{required:!0,type:"number",id:"farmSize",step:10,onChange:function(t){e.setFarmSize(t.target.value)},value:e.farmSize}),Object(j.jsx)(Oe,{disabled:!0,id:"sizeUnit",styling:"grey dropdown-input-right",data:"acres",items:["acres"]})]})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Duration of fish/Insect growth"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{required:!0,type:"number",id:"growthTime",step:1,onChange:function(t){e.setGrowthTime(t.target.value)},value:e.growthTime}),Object(j.jsx)(Oe,{disabled:!0,id:"sizeUnit",styling:"grey dropdown-input-right",data:"days",items:["days"]})]})]}),Object(j.jsx)(Mn,Object(n.a)({},e))]})},Mn=function(e){return Object(j.jsxs)("div",{style:{border:"5px",borderColor:"#0c0847"},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Harvest frequency and size"}),Object(j.jsx)(Oe,{id:"harvestFrequency",styling:"green dropdown-input-right",function:function(t){e.setHarvestFreq(t)},data:e.harvestFreq,items:["Daily","Weekly","Monthly","Quarterly","Yearly"]}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"harvestSize",placeholder:"Enter harvest size.",onChange:function(t){return e.setHarvestSize(t.target.value)}}),Object(j.jsx)(Oe,{id:"harvestUnit",styling:"grey dropdown-input-right",function:function(t){e.setHarvestUnit(t)},data:e.harvestUnit,items:["g","kg","tons"]})]}),Object(j.jsx)("p",{children:"Farmers can be harvesting weekly, monthly, quarterly and yearly for different food items and be tied to customers that select their harvest days for pick up of that particular food item."})]}),Object(j.jsx)("p",{children:"Key items needed for crop, vegetable and fruit for harvest:"}),Object(j.jsx)("p",{children:"(List of farm inputs and suppliers)"}),Object(j.jsx)("p",{children:"Key items needed for crop, vegetable and fruit for processing:"}),Object(j.jsx)("p",{children:"(List of farm inputs and suppliers)"}),Object(j.jsxs)("p",{children:[" ","Key items needed for crop, vegetable and fruit for preservation before sales:"]}),Object(j.jsx)("p",{children:"(List of farm inputs and suppliers)"}),Object(j.jsx)("p",{children:"Required food quality certifications:"}),Object(j.jsx)("p",{children:"(List of relevant certifications)"})]})};function An(e){return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),e.HandleSubmit()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What location will you be selling from?"}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Address 1",id:"address 1",onChange:function(t){return e.setAddress1(t.target.value)},required:!0}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Address 2",id:"address 2",onChange:function(t){return e.setAddress2(t.target.value)}}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Town",id:"town",onChange:function(t){return e.setTown(t.target.value)},required:!0}),Object(j.jsx)(m.a.Control,{type:"text",placeholder:"Postcode",id:"postcode",onChange:function(t){return e.setPostcode(t.target.value)},required:!0})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"What farming sector?"}),Object(j.jsx)(Oe,{required:!0,id:"sector",styling:"green",data:e.sector,function:function(t){e.setSector(t)},items:["Horticulture","Hydroponics","Livestock","Aquaculture","Insect farm","Other"]})]}),"Other"===e.sector?null:Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Specifically;"}),Object(j.jsx)(Oe,{id:"subsector",styling:"green",data:e.subsector,function:function(t){e.setSubsector(t)},items:e.subSectors})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you have the farm/infrastructure?"}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"infrastructure",label:"Yes",onClick:function(){return e.setInfr(!0)},onBlur:e.validate}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"infrastructure",label:"No",onClick:function(){return e.setInfr(!1)},onBlur:e.validate}),Object(j.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Please answer yes or no."}),e.infr?Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you want to use IntelliDigest farm/infrastructure?"}),Object(j.jsx)(p.a,{className:"sub-btn green",children:"Yes"})]}):null]}),Object(j.jsx)(Fn,Object(n.a)({},e)),Object(j.jsx)(Nn,{}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Check,{type:"checkbox",label:"I accept the terms and conditions.",required:!0})}),Object(j.jsx)(p.a,{type:"submit",className:"sub-btn blue",children:"Start"})]})}function In(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"In order to start your farm plan, we need some information."}),Object(j.jsxs)(m.a,{noValidate:!0,validated:e.validated,onSubmit:e.handleNext,children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are you a member of a local food system association?"}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"member",label:"Yes",onClick:function(){return e.setMember(!0)},onBlur:e.validate}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"member",label:"No",onClick:function(){return e.setMember(!1)},onBlur:e.validate}),e.member?Object(j.jsx)(m.a.Control,{required:!0,type:"text",placeholder:"Which local food system association?",id:"organisation",onChange:function(t){return e.setOrganisation(t.target.value)},onBlur:e.validate}):Object(j.jsx)("p",{children:"We recommend joining an organisation such as the NFU or Soil Association."}),Object(j.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Please answer yes or no."})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Are you an exsisting farmer and registered?"}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"register",label:"Yes",onClick:function(){return e.setRegistered(!0)},onBlur:e.validate}),Object(j.jsx)(m.a.Check,{required:!0,type:"radio",name:"register",label:"No",onClick:function(){return e.setRegistered(!1)},onBlur:e.validate}),Object(j.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Please answer yes or no."})]}),e.registered?Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"If registered, please upload your certificate of incorporation."}),Object(j.jsx)(m.a.Control,{required:!0,type:"file",id:"file",onInput:function(t){e.setFile(t.target.files[0])}}),Object(j.jsx)(p.a,{className:"sub-btn green-btn",style:{width:"20%"},onClick:e.handleFile,children:"Submit"}),Object(j.jsxs)("p",{style:{color:"rgb(131, 131, 131)"},children:["Uploaded ",e.progress,"%"]}),Object(j.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Please upload your certificate."})]}):null,Object(j.jsx)("div",{className:"auth-error",children:e.error?Object(j.jsxs)("p",{children:[" ",e.error]}):null}),Object(j.jsx)(p.a,{type:"submit",className:"sub-btn blue-btn",children:"Next"})]})]})}var Rn=Object(g.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError,profile:e.firebase.profile}}),(function(e){return{becomeSeller:function(t){return e(function(e){return function(t,a,r){var i=(0,r.getFirebase)().firestore();i.collection("users").doc(e.uid).set(Object(n.a)({},e.profile),{merge:!0}).then((function(){return i.collection("marketplace").doc(e.uid).set(Object(n.a)({},e.info),{merge:!0})})).then((function(){t({type:"SELLER_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"SELLER_ERROR",err:e})}))}}(t))}}}))((function(e){var t,a,n,i=Object(r.useState)("start"),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),u=Object(c.a)(d,2),b=u[0],h=u[1],m=Object(r.useState)(!1),p=Object(c.a)(m,2),g=p[0],f=p[1],O=Object(r.useState)(!0),x=Object(c.a)(O,2),y=x[0],v=x[1],w=Object(r.useState)(""),C=Object(c.a)(w,2),S=C[0],k=C[1],N=Object(r.useState)(!1),T=Object(c.a)(N,2),E=T[0],F=T[1],D=Object(r.useState)(null),P=Object(c.a)(D,2),W=P[0],M=P[1],A=Object(r.useState)(0),I=Object(c.a)(A,2),R=I[0],_=I[1],L=Object(r.useState)(""),B=Object(c.a)(L,2),U=B[0],G=B[1],V=Object(r.useState)(""),H=Object(c.a)(V,2),Y=H[0],q=H[1],z=Object(r.useState)(""),K=Object(c.a)(z,2),J=K[0],Z=K[1],Q=Object(r.useState)(""),X=Object(c.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)("Horticulture"),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],ie=Object(r.useState)("select"),oe=Object(c.a)(ie,2),ce=oe[0],le=oe[1],de=Object(r.useState)(""),ue=Object(c.a)(de,2),be=ue[0],je=ue[1],he=Object(r.useState)(""),me=Object(c.a)(he,2),pe=me[0],ge=me[1],fe=Object(r.useState)(!1),Oe=Object(c.a)(fe,2),xe=Oe[0],ye=Oe[1],ve=Object(r.useState)(""),we=Object(c.a)(ve,2),Ce=we[0],Se=we[1],ke=Object(r.useState)(!1),Ne=Object(c.a)(ke,2),Te=Ne[0],Ee=Ne[1],Fe=Object(r.useState)(""),De=Object(c.a)(Fe,2),Pe=De[0],We=De[1],Me=Object(r.useState)(0),Ae=Object(c.a)(Me,2),Ie=Ae[0],Re=Ae[1],_e=Object(r.useState)("daily"),Le=Object(c.a)(_e,2),Be=Le[0],Ue=Le[1],Ge=Object(r.useState)(0),Ve=Object(c.a)(Ge,2),He=Ve[0],Ye=Ve[1],qe=Object(r.useState)(0),ze=Object(c.a)(qe,2),Ke=ze[0],Je=ze[1],Ze=Object(r.useState)("kg"),Qe=Object(c.a)(Ze,2),Xe=Qe[0],$e=Qe[1],et=["Permaculture","Biodynamic Farming","Agroforestry","Food forestry","Poly culture","Crop rotation","Mulching/ground cover","Growth of heirlooms","Natural animal raising","Natural pest management","Natural fish harvest","Others","None"],tt=["Washing","Packaging","None of the above"],at=["Refrigeration","Freezing","None of the above"];"Horticulture"===ne?(t=["Nature fed vertical farm","Nature fed soil farm","Regenerative farming"],a=["(List of crop, vegetable and fruit)"],n=["(Crop, Veg, Fruit nutrient growth requirement list)"]):"Livestock"===ne?(t=["Open grazing","Regenerative farming"],a=["(List of animals/meat/dairy?)"],n=["(Livestock nutrient growth requirement list)"]):"Aquaculture"===ne?(t=["Nature fed ponds","Natural Harvest"],a=["(List of fish/fishproduct?)"],n=["(Fish nutrient growth requirement list)"]):"Insect farm"===ne?(t=["Nature fed insect farms"],a=["(List of insect)"],n=["(Insect nutrient growth requirement list)"]):(t=[""],a=[""],n=[""]);var nt=["(List of soil nutrients)"],rt=Object(r.useState)(new Array(et.length).fill(!1)),it=Object(c.a)(rt,2),st=it[0],ot=it[1],ct=Object(r.useState)(new Array(et.length).fill(!1)),lt=Object(c.a)(ct,2),dt=lt[0],ut=lt[1],bt=Object(r.useState)(new Array(tt.length).fill(!1)),jt=Object(c.a)(bt,2),ht=jt[0],mt=jt[1],pt=Object(r.useState)(new Array(at.length).fill(!1)),gt=Object(c.a)(pt,2),ft=gt[0],Ot=gt[1],xt=Object(r.useState)(new Array(a.length).fill(!1)),yt=Object(c.a)(xt,2),vt=yt[0],wt=yt[1],Ct=Object(r.useState)(new Array(n.length).fill(!1)),St=Object(c.a)(Ct,2),kt=St[0],Nt=St[1],Tt=Object(r.useState)(new Array(nt.length).fill(!1)),Et=Object(c.a)(Tt,2),Ft=Et[0],Dt=Et[1],Pt=function(t){var a;E?(a={uid:e.auth.uid,info:{email:e.auth.email,membership:[y,S],registered:E,certificate:"/farmer-auth/".concat(W.name),location:[U,Y,J,$],sector:ne,practice:st,futurePractice:dt,practiceEffective:Pe,farmInput:pe,foodItems:be,harvestFreq:Be,harvestSize:He,harvestUnit:Xe,processing:ht,preservation:ft,quality:xe,qualityCert:Ce},profile:{isSeller:!0}},e.becomeSeller(a)):(a={uid:e.auth.uid,info:{email:e.auth.email,membership:[y,S],registered:E,location:[U,Y,J,$],sector:ne,subsector:ce,infrastructure:Te,productType:vt,nutrient:kt,soilComp:Ft,farmSize:Ie,growthTime:Ke,harvestFreq:Be,harvestSize:He,harvestUnit:Xe},profile:{isSeller:!0}},e.becomeSeller(a))};switch(Object(r.useEffect)((function(){f(!1)}),[o]),o){default:case"start":return Object(j.jsxs)(se,{goTo:"account",header:"My Farm Plan",subtitle:"Plan To Save",children:[Object(j.jsx)("div",{className:"pts-info",children:Object(j.jsx)("p",{style:{fontSize:"1.1rem"},children:'The "Plan To Save" Campaign is helping food consumers (Users) to appreciate the health and environmental impact of the food they eat through pre-planning, pre-ordering and monitoring of their food consumption while helping food producers (farmers) pre-plan and sustainably produce food to meet the consumption demand of the users. We will gather data in your local area and recommend what crops for you to grow based on demand. More importantly, you can sell directly to the consumers through our automated AI driven market places that matches demand from local consumers with supply from local farmers, boosting your sales revenue at no additional marketing cost. Join us today so that we can support you farm sustainably.'})}),Object(j.jsx)(In,{validated:g,validate:function(e){e.currentTarget.checkValidity()?f(!0):(e.preventDefault(),e.stopPropagation())},handleNext:function(e){E&&g?l("existingFarmer"):!E&&g?l("newFarmer"):(e.preventDefault(),h("Please fill in all form fields."))},member:y,registered:E,setMember:v,setOrganisation:k,setRegistered:F,setFile:M,handleFile:function(e){e.preventDefault(),function(e){on.ref("farmer-auth/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);_(t)}),(function(e){return console.log(e)}),(function(){on.ref("farmer-auth").child(e.name).getDownloadURL().then((function(e){return console.log(e)}))}))}(W)},progress:R,error:b})]});case"existingFarmer":return Object(j.jsx)(se,{goTo:"account",header:"My Farm Plan",subtitle:"Plan To Save",children:Object(j.jsx)(En,{HandleSubmit:Pt,setAddress1:G,setAddress2:q,setTown:Z,setPostcode:ee,sector:ne,setSector:re,practices:et,practice:st,setPractice:ot,futurePractice:dt,setFuturePractice:ut,setPracticeEffective:We,setInput:ge,foodItems:be,setFoodItems:je,harvestFreq:Be,setHarvestFreq:Ue,setHarvestSize:Ye,harvestUnit:Xe,setHarvestUnit:$e,processes:tt,processing:ht,setProcessing:mt,preservations:at,preservation:ft,setPreservation:Ot,quality:xe,setQuality:ye,setQualityCert:Se})});case"newFarmer":return Object(j.jsx)(se,{goTo:"account",header:"My Farm Plan",subtitle:"Plan To Save",children:Object(j.jsx)(An,{HandleSubmit:Pt,setAddress1:G,setAddress2:q,setTown:Z,setPostcode:ee,sector:ne,setSector:re,subsector:ce,setSubsector:le,subSectors:t,infr:Te,setInfr:Ee,productTypes:a,productType:vt,setProductType:wt,nutrients:n,nutrient:kt,setNutrient:Nt,soilNutrients:nt,soilComp:Ft,setSoilComp:Dt,farmSize:Ie,setFarmSize:Re,growthTime:Ke,setGrowthTime:Je,harvestFreq:Be,setHarvestFreq:Ue,setHarvestSize:Ye,harvestUnit:Xe,setHarvestUnit:$e})})}})),_n=a(453),Ln=(a(756),["Km\xb2","M\xb2","Hct"]),Bn=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,profile:e.firebase.profile}}),(function(e){return{createMarketplaceData:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("marketplace").doc(e.uid).collection("farmPlanData").add(e.upload).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}})),Object(gt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))((function(e){var t=Object(r.useState)(0),a=Object(c.a)(t,2),i=a[0],s=a[1],o=Object(r.useState)(Ln[0]),l=Object(c.a)(o,2),d=l[0],u=l[1],h=Object(r.useState)([]),g=Object(c.a)(h,2),f=g[0],O=g[1],x=Object(r.useState)(6),y=Object(c.a)(x,2),v=y[0],w=(y[1],Object(r.useState)(100)),C=Object(c.a)(w,2),S=C[0],k=C[1],N=Object(r.useState)([]),T=Object(c.a)(N,2),E=T[0],F=(T[1],Object(r.useState)(!1)),D=Object(c.a)(F,2),P=D[0],W=D[1],M=Object(r.useState)(!1),A=Object(c.a)(M,2),I=A[0],R=A[1],_=Object(r.useState)(""),L=Object(c.a)(_,2),B=L[0],U=L[1],G=function(e,t){E[t]=Number(e);var a=E.reduce((function(e,t){return e+t}),0);k(a)};return Object(r.useEffect)((function(){e.auth.error&&U("There was an error connnecting to the database - please try again")}),[e.auth.error]),e.profile.isSeller?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(se,{goTo:"/account",header:"Sell Products",subtitle:"Build your plan",children:Object(j.jsxs)(m.a,{onSubmit:function(t){if(t.preventDefault(),S>100)U("Total crop volume exceed 100%");else{var a={uid:e.auth.uid,upload:Object(n.a)(Object(n.a)({},f),{},{totalLand:i,landUnits:d,comment:P})};e.createMarketplaceData(a),R(!0)}},children:[Object(j.jsx)("p",{children:"We recommend that you plant a range of different crops within your field. Crop rotation has been proven to increase yield and minimise the damage of pests and disease"}),Object(j.jsxs)(m.a.Group,{className:"mb-3 land",children:[Object(j.jsx)(m.a.Label,{children:"Amount of land"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"weight",onChange:function(e){return s(e.target.value)},value:i,min:1,max:1e4,required:!0}),Object(j.jsx)(Oe,{id:"unit",styling:"green dropdown-input-right",data:d,function:function(e){u(e)},items:Ln})]})]}),Object(j.jsxs)(b.a,{className:"p-0 text-center ",children:[Object(j.jsxs)(de.a,{className:"mb-2 farm-row farm-header d-none d-sm-flex",children:[Object(j.jsx)(le.a,{children:"Plot"}),Object(j.jsx)(le.a,{children:"Crop"}),Object(j.jsx)(le.a,{children:"% of total land"}),Object(j.jsx)(le.a,{children:"Info"})]}),Object.keys(_n.categories).map((function(e,t){return Object(j.jsx)(Cn,{rows:v,cat:e,index:t,setRowTotal:G,setFarmPlan:O,farmPlan:f,land:i,unit:d},e)}))]}),Object(j.jsxs)("h3",{className:S>100?"auth-error":"success",children:["Total of land used: ",S.toFixed(0),"%"]}),Object(j.jsx)(mn,{}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:6,placeholder:"Comments",id:"comment",name:"comment",onChange:function(e){W(e.target.value)}})}),B&&Object(j.jsx)("p",{className:"auth-error",children:B}),Object(j.jsx)(p.a,{type:"submit",className:"sub-btn blue-btn",children:"Submit"})]})}),Object(j.jsx)(rt,{open:I,onClose:function(){R(!1)},text:"View my products",to:"/view-products",children:"Item Successfully Submitted!"})]}):Object(j.jsx)(Rn,{})}));function Un(e){var t;return t=e.items.map((function(e,t){return Object(j.jsx)("li",{children:e},t)})),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:t})})}var Gn=function(e){return Object(j.jsxs)(se,{goTo:"/account",header:"My Meal Plan",subtitle:"Plan To Save",children:[Object(j.jsx)("p",{children:e.message}),Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Add preferred location(s) for pick up."}),Object(j.jsxs)(pa.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Control,{type:"text",placeholder:"City",id:"pick-up-location"}),Object(j.jsx)(p.a,{className:"green-btn",id:"cities",onClick:function(t){e.addCity([].concat(Object(ia.a)(e.cities),[t.target.previousSibling.value]))},children:"Add"})]}),Object(j.jsx)(Un,{items:e.cities})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Add preferred pick up day(s)"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(xe,{id:"choose-day",function:function(t){e.setDay(t.target.value)},value:e.day,placeholder:"Choose available days",items:["Mondays","Tuesdays","Wednesdays","Thursdays","Fridays"]}),Object(j.jsx)(p.a,{className:"green-btn",id:"days",onClick:function(t){e.addDay([].concat(Object(ia.a)(e.days),[t.target.previousSibling.value]))},children:"Add"})]}),Object(j.jsx)(Un,{items:e.days})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Add preferred pick up times(s) (24 hr)"}),Object(j.jsxs)(pa.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Control,{type:"time",placeholder:"City",id:"pick-up-location"}),Object(j.jsx)(p.a,{className:"green-btn",id:"times",onClick:function(t){e.addTime([].concat(Object(ia.a)(e.times),[t.target.previousSibling.value]))},children:"Add"})]}),Object(j.jsx)(Un,{items:e.times})]})]}),Object(j.jsx)(p.a,{className:"green-btn",onClick:function(t){return e.setForm("autoCreate")},children:"Next"})]})},Vn=Object(g.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{becomeConsumer:function(t){return e(function(e){return function(t,a,r){var i=(0,r.getFirebase)().firestore();i.collection("users").doc(e.uid).set(Object(n.a)({},e.profile),{merge:!0}).then((function(){return i.collection("marketplace").doc(e.uid).set(Object(n.a)({},e.upload),{merge:!0})})).then((function(){t({type:"CONSUMER_SUCCESS"})})).catch((function(e){console.log("err"),t({type:"CONSUMER_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(r.useState)("start"),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)([]),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)([]),b=Object(c.a)(u,2),h=b[0],g=b[1],f=Object(r.useState)(""),O=Object(c.a)(f,2),x=O[0],y=O[1],v=Object(r.useState)([]),w=Object(c.a)(v,2),C=w[0],S=w[1];Object(r.useEffect)((function(){}),[n]);var k=function(t){var a={uid:e.auth.uid,upload:{email:e.auth.email,cities:l,days:h,times:C},profile:{isConsumer:!0}};e.becomeConsumer(a)};switch(n){default:case"start":return Object(j.jsx)(se,{goTo:"account",header:"My Meal Plan",subtitle:"Plan To Save",children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)(m.a.Label,{children:"Do you have a meal preparation plan?"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"meal-plan",label:"Yes",onClick:k}),Object(j.jsx)(m.a.Check,{type:"radio",name:"meal-plan",label:"No",onClick:function(){return i("location")}})]})});case"location":return Object(j.jsx)(Gn,{setForm:i,addCity:d,cities:l,setDay:y,day:x,addDay:g,days:h,addTime:S,times:C,message:"Thanks for choosing Plan To Save. To serve you better, we need to know a preferred location, day and time for picking up your food item. It may be close to work or home; whatever works best for you."});case"autoCreate":return Object(j.jsx)(se,{goTo:"/account",header:"My Meal Plan",subtitle:"Plan To Save",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you want the tracker to work with you in the next 4 weeks to develop a plan?"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"develop-plan",label:"Yes"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"develop-plan",label:"No"})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Do you want us to create a plan for you based on your availability for pickup and your local suppliers?"}),Object(j.jsx)(m.a.Check,{type:"radio",name:"create-plan",label:"Yes",onClick:function(e){return i("develop-plan")}}),Object(j.jsx)(m.a.Check,{type:"radio",name:"develop-plan",label:"No",onClick:k})]})]})});case"develop-plan":return Object(j.jsxs)(se,{goto:"/account",header:"My Meal Plan",subtitle:"Plan To Save",children:[Object(j.jsx)("p",{children:"We are onboarding farmers in your location to create a plan for you. Check back soon."}),Object(j.jsx)(p.a,{className:"green-btn",onClick:k,children:"Okay"})]})}})),Hn=(a(757),a(912)),Yn=a(897),qn=function(e){return function(t,a,n){var r,i=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mealPlanData").doc(e.month).collection(e.day).add(e.upload).then((function(a){i().firestore().collection("marketplace").doc(r).collection("mealPlanData").doc(e.month).collection(e.day).doc(a.id).set({id:a.id},{merge:!0}),t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}};var zn=Object(g.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{recommend:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("anonymous_data").add(e).then((function(){t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),l=o[0],d=o[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"basic-title-left",children:[Object(j.jsx)("div",{className:"mb-3",children:"We have not identified a sustainable restaurant in your location, please, recommend a restaurant or check back later."}),Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={restaurant:n,email:l};e.recommend(t)}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Restaurant Name."}),Object(j.jsx)(m.a.Control,{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Their email address."}),Object(j.jsx)(m.a.Control,{type:"text",onChange:function(e){return d(e.target.value)}})]}),Object(j.jsx)(p.a,{className:"green-btn",type:"submit",children:"Submit"})]})]})})}));function Kn(e){var t=e.setMealType,a=e.ownRecipe,n=Object(r.useState)("Any"),i=Object(c.a)(n,2),s=i[0],o=i[1];Object(r.useEffect)((function(){!function(){if(a)switch(s){default:case"Any":t("");break;case"Breakfast":t("Breakfast");break;case"Lunch":t("Lunch");break;case"Dinner":t("Dinner");break;case"Snack":t("Snack")}else switch(s){default:case"Any":t("");break;case"Breakfast":t("&mealType=Breakfast");break;case"Lunch":t("&mealType=Lunch");break;case"Dinner":t("&mealType=Dinner");break;case"Snack":t("&mealType=Snack")}}()}),[s]);return Object(j.jsx)(Oe,{id:"meal-type",styling:"green dropdown-input",data:s,items:["Any","Breakfast","Lunch","Dinner","Snack"],function:function(e){return o(e)}})}var Jn=Object(g.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{createMealPlanData:function(t){return e(qn(t))},createSavedMeal:function(t){return e(function(e){return function(t,a,n){var r,i=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mySavedMeals").add(e.upload).then((function(e){i().firestore().collection("marketplace").doc(r).collection("mySavedMeals").doc(e.id).set({id:e.id},{merge:!0}),t({type:"CREATE_DATA"})})).catch((function(e){t({type:"CREATE_DATA_ERROR",err:e})}))}}(t))}}}))((function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),i=a[0],s=a[1],o=Object(r.useState)(""),l=Object(c.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)([]),h=Object(c.a)(b,2),g=h[0],f=h[1],O=Object(r.useState)(!0),x=Object(c.a)(O,2),y=x[0],v=x[1],w={item:"",number:0,unit:"g"},C=Object(r.useState)(w),S=Object(c.a)(C,2),k=S[0],N=S[1],T=function(e){e.target.textContent?N(Object(n.a)(Object(n.a)({},k),{},Object(At.a)({},e.target.id,e.target.textContent))):N(Object(n.a)(Object(n.a)({},k),{},Object(At.a)({},e.target.id,e.target.value)))},E=g.map((function(e,t){return Object(j.jsxs)("li",{children:[e.item,": ",e.number,e.unit]},t)}));return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD"),upload:{meal:i,mealType:d,ingredients:g}};e.createMealPlanData(t),e.forceUpdate(),y&&e.createSavedMeal(t)}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Meal Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",onChange:function(e){s(e.target.value)},required:!0})]}),Object(j.jsx)(Kn,{setMealType:u,ownRecipe:!0}),Object(j.jsx)("div",{style:{padding:"0 0 0 4%"},children:Object(j.jsx)("ul",{children:E})}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Ingredient"}),Object(j.jsx)(m.a.Control,{type:"text",id:"item",onChange:function(e){return T(e)},value:k.item})]}),Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Amount"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{id:"number",type:"number",min:"0",step:".1",onChange:function(e){return T(e)},value:k.number}),Object(j.jsx)(Oe,{id:"unit",styling:"grey dropdown-input",data:k.unit,items:["g","kg","/","mL","L","cups","pcs"],function:function(e){N(Object(n.a)(Object(n.a)({},k),{},{unit:e}))}})]})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(p.a,{className:"green-btn",id:"add-new-ing",onClick:function(e){f((function(e){return[].concat(Object(ia.a)(e),[k])})),N(w)},children:"Add Ingredient"})}),Object(j.jsx)(m.a.Group,{children:Object(j.jsx)(m.a.Check,{type:"checkbox",defaultChecked:!0,label:"Save meal",onClick:function(){v(!y)}})}),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn",type:"submit",children:"Done"})})]})})),Zn=a(906);function Qn(e){var t=e.show,a=e.setShow,n=e.value,i=e.forceUpdate,s=Object(r.useState)("unconfirmed"),o=Object(c.a)(s,2),l=o[0],d=o[1],u=function(){a(!1),d("unconfirmed")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Zn.a,{title:"add",arrow:!0,children:Object(j.jsx)("div",{className:"button",children:Object(j.jsx)(X,{onClick:function(){return a(!0)}})})}),Object(j.jsxs)(fn.a,{show:t,onHide:u,size:"lg","aria-labelledby":"add meal",centered:!0,children:[Object(j.jsx)(fn.a.Header,{closeButton:!0,children:Object(j.jsxs)(fn.a.Title,{id:"add-meal",className:"basic-title-left basic-lg",children:["Add new meal for ",n.format("DD/MM")]})}),Object(j.jsx)(fn.a.Body,{children:Object(j.jsx)(Xn,{eatingOut:l,setEatingOut:d,handleFormClose:u,children:Object(j.jsx)(Jn,{value:n,handleFormClose:u,forceUpdate:i})})})]})]})}function Xn(e){switch(e.eatingOut){default:case"unconfirmed":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Are you cooking at home or eating out?"}),Object(j.jsxs)(de.a,{children:[Object(j.jsx)(le.a,{children:Object(j.jsx)(Q,{styling:"green",text:"At Home",onClick:function(){return e.setEatingOut("no")}})}),Object(j.jsx)(le.a,{children:Object(j.jsx)(Q,{styling:"green",text:"Eating Out",onClick:function(){return e.setEatingOut("yes")}})})]})]});case"yes":return Object(j.jsx)(zn,{handleFormClose:e.handleFormClose});case"no":return Object(j.jsx)(j.Fragment,{children:e.children})}}function $n(e){for(var t=e.clone().startOf("month").startOf("week"),a=e.clone().endOf("month").endOf("week"),n=t.clone().subtract(1,"day"),r=[];n.isBefore(a,"day");)r.push(Array(7).fill(0).map((function(){return n.add(1,"day").clone()})));return r}function er(e){return e.isBefore(new Date,"day")}function tr(e,t){return er(e)?"before":function(e,t){return t.isSame(e,"day")}(e,t)?"selected":function(e){return e.isSame(new Date,"day")}(e)?"today":""}function ar(e){var t=e.value,a=e.setValue;function n(){return t.isSame(new Date,"month")}return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"previous",onClick:function(){return!n()&&a(t.clone().subtract(1,"month"))},children:n()?null:String.fromCharCode(171)}),Object(j.jsxs)("div",{className:"current",children:[t.format("MMMM")," ",t.format("YYYY")]}),Object(j.jsx)("div",{className:"next",onClick:function(){return a(t.clone().add(1,"month"))},children:String.fromCharCode(187)})]})}var nr=a(921),rr=a(294),ir=a.n(rr),sr=a(507),or=a.n(sr);var cr=Object(g.b)((function(e){return{data:e.data.getData}}),(function(e){return{deleteMealData:function(t){return e(function(e){return function(t,a,n){var r,i=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mealPlanData").doc(e.month).collection(e.day).doc(e.id).delete().then((function(){return console.log("successfully deleted! ")})).catch((function(e){t(console.log("Error removing document:",e))}))}}(t))},deleteSavedMeal:function(t){return e(function(e){return function(t,a,n){var r,i=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mySavedMeals").doc(e.id).delete().then((function(){return console.log("successfully deleted! ")})).catch((function(e){t(console.log("Error removing document:",e))}))}}(t))}}}))((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Zn.a,{title:"Delete",children:Object(j.jsx)(tt.a,{className:"delete","aria-label":"Delete",sx:{ml:2},onClick:function(){!function(t){var a={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:t};e.saved?(e.deleteSavedMeal(a),e.forceUpdate()):(e.deleteMealData(a),e.forceUpdate())}(e.id)},children:Object(j.jsx)(or.a,{fontSize:"inherit"})})})})})),lr=a(508),dr=a.n(lr);var ur=Object(g.b)((function(e){return{data:e.data.getData}}),(function(e){return{editMealData:function(t){return e(function(e){return function(t,a,n){var r,i=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mealPlanData").doc(e.month).collection(e.day).doc(e.id).set(e.upload,{merge:!0}).then((function(){return console.log("successfully edited! ")})).catch((function(e){t(console.log("Error editing document:",e))}))}}(t))},editSavedMeal:function(t){return e(function(e){return function(t,a,n){var r,i=n.getFirebase,s=a().firebase.profile,o=a().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mySavedMeals").doc(e.id).set(e.upload,{merge:!0}).then((function(){return console.log("successfully edited! ")})).catch((function(e){t(console.log("Error editing document:",e))}))}}(t))}}}))((function(e){var t=Object(r.useState)(e.meal),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(e.ingredient),o=Object(c.a)(s,2),l=o[0],d=o[1];return Object(j.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD"),id:e.id,upload:{meal:n,ingredients:l,id:e.id}};e.saved?(e.editSavedMeal(t),e.forceUpdate()):(e.editMealData(t),e.forceUpdate())}(),e.handleFormClose()},children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Meal Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"mealName",defaultValue:n,onChange:function(e){i(e.target.value)}})]}),l.map((function(e,t){return Object(j.jsxs)("div",{className:"form",children:[Object(j.jsxs)(m.a.Group,{children:[Object(j.jsx)(m.a.Label,{children:"Ingredients"}),Object(j.jsx)(m.a.Control,{type:"text",id:"item",onChange:function(a){d([].concat(Object(ia.a)(l.slice(0,t)),[{item:a.target.value,number:e.number,unit:e.unit}],Object(ia.a)(l.slice(t+1,l.length))))},defaultValue:e.item})]}),Object(j.jsx)(m.a.Group,{children:Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{id:"number",type:"number",min:"0",step:".1",onChange:function(a){d([].concat(Object(ia.a)(l.slice(0,t)),[{item:e.item,number:a.target.value,unit:e.unit}],Object(ia.a)(l.slice(t+1,l.length))))},defaultValue:e.number}),Object(j.jsx)(Oe,{id:"unit",styling:"grey dropdown-input",data:e.unit,items:["g","kg","/","mL","L","cups","pcs"],function:function(a){return d([].concat(Object(ia.a)(l.slice(0,t)),[{item:e.item,number:e.number,unit:a}],Object(ia.a)(l.slice(t+1,l.length))))}})]})})]},t)})),Object(j.jsx)("div",{style:{alignItems:"center"},children:Object(j.jsx)(p.a,{className:"blue-btn",type:"submit",children:"Done"})})]})}));function br(e){var t=e.meal,a=e.ingredients,n=e.id,r=e.show,i=e.setShow,s=e.value,o=e.forceUpdate,c=e.saved,l=function(){return i(!1)};return Object(j.jsxs)(fn.a,{show:r,onHide:l,size:"lg","aria-labelledby":"edit meal",centered:!0,children:[Object(j.jsx)(fn.a.Header,{closeButton:!0,children:Object(j.jsx)(fn.a.Title,{id:"add-meal",children:"Edit Meal"})}),Object(j.jsx)(fn.a.Body,{children:Object(j.jsx)(ur,{meal:t,ingredient:a,id:n,forceUpdate:o,value:s,handleFormClose:l,saved:c})})]})}var jr=function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],i=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Zn.a,{title:"Edit",children:Object(j.jsx)(tt.a,{className:"edit","aria-label":"Edit",sx:{ml:2},onClick:function(){i(!0)},children:Object(j.jsx)(dr.a,{fontSize:"inherit"})})}),Object(j.jsx)(br,{value:e.value,show:n,setShow:i,meal:e.meal,ingredients:e.ingredients,id:e.id,forceUpdate:e.forceUpdate,saved:e.saved})]})},hr=a(509),mr=a.n(hr);var pr=Object(g.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createMealPlanData:function(t){return e(qn(t))}}}))((function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1],s=function(){return e.setShow(!1)};return Object(r.useEffect)((function(){i($n(e.value))}),[e.value]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(fn.a,{show:e.show,onHide:s,size:"lg","aria-labelledby":"add-to-calendar",centered:!0,children:[Object(j.jsx)(fn.a.Header,{closeButton:!0,children:Object(j.jsxs)(fn.a.Title,{id:"add-to-calendar",children:["Add ",e.selected.meal," to Calendar"]})}),Object(j.jsx)(fn.a.Body,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"calendar",style:{maxWidth:"100%"},children:[Object(j.jsx)(ar,{value:e.value,setValue:e.onChange}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(e,t){return Object(j.jsx)("div",{className:"week",children:e},t)}))}),n.map((function(t){return Object(j.jsx)("div",{children:t.map((function(t){return Object(j.jsx)("div",{className:"day",onClick:function(){return!er(t)&&e.onChange(t)},children:Object(j.jsx)("div",{className:tr(t,e.value),children:t.format("D").toString()})},t.format("D").toString())}))},t)}))]})]}),Object(j.jsx)(Q,{styling:"green",text:"Add",onClick:function(t){t.preventDefault(),function(){var t;t=e.saved?{month:e.value.format("YYYYMM"),day:e.value.format("DD"),upload:{meal:e.selected.meal,mealType:e.selected.mealType,ingredients:e.selected.ingredients}}:{month:e.value.format("YYYYMM"),day:e.value.format("DD"),upload:{meal:e.selected.meal,ingredients:e.selected.ingredients,mealType:e.selected.mealType,url:e.selected.url,nonNativeData:!0}},e.createMealPlanData(t)}(),s()}})]})})]})})}));var gr=function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)({}),o=Object(c.a)(s,2),l=o[0],d=o[1],u=function(){var t=Object(sa.a)(ra.a.mark((function t(){return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saved?d({meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,id:e.id}):d({meal:e.meal,mealType:e.mealType,ingredients:e.ingredients,url:e.url});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Zn.a,{title:"Add to Calendar",children:Object(j.jsx)(tt.a,{className:"add-to-calendar","aria-label":"Add to Calendar",sx:{ml:2},onClick:function(){i(!0),u()},children:Object(j.jsx)(mr.a,{fontSize:"inherit"})})}),Object(j.jsx)(pr,{value:e.value,onChange:e.onChange,show:n,setShow:i,selected:l,saved:e.saved})]})};function fr(e){return Object(j.jsx)(j.Fragment,{children:e.meals.map((function(t,a){return Object(j.jsx)("div",{className:"meal-box",children:Object(j.jsx)("div",{className:"ingredients",children:Object(j.jsxs)(ve.a,{styles:{paddingTop:0,paddingBottom:0,margin:0},children:[Object(j.jsxs)(nr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:t.meal}),t.mealType?Object(j.jsx)("div",{className:"meal-type",children:t.mealType}):null,Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)(cr,{value:e.value,id:t.id,forceUpdate:e.forceUpdate,saved:e.saved}),e.saved?Object(j.jsx)(gr,{value:e.value,meal:t.meal,ingredients:t.ingredients,mealType:t.mealType,id:t.id,onChange:e.onChange,saved:e.saved}):null,t.nn?null:Object(j.jsx)(jr,{value:e.value,meal:t.meal,ingredients:t.ingredients,id:t.id,forceUpdate:e.forceUpdate,saved:e.saved})]})]}),t.ingredients.map((function(e,a){return Object(j.jsxs)(we.a,{className:"list",style:{alignItems:"baseline"},children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(ir.a,{fontSize:"1rem"})},"icon".concat(a)),t.nn?Object(j.jsx)("p",{children:e.text}):Object(j.jsxs)("p",{children:[e.item,": ",e.number,e.unit]})]},"item".concat(a))})),Object(j.jsx)(we.a,{children:t.url?Object(j.jsx)("a",{href:t.url,children:t.url}):null})]},"ingrs".concat(a))})},"meal-box".concat(a))}))})}var Or=Object(g.b)((function(e){return{data:e.data.getData}}),(function(e){return{getMealData:function(t){return e((a=t,function(e,t,n){var r,i=n.getFirebase,s=t().firebase.profile,o=t().firebase.auth.uid;switch(s.type){case"business_admin":r=o;break;case"business_sub":r=s.admin;break;case"academic_admin":r=o;break;case"academic_sub":r=s.admin;break;case"household_admin":r=o;break;case"household_sub":r=s.admin;break;default:r=o}i().firestore().collection("marketplace").doc(r).collection("mealPlanData").doc(a.month).collection(a.day).get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_DATA",payload:a})})).catch((function(t){e({type:"GET_DATA_ERROR",err:t})}))}));var a}}}))((function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){var t={month:e.value.format("YYYYMM"),day:e.value.format("DD")};0===e.tab&&e.getMealData(t)}),[e.value,e.update,e.tab]);var s=function(){var t=Object(sa.a)(ra.a.mark((function t(){return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i([]),e.data.forEach((function(e){var t,a=e.meal,n=e.ingredients,r=e.id,s=e.mealType,o=e.url;t=!!e.nonNativeData&&e.nonNativeData,i((function(e){return[].concat(Object(ia.a)(e),[{meal:a,mealType:s,ingredients:n,id:r,nn:t,url:o}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[e.data]),Object(j.jsx)(j.Fragment,{children:n.length?Object(j.jsx)(fr,{forceUpdate:e.forceUpdate,meals:n,saved:!1,value:e.value}):Object(j.jsx)("div",{className:"empty basic-title-left",children:Object(j.jsx)("p",{children:"There is no plan for today :( Try adding something. "})})})})),xr=function(e){var t=e.value,a=e.onChange,n=e.tab,i=e.update,s=e.forceUpdate,o=Object(r.useState)([]),l=Object(c.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)(!1),h=Object(c.a)(b,2),m=h[0],p=h[1];return Object(r.useEffect)((function(){u($n(t))}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(ar,{value:t,setValue:a}),Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(e,t){return Object(j.jsx)("div",{className:"week",children:e},t)}))}),d.map((function(e){return Object(j.jsx)("div",{children:e.map((function(e){return Object(j.jsx)("div",{className:"day",onClick:function(){return!er(e)&&a(e)},children:Object(j.jsx)("div",{className:tr(e,t),children:e.format("D").toString()})},e.format("D").toString())}))},e)}))]})]}),Object(j.jsxs)("div",{className:"plan-box",children:[Object(j.jsx)("div",{className:"header",children:t.format("dddd DD/MM")}),Object(j.jsx)(Or,{value:t,show:m,update:i,tab:n,forceUpdate:s}),Object(j.jsx)(Qn,{value:t,show:m,setShow:p,forceUpdate:s})]})]})},yr=Object(g.b)((function(e){return{data:e.data.getData}}),(function(e){return{getSavedMeals:function(t){return e((function(e,t,a){var n,r=a.getFirebase,i=t().firebase.profile,s=t().firebase.auth.uid;switch(i.type){case"business_admin":n=s;break;case"business_sub":n=i.admin;break;case"academic_admin":n=s;break;case"academic_sub":n=i.admin;break;case"household_admin":n=s;break;case"household_sub":n=i.admin;break;default:n=s}r().firestore().collection("marketplace").doc(n).collection("mySavedMeals").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e({type:"GET_DATA",payload:a})})).catch((function(t){e({type:"GET_DATA_ERROR",err:t})}))}))}}}))((function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){1===e.tab&&e.getSavedMeals()}),[e.tab,e.update]);var s=function(){var t=Object(sa.a)(ra.a.mark((function t(){return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i([]),e.data.forEach((function(e){var t=e.meal,a=e.ingredients,n=e.id,r=e.mealType;i((function(e){return[].concat(Object(ia.a)(e),[{meal:t,mealType:r,ingredients:a,id:n}])}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[e.data]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left mb-3",children:"My Saved Meals"}),Object(j.jsx)("div",{className:"saved-meals",children:Object(j.jsx)(fr,{forceUpdate:e.forceUpdate,onChange:e.onChange,meals:n,saved:!0,value:e.value})})]})})),vr=a.p+"static/media/Edamam_Badge_White.d317b3d5.svg",wr=function(){var e=Object(sa.a)(ra.a.mark((function e(t,a,n,r){var i,s;return ra.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"5532003c","511d39184173c54ebc5d02a5063a7b87",e.next=4,fetch("https://api.edamam.com/api/recipes/v2?app_id=".concat("5532003c","&app_key=").concat("511d39184173c54ebc5d02a5063a7b87","&type=public&q=").concat(t).concat(a).concat(n));case 4:return i=e.sent,e.next=7,i.json();case 7:s=e.sent,r(s.hits);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}();function Cr(e){return Object(j.jsx)(j.Fragment,{children:e.query&&e.recipes.map((function(t,a){return Object(j.jsx)("div",{className:"meal-box",children:Object(j.jsxs)(de.a,{children:[Object(j.jsx)(le.a,{className:"image",children:Object(j.jsx)("img",{src:t.recipe.image,alt:"".concat(t.recipe.label)})}),Object(j.jsx)(le.a,{className:"ingredients",children:Object(j.jsxs)(ve.a,{styles:{paddingTop:0,paddingBottom:0,margin:0},children:[Object(j.jsxs)(nr.a,{className:"heading",children:[Object(j.jsx)("div",{className:"meal-name",children:t.recipe.label}),Object(j.jsx)("div",{className:"icons",children:Object(j.jsx)(gr,{value:e.value,mealType:t.recipe.mealType,meal:t.recipe.label,ingredients:t.recipe.ingredients,url:t.recipe.url,onChange:e.onChange,saved:!1})})]}),t.recipe.ingredients&&t.recipe.ingredients.map((function(e,t){return Object(j.jsxs)(we.a,{className:"list",children:[Object(j.jsx)(Ce.a,{children:Object(j.jsx)(ir.a,{fontSize:"1rem"})}),e.text]},t)})),Object(j.jsx)("a",{href:t.recipe.url,children:t.recipe.url})]})})]})},a)}))})}function Sr(e){var t=e.setCuisineType,a=Object(r.useState)("Any"),n=Object(c.a)(a,2),i=n[0],s=n[1];Object(r.useEffect)((function(){t("Any"===i?"":"&cuisineType=".concat(i))}),[i]);return Object(j.jsx)(Oe,{id:"meal-type",styling:"green dropdown-input",data:i,items:["Any","American","Asian","British","Caribbean","Central Europe","Chinese","Eastern Europe","French","Indian","Italian","Japanese","Kosher","Mediterranean","Mexican","Middle Eastern","Nordic","South American","South East Asian"],function:function(e){return s(e)}})}function kr(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(r.useState)(""),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(""),b=Object(c.a)(u,2),h=b[0],g=b[1],f=Object(r.useState)(""),O=Object(c.a)(f,2),x=O[0],y=O[1],v=Object(r.useState)({}),w=Object(c.a)(v,2),C=w[0],S=w[1];return Object(r.useEffect)((function(){wr(l,h,x,S)}),[l,h,x]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"basic-title-left",children:"Search Recipes"}),Object(j.jsx)("a",{href:"https://www.edamam.com/",children:Object(j.jsx)("img",{className:"edamam",src:vr,alt:"powered by edamam"})}),Object(j.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),d(n)},children:[Object(j.jsx)(m.a.Group,{children:Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{className:"shadow-none",type:"text",id:"query",defaultValue:l,onChange:function(e){i(e.target.value)}}),Object(j.jsx)(p.a,{type:"submit",className:"green-btn shadow-none",children:"Search"})]})}),Object(j.jsxs)("div",{className:"refine-search",children:[Object(j.jsx)("p",{children:"Meal Type:"}),Object(j.jsx)("div",{children:Object(j.jsx)(Kn,{setMealType:g})})]}),Object(j.jsxs)("div",{className:"refine-search",children:[Object(j.jsx)("p",{children:"Origin:"}),Object(j.jsx)("div",{children:Object(j.jsx)(Sr,{setCuisineType:y})})]})]}),Object(j.jsx)(Cr,{recipes:C,query:l,value:e.value,onChange:e.onChange})]})}function Nr(){var e=Object(r.useState)(nn()()),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(0),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(0),u=Object(c.a)(d,2),b=u[0],h=u[1],m=function(){h(b+1)};return Object(j.jsx)(se,{goTo:"/account",header:"My Plan to Save",children:Object(j.jsxs)(Hn.a,{defaultActiveKey:"calendar",id:"meal-plan-tabs",className:"mb-3 mealtabs basic-title",onSelect:function(e){l("calendar"===e?0:"recipes"===e?1:2)},children:[Object(j.jsx)(Yn.a,{eventKey:"calendar",title:"MEAL PLAN",className:"mealtab",children:Object(j.jsx)(xr,{value:a,onChange:n,tab:o,update:b,forceUpdate:m})}),Object(j.jsxs)(Yn.a,{eventKey:"recipes",title:"RECIPES",className:"mealtab",children:[Object(j.jsx)(yr,{update:b,forceUpdate:m,value:a,tab:o,onChange:n}),Object(j.jsx)(kr,{value:a,onChange:n})]}),Object(j.jsx)(Yn.a,{eventKey:"shopping-list",title:"SHOPPING LIST",className:"mealtab",children:Object(j.jsx)("div",{className:"basic-title",children:"This feature is currently in development."})})]})})}a(758);var Tr=a.p+"static/media/peppers-square.92ac872c.jpg";function Er(e){return Object(j.jsxs)(ue.a,{className:"product",children:[Object(j.jsx)("img",{src:Tr,alt:"product",className:"product-image"}),Object(j.jsx)("div",{className:"product-information",children:e.children})]},e.key)}var Fr,Dr,Pr,Wr,Mr,Ar,Ir=Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.data.getData}}),(function(e){return{getFirestoreData:function(t){return e(Re(t))}}}))((function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){e.data.length<=0&&function(){var t={masterCollection:"marketplace",collection:"products",uid:e.auth.uid};e.getFirestoreData(t)}()}),[]);var s=function(){var t=Object(sa.a)(ra.a.mark((function t(){return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data.forEach((function(e){var t=e.id,a=e.food,n=e.category,r=e.weight[0],s=e.weight[1],o=e.producedLocally,c=e.price[0],l=e.price[1],d=e.expires,u=e.comment;i((function(e){return[].concat(Object(ia.a)(e),[{id:t,food:a,category:n,weight:r,unit:s,producedLocally:o,price:c,currency:l,expires:d,comment:u}])}))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[e.data]),Object(j.jsx)(se,{goTo:"/account",header:"Sell Products",subtitle:"My Products",children:n.map((function(e){return Object(j.jsxs)(Er,{styling:"product",children:[Object(j.jsxs)("h1",{children:[e.food,": ",e.weight,e.unit]}),Object(j.jsx)("h6",{children:e.category}),Object(j.jsxs)("p",{children:[" expiry date: ",e.expires]}),Object(j.jsxs)("h2",{children:[e.currency,e.price]}),Object(j.jsx)("p",{children:e.comment})]},e.id)}))})})),Rr=function(e){return"Edible"===e.upload.edibleInedible?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Expiry Date"}),Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){e.updateStateValue(t)},value:e.upload.expiryDate})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Cost"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{id:"foodWasteCost",value:e.upload.foodWasteCost,readOnly:!0}),Object(j.jsx)(Oe,{id:"currency",styling:"grey dropdown-input-right",data:e.upload.currency,function:function(t,a){e.changeMultiplier(a),e.updateStateValue(a)},items:["GBP (\xa3)","USD ($)","EUR (\u20ac)"]})]})]})]}):null},_r=function(e){return"Edible"===e.upload.edibleInedible?""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType&&""!==e.upload.expiryDate&&"Select Currency"!==e.upload.currency?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"}):""!==e.upload.projectName&&""!==e.upload.foodName&&e.upload.foodWasteWeight>0&&"Select Unit"!==e.upload.weightType?Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(ie.a,{}),Object(j.jsx)(Z,{text:"Update",styling:"green",onClick:function(t){e.handleFoodWasteSubmit()}})]}):Object(j.jsx)(Z,{text:"Update",styling:"green",disabled:"true"})},Lr=Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{createFoodWasteData:function(t){return e(Ae(t))},createMapData:function(t){return e(Ie(t))}}}))((function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0],s=a[1];Object(r.useEffect)((function(){e.profile.type&&(String(e.profile.type).includes("academic")||s(!0))}),[e.profile]);var o={edibleInedible:"Edible",projectName:"",foodName:"",foodWasteWeight:0,weightType:"Select Unit",expiryDate:"",ghg:0,foodWasteCost:0,currency:"Select Currency",notes:""},d={weightMultiplier:0,currencyMultiplier:0},u=Object(r.useState)(o),h=Object(c.a)(u,2),p=h[0],g=h[1],f=Object(r.useState)(d),O=Object(c.a)(f,2),x=O[0],y=O[1],v=Object(r.useRef)(null);Object(r.useEffect)((function(){S()}),[p.edibleInedible,p.foodWasteWeight,p.weightType,p.currency]);var w=function(e){e.target.textContent?g(Object(n.a)(Object(n.a)({},p),{},Object(At.a)({},e.target.id,e.target.textContent))):g(Object(n.a)(Object(n.a)({},p),{},Object(At.a)({},e.target.id,e.target.value)))},C=function(e){var t,a=e.target.id.toString().split(/PerUnit|Type/)[0]+"Multiplier";switch(e.target.textContent){case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454;break;case"GBP (\xa3)":t=1;break;case"USD ($)":t=1.404;break;case"EUR (\u20ac)":t=1.161;break;default:t=1}y(Object(n.a)(Object(n.a)({},x),{},Object(At.a)({},a,t)))},S=function(){g(Object(n.a)(Object(n.a)({},p),{},{ghg:Number(p.foodWasteWeight*x.weightMultiplier*2.5),foodWasteCost:(.85*Number(p.foodWasteWeight)*x.weightMultiplier*x.currencyMultiplier).toFixed(2)}))};return e.auth.uid?i?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(se,{header:"Update Food Waste",subtitle:"Upload Edible or Inedible Food Waste",goTo:"/account",children:Object(j.jsx)(b.a,{fluid:!0,className:"web-center",children:Object(j.jsxs)(m.a,{children:[Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Project Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"projectName",onChange:function(e){w(e)},value:p.projectName})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Food Name"}),Object(j.jsx)(m.a.Control,{type:"text",id:"foodName",onChange:function(e){w(e)},value:p.foodName})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Edible or Inedibe"}),Object(j.jsx)(Oe,{id:"edibleInedible",styling:"grey dropdown-input",data:p.edibleInedible,function:function(e,t){w(t)},items:["Edible","Inedible"]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Weight / Volume"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWasteWeight",onChange:function(e){w(e)},value:p.foodWasteWeight}),Object(j.jsx)(Oe,{id:"weightType",styling:"grey dropdown-input-right",data:p.weightType,function:function(e,t){C(t),w(t)},items:["kg","g","/","oz","lbs","/","l","ml"]})]})]}),Object(j.jsx)(Rr,{upload:p,multipliers:x,changeMultiplier:C,updateStateValue:w}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"GHG"}),Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"ghg",value:p.ghg,title:p.ghg,readOnly:!0}),Object(j.jsx)(pa.a.Append,{children:Object(j.jsx)(pa.a.Text,{children:"kg co2"})})]})]}),Object(j.jsxs)(st.a,{className:"mb-3",children:[Object(j.jsx)(m.a.Label,{style:{backgroundColor:"white"},children:"Notes"}),Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",ref:v,onChange:function(e){w(e)}})]}),Object(j.jsx)(_r,{upload:p,handleFoodWasteSubmit:function(){var t;switch(p.weightType){default:case"kg":case"l":t=1;break;case"g":case"ml":t=.001;break;case"oz":t=.028;break;case"lbs":t=.454}var a,r,i={masterCollection:"mapData",uid:e.auth.uid,upload:{foodWasteWeight:p.foodWasteWeight*t}};switch(e.profile.type){case"business_admin":r="business_users",a=e.auth.uid;break;case"business_sub":r="business_users",a=e.profile.admin;break;case"academic_admin":r="academic_users",a=e.auth.uid;break;case"academic_sub":r="academic_users",a=e.profile.admin;break;case"farm_admin":r="farm_users",a=e.auth.uid;break;case"farm_sub":r="farm_users",a=e.profile.admin;break;case"household_admin":r="household_users",a=e.auth.uid;break;case"household_sub":r="household_users",a=e.profile.admin;break;default:r="data",a=e.auth.uid}var s={uid:a,masterCollection:r,collection:"writtenFoodWasteData",upload:Object(n.a)({date:Object(gt.getFirebase)().firestore.Timestamp.fromDate(new Date)},p)};e.createFoodWasteData(s),e.createMapData(i),He("Success","Food Waste successfully uploaded!"),g(o),y(d),v.current.value=""}})]})})}):Object(j.jsx)(l.a,{to:"/login"})})),Br=(nn()().format("MMMM Do YYYY, h:mm:ss a"),function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(It.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:e.props.user.firstName,email:e.props.auth.email,uid:e.props.auth.uid,filteredData:[],formWidth:"",formHeight:"",submissionType:"Intake Academic",meal:"n/a",foodName:"",eatingInOrOut:"n/a",notes:"",foodWeight:0,weightType:"Select Unit",weightMultiplier:0,producedLocally:"Select Local or Non-local",projectName:"",expiryDate:"",chartSubmissionDay:nn()().format("ddd"),chartSubmissionWeek:nn()().format("W"),chartSubmissionMonth:nn()().format("MMM"),chartSubmissionDate:nn()().format("Do"),chartSubmissionYear:nn()().format("YYYY"),chartSubmissionFullDate:nn()().format("ddd MMM Do YYYY")},e.clearEFWForm=function(){e.setState({projectName:"",foodName:"",notes:"",foodWeight:0,weightType:"Select Unit",producedLocally:"Select Local or Non-local",expiryDate:"",formHeight:"665px"})},e.notificationTest=function(){Ve()({title:"Success!",message:"Food Intake successfully updated!",backgroundTop:"#aab41e",backgroundBottom:"#aab41e",closeButton:"Close",duration:4e3})},e.handleChange=function(t){e.setState(Object(At.a)({},t.target.id,t.target.value))},e.handleEdibleInedibleSurplusChange=function(t){e.setState({edibleInedibleSurplus:t})},e.handleFoodWasteGHGChange=function(t){var a;e.setState((a={},Object(At.a)(a,t.target.id,t.target.value),Object(At.a)(a,"ghg",2.5*Number(t.target.value)),a))},e.handleFoodCostChange=function(t){var a;e.setState((a={},Object(At.a)(a,t.target.id,t.target.value),Object(At.a)(a,"foodWasteCost",(.85*Number(t.target.value)).toFixed(2)),a))},e.handleInedibleFoodCostChange=function(t){var a;e.setState((a={},Object(At.a)(a,t.target.id,t.target.value),Object(At.a)(a,"costOfInedibleFoodWaste",(.85*Number(t.target.value)).toFixed(2)),a))},e.pressButton=function(t){t.preventDefault(),e.props.startData(e.state)},e.handleFoodIntakeSubmit=function(t){t.preventDefault(),e.setState({}),e.props.createFoodIntakeResearchData(e.state)},e}return Object(Rt.a)(a,[{key:"changeMeal",value:function(e){this.setState({meal:e})}},{key:"changeCurrency",value:function(e){this.setState({currency:e})}},{key:"changeCurrencyMultiplier",value:function(e){this.setState({currencyMultiplier:e})}},{key:"changeWeightMultiplier",value:function(e){this.setState({weightMultiplier:e})}},{key:"handleProducedLocallyChange",value:function(e){this.setState({producedLocally:e})}},{key:"handleWeightUnitChange",value:function(e){this.setState({weightType:e})}},{key:"componentDidMount",value:function(){Ra.isMobile?this.setState({formWidth:"72vw",formHeight:"665px"}):Ra.isBrowser&&this.setState({formWidth:"261px",formHeight:"665px"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,r=t.auth,i=this.state;i.foodWaste,i.foodSurplus;if(!r.uid)return Object(j.jsx)(l.a,{to:"/login"});if(a){var s=a&&a.filter((function(e){return e.email===r.email}));return Object(j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(j.jsx)(Ra.MobileView,{children:Object(j.jsx)("h3",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Update Food"})}),Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsx)("h4",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Update Food"})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%"},children:Object(j.jsx)(p.a,{style:{width:this.state.formWidth,borderColor:"#aab41e"},className:"custom-btn-2",as:d.b,to:"/account",children:"Back"})}),0===s.length?Object(j.jsxs)(de.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found",children:[Object(j.jsx)(le.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"",xs:12,lg:4}),Object(j.jsx)(le.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(Gr,{children:Object(j.jsx)(ue.a,{children:Object(j.jsx)(ue.a.Body,{children:Object(j.jsxs)(ue.a.Text,{className:"text-center",children:[Object(j.jsx)("h1",{style:{fontSize:"33px",fontWeight:"600",color:"rgb(55, 85, 54)"},children:"Start tracking your food intake now"}),Object(j.jsx)("button",{onClick:this.pressButton,style:{outline:"none",border:"none"},children:"Start now"})]})})})})}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12})]}):Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",height:"190%"},children:Object(j.jsx)(ue.a,{style:{width:this.state.formWidth,height:this.state.formHeight,marginBottom:"10vh"},children:Object(j.jsxs)(m.a,{className:"form-layout",style:{padding:"10px"},children:[Object(j.jsx)("h5",{className:"text-center",style:{margin:"30px",fontSize:"23px",fontWeight:"600"},children:"Food Update"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Project Name"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(m.a.Control,{id:"projectName",placeholder:"Enter Project Name",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.projectName})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Food Name"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(Qa.a,{id:"foodName",options:Ur.map((function(e){return e.title})),freeSolo:!0,style:{width:"100%"},size:"small",onChange:function(t){return e.setState({foodName:t.target.textContent})},onInputChange:function(t){return e.handleChange(t)},renderInput:function(e){return Object(j.jsx)(Xa.a,Object(n.a)(Object(n.a)({},e),{},{label:"Enter Food Name",variant:"outlined"}))}})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Weight / Volume"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodWeight",placeholder:"Enter weight of food waste",onChange:function(t){e.handleFoodWasteGHGChange(t),e.handleFoodCostChange(t)},width:"100%",value:this.state.foodWeight}),Object(j.jsxs)(ge.a,{as:pa.a.Append,variant:"outline-secondary",title:this.state.weightType,id:"wtdd",children:[Object(j.jsx)(fe.a.Header,{children:"Weight (Solids)"}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"kg"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"g"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.028)},children:"oz"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.454)},children:"lbs"})}),Object(j.jsx)(fe.a.Divider,{}),Object(j.jsx)(fe.a.Header,{children:"Volume (Liquids)"}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"l"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"ml"})})]})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Expiry Date"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(m.a.Control,{id:"expiryDate",type:"date",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.expiryDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Local or Non-local?"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(Vr,{children:Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(Ja.a,{variant:"secondary",style:{width:"190px"},className:"dd",children:this.state.producedLocally}),Object(j.jsxs)(Ka.b,{children:[Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Local Produce"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Non-local Produce"})})]})]})})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Notes (Optional)"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",style:{resize:"none",width:"100%"},onChange:function(t){return e.handleChange(t)},value:this.state.notes})}),Object(j.jsx)(za.a,{}),Object(j.jsx)("div",{children:""!==this.state.foodName&&""!==this.state.projectName&&0!==this.state.foodWeight&&"Select Local or Non-local"!==this.state.producedLocally?Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",backgroundColor:"#aab41e",width:"80%",marginTop:"20px"},onClick:function(t){e.handleFoodIntakeSubmit(t),e.clearEFWForm(),e.notificationTest()},variant:"secondary",type:"button",children:"Update"}):Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",width:"80%",marginTop:"20px"},variant:"secondary",disabled:!0,children:"Update"})})]})]})})})]})}return Object(j.jsx)("div",{})}}]),a}(r.Component)),Ur=[{title:"Cereal"},{title:"Bacon"},{title:"Baked Beans"},{title:"Porridge"},{title:"Pancake"},{title:"Beef"},{title:"Chicken"},{title:"Pork"},{title:"Apple"},{title:"Banana"},{title:"Orange"},{title:"Pear"},{title:"Grapes"},{title:"Chocolate"},{title:"Crisps"},{title:"Pasta"},{title:"Bolognese"},{title:"Potato"},{title:"Chips"},{title:"Milk"},{title:"Fruit Juice"},{title:"Onion"}],Gr=ce.a.div(Fr||(Fr=Object(re.a)(["\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 70px 0 50px 0;\n  }\n\n  .card-body {\n    height: 200px;\n  }\n"]))),Vr=ce.a.div(Dr||(Dr=Object(re.a)(["\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n"]))),Hr=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{startData:function(t){return e(Me(t))},createFoodIntakeResearchData:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,i=(t().firebase.profile,t().firebase.auth),s=a.submissionType,o=a.projectName,c=a.foodName,l=a.weightType,d=a.producedLocally,u=a.notes,b=a.chartSubmissionDay,j=a.chartSubmissionWeek,h=a.chartSubmissionMonth,m=a.chartSubmissionDate,p=a.chartSubmissionYear,g=a.chartSubmissionFullDate,f=(new Date).getHours(),O="";O=f>=0&&f<6?"T1":f>=6&&f<12?"T2":f>=12&&f<18?"T3":"T4",r().firestore().collection("data").doc(i.uid).collection("writtenFoodIntakeAcademicData").add({date:r().firestore.Timestamp.fromDate(new Date),type:O,PROJECTNAME:o,FOODNAME:c,weight:Number(a.foodWeight),WEIGHTUNIT:l,LOCALORNOT:d,NOTES:u,WDAY:b,WEEK:j,MONTH:h,MDATE:m,YEAR:p,FULLDATE:g,SUBMISSIONTYPE:s}).then((function(){e({type:"CREATE_DATA"})})).catch((function(t){e({type:"CREATE_DATA_ERROR",err:t})}))}));var a}}})),Object(gt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))(Br),Yr=(nn()().format("MMMM Do YYYY, h:mm:ss a"),nn()().format("ddd MMM Do YYYY"),function(e){Object(_t.a)(a,e);var t=Object(Lt.a)(a);function a(){var e;Object(It.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:e.props.user.firstName,email:e.props.auth.email,uid:e.props.auth.uid,filteredData:[],formWidth:"",formHeight:"",submissionType:"Surplus Academic",foodName:"",foodCategory:"Select Category",foodSurplusWeight:0,weightType:"Select Unit",weightMultiplier:0,producedLocally:"Select Surplus or Local...",expiryDate:"",ghg:0,notes:"",foodSurplusCost:0,currency:"Select Currency",currencyMultiplier:0,chartSubmissionDay:nn()().format("ddd"),chartSubmissionWeek:nn()().format("W"),chartSubmissionMonth:nn()().format("MMM"),chartSubmissionDate:nn()().format("Do"),chartSubmissionYear:nn()().format("YYYY"),chartSubmissionFullDate:nn()().format("ddd MMM Do YYYY")},e.clearEFWForm=function(){e.setState({foodName:"",foodCategory:"Select Category",foodSurplusWeight:0,weightType:"Select Unit",producedLocally:"Select Surplus or Local...",expiryDate:"",ghg:0,foodSurplusCost:0,currency:"Select Currency",currencyMultiplier:0,notes:"",formHeight:"1065px"})},e.notificationTest=function(){Ve()({title:"Success!",message:"Food Surplus successfully updated!",backgroundTop:"#aab41e",backgroundBottom:"#aab41e",closeButton:"Close",duration:4e3})},e.handleChange=function(t){e.setState(Object(At.a)({},t.target.id,t.target.value))},e.handleFoodCategoryChange=function(t){e.setState({foodCategory:t})},e.handleEdibleInedibleSurplusChange=function(t){e.setState({edibleInedibleSurplus:t})},e.handleFoodWasteGHGChange=function(t){var a;e.setState((a={},Object(At.a)(a,t.target.id,t.target.value),Object(At.a)(a,"ghg",2.5*Number(t.target.value)),a))},e.handleFoodCostChange=function(t){var a;e.setState((a={},Object(At.a)(a,t.target.id,t.target.value),Object(At.a)(a,"foodSurplusCost",(.85*Number(t.target.value)).toFixed(2)),a))},e.handleInedibleFoodCostChange=function(t){var a;e.setState((a={},Object(At.a)(a,t.target.id,t.target.value),Object(At.a)(a,"costOfInedibleFoodWaste",(.85*Number(t.target.value)).toFixed(2)),a))},e.pressButton=function(t){t.preventDefault(),e.props.startData(e.state)},e.handleFoodSurplusSubmit=function(t){t.preventDefault(),e.setState({}),e.props.createFoodSurplusData(e.state)},e}return Object(Rt.a)(a,[{key:"changeCurrency",value:function(e){this.setState({currency:e})}},{key:"changeCurrencyMultiplier",value:function(e){this.setState({currencyMultiplier:e})}},{key:"changeWeightMultiplier",value:function(e){this.setState({weightMultiplier:e})}},{key:"handleProducedLocallyChange",value:function(e){this.setState({producedLocally:e})}},{key:"handleWeightUnitChange",value:function(e){this.setState({weightType:e})}},{key:"componentDidMount",value:function(){Ra.isMobile?this.setState({formWidth:"72vw",formHeight:"1065px"}):Ra.isBrowser&&this.setState({formWidth:"261px",formHeight:"1065px"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,r=t.auth,i=this.state;i.foodWaste,i.foodSurplus;if(!r.uid)return Object(j.jsx)(l.a,{to:"/login"});if(a){var s=a&&a.filter((function(e){return e.email===r.email}));return Object(j.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(j.jsx)(Ra.MobileView,{children:Object(j.jsx)("h6",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Update Food Surplus"})}),Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsx)("h4",{style:{paddingTop:"8vh",color:"black",justifyContent:"center",display:"flex"},children:"Upload Food"})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%"},children:Object(j.jsx)(p.a,{style:{width:this.state.formWidth,borderColor:"#aab41e"},className:"custom-btn-2",as:d.b,to:"/account",children:"Back"})}),0===s.length?Object(j.jsxs)(de.a,{className:"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found",children:[Object(j.jsx)(le.a,{className:"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"",xs:12,lg:4}),Object(j.jsx)(le.a,{className:" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0",xs:12,lg:4,children:Object(j.jsx)(zr,{children:Object(j.jsx)(ue.a,{children:Object(j.jsx)(ue.a.Body,{children:Object(j.jsxs)(ue.a.Text,{className:"text-center",children:[Object(j.jsx)("h1",{style:{fontSize:"33px",fontWeight:"600",color:"rgb(55, 85, 54)"},children:"Start tracking your food waste and food surplus now"}),Object(j.jsx)("button",{onClick:this.pressButton,style:{outline:"none",border:"none"},children:"Start now"})]})})})})}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12,lg:4}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12}),Object(j.jsx)(le.a,{className:"mt-5 pt-5",xs:12})]}):Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",height:"190%"},children:Object(j.jsx)(ue.a,{style:{width:this.state.formWidth,height:"805px",marginBottom:"10vh"},children:Object(j.jsxs)(m.a,{className:"form-layout",style:{padding:"10px"},children:[Object(j.jsx)("h5",{className:"text-center",style:{margin:"30px",fontSize:"23px",fontWeight:"600"},children:"Upload Food"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Food Name"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(Qa.a,{id:"foodName",options:qr.map((function(e){return e.title})),freeSolo:!0,style:{width:"100%"},size:"small",onChange:function(t){return e.setState({foodName:t.target.textContent})},onInputChange:function(t){return e.handleChange(t)},renderInput:function(e){return Object(j.jsx)(Xa.a,Object(n.a)(Object(n.a)({},e),{},{label:"Enter Food Name",variant:"outlined"}))}})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Food Category"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(Kr,{children:Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(Ja.a,{variant:"secondary",style:{width:"190px"},className:"dd",children:this.state.foodCategory}),Object(j.jsxs)(Ka.b,{children:[Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Meat"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Fruits"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Vegetables"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Dairy"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Pets"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Frozen"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleFoodCategoryChange(t.target.textContent)},children:"Drinks"})})]})]})})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Weight / Volume"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"foodSurplusWeight",placeholder:"Enter weight of food waste",onChange:function(t){e.handleFoodWasteGHGChange(t),e.handleFoodCostChange(t)},width:"100%",value:this.state.foodSurplusWeight}),Object(j.jsxs)(ge.a,{as:pa.a.Append,variant:"outline-secondary",title:this.state.weightType,id:"wtdd",children:[Object(j.jsx)(fe.a.Header,{children:"Weight (Solids)"}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"kg"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"g"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.028)},children:"oz"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.454)},children:"lbs"})}),Object(j.jsx)(fe.a.Divider,{}),Object(j.jsx)(fe.a.Header,{children:"Volume (Liquids)"}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(1)},children:"l"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.handleWeightUnitChange(t.target.textContent),e.changeWeightMultiplier(.001)},children:"ml"})})]})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Upload Type"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(Kr,{children:Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(Ja.a,{variant:"secondary",style:{width:"190px"},className:"dd",children:this.state.producedLocally}),Object(j.jsxs)(Ka.b,{children:[Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Local Produce"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){return e.handleProducedLocallyChange(t.target.textContent)},children:"Surplus"})})]})]})})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Expiry Date"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(pa.a,{children:Object(j.jsx)(m.a.Control,{id:"expiryDate",placeholder:"DD/MM/YYYY",onChange:function(t){return e.handleChange(t)},width:"100%",value:this.state.expiryDate})})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"GHG"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsxs)(pa.a,{children:[Object(j.jsx)(m.a.Control,{type:"number",id:"GHG",placeholder:"Enter GHG value",value:(this.state.ghg*this.state.weightMultiplier).toFixed(2),width:"100%"}),Object(j.jsx)(pa.a.Append,{children:Object(j.jsx)(pa.a.Text,{children:"kg co2"})})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Cost"}),Object(j.jsx)(m.a.Group,{style:{padding:"0 10% 0 10%",display:"flex"},children:Object(j.jsxs)(pa.a,{children:[Object(j.jsxs)(ge.a,{as:pa.a.Prepend,variant:"outline-secondary",title:this.state.currency,id:"input-group-dropdown-1",children:[Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.changeCurrency(t.target.textContent),e.changeCurrencyMultiplier(1)},children:"GBP (\xa3)"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.changeCurrency(t.target.textContent),e.changeCurrencyMultiplier(1.404)},children:"USD ($)"})}),Object(j.jsx)(Za.a,{as:"button",type:"button",children:Object(j.jsx)("div",{onClick:function(t){e.changeCurrency(t.target.textContent),e.changeCurrencyMultiplier(1.161)},children:"EUR (\u20ac)"})})]}),Object(j.jsx)(m.a.Control,{type:"number",id:"foodSurplusCost",placeholder:"Enter cost of food surplus",value:(this.state.foodSurplusCost*this.state.currencyMultiplier*this.state.weightMultiplier).toFixed(2)})]})}),Object(j.jsx)("div",{style:{padding:"0 10% 0 10%"},children:"Notes (Optional)"}),Object(j.jsx)(m.a.Group,{className:"form-layout",style:{padding:"0 10% 0 10%",display:"flex",justifyContent:"space-around"},children:Object(j.jsx)(m.a.Control,{as:"textarea",rows:3,id:"notes",style:{resize:"none",width:"100%"},onChange:function(t){return e.handleChange(t)},value:this.state.notes})}),Object(j.jsx)("div",{children:""!==this.state.foodName&&0!==this.state.foodSurplusWeight&&"Select Unit"!==this.state.weightType&&"Select Surplus or Local..."!==this.state.producedLocally&&""!==this.state.expiryDate&&"Select Currency"!==this.state.currency?Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",backgroundColor:"#aab41e",width:"80%",marginTop:"5px"},onClick:function(t){e.handleFoodSurplusSubmit(t),e.notificationTest(),e.clearEFWForm()},variant:"secondary",type:"button",children:"Update"}):Object(j.jsx)(p.a,{style:{margin:"0 10% 0 10%",width:"80%",marginTop:"5px"},variant:"secondary",disabled:!0,children:"Update"})})]})]})})})]})}return Object(j.jsx)("div",{})}}]),a}(r.Component)),qr=[{title:"Cereal"},{title:"Bacon"},{title:"Baked Beans"},{title:"Porridge"},{title:"Pancake"},{title:"Beef"},{title:"Chicken"},{title:"Pork"},{title:"Apple"},{title:"Banana"},{title:"Orange"},{title:"Pear"},{title:"Grapes"},{title:"Chocolate"},{title:"Crisps"},{title:"Pasta"},{title:"Bolognese"},{title:"Potato"},{title:"Chips"},{title:"Milk"},{title:"Fruit Juice"},{title:"Onion"}],zr=ce.a.div(Pr||(Pr=Object(re.a)(["\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 70px 0 50px 0;\n  }\n\n  .card-body {\n    height: 200px;\n  }\n"]))),Kr=(ce.a.div(Wr||(Wr=Object(re.a)(["\n  .form {\n    display: flex;\n    align-items: center;\n    top: 50%;\n    transform: translateY(20%);\n  }\n"]))),ce.a.div(Mr||(Mr=Object(re.a)(["\n  .chart {\n    position: absolute;\n    left: 17%;\n    padding: 20px;\n  }\n"]))),ce.a.div(Ar||(Ar=Object(re.a)(["\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n"])))),Jr=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,data:e.firestore.ordered.data,user:e.firebase.profile,profile:e.firebase.profile}}),(function(e){return{startData:function(t){return e(Me(t))},createFoodSurplusData:function(t){return e((a=t,function(e,t,n){var r=n.getFirebase,i=(t().firebase.profile,t().firebase.auth),s=a.submissionType,o=a.foodName,c=a.foodCategory,l=a.producedLocally,d=a.expiryDate,u=a.ghg*a.weightMultiplier,b=(a.foodSurplusCost*a.weightMultiplier*a.currencyMultiplier).toFixed(2),j=a.currency,h=a.weightType,m=a.notes,p=a.chartSubmissionDay,g=a.chartSubmissionWeek,f=a.chartSubmissionMonth,O=a.chartSubmissionDate,x=a.chartSubmissionYear,y=a.chartSubmissionFullDate,v=a.price,w=a.postcode,C=a.carbsContent,S=a.proteinContent,k=a.fibreContent,N=a.fatContent,T=(new Date).getHours(),E="";E=T>=0&&T<6?"T1":T>=6&&T<12?"T2":T>=12&&T<18?"T3":"T4",r().firestore().collection("data").doc(i.uid).collection("writtenFoodSurplusData").add({date:r().firestore.Timestamp.fromDate(new Date),weight:Number(a.foodSurplusWeight),type:E,SUBMISSIONTYPE:s,FOODNAME:o,FOODCATEGORY:c,LOCALORNOT:l,EXPIRYDATE:d,GHG:u,COST:Number(b),CURRENCY:j,WEIGHTUNIT:h,NOTES:m,WDAY:p,WEEK:g,MONTH:f,MDATE:O,YEAR:x,FULLDATE:y,PRICE:v,POSTCODE:w,CARBSCONTENT:C,PROTEINCONTENT:S,FIBRECONTENT:k,FATCONTENT:N}).then((function(){e({type:"CREATE_DATA"})})).catch((function(t){e({type:"CREATE_DATA_ERROR",err:t})}))}));var a}}})),Object(gt.firestoreConnect)((function(e){return e.auth.uid?[{collection:"data",doc:e.auth.uid}]:[]})))(Yr),Zr="#afba15",Qr="#d9a12d",Xr="#32797e",$r=a(511),ei=a.n($r);function ti(e){return Object(j.jsxs)(b.a,{fluid:!0,className:"profile",children:[Object(j.jsx)(ft,{priority:"4",text:e.profile.firstName+" "+e.profile.lastName}),Object(j.jsx)(ft,{priority:"5",text:e.profile.email}),Object(j.jsxs)("p",{children:[e.profile.buildingFunction," Account"]}),Object(j.jsx)(Zn.a,{title:"Settings",children:Object(j.jsx)(tt.a,{href:"/settings",component:"a",style:{float:"right"},children:Object(j.jsx)(ei.a,{})})})]})}var ai=a(374),ni=a(905),ri=a(899),ii=a(898),si=a(224),oi=a.n(si),ci=a(132),li=a(908),di=a(922),ui=a(923),bi=a(817),ji=a(365),hi=a.n(ji);function mi(e){var t=e.isConsumer;return Object(j.jsxs)(j.Fragment,{children:[t?Object(j.jsx)($,{icon:"notes",label:"My Food Diary",color:"turquoise",goTo:"/meal-plan"}):Object(j.jsx)($,{icon:"notes",label:"My Food Diary",color:"turquoise",goTo:"/cons-auth"}),Object(j.jsx)($,{icon:"food",label:"Plan to Save",color:"yellow",goTo:"/pts"})]})}function pi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"plant",label:"Nutrient Gap",color:"yellow",goTo:"/",disabled:"true"}),Object(j.jsx)($,{icon:"food",label:"Plan to Save",color:"turquoise",goTo:"/pts"}),Object(j.jsxs)(li.a,{style:{width:"80%",justifyContent:"center",alignItems:"center",display:"block",margin:"auto",backgroundColor:Zr},children:[Object(j.jsx)(di.a,{expandIcon:Object(j.jsx)(hi.a,{}),id:"panel1a-header",children:Object(j.jsx)(bi.a,{children:"Disclaimer"})}),Object(j.jsx)(ui.a,{children:Object(j.jsxs)(bi.a,{children:[Object(j.jsx)("b",{children:"DISCLAIMER: "}),"The Global Food Loss & Waste Tracker is designed, in part, to help users develop healthy eating habits. The nutritional information and dietary recommendations provided are merely suggestions which may or may not improve users' eating habits and/or overall health. This app is a self-regulatory tool, not intended to replace professional medical advice. Please always consult a dietician or medical professional for professional medical advice regarding your health."]})})]})]})}function gi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-waste"}),Object(j.jsx)($,{icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)($,{icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)($,{icon:"info",label:"Waste Tips",color:"green",goTo:"/food-reduction"})]})}function fi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"notes",label:"My Farm Plan",color:"turquoise",goTo:"/farm-plan"}),Object(j.jsx)($,{icon:"my-products",label:"Food Sold",color:"turquoise",goTo:"/view-products"}),Object(j.jsx)($,{icon:"my-products",label:"Food Returned",color:"turquoise",goTo:"/view-products",disabled:!0}),Object(j.jsx)($,{icon:"chart",label:"Produce Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function Oi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"waste",label:"Food Loss",color:"turquoise",goTo:"/food-loss"}),Object(j.jsx)($,{icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)($,{icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)($,{icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function xi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)($,{icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)($,{icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function yi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"notes",label:"Meal Plan",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"my-products",label:"Meal Sold",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"my-products",label:"Meal Returned",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"chart",label:"Meal Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function vi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-wasteBusiness"}),Object(j.jsx)($,{icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)($,{icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)($,{icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function wi(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)($,{icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)($,{icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function Ci(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"notes",label:"Meal Plan",color:"turquoise",goTo:"/farm-plan"}),Object(j.jsx)($,{icon:"my-products",label:"Meal Sold",color:"turquoise",goTo:"/view-products"}),Object(j.jsx)($,{icon:"my-products",label:"Meal Returned",color:"turquoise",goTo:"/view-products",disabled:!0}),Object(j.jsx)($,{icon:"chart",label:"Meal Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Turnover",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Profit",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function Si(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"notes",label:"Research Plan",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"my-products",label:"Food Items Used",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"my-products",label:"Food Items Not Used",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"chart",label:"Chart",color:"yellow",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"notes",label:"Research Cost",color:"turquoise",goTo:"/",disabled:!0}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function ki(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"waste",label:"Food Waste",color:"turquoise",goTo:"/food-wasteAcademic"}),Object(j.jsx)($,{icon:"chart",label:"Waste Chart",color:"yellow",goTo:"/chart"}),Object(j.jsx)($,{icon:"info",label:"Food Waste Reduction Tips",color:"green",goTo:"/food-reduction"}),Object(j.jsx)($,{icon:"world",label:"Users Map",color:"yellow",goTo:"/view-map"}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}function Ni(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{icon:"plant",label:"Agrifood Technpreneur",color:"turquoise",goTo:"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/"}),Object(j.jsx)($,{icon:"book",label:"Masterclasses",color:"turquoise",goTo:"https://intellidigest.com/masterclasses-overview/"}),Object(j.jsx)($,{icon:"info",label:"FISI",color:"green",goTo:"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/"}),Object(j.jsx)($,{icon:"kitchen",label:"Plan to Save",color:"turquoise",goTo:"/pts"})]})}var Ti=function(e){switch(e.type){case"farm_admin":case"farm_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ni.a,{TabIndicatorProps:{style:{backgroundColor:Zr}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(ii.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"Environment",value:"1"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"FSSP",value:"2"})]}),Object(j.jsxs)(oi.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(ri.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(fi,{})}),Object(j.jsx)(ri.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(Oi,{})}),Object(j.jsx)(ri.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(xi,{})})]})]});case"business_admin":case"business_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ni.a,{TabIndicatorProps:{style:{backgroundColor:Zr}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(ii.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"Environment",value:"1"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"FSSP",value:"2"})]}),Object(j.jsxs)(oi.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(ri.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(yi,{})}),Object(j.jsx)(ri.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(vi,{})}),Object(j.jsx)(ri.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(wi,{})})]})]});case"academic_admin":case"academic_sub":return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ni.a,{TabIndicatorProps:{style:{backgroundColor:Zr}},variant:"standard",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(ii.a,{disableRipple:!0,label:"Food Business",value:"0"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"Research",value:"1"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"Environment",value:"2"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"FSSP",value:"3"})]}),Object(j.jsxs)(oi.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(ri.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(Ci,{})}),Object(j.jsx)(ri.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(Si,{})}),Object(j.jsx)(ri.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(ki,{})}),Object(j.jsx)(ri.a,{value:e.value,index:3,dir:e.theme.direction,children:Object(j.jsx)(Ni,{})})]})]});case"household_admin":case"household_sub":default:return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ni.a,{TabIndicatorProps:{style:{backgroundColor:Zr}},variant:"fullWidth",onChange:e.handleChange,centered:!0,children:[Object(j.jsx)(ii.a,{disableRipple:!0,label:"Food",value:"0"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"Health",value:"1"}),Object(j.jsx)(ii.a,{disableRipple:!0,label:"Environment",value:"2"})]}),Object(j.jsxs)(oi.a,{axis:"rtl"===e.theme.direction?"x-reverse":"x",index:parseInt(e.value),onChangeIndex:e.handleChangeIndex,children:[Object(j.jsx)(ri.a,{value:e.value,index:0,dir:e.theme.direction,children:Object(j.jsx)(mi,{isConsumer:e.isConsumer})}),Object(j.jsx)(ri.a,{value:e.value,index:1,dir:e.theme.direction,children:Object(j.jsx)(pi,{})}),Object(j.jsx)(ri.a,{value:e.value,index:2,dir:e.theme.direction,children:Object(j.jsx)(gi,{})})]})]})}},Ei=Object(g.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createSubAccount:function(t){return e(x(t))}}}))((function(e){var t=Object(r.useState)(e.profile.type),a=Object(c.a)(t,2),n=a[0],i=a[1];Object(r.useEffect)((function(){i(e.profile.type)}),[e.profile.type]),Object(r.useEffect)((function(){}),[n]);var s=Object(ci.a)(),o=Object(r.useState)("0"),d=Object(c.a)(o,2),u=d[0],h=d[1];return e.auth.uid?Object(j.jsx)(oe,{children:Object(j.jsxs)(b.a,{className:"web-center",children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("img",{src:te,alt:"IntelliDigest Logo",className:"img-fluid rounded fix-image mb-4"}),Object(j.jsx)(ti,{profile:e.profile,type:n})]}),Object(j.jsx)("div",{className:"tabs",children:Object(j.jsx)(ai.a,{value:u,children:Object(j.jsx)(Ti,{type:n,value:u,theme:s,handleChange:function(e,t){h(t)},handleChangeIndex:function(e){h(String(e))},isConsumer:e.profile.isConsumer})})})]})}):Object(j.jsx)(l.a,{to:"/login"})})),Fi=a(907),Di=a(512),Pi=a(510),Wi=new Date,Mi=new Date(Wi.getFullYear(),0,1),Ai=Math.floor((Wi-Mi)/864e5),Ii=Math.ceil((Wi.getDay()+1+Ai)/7);function Ri(e,t,a){var n=new Date(t,0,1),r=Math.floor((e-n)/864e5);return Math.ceil((a+1+r)/7)}function _i(e){return Object(j.jsx)(Di.a,{chartType:"ColumnChart",data:e.data,height:"500px",loader:Object(j.jsx)("div",{children:"Loading Chart"}),options:e.options})}var Li=function(e){return Object(j.jsx)(_i,{data:e.chartType,options:{title:"".concat(e.title," Food Waste Performance"),legend:{position:"top",maxLines:5},colors:[Xr,Qr,Zr],hAxis:{title:e.title,minValue:0},vAxis:{title:"Food Wastage"}}})};var Bi=Object(he.d)(Object(g.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,data:e.firestore.data.FoodData}}),(function(e){return{getFirestoreData:function(t){return e(Re(t))}}})),Object(gt.firestoreConnect)((function(e){var t,a,n="writtenFoodWasteData";switch(e.profile.type){case"business_admin":a="business_users",t=e.auth.uid;break;case"business_sub":a="business_users",t=e.profile.admin;break;case"academic_admin":a="academic_users",t=e.auth.uid;break;case"academic_sub":a="academic_users",t=e.profile.admin;break;case"farm_admin":a="farm_users",n="writtenFoodLossData",t=e.auth.uid;break;case"farm_sub":a="farm_users",n="writtenFoodLossData",t=e.profile.admin;break;case"household_admin":a="household_users",t=e.auth.uid;break;case"household_sub":a="household_users",t=e.profile.admin;break;default:a="data",t=e.auth.uid}return e.auth.uid?[{collection:a,doc:t,subcollections:[{collection:n}],storeAs:"FoodData"}]:[]})))((function(e){var t=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),a=(t[0],t[1]);return function(){return a((function(e){return e+1}))}}(),a=Object(r.useState)(0),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)(0),d=Object(c.a)(l,2),u=d[0],b=d[1],h=Object(r.useState)(0),m=Object(c.a)(h,2),p=m[0],g=m[1],f=Object(r.useState)(0),O=Object(c.a)(f,2),x=O[0],y=O[1],v=Object(r.useState)(0),w=Object(c.a)(v,2),C=w[0],S=w[1],k=Object(r.useState)(0),N=Object(c.a)(k,2),T=N[0],E=N[1],F=Object(r.useState)(0),D=Object(c.a)(F,2),P=D[0],W=D[1],M=Object(r.useState)(0),A=Object(c.a)(M,2),I=A[0],R=A[1],_=Object(r.useState)(0),L=Object(c.a)(_,2),B=L[0],U=L[1],G=Object(r.useState)(0),V=Object(c.a)(G,2),H=V[0],Y=V[1],q=Object(r.useState)(0),z=Object(c.a)(q,2),K=z[0],J=z[1],Z=Object(r.useState)(0),Q=Object(c.a)(Z,2),X=Q[0],$=Q[1],ee=Object(r.useState)(0),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(0),ie=Object(c.a)(re,2),oe=ie[0],ce=ie[1],le=Object(r.useState)(0),de=Object(c.a)(le,2),ue=de[0],be=de[1],je=Object(r.useState)(0),he=Object(c.a)(je,2),me=he[0],pe=he[1],ge=Object(r.useState)(0),fe=Object(c.a)(ge,2),Oe=fe[0],xe=fe[1],ye=Object(r.useState)(0),ve=Object(c.a)(ye,2),we=ve[0],Ce=ve[1],Se=Object(r.useState)(0),ke=Object(c.a)(Se,2),Ne=ke[0],Te=ke[1],Ee=Object(r.useState)(0),Fe=Object(c.a)(Ee,2),De=Fe[0],Pe=Fe[1],We=Object(r.useState)(0),Me=Object(c.a)(We,2),Ae=Me[0],Ie=Me[1],Re=Object(r.useState)(0),_e=Object(c.a)(Re,2),Le=_e[0],Be=_e[1],Ue=Object(r.useState)(0),Ge=Object(c.a)(Ue,2),Ve=Ge[0],He=Ge[1],Ye=Object(r.useState)(0),qe=Object(c.a)(Ye,2),ze=qe[0],Ke=qe[1],Je=Object(r.useState)(0),Ze=Object(c.a)(Je,2),Qe=Ze[0],Xe=Ze[1],$e=Object(r.useState)(0),et=Object(c.a)($e,2),tt=et[0],at=et[1],nt=Object(r.useState)(0),rt=Object(c.a)(nt,2),it=rt[0],st=rt[1],ot=Object(r.useState)(0),ct=Object(c.a)(ot,2),lt=ct[0],dt=ct[1],ut=Object(r.useState)(0),bt=Object(c.a)(ut,2),jt=bt[0],ht=bt[1],mt=Object(r.useState)(0),pt=Object(c.a)(mt,2),gt=pt[0],ft=pt[1],Ot=Object(r.useState)(0),xt=Object(c.a)(Ot,2),yt=xt[0],vt=xt[1],wt=Object(r.useState)(0),Ct=Object(c.a)(wt,2),St=Ct[0],kt=Ct[1],Nt=Object(r.useState)(0),Tt=Object(c.a)(Nt,2),Et=Tt[0],Ft=Tt[1],Dt=Object(r.useState)(0),Pt=Object(c.a)(Dt,2),Wt=Pt[0],Mt=Pt[1],At=Object(r.useState)(0),It=Object(c.a)(At,2),Rt=It[0],_t=It[1],Lt=Object(r.useState)(0),Bt=Object(c.a)(Lt,2),Ut=Bt[0],Gt=Bt[1],Vt=Object(r.useState)(0),Ht=Object(c.a)(Vt,2),Yt=Ht[0],qt=Ht[1],zt=Object(r.useState)(0),Kt=Object(c.a)(zt,2),Jt=Kt[0],Zt=Kt[1],Qt=Object(r.useState)(0),Xt=Object(c.a)(Qt,2),$t=Xt[0],ea=Xt[1],ta=Object(r.useState)(0),aa=Object(c.a)(ta,2),na=aa[0],ia=aa[1],oa=Object(r.useState)(0),ca=Object(c.a)(oa,2),la=ca[0],da=ca[1],ua=Object(r.useState)(0),ba=Object(c.a)(ua,2),ja=ba[0],ha=ba[1],ma=Object(r.useState)(0),pa=Object(c.a)(ma,2),ga=pa[0],fa=pa[1],Oa=Object(r.useState)(0),xa=Object(c.a)(Oa,2),ya=xa[0],va=xa[1],wa=Object(r.useState)(0),Ca=Object(c.a)(wa,2),Sa=Ca[0],ka=Ca[1],Na=Object(r.useState)(0),Ta=Object(c.a)(Na,2),Ea=Ta[0],Fa=Ta[1],Da=Object(r.useState)(0),Pa=Object(c.a)(Da,2),Wa=Pa[0],Ma=Pa[1],Aa=Object(r.useState)(0),Ia=Object(c.a)(Aa,2),Ra=Ia[0],_a=Ia[1],La=Object(r.useState)(0),Ba=Object(c.a)(La,2),Ua=Ba[0],Ga=Ba[1],Va=Object(r.useState)(0),Ha=Object(c.a)(Va,2),Ya=Ha[0],qa=Ha[1],za=Object(r.useState)(0),Ka=Object(c.a)(za,2),Ja=Ka[0],Za=Ka[1],Qa=Object(r.useState)(0),Xa=Object(c.a)(Qa,2),$a=Xa[0],en=Xa[1],tn=Object(r.useState)(0),an=Object(c.a)(tn,2),nn=an[0],rn=an[1],sn=Object(r.useState)(0),on=Object(c.a)(sn,2),cn=on[0],ln=on[1],dn=Object(r.useState)(0),un=Object(c.a)(dn,2),bn=un[0],jn=un[1],hn=Object(r.useState)(0),mn=Object(c.a)(hn,2),pn=mn[0],gn=mn[1],fn=Object(r.useState)(0),On=Object(c.a)(fn,2),xn=On[0],yn=On[1],vn=Object(r.useState)(0),wn=Object(c.a)(vn,2),Cn=wn[0],Sn=wn[1],kn=Object(r.useState)(0),Nn=Object(c.a)(kn,2),Tn=Nn[0],En=Nn[1],Fn=Object(r.useState)(0),Dn=Object(c.a)(Fn,2),Pn=Dn[0],Wn=Dn[1],Mn=Object(r.useState)(0),An=Object(c.a)(Mn,2),In=An[0],Rn=An[1],_n=Object(r.useState)(0),Ln=Object(c.a)(_n,2),Bn=Ln[0],Un=Ln[1],Gn=Object(r.useState)(0),Vn=Object(c.a)(Gn,2),Hn=Vn[0],qn=Vn[1],zn=Object(r.useState)(0),Kn=Object(c.a)(zn,2),Jn=Kn[0],Zn=Kn[1],Qn=Object(r.useState)(0),Xn=Object(c.a)(Qn,2),$n=Xn[0],er=Xn[1],tr=Object(r.useState)(0),ar=Object(c.a)(tr,2),nr=ar[0],rr=ar[1],ir=Object(r.useState)(0),sr=Object(c.a)(ir,2),or=sr[0],cr=sr[1],lr=Object(r.useState)(0),dr=Object(c.a)(lr,2),ur=dr[0],br=dr[1],jr=Object(r.useState)(0),hr=Object(c.a)(jr,2),mr=hr[0],pr=hr[1];Object(r.useEffect)((function(){o(0),b(0),g(0),y(0),S(0),E(0),W(0),R(0),U(0),Y(0),J(0),$(0),ne(0),ce(0),be(0),pe(0),xe(0),Ce(0),Te(0),Pe(0),Ie(0),Be(0),He(0),Ke(0),Xe(0),at(0),st(0),dt(0),ht(0),ft(0),vt(0),kt(0),Ft(0),Mt(0),_t(0),Gt(0),qt(0),Zt(0),ea(0),ia(0),da(0),ha(0),fa(0),va(0),ka(0),Fa(0),Ma(0),_a(0),Ga(0),qa(0),Za(0),en(0),rn(0),ln(0),jn(0),gn(0),yn(0),Sn(0),En(0),Wn(0),Rn(0),Un(0),qn(0),Zn(0),er(0),rr(0),cr(0),br(0),pr(0),void 0!==e.data&&null!==e.data&&gr()}),[e.data]);var gr=function(){var t=Object(sa.a)(ra.a.mark((function t(){return ra.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object.values(e.data).forEach((function(e){try{var t=new Date(1e3*e.date.seconds),a=t.getFullYear(),n=t.getMonth(),r=t.getDate(),i=t.getDay(),s=Ri(t,a,i)}catch(P){return void console.error(P)}var c,l,d=e.foodWasteWeight,u=e.weightType,j=0,h=e.edibleIndeible,m=e.carbsPerUnit,p=e.carbsContent,f=0,O=e.fatPerUnit,x=e.fatContent,v=0,w=e.proteinPerUnit,C=e.proteinContent,k=0,N=e.foodWasteCost,T=e.currency,F=0,D=0;switch(u){default:case"kg":case"l":j=1;break;case"g":case"ml":j=.001;break;case"oz":j=.028;break;case"lbs":j=.454}switch(m){default:case"100g":case"100ml":f=.01;break;case"500g":case"500ml":f=.002;break;case"1l":case"1kg":f=.001}switch(O){default:case"100g":case"100ml":v=.01;break;case"500g":case"500ml":v=.002;break;case"1l":case"1kg":v=.001}switch(w){default:case"100g":case"100ml":k=.01;break;case"500g":case"500ml":k=.002;break;case"1l":case"1kg":k=.001}switch(T){case"GBP (\xa3)":F=1;break;case"USD ($)":F=1.404;break;case"EUR (\u20ac)":F=1.161;break;default:F=1}if(c=Number((d*j).toFixed(3)),D=Number("Edible"===h?320.848*j*d*(.01852*f*p+.01744*k*C+.04608*v*x):d*j*2.5),l=Number(N*F*j),a===Wi.getFullYear())switch(n){case 0:Mt((function(e){return e+c})),Fa((function(e){return e+D})),Sn((function(e){return e+l}));break;case 1:_t((function(e){return e+c})),Ma((function(e){return e+D})),En((function(e){return e+l}));break;case 2:Gt((function(e){return e+c})),_a((function(e){return e+D})),Wn((function(e){return e+l}));break;case 3:qt((function(e){return e+c})),Ga((function(e){return e+D})),Rn((function(e){return e+l}));break;case 4:Zt((function(e){return e+c})),qa((function(e){return e+D})),Un((function(e){return e+l}));break;case 5:ea((function(e){return e+c})),Za((function(e){return e+D})),qn((function(e){return e+l}));break;case 6:ia((function(e){return e+c})),en((function(e){return e+D})),Zn((function(e){return e+l}));break;case 7:da((function(e){return e+c})),rn((function(e){return e+D})),er((function(e){return e+l}));break;case 8:ha((function(e){return e+c})),ln((function(e){return e+D})),rr((function(e){return e+l}));break;case 9:fa((function(e){return e+c})),jn((function(e){return e+D})),cr((function(e){return e+l}));break;case 10:va((function(e){return e+c})),gn((function(e){return e+D})),br((function(e){return e+l}));break;case 11:ka((function(e){return e+c})),yn((function(e){return e+D})),pr((function(e){return e+l}))}if(a===Wi.getFullYear()&&n===Wi.getMonth()&&(r>=0&&r<=7?(Be((function(e){return e+c})),at((function(e){return e+D})),ft((function(e){return e+l}))):r>=8&&r<=14?(He((function(e){return e+c})),st((function(e){return e+D})),vt((function(e){return e+l}))):r>=15&&r<=21?(Ke((function(e){return e+c})),dt((function(e){return e+D})),kt((function(e){return e+l}))):(Xe((function(e){return e+c})),ht((function(e){return e+D})),Ft((function(e){return e+l})))),a===Wi.getFullYear()&&Ii===s)switch(console.log(Ii+"/"+s),i){case 0:W((function(e){return e+c})),ce((function(e){return e+D})),Ie((function(e){return e+l}));break;case 1:o((function(e){return e+c})),R((function(e){return e+D})),be((function(e){return e+l}));break;case 2:b((function(e){return e+c})),U((function(e){return e+D})),pe((function(e){return e+l}));break;case 3:g((function(e){return e+c})),Y((function(e){return e+D})),xe((function(e){return e+l}));break;case 4:y((function(e){return e+c})),J((function(e){return e+D})),Ce((function(e){return e+l}));break;case 5:S((function(e){return e+c})),$((function(e){return e+D})),Te((function(e){return e+l}));break;case 6:E((function(e){return e+c})),ne((function(e){return e+D})),Pe((function(e){return e+l}))}}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),fr=[["Day","Weight (KG)","GHG (KG/CO2)","Cost (\xa3)"],["Mon",s,I,ue],["Tue",u,B,me],["Wed",p,H,Oe],["Thu",x,K,we],["Fri",C,X,Ne],["Sat",T,ae,De],["Sun",P,oe,Ae]],Or=[["Week","Weight (KG)","GHG (KG/CO2)","Cost (\xa3)"],["1st-7th",Le,tt,gt],["8th-14th",Ve,it,yt],["15th-21st",ze,lt,St],["22nd-31st",Qe,jt,Et]],xr=[["Month","Weight (KG)","GHG (KG/CO2)","Cost (\xa3)"],["Jan",Wt,Ea,Cn],["Feb",Rt,Wa,Tn],["Mar",Ut,Ra,Pn],["Apr",Yt,Ua,In],["May",Jt,Ya,Bn],["Jun",$t,Ja,Hn],["Jul",na,$a,Jn],["Aug",la,nn,$n],["Sep",ja,cn,nr],["Oct",ga,bn,or],["Nov",ya,pn,ur],["Dec",Sa,xn,mr]];function yr(e){switch(e){case"Daily":return fr;case"Weekly":return Or;case"Monthly":return xr;default:return fr}}return Object(j.jsx)(se,{header:"Food Waste/Loss Chart",subtitle:"View Food Waste/Loss",goTo:"/account",children:Object(j.jsxs)(Yn.a.Container,{defaultActiveKey:"daily",children:[Object(j.jsx)(Yn.a.Content,{children:Object(j.jsx)(Yn.a.Pane,{eventKey:"daily",title:"Daily",children:Object(j.jsx)(Li,Object(n.a)({title:"Daily",chartType:yr("Daily")},e))})}),Object(j.jsx)(Yn.a.Content,{children:Object(j.jsx)(Yn.a.Pane,{eventKey:"weekly",title:"Weekly",children:Object(j.jsx)(Li,Object(n.a)({title:"Weekly",chartType:yr("Weekly")},e))})}),Object(j.jsx)(Yn.a.Content,{children:Object(j.jsx)(Yn.a.Pane,{eventKey:"monthly",title:"Monthly",children:Object(j.jsx)(Li,Object(n.a)({title:"Monthly",chartType:yr("Monthly")},e))})}),Object(j.jsxs)(Pi.a,{justify:!0,variant:"pills",children:[Object(j.jsx)(Pi.a.Item,{children:Object(j.jsx)(Pi.a.Link,{eventKey:"daily",onClick:t,children:"Daily"})}),Object(j.jsx)(Pi.a.Item,{children:Object(j.jsx)(Pi.a.Link,{eventKey:"weekly",onClick:t,children:"Weekly"})}),Object(j.jsx)(Pi.a.Item,{children:Object(j.jsx)(Pi.a.Link,{eventKey:"monthly",onClick:t,children:"Monthly"})})]})]})})})),Ui=Object(g.b)((function(e){return{auth:e.firebase.auth}}),null)((function(e){var t=Object(r.useState)(e.auth.uid),a=Object(c.a)(t,2),n=(a[0],a[1],Object(r.useState)(!1)),s=Object(c.a)(n,2),o=s[0],u=s[1];Object(r.useEffect)((function(){if(e.auth.uid&&u(!0),!e.auth.uid)return Object(j.jsx)(l.a,{to:"/login"})}),[e.auth.uid]);var b=Object(r.useState)(!1),h=Object(c.a)(b,2),m=h[0],p=h[1],g=Object(r.useState)({title:"",body:"",image:""}),f=Object(c.a)(g,2),O=f[0],x=f[1],v=Object(r.useState)(!1),w=Object(c.a)(v,2);w[0];return function(e){if(null!=cn)return cn.getToken().then((function(t){t?e(!0):(console.log("No registration token available. Request permission to generate one."),e(!1))})).catch((function(e){console.log("An error occurred while retrieving token. ",e)}));console.log("FCM Not supported")}(w[1]),new Promise((function(e){null!=cn&&cn.onMessage((function(t){e(t)}))})).then((function(e){p(!0),x({image:e.notification.image,title:e.notification.title,body:e.notification.body})})).catch((function(e){return console.log("failed: ",e)})),Object(j.jsxs)(i.a.Fragment,{children:[Object(j.jsx)(Ge.Notifications,{position:"top-right"}),Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(Fi.a,{onClose:function(){return p(!1)},show:m,delay:1e4,autohide:!0,animation:!0,style:{position:"absolute",top:70,right:20,width:300,zIndex:1},children:[Object(j.jsxs)(Fi.a.Header,{children:[Object(j.jsx)("img",{src:O.image,className:"rounded me-2",alt:"",style:{width:20,height:20,margin:10}}),Object(j.jsx)("strong",{className:"mr-auto",children:O.title}),Object(j.jsx)("small",{children:"just now"})]}),Object(j.jsx)(Fi.a.Body,{style:{backgroundColor:"white"},children:O.body})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(Ra.MobileView,{children:Object(j.jsx)(l.b,{exact:!0,path:"/",render:function(){return o?Object(j.jsx)(l.a,{to:"/account"}):Object(j.jsx)(l.a,{to:"/landing"})}})}),Object(j.jsx)(Ra.BrowserView,{children:Object(j.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(j.jsx)(l.a,{to:"/landing"})}})}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/login",exact:!0,component:y}),Object(j.jsx)(l.b,{path:"/landing",exact:!0,component:ne}),Object(j.jsx)(l.b,{path:"/signup",exact:!0,component:Je}),Object(j.jsx)(l.b,{path:"/settings",exact:!0,component:Tt}),Object(j.jsx)(l.b,{path:"/questionnaire",exact:!0,component:Ft}),Object(j.jsx)(l.b,{path:"/contact",exact:!0,component:pe}),Object(j.jsx)(l.b,{path:"/forgot-password",exact:!0,component:Vt}),Object(j.jsx)(l.b,{path:"/account",exact:!0,component:Ei}),Object(j.jsx)(l.b,{path:"/pts",exact:!0,component:Xt}),Object(j.jsx)(l.b,{path:"/change-password",exact:!0,component:aa}),Object(j.jsx)(l.b,{path:"/view-map",exact:!0,component:ma}),Object(j.jsx)(l.b,{path:"/food-waste",exact:!0,component:Oa}),Object(j.jsx)(l.b,{path:"/food-loss",exact:!0,component:va}),Object(j.jsx)(l.b,{path:"/food-wasteBusiness",exact:!0,component:Sa}),Object(j.jsx)(l.b,{path:"/food-intake",exact:!0,component:Ta}),Object(j.jsx)(l.b,{path:"/table",component:Ia}),Object(j.jsx)(l.b,{path:"/chart",exact:!0,component:Bi}),Object(j.jsx)(l.b,{path:"/food-reduction",component:Ma}),Object(j.jsx)(l.b,{path:"/product-listing",component:qa}),Object(j.jsx)(l.b,{path:"/reserve-items",component:hn}),Object(j.jsx)(l.b,{path:"/farm-plan",component:Bn}),Object(j.jsx)(l.b,{path:"/cons-auth",component:Vn}),Object(j.jsx)(l.b,{path:"/meal-plan",component:Nr}),Object(j.jsx)(l.b,{path:"/view-products",component:Ir}),Object(j.jsx)(l.b,{path:"/food-wasteAcademic",component:Lr}),Object(j.jsx)(l.b,{path:"/food-intakeAcademic",component:Hr}),Object(j.jsx)(l.b,{path:"/food-surplusAcademic",component:Jr}),Object(j.jsx)(l.b,{component:Mt})]})]})]})]})})),Gi=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,926)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))},Vi=a(184),Hi={authError:null},Yi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"CREATE_SUBACCOUNT":return console.log("subaccount success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CREATE_SUBACCOUNT_ERROR":return Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"DELETE_SUBACCOUNT":return console.log("delete subaccount success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"DELETE_SUBACCOUNT_ERROR":return Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"CHANGE_ERROR":return console.log("change password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing password failed"});case"CHANGE_SUCCESS":return console.log("change password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CHANGE_EMAIL_ERROR":return console.log("change email error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing email failed"});case"CHANGE_EMAIL_SUCCESS":return console.log("change email success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CHANGE_PROFILE_ERROR":return console.log("change email error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing profile failed"});case"CHANGE_PROFILE_SUCCESS":return console.log("change profile success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"RESET_ERROR":return console.log("reset password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Resetting password failed"});case"RESET_SUCCESS":return console.log("reset password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SELLER_ERROR":return console.log("become seller error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Please accept the terms and conditions"});case"SELLER_SUCCESS":return console.log("Successfully became a seller."),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"CONSUMER_ERROR":return console.log("become consumer error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Please accept the terms and conditions"});case"CONSUMER_SUCCESS":return console.log("Successfully became a consumer."),Object(n.a)(Object(n.a)({},e),{},{authError:null});default:return e}},qi={},zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi;return e},Ki={authError:null,getData:[]},Ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_DATA_ERROR":return console.log("create data error "+t.err.message),Object(n.a)(Object(n.a)({},e),{},{authError:"Create failed"});case"CREATE_DATA":return console.log("create data success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"GET_DATA_ERROR":return console.log("get data error "+t.err.message),Object(n.a)(Object(n.a)({},e),{},{authError:"Get failed"});case"GET_DATA":return console.log("get data success"),Object(n.a)(Object(n.a)({},e),{},{getData:t.payload,authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(n.a)(Object(n.a)({},e),{},{authError:t.err.message});case"CHANGE_ERROR":return console.log("change password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Changing password failed"});case"CHANGE_SUCCESS":return console.log("change password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});case"RESET_ERROR":return console.log("reset password error"),Object(n.a)(Object(n.a)({},e),{},{authError:"Resetting password failed"});case"RESET_SUCCESS":return console.log("reset password success"),Object(n.a)(Object(n.a)({},e),{},{authError:null});default:return e}},Zi=Object(he.c)({auth:Yi,map:zi,data:Ji,firebase:gt.firebaseReducer,firestore:Vi.firestoreReducer}),Qi=a(514),Xi=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.d,$i=Object(he.e)(Zi,{},Xi(Object(he.a)(Qi.a.withExtraArgument({getFirebase:gt.getFirebase,getFirestore:Vi.getFirestore})))),es={firebase:f.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:$i.dispatch,createFirestoreInstance:Vi.createFirestoreInstance,RealtimeDB:ln},ts=function(e){var t=e.children,a=Object(g.c)((function(e){return e.firebase.auth}));return Object(gt.isLoaded)(a)?t:Object(j.jsx)("div",{})};o.a.render(Object(j.jsx)(g.a,{store:$i,children:Object(j.jsx)(gt.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},es),{},{children:Object(j.jsx)(ts,{children:Object(j.jsx)(Ui,{})})}))}),document.getElementById("root")),Gi()}},[[808,1,2]]]);
//# sourceMappingURL=main.dd48cbc8.chunk.js.map