{"version":3,"sources":["components/Pages/Account/Farm/Marketplace/Crop Images sync /^/.//.*/-01/.png$","components/Pages/Account/Farm/Marketplace/Crop Images/Grains-01.png","components/Pages/Account/Farm/Marketplace/Crop Images/Oil-01.png","components/Pages/Account/Farm/Marketplace/Crop Images/Other-01.png","components/Pages/Account/Farm/Marketplace/Crop Images/Root vegetables-01.png","components/Pages/Account/Farm/Marketplace/Crop Images/Soft fruits-01.png","components/Pages/Account/Farm/Marketplace/Crop Images/Vegetables-01.png","images/WFTLogo.png","components/Pages/Auth/MobComponents.js","store/actions/authActions.js","components/Pages/Auth/LogIn.js","components/SubComponents/Button.js","images/peppers.jpg","components/Pages/Auth/Landing.js","store/actions/marketplaceActions/mealPlanData.js","components/lib/Notifications.js","store/actions/marketplaceActions/inventoryData.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/ConfirmItemIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/ViewPurchaseInfo.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/ViewPurchase.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/NotificationIcon.jsx","components/SubComponents/PageWrap.js","images/Food.jpg","images/Health.jpg","images/Environment.jpg","components/Pages/AboutUs.js","components/Pages/Contact.js","components/Pages/Account/Consultant/Homepage/Homepage.js","components/Pages/Account/Consultant/Question/Question2.js","store/actions/consultingActions/consultingActions.js","components/Pages/Account/Consultant/Question/OnboardMessage.js","components/Pages/Account/Consultant/Login/ConsultantLogin.js","store/actions/consultingActions/consultantAuthActions.js","config/fbConfig.js","components/Pages/Account/Consultant/Login/ImageProfile.js","components/Pages/Account/Consultant/Login/ConsultantSetting.js","components/Pages/Account/Consultant/Login/ConsultantAccount.js","components/SubComponents/Dropdown.js","store/actions/dataActions.js","components/lib/Countries.js","components/Pages/Auth/SignUp.js","components/SubComponents/PopUp.js","components/SubComponents/Heading.js","images/WheatIcon.png","components/SubComponents/Loading/LoadingScreen.js","components/Pages/Auth/PostcodeValidatorFormGroup.js","components/Pages/Auth/Settings.js","components/Pages/Auth/Questionnaire.js","components/Pages/NotFound.js","components/Pages/ForgotPassword.js","images/fr_positive-planet.jpg","images/pts_plate_notebook.png","images/pts-banner.png","images/stfcfoodnetwork.png","components/Pages/Account/PlanToSave/PlanToSave.js","components/Pages/Account/ChangePassword.js","components/Pages/Account/Map.js","icons/ArrowIcon.js","components/SubComponents/Paginator.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/SendItemIcon.jsx","store/actions/marketplaceActions/savedMealData.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditPurchaseForm.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditPurchase.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditPurchaseIcon.jsx","components/Pages/Admin.js","components/Pages/Account/Personal/FoodWaste.js","components/Pages/Account/Personal/FoodWasteEdible.js","components/Pages/Account/Personal/GiftFood.js","components/Pages/Account/Farm/FoodLoss.js","components/Pages/Account/Business/FoodWaste.js","components/Pages/Account/Personal/FoodIntake.js","images/tip1.jpg","images/tip2.jpg","images/tip3.jpg","images/tip4.jpg","images/tip5.jpg","components/Pages/FoodReduction.js","components/Pages/InfoTable.js","components/Pages/Account/products/NewItem/ItemForm.js","components/Pages/Account/products/NewItem/NewItem.js","components/Pages/Account/products/Expenses/ExpDate.js","components/Pages/Account/products/UI/Card.js","components/Pages/Account/products/Expenses/Items.js","components/Pages/Account/products/Expenses/Label.js","components/Pages/Account/products/Expenses/Listing.js","components/Pages/Account/products/ProductListing.js","components/Pages/Account/ReserveItems.js","components/Pages/Account/Farm/Marketplace/Weather.jsx","components/Pages/Account/Farm/Marketplace/pests.js","components/Pages/Account/Farm/Marketplace/Nutrients.jsx","components/Pages/Account/Farm/Marketplace/FarmPlanRow.jsx","components/Pages/Account/Farm/Marketplace/Horticulture/Horticulture.js","components/Pages/Account/Farm/Marketplace/FarmPlan.js","store/actions/marketplaceActions/farmPlanData.js","components/Pages/Account/Farm/Marketplace/Auth/Stage0.jsx","components/Pages/Account/Farm/Marketplace/Auth/Stage1.jsx","components/Pages/Account/Farm/Marketplace/Auth/Stage2.js","components/Pages/Account/Farm/Marketplace/Auth/Stage3.jsx","components/Pages/Account/Farm/Marketplace/Auth/Stage4.jsx","components/SubComponents/TickList.js","components/Pages/Account/Farm/Marketplace/Auth/Stage5.jsx","components/Pages/Account/Farm/Marketplace/Auth/Stage51.jsx","components/Pages/Account/Farm/Marketplace/Auth/Stage52.jsx","components/SubComponents/TermsAndConditions.js","components/Pages/Account/Farm/Marketplace/Auth/Stage6.jsx","components/Pages/Account/Farm/Marketplace/Auth/control.jsx","components/Pages/Account/Farm/Marketplace/Auth/Farmer-Auth.js","components/Pages/Account/Personal/Marketplace/ConsumerLocation.js","components/Pages/Account/Personal/Marketplace/ConsumerAuth.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EatingOut.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/mealType.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/InputRecipe/FoodItemAPI.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/InputRecipe/FoodItemSearch.jsx","store/actions/marketplaceActions/shoppingListData.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/InputRecipe/NutritionApi.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealForm.js","components/SubComponents/QRCode/Html5QrcodeScanner.jsx","components/SubComponents/QRCode/ErrorBoundary.js","components/SubComponents/QRCode/ResultContainerPlugin.jsx","components/SubComponents/QRCode/Scanner.js","components/SubComponents/QRCode/ScannerPrepared.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EatNowLater.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EatNowRecipe.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/PreparedOrRaw.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealModal.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/BuildCalendar/Build.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/BuildCalendar/dayStyles.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/BuildCalendar/header.js","store/actions/marketplaceActions/mealPlannerData.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/DeleteIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditMealForm.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditMeal.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddToCalendar.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AteMealIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AteMealIconPlan.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/MealsBox.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/meals.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Calendar.js","components/SubComponents/QRCode/ScannerInventory.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealFormShop.js","components/SubComponents/QRCode/ScannerShop.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealModalShop.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/BuildShoppingList/header.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/BoughtItemIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddToCartIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditShopForm.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditShop.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditIconShop.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditShopFormAddedItem.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditShopAddedItems.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditIconShopAddedItems.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/BuildShoppingList/ShopItems.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/CalendarShop.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/search.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/SaveMealPlanIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/RecipeList.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/mealType.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/cuisineType.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/Requirements.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/Next.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Search/RecipeSearch.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Breakfast.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Lunch.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/Forms/Dinner.js","components/SubComponents/QRCode/ScannerPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/SaveMealPlanIconPlan.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/MealsBoxSaved.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/SavedMealsPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddPlanModal.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/DeletePlanIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditMealFormPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditMealPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditIconPlan.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/MealsBoxPlan.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/plans.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/CalendarPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/CalendarPlanner/CalendarPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/CalendarPlanner/FullCalendar.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/CalendarPlanner/Details.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Plan/CalendarPlanner/CalendarPlanner.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealFormRecipe.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealModalRecipe.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/SavedMeals.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/search.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/SaveMealIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/RecipeList.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/cuisineType.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/Requirements.jsx","images/Edamam_Badge_White.svg","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/InfoModal.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/Next.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/RecipeSearch.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/BuildShoppingList/ShoppingList.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddToInventoryForm.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddToInventoryModal.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/RemoveFromInventoryIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/RefreshIcon.jsx","components/Pages/Account/Personal/FoodWasteE.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/RemoveFoodWasteIcon.jsx","components/Pages/Account/Personal/GiftFoodE.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/GiftFoodIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/PurchaseIcon.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditInventoryForm.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditInventory.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/EditIconInventory.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/InventoryItems.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Inventory.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/MealPlan.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/NutrientsBoxHeader.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/NutrientsBox.js","components/Pages/Account/Personal/NutrientGap.js","images/peppers-square.jpg","components/SubComponents/Card.js","components/Pages/Account/Farm/ViewProducts.js","components/Pages/Account/Academic/FoodWaste.js","components/Pages/Account/Academic/FoodIntakeAcademic.js","components/Pages/Account/Academic/FoodSurplusAcademic.js","components/Pages/Account/Business/Restaurant/AddListItem.js","components/Pages/Account/Business/Restaurant/RestaurantShoppingListPlanner.js","components/Pages/Account/Business/Restaurant/RestaurantInventory.js","components/Pages/Account/Business/Restaurant/AddToRSLForm.js","store/actions/marketplaceActions/restaurantShoppingListData.js","components/Pages/Account/Business/Restaurant/AddToRSLModal.jsx","components/Pages/Account/Business/Restaurant/RestaurantShoppingListItems.js","components/Pages/Account/Business/Restaurant/RestaurantShoppingList.js","components/Pages/Account/Business/Restaurant/RestaurantDashboard.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/Search/menuSection.jsx","components/Pages/Account/Personal/Marketplace/MealPlanComp/Icons/AddMealForm_restaurant.js","components/Pages/Account/Personal/Marketplace/MealPlanComp/MenuItem.jsx","components/Pages/Account/Business/Restaurant/MenuPreview.js","components/Pages/Account/Business/Restaurant/RestaurantMealPlan.js","components/SubComponents/Profile.js","components/lib/Colors.js","components/Pages/Account/Personal/PersonalTabs.js","components/Pages/Account/Farm/FarmTabs.js","components/Pages/Account/Business/BusinessTabs.js","components/Pages/Account/Academic/AcademicTabs.js","components/Pages/Account/Business/Restaurant/RestaurantTabs.js","components/Pages/Account/PlanToSave/MealGenerator/utils/generate/index.js","components/Pages/Account/PlanToSave/MealGenerator/Form/Checkbox.js","components/Pages/Account/PlanToSave/MealGenerator/Form/Radio.js","components/Pages/Account/PlanToSave/MealGenerator/Form/Select.js","components/Pages/Account/PlanToSave/MealGenerator/utils/data/data.js","components/Pages/Account/PlanToSave/MealGenerator/utils/data/index.js","components/Pages/Account/PlanToSave/MealGenerator/utils/mealPlan/index.js","components/Pages/Account/PlanToSave/MealGenerator/Survey.js","components/Pages/Account/PlanToSave/PTSForm.js","images/Blueberries.jpg","images/pts_field_standing-dark.jpg","components/Pages/Account/PlanToSave/PTSModal.js","components/Pages/Account/Account.js","components/Pages/Account/Charts/Chart.js","components/Pages/Account/Charts/GiftFoodChart.js","App.js","reportWebVitals.js","store/reducers/authReducer.js","store/reducers/mapReducer.js","store/reducers/dataReducer.js","store/reducers/mealPlanReducer.js","store/reducers/mealPlannerReducer.js","store/reducers/rootReducer.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Title","props","Container","className","src","logo","alt","subtitle","children","becomeConsumer","consumer","dispatch","getState","getFirebase","firestore","collection","doc","uid","set","profile","merge","then","upload","type","catch","err","console","log","resetPassword","credentials","auth","sendPasswordResetEmail","email","createSubAccount","data","secondaryApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","subUid","createUserWithEmailAndPassword","password","resp","user","masterCollection","name","firstName","lastName","role","initials","buildingFunction","function","city","country","region","admin","restaurantName","currentUser","sendEmailVerification","signOut","delete","connect","state","authError","signIn","creds","signInWithEmailAndPassword","setEmail","useState","setPassword","isLoggedIn","setIsLoggedIn","useEffect","to","Form","Group","Label","Control","placeholder","required","onChange","target","value","style","color","Button","fontWeight","variant","onClick","preventDefault","handleSubmit","DefaultButton","disabled","styling","text","href","goTo","SubButton","AddButton","title","sx","fontSize","IconButton","IconType","icon","String","startsWith","Tooltip","placement","arrow","label","peppers","createMealPlanData","mealPlan","authUID","month","day","add","docRef","editMealData","submitNotification","message","addNotification","backgroundTop","backgroundBottom","colorTop","colorBottom","closeButton","duration","submitNotificationPlan","addToInventory","getFirestore","item","addToPurchaseItems","RemoveFromInventory","updateQuantity","where","get","results","empty","forEach","ref","quantity","error","getData","editPurchaseStatusFromUser","refID","status","editPurchaseStatusOnUser","payload","showModal","setShow","handleClose","ml","Modal","show","onHide","Header","Body","Footer","async","handleSelect","info","purchaseInfo","getPurchaseInfo","snapshot","orderInfo","push","list","setList","cart","getPurchaseInfoList","length","List","index","ListItem","alignItems","Table","striped","bordered","hover","measure","price","supplier","ViewPurchase","forceUpdate","size","centered","EditPurchaseIcon","PageWrap","width","paddingLeft","header","NotificationIcon","Divider","PageWrapMini","AboutUs","food","health","environment","Row","justifyContent","Col","display","CardStyle","styled","div","compose","setName","onSubmit","emailjs","sendForm","process","REACT_APP_EMAIL_SERVICE","REACT_APP_EMAIL_TEMPLATE","REACT_APP_EMAIL_ID","result","alert","reset","as","rows","controlId","Card","window","open","Text","Homepage","textDecoration","createExample","fullName","completed","setCompleted","setUser","urlLink","experience","expertise","consultantVisit","summary","history","useHistory","form","useRef","height","marginTop","current","FormControl","OnboardMessage","padding","fbConfig","storage","messaging","isSupported","fs","ImageProfile","ConsultantSetting","setSetting","transition","SecondPage","setCurrent","setting","textAlign","backgroundColor","Dropdown","comp","items","Item","eventKey","onSelect","drop","Select","hidden","startData","createFoodWasteData","createGiftFoodData","createMapData","increment","FieldValue","foodWasteWeight","getFirestoreData","countries","regionNames","countryNames","a","Stage1","FormStyle","defaultValue","setFirstName","setLastName","setStage","Stage2","town","setTown","setCountry","setRegion","setBuildingFunction","Stage4","setRestaurantName","regulatoryBody","setRegulatoryBody","regulatoryBodyID","setRegulatoryBodyID","Stage5","cuisine","setCuisine","restaurantDescription","setRestaurantDescription","Stage3","ListItemIcon","ListItemText","signUp","newUser","adminCollection","mapdata","stage","errorNotification","setErrorNotification","validation","no","s1","s2","s3","test","s4","s5","Geocode","setApiKey","setLocationType","fromAddress","response","location","address_components","long_name","coords","geometry","lat","lng","PopUp","onClose","handleButtonClick","Dialog","maxWidth","fullWidth","DialogTitle","position","right","top","theme","palette","grey","LogOutPopUp","setOpen","ListItemButton","handleSignOut","Heading","CustomTag","priority","LoadingScreen","WheatIcon","PostcodeValidatorFormGroup","countryCode","setCountryCode","setErr","cc","find","c","postcodeValidatorExistsForCountry","postcodeValidator","postcode","trim","setValidPostcode","setPostcode","ButtonList","listItems","HandleButtonState","change","key","ProfileList","includes","component","HandleSignOut","Name","Email","Password","Location","signedUpForPTS","validPostcode","SubAccounts","sub","setSub","subPassword","setSubPassword","subAccounts","undefined","subs","values","FormGroup","ListGroup","action","handleClickOpen","Badge","pill","subFirstName","setSubFirstName","subLastName","setSubLastName","subEmail","setSubEmail","subRole","setSubRole","DialogContent","DialogActions","deleteSubAccount","postcodeData","updateEmail","EmailAuthProvider","credential","reauthenticateWithCredential","verifyBeforeUpdateEmail","newEmail","update","updateProfile","users","product","changeConsumerPostcode","getConsumerPostcode","firestoreConnect","subcollections","storeAs","loading","setLoading","setTimeout","subAccountsList","setSubAccountsList","setSignedUpForPTS","isConsumer","setForm","setError","success","setSuccess","changeTo","HandleEmail","isSeller","RestaurantName","RegulatoryBody","RegulatoryBodyID","Cuisine","RestaurantDescription","HandleName","HandlePassword","HandleLocation","HandleChangePostcode","subType","HandleSubAccount","HandleRestaurantName","HandleRegulatoryBody","HandleRegulatoryBodyID","HandleCuisine","HandleRestaurantDescription","createResearchData","sixteenPlus","setSixteenPlus","Boolean","arrangement","setArrangement","ages","setAges","buildingType","setBuildingType","shopAt","setShopAt","shopPerWeek","setShopPerWeek","complete","setComplete","Check","inline","HandleSubmit","NotFound","Fragment","xs","lg","ForgotPassword","Component","handleChange","this","setState","render","PTSCountdown","date","button","setButton","link","setLink","pTSNotebook","pTSBanner","sTFCFoodNetwork","positivePlanet","ChangePassword","updatePassword","mapData","getMapData","locationstate","setLocation","updateMap","locationArray","findIndex","x","obj","oldArray","medium","fillColor","fillOpacity","small","MapMarker","_users","CircleMarker","center","pathOptions","radius","MapContainer","zoom","minZoom","maxZoom","scrollWheelZoom","maxBounds","TileLayer","attribution","url","iconCreateFunction","cluster","getAllChildMarkers","sum","child","_tooltip","options","L","divIcon","html","iconSize","point","polygonOptions","weight","opacity","smoothFactor","showCoverageOnHover","maxClusterRadius","ArrowIcon","xmlns","fill","viewBox","d","Paginator","resultPageForm","useFormik","initialValues","pageNumber","sendToUser","editPurchaseStatus","createRecipe","recipe","editSavedMeal","editPurchaseItem","setCart","cartList","handleFormClose","i","slice","currency","InputGroup","min","step","EditPurchase","purchase","purchaseData","getPurchaseData","setUpdate","purchaseList","Accordion","Toggle","Collapse","ListGroupItem","EdibleInedible","edibleInedible","EnableSubmit","weightType","expiryDate","handleFoodWasteSubmit","ordered","redirectTo","setRedirectTo","defaultUpload","carbsContent","carbsPerUnit","proteinContent","proteinPerUnit","fatContent","fatPerUnit","ghg","foodWasteCost","defaultMultipliers","weightMultiplier","currencyMultiplier","carbsMultiplier","proteinMultiplier","fatMultiplier","setUpload","multipliers","setMultipliers","handleGHGChange","updateStateValue","textContent","changeMultiplier","val","typeString","toString","split","Number","toFixed","fluid","ekey","readOnly","Append","wm","Timestamp","fromDate","Date","projectName","foodName","handleCostGHGChange","notes","notesRef","meal","handleFoodIntakeSubmit","local","eatingIn","isLoading","setIsLoading","setOptions","handleCheckboxTick","foodNameRef","filterBy","labelKey","minLength","onSearch","query","fetch","method","mode","headers","body","json","res","food_id","checked","clear","FoodReduction","tip1","tip2","tip3","tip4","tip5","InfoTable","renderTableData","student","address","renderTableHeader","paddingBottom","paddingTop","ItemForm","enteredTitle","setEnteredTitle","enteredType","setEnteredType","enteredAmount","setEnteredAmount","enteredDate","setEnteredDate","enteredCode","setEnteredCode","event","expenseData","amount","onSaveExpenseData","marginBottom","max","NewItem","enteredExpenseData","Math","random","onAddE","ExpDate","toLocaleString","year","getFullYear","classes","Items","marginLeft","toUpperCase","Listing","Data","ProductListing","setE","addEHandler","prevE","ReserveItems","itemWeight","toDate","frequency","formWidth","dropdownWidth","submissionType","submissionDay","moment","format","submissionWeek","submissionMonth","submissionDate","submissionYear","submissionFullDate","myReservations","clearForm","fetchMyReservationsData","showNotification","deleteReservation","rID","newRes","filter","resID","handleReserveItemSubmit","createReserveItemsData","st","SUBMISSIONTYPE","il","ITEMLIST","fd","FROMDATE","td","TODATE","freq","FREQUENCY","prevState","concat","itemList","handleWeightUnitChange","handleFreqChange","isItemsEmpty","array","handleAddClick","componentDidMount","isMobile","isBrowser","flexWrap","borderColor","Link","margin","Autocomplete","freeSolo","foodOptions","option","onInputChange","renderInput","params","TextField","DropdownButton","DropdownItem","overflowY","borderRadius","ButtonGroup","DDMenuStyle","DropdownToggle","DropdownMenu","marginRight","WDAY","WEEK","MONTH","MDATE","YEAR","FULLDATE","DATE","getHours","t","Weather","zip","headline","setHeadline","openWeatherKey","locationFetchURL","weatherFetchURL","lon","weather","daily","main","class","updatePosition","latitude","longitude","navigator","geolocation","getCurrentPosition","Pests","category","pest","Nutrients","phosphorus","potassium","cropData","require","CropCategories","crop","setCrop","cropIndex","setCropIndex","setAmount","showPests","setShowPests","showNutrients","setShowNutrients","setRowTotal","updateFarmPlan","unit","land","categories","cat","landMass","temp_state","farmPlan","temp_element","percentOfTotal","setFarmPlan","default","htmlFor","pests","cropDB","landUnits","createMarketplaceData","setLand","setUnit","setRows","totalUsed","setTotalUsed","totals","setTotals","comment","setComment","msg","setMsg","sumWithInitial","reduce","previousValue","currentValue","totalLand","FarmPlanRow","Dev","sector","getFarmerData","Stage0","existing","setExisting","association","setAssociation","done","setDone","certificate","setCertificate","progress","setProgress","submitted","setSubmitted","onInput","files","put","on","prog","round","bytesTransferred","totalBytes","getDownloadURL","uploadFiles","validator","setValidator","setFarm","setAddress1","setAddress2","setSector","TickList","flexDirection","checkedState","updatedCheckedState","setCheckedState","practices","practice","setPractice","none","setNone","every","element","Stage51","futurePractice","setFuturePractice","Stage52","setEffective","TermsAndConsModal","contentClassName","TermsAndCons","React","Stage6","becomeSeller","seller","farm","address1","address2","effective","FarmerAuth","Array","ConsumerLocation","addCity","cities","previousSibling","setDay","addDay","days","addTime","times","goto","recommend","restaurant","setRestaurant","MealType","setMealType","control","setControl","handleDropdown","foodItemApi","setResponse","FoodItemSearch","handleFoodSearch","setQuery","lineHeight","getOptionDisabled","addToShoppingList","week","removeFromShop","newRemoveFromShop","foodIdAPI","setFoodId","hints","foodId","mealName","setMealName","mealType","save","setSave","defaultLocal","setLocal","ingredients","setIngredients","ingredientsList","ingredient","ownRecipe","handleLocal","handleIngredient","defaultChecked","qrcodeRegionId","Html5QrcodePlugin","config","fps","qrbox","aspectRatio","disableFlip","createConfig","verbose","qrCodeSuccessCallback","html5QrcodeScanner","Html5QrcodeScanner","qrCodeErrorCallback","ErrorBoundary","constructor","super","hasError","ResultContainerPlugin","app_id","app_key","decodedResults","setDecodedResults","ingredientList","setIngredientList","recipeList","setRecipeList","totalDaily","setTotalDaily","totalNutrients","setTotalNutrients","recipeYield","setRecipeYield","setUrl","decodedText","decodedResult","product_name_en","product_name","newData","hits","Alert","for","handleMealName","yield","ingredientLines","handleRecipe","EatNowLater","eatLater","setEatLater","scan","setScan","expand","setExpand","NowOrLater","EatNowRecipe","eatRecipe","setEatRecipe","NowOrRecipe","PreparedOrRaw","raw","setRaw","YesOrNo","AddMealModal","eatingOut","setEatingOut","InOrOut","buildCalendar","startDay","clone","startOf","endDay","endOf","subtract","calendar","isBefore","beforeToday","dayStyles","isSame","isSelected","isToday","CalendarHeader","setValue","thisMonth","fromCharCode","createMealPlannerData","mealPlanner","getWeeklyPlan","getAllItems","plan","deleteMealData","deleteSavedMeal","saved","handleDelete","EditMeal","Edit","setCalendar","selected","nonNativeData","Add","showCalendar","setShowCalendar","setSelected","inventory","singleMealDiary","getInventory","removeFromInventory","editDiaryData","getSingleMealDiary","eaten","setEaten","getEatenState","getMeal","updateQty","nn","handleEat","handleEatIcon","singleMealPlan","newPlan","editNewPlanData","getSingleMealPlan","getPlanData","MealsBox","meals","weeklyMeals","newMeal","styles","ListSubheader","isMealPlan","mealDiary","plans","weekPlans","getMealDiary","getMealPlannerData","setMeals","setWeeklyMeals","Refresh","weekData","updateMeals","updateWeeklyMeals","Calendar","ingr","itemName","setItemName","setQuantity","setMeasure","startDate","setStartDate","purchasePlace","setPurchasePlace","setExpiryDate","storageMethod","setStorageMethod","expiry","dateFormat","AddMealModalShop","ScannerShop","ShoppingListHeader","hardCopy","cartItem","removeFromCart","editShoppingListData","setFood","setItem","EditShop","editShoppingListDataAddedItems","EditShopAddedItems","EditAddedItems","UpdatedShoppingList","shoppingList","newShoppingList","allItems","newPlans","getShoppingList","getShoppingListUpdate","addToShoppingListUpdate","batch","commit","allList","setAllList","newList","setNewList","setInventory","showModalList","setShowList","setShoppingList","clicked","setClicked","getInventoryList","notify","cartItems","getFilteredProducts","ShoppingList","start","utc","updateShoppingList","acc","handleShow","handleCloseList","Close","check","id1","some","id2","opt","addToList","addToCart","Stack","spacing","direction","PurchaseItem","DialogContentText","firstList","secondList","AllPurchaseItem","autoFocus","CalendarShop","recipeSearch","cuisineType","requirements","setRecipes","setLinks","addPageToArray","_links","nextPage","page","RecipeList","recipes","image","CuisineType","setCuisineType","Requirements","setRequirements","NextBack","links","changePage","back","next","RecipeSearch","search","setSearch","setPage","arrPages","setArrPages","setPageNumber","prevArrPages","Box","flexGrow","Grid","container","md","offset","oldValue","mealList","setMealList","foodList","handleMealList","MealsBoxSaved","savedMeal","savedMeals","getRecipes","sMeals","setSMeals","updateSMeals","AddPlanModal","setDate","showS","setShowS","setSaved","formData","setFormData","Breakfast","Lunch","Dinner","ScannerPlan","deleteMealPlannerData","editMealDataPlan","EditMealPlan","setFilter","filteredMeal","p","EditIconPlan","CalendarPlan","allPlan","generateNewPlan","setAllItems","setNewPlan","breakfast","setBreakfast","lunch","setLunch","mealTitle","setMealTitle","dateRange","setDateRange","setDisabled","setMonth","getMonth","toISOString","dates","end","arr","dt","getDate","getDaysArray","v","myStringArray","newEvent","arrayLength","newObjects","flatMap","qty","updateMealPlanner","combineArray","comb","y","z","combinations","count","allMeals","H","MS","T","getPlan","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","initialView","themeSystem","headerToolbar","events","contentHeight","eventDisplay","nowIndicator","dateClick","dateStr","generatePlan","Details","CalendarPlanner","getItems","setGetItems","showDetails","setShowDetails","setData","FullCalendar","AddMealModalRecipe","InfoModal","EdamamBadge","tab","AddToInventoryModal","updatedQty","addToWasteItems","getItem","editInventoryData","setUpdatedQty","updatedMeasure","setUpdatedMeasure","ExpiryDate","placeOfPurchase","setPlaceOfPurchase","setStorage","EditInventory","today","daysUntil","sort","b","updateInventoryList","send","from_name","to_name","reply_to","to_email","sendMail","Inventory","MealPlan","Tabs","defaultActiveKey","Tab","NutrientsBoxHeader","paddingRight","getMealData","eatenMeal","setEatenMeal","allTotalNutrients","setAllTotalNutrients","allTotalDaily","setAllTotalDaily","oldArr","arrNutrients","nutrient","found","tableNutrient","newNutrient","newDaily","rdiValue","NutrientGap","ProductCard","EXAMPLE","myProducts","setMyProducts","fetchProducts","producedLocally","expires","sortProducts","FoodIntake","filteredData","formHeight","eatingInOrOut","foodWeight","chartSubmissionDay","chartSubmissionWeek","chartSubmissionMonth","chartSubmissionDate","chartSubmissionYear","chartSubmissionFullDate","clearEFWForm","notificationTest","handleEdibleInedibleSurplusChange","edibleInedibleSurplus","handleFoodWasteGHGChange","handleFoodCostChange","handleInedibleFoodCostChange","costOfInedibleFoodWaste","pressButton","createFoodIntakeResearchData","changeMeal","changeCurrency","changeCurrencyMultiplier","changeWeightMultiplier","handleProducedLocallyChange","foodWaste","foodSurplus","datas","outline","border","resize","PROJECTNAME","FOODNAME","WEIGHTUNIT","LOCALORNOT","NOTES","FoodSurplus","foodCategory","foodSurplusWeight","foodSurplusCost","handleFoodCategoryChange","handleFoodSurplusSubmit","createFoodSurplusData","Prepend","FOODCATEGORY","EXPIRYDATE","GHG","COST","CURRENCY","PRICE","POSTCODE","CARBSCONTENT","PROTEINCONTENT","FIBRECONTENT","fibreContent","FATCONTENT","RestaurantShoppingListPlanner","endDate","setEndDate","deliveryDay","setDeliveryDay","setProduct","order","JSON","stringify","RestaurantInventory","addToRestaurantShoppingList","itemQty","setItemQty","itemMeasure","setItemMeasure","AddToRSLModal","restaurantShoppingListItems","getRestaurantShoppingList","updateRestaurantShoppingList","RestaurantShoppingList","RestaurantDashboard","MenuSection","setMenuSection","mealDescription","setMealDescription","mealPrice","setMealPrice","menuSection","MenuItem","sortBy","RestaurantMealPlan","Profile","float","Colors","Food","setChooseModal","Health","Environment","FSSP","Research","generateId","substr","CheckboxGroup","checkboxData","createCheckbox","toggleHandler","isCheckedState","Checkbox","handler","isChecked","RadioGroup","passPropsToChildren","activeIndex","Children","cloneElement","Radio","ele","surveyData","selectOpt","mealCount","planType","dietSpec","healthSpec","mealTypes","calories","API","ID","KEY","URL","getSurveyData","Survey","buildQuery","diet","parseInt","stitch","labelArr","queries","str","ob","setPlan","queryObj","encodeURI","setMealCount","setPlanType","setHealth","setCalories","setDiet","redirect","setRedirect","handleHealth","handleCaloriesSelect","handleCalories","isNaN","handleDiet","getMealPlan","par","num","handleNext","handleBack","validated","setValidated","handleFinish","setContent","content","stopPropagation","PTSModal","blueberries","pTSField","AccountType","TabList","TabIndicatorProps","disableRipple","axis","onChangeIndex","handleChangeIndex","TabPanel","dir","setType","modal","setModal","chooseModal","clearTimeout","useTheme","TabContext","newValue","currentDate","oneJan","numberOfDays","floor","currentWeek","ceil","getDay","MyChart","chartType","loader","ChartBuilder","legend","maxLines","colors","hAxis","minValue","vAxis","FoodData","subColection","useForceUpdate","mon","setMon","tue","setTue","wed","setWed","thur","setThur","fri","setFri","sat","setSat","sun","setSun","monGHG","setMonGHG","tueGHG","setTueGHG","wedGHG","setWedGHG","thurGHG","setThurGHG","friGHG","setFriGHG","satGHG","setSatGHG","sunGHG","setSunGHG","monCost","setMonCost","tueCost","setTueCost","wedCost","setWedCost","thurCost","setThurCost","friCost","setFriCost","satCost","setSatCost","sunCost","setSunCost","first","setFirst","second","setSecond","third","setThird","fourth","setFourth","firstGHG","setFirstGHG","secondGHG","setSecondGHG","thirdGHG","setThirdGHG","fourthGHG","setFourthGHG","firstCost","setFirstCost","secondCost","setSecondCost","thirdCost","setThirdCost","fourthCost","setFourthCost","jan","setJan","feb","setFeb","mar","setMar","apr","setApr","may","setMay","jun","setJun","jul","setJul","aug","setAug","sep","setSep","oct","setOct","nov","setNov","dec","setDec","janGHG","setJanGHG","febGHG","setFebGHG","marGHG","setMarGHG","aprGHG","setAprGHG","mayGHG","setMayGHG","junGHG","setJunGHG","julGHG","setJulGHG","augGHG","setAugGHG","sepGHG","setSepGHG","octGHG","setOctGHG","novGHG","setNovGHG","decGHG","setDecGHG","janCost","setJanCost","febCost","setFebCost","marCost","setMarCost","aprCost","setAprCost","mayCost","setMayCost","junCost","setJunCost","julCost","setJulCost","augCost","setAugCost","sepCost","setSepCost","octCost","setOctCost","novCost","setNovCost","decCost","setDecCost","updateCharts","seconds","dayOfMonth","getWeekNumber","newWeight","newCost","wu","edibleIndeible","cpu","cm","fpu","fc","fm","ppu","pc","pm","cost","curm","newGHG","dailyChart","weeklyChart","monthlyChart","Content","Pane","Nav","justify","setUid","notification","setNotification","isTokenFound","setTokenFound","getToken","currentToken","Promise","onMessage","Toast","delay","autohide","animation","zIndex","exact","path","Login","Admin","LandingPage","SignUp","Settings","Questionnaire","Contact","Question2","ConsultantLogin","ConsultantAccount","NewAccount","PlanToSave","Map","FoodWaste","GiftFood","FoodLoss","FoodWasteBusiness","ChartView","GiftFoodChart","FarmPlan","ConsumerAuth","ViewProducts","FoodWasteAcademic","FoodIntakeAcademic","FoodSurplusAcademic","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","authReducer","mapReducer","dataReducer","shopItems","giftedFood","mealPlanReducer","mealPlannerReducer","rootReducer","combineReducers","firebaseReducer","firestoreReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","withExtraArgument","fbProps","userProfile","useFirestoreForProfile","createFirestoreInstance","RealtimeDB","AuthIsLoaded","useSelector","isLoaded","ReactDOM","document","getElementById"],"mappings":"ox6BAAA,IAAIA,EAAM,CACT,kBAAmB,IACnB,eAAgB,IAChB,iBAAkB,IAClB,2BAA4B,IAC5B,uBAAwB,IACxB,sBAAuB,KAIxB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,G,mCC3BpB,OAAe,cAA0B,qC,mCCAzC,OAAe,cAA0B,kC,mCCAzC,OAAe,cAA0B,oC,mCCAzC,OAAe,cAA0B,8C,mCCAzC,OAAe,cAA0B,0C,mCCAzC,OAAe,cAA0B,yC,6hMCA1B,G,kCAAA,IAA0B,qC,gBCMlC,MAAMY,EAASC,GAElB,eAACC,EAAA,EAAD,CAAWC,UAAU,eAArB,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,OAAOC,IAAKC,EAAMC,IAAI,oBAEvC,qBAAKH,UAAU,SAAf,SAKE,6BAAKF,EAAMM,aAEZN,EAAMO,Y,oCCjBN,MAsIMC,EAAkBC,GACtB,CAACC,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMC,EAAYD,IAAcC,YAEhCA,EACGC,WAAW,SACXC,IAAIN,EAASO,KACbC,IAAI,IAAKR,EAASS,SAAW,CAAEC,OAAO,IACtCC,MAAK,IACGP,EACJC,WAAW,eACXC,IAAIN,EAASO,KACbC,IAAI,IAAKR,EAASY,QAAU,CAAEF,OAAO,MAEzCC,MAAK,KACJV,EAAS,CAAEY,KAAM,oBAAjB,IAEDC,OAAOC,IACNC,QAAQC,IAAI,OACZhB,EAAS,CAAEY,KAAM,iBAAkBE,OAAnC,GAfJ,EAqBSG,EAAiBC,GACrB,CAAClB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC7BA,IAEdiB,OACAC,uBAAuBF,EAAYG,OACnCX,MAAK,KACJV,EAAS,CAAEY,KAAM,iBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,cAAeE,OAAhC,GAPJ,EAgISQ,EAAoBC,GACxB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAsB9C,IAAIsB,EAAeC,IAASC,cATf,CACXC,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,cACnBC,MAAO,4CAGyC,UAElD,IAAIC,EAEJT,EACGL,OACAe,+BAA+BX,EAAKF,MAAOE,EAAKY,UAChDzB,MAAM0B,IACLH,EAASG,EAAKC,KAAK/B,IAEnBJ,IACGC,YACAC,WAAWmB,EAAKe,kBAChBjC,IAAIkB,EAAKjB,KACTF,WAAW,gBACXC,IAAI4B,GACJ1B,IAAI,CACHc,MAAOE,EAAKF,MACZkB,KAAMhB,EAAKiB,UAAY,IAAMjB,EAAKkB,SAClCC,KAAMnB,EAAKmB,MATf,IAYDhC,MAAK,KAEJR,IACGC,YACAC,WAAW,SACXC,IAAI4B,GACJ1B,IAAI,CACHiC,UAAWjB,EAAKiB,UAChBC,SAAUlB,EAAKkB,SACfE,SAAUpB,EAAKiB,UAAU,GAAKjB,EAAKkB,SAAS,GAC5CpB,MAAOE,EAAKF,MACZuB,iBAAkBrB,EAAKsB,SACvBC,KAAMvB,EAAKuB,KACXC,QAASxB,EAAKwB,QACdC,OAAQzB,EAAKyB,OACbC,MAAO1B,EAAKjB,IACZM,KAAMW,EAAKX,KACXsC,eAAgB3B,EAAK2B,gBAfzB,IAkBDxC,MAAK,KACJc,EAAaL,OAAOgC,YAAYC,uBAAhC,IAED1C,MAAK,KACJc,EAAaL,OAAOkC,SAApB,IAED3C,MAAK,KACJc,EAAa8B,QAAb,IAED5C,MAAK,KACJV,EAAS,CAAEY,KAAM,qBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAnDJ,EC5NWyC,mBAZUC,IAChB,CACLC,UAAWD,EAAMrC,KAAKsC,UACtBtC,KAAMqC,EAAM/B,SAASN,SAGGnB,IACnB,CACL0D,OAASC,IAAU3D,UD7FAkB,EC6FgByC,ED5F9B,CAAC3D,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC7BA,IAEdiB,OACAyC,2BAA2B1C,EAAYG,MAAOH,EAAYiB,UAC1DzB,MAAK,KACJV,EAAS,CAAEY,KAAM,iBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,cAAeE,OAAhC,GAPJ,IAHmBI,KC4Fd,KAKMqC,EAvFf,SAAejE,GACb,MAAO+B,EAAOwC,GAAYC,mBAAS,KAC5B3B,EAAU4B,GAAeD,mBAAS,KAUnC,UAAEL,GAAcnE,GACf0E,EAAYC,GAAiBH,oBAAS,GAO7C,OAJAI,qBAAU,KACJ5E,EAAM6B,KAAKb,KAAK2D,GAAc,EAAd,GACnB,CAAC3E,EAAM6B,KAAKb,MAEX0D,EACK,cAAC,IAAD,CAAUG,GAAG,aAIpB,eAAC9E,EAAD,CAAOO,SAAS,SAAhB,UACE,eAACwE,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,4BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,cACZC,UAAQ,EACRC,SAAW7F,GAAMgF,EAAShF,EAAE8F,OAAOC,YAIvC,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACL4D,YAAY,WACZC,UAAQ,EACRC,SAAW7F,GAAMkF,EAAYlF,EAAE8F,OAAOC,YAG1C,sBAAKpF,UAAU,8BAAf,UACE,wDACA,eAAC,IAAD,CAAMqF,MAAO,CAAEC,MAAO,WAAaX,GAAG,UAAtC,UACG,KADH,gBAKF,qBAAK3E,UAAU,8BAAf,SACE,cAAC,IAAD,CAAM2E,GAAG,mBAAmBU,MAAO,CAAEC,MAAO,WAA5C,wCAKJ,qBAAKtF,UAAU,aAAf,SAA6BiE,EAAY,kCAAKA,KAAiB,OAC/D,cAACsB,EAAA,EAAD,CACEF,MAAO,CAAEG,WAAY,OACrBC,QAAQ,UACRzF,UAAU,iBACV0F,QAAUrG,IACRA,EAAEsG,iBA7DV,WACE,IAAI5D,EAAO,CACTF,MAAOA,EACPc,SAAUA,GAEZ7C,EAAMoE,OAAOnC,EACd,CAwDO6D,EAAc,EANlB,uBAaL,I,uSC3DM,SAASC,EAAc/F,GAC5B,OAAIA,EAAMgG,SAEN,cAAC,IAAD,CACEL,QAAQ,UACRzF,UAAW,CAAC,cAAgB,GAAEF,EAAMiG,cAAe,eACnDD,UAAQ,EAHV,SAKE,qBAAK9F,UAAU,cAAf,SAA8BF,EAAMkG,SAKtC,cAAC,IAAD,CACEP,QAAQ,UACRzF,UAAW,CAAC,cAAgB,GAAEF,EAAMiG,cAAe,eACnDE,KAAMnG,EAAMoG,KACZR,QAAS5F,EAAM4F,QAJjB,SAME,qBAAK1F,UAAU,cAAf,SAA8BF,EAAMkG,QAI3C,CAEM,SAASG,EAAUrG,GACxB,OACE,cAAC,IAAD,CACE2F,QAAQ,UACRzF,UAAW,CAAC,UAAY,GAAEF,EAAMiG,cAAe,eAC/CE,KAAMnG,EAAMoG,KACZR,QAAS5F,EAAM4F,QACfI,SAAUhG,EAAMgG,SALlB,SAOE,qBAAK9F,UAAU,cAAcqF,MAAO,CAACC,MAAO,SAA5C,SAAuDxF,EAAMkG,QAGlE,CAiBM,SAASI,GAAT,GAAwC,IAArB,QAAEV,EAAF,MAAWW,GAAS,EAC5C,OACE,cAAC,IAAD,CACEZ,QAAQ,UACRzF,UAAW,CAAC,UAAW,YAAa,eACpC0F,QAASA,EAHX,SAKE,8BACE,cAAC,IAAD,CAASY,GAAI,CAAEC,SAAU,SAIhC,CAEM,SAASC,GAAW1G,GACzB,SAAS2G,IACP,OAAQ3G,EAAM4G,MACZ,QACA,IAAK,QACH,OAAO,cAAC,IAAD,CAAoBJ,GAAI,CAAEC,SAAU,MAC7C,IAAK,QACH,OAAO,cAAC,IAAD,CAAkBD,GAAI,CAAEC,SAAU,MAC3C,IAAK,OACH,OAAO,cAAC,IAAD,CAAsBD,GAAI,CAAEC,SAAU,MAC/C,IAAK,OACH,OAAO,cAAC,IAAD,CAAoBD,GAAI,CAAEC,SAAU,MAC7C,IAAK,UACH,OAAO,cAAC,IAAD,CAAmBD,GAAI,CAAEC,SAAU,MAC5C,IAAK,MACH,OAAO,cAAC,IAAD,CAAwBD,GAAI,CAAEC,SAAU,MACjD,IAAK,OACH,OAAO,cAAC,IAAD,CAAcD,GAAI,CAAEC,SAAU,MACvC,IAAK,QACH,OAAO,cAAC,IAAD,CAAgBD,GAAI,CAAEC,SAAU,MACzC,IAAK,OACH,OAAO,cAAC,IAAD,CAAkBD,GAAI,CAAEC,SAAU,MAC3C,IAAK,QACH,OAAO,cAAC,IAAD,CAAaD,GAAI,CAAEC,SAAU,MACtC,IAAK,UACH,OAAO,cAAC,IAAD,CAAiBD,GAAI,CAAEC,SAAU,MAC1C,IAAK,UACH,OAAO,cAAC,IAAD,CAAqBD,GAAI,CAAEC,SAAU,MAC9C,IAAK,cACH,OAAO,cAAC,IAAD,CAAcD,GAAI,CAAEC,SAAU,MACvC,IAAK,QACH,OAAO,cAAC,IAAD,CAAqBD,GAAI,CAAEC,SAAU,MAEjD,CAED,IAAIpB,EAOJ,OALEA,EADEwB,OAAO7G,EAAMoG,MAAMU,WAAW,KACvB,QAEA,SAIT,mCACG9G,EAAMuG,MACL,cAACQ,EAAA,EAAD,CAASC,UAAU,SAASC,OAAK,EAACV,MAAOvG,EAAMuG,MAA/C,SACE,cAAC,IAAD,CACEZ,QAAQ,UACRzF,UAAW,CAAC,WAAa,GAAEF,EAAMwF,YAAa,eAC9CW,KAAMnG,EAAMoG,KACZR,QAAS5F,EAAM4F,QACfP,OAAQA,EACRW,SAAUhG,EAAMgG,SANlB,SAQE,gCACE,cAACW,EAAD,IACC3G,EAAMkH,aAKb,cAAC,IAAD,CACEvB,QAAQ,UACRzF,UAAW,CAAC,WAAa,GAAEF,EAAMwF,aACjCW,KAAMnG,EAAMoG,KACZf,OAAQA,EACRW,SAAUhG,EAAMgG,SALlB,SAOE,gCACE,cAACW,EAAD,IACC3G,EAAMkH,YAMlB,CC1Kc,WAA0B,oCCuC1BjD,oBANUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,QAIe,KAAzBoC,EA7Bf,SAAqBjE,GACnB,OACE,gCACE,qBACEE,UAAU,UACVC,IAAKgH,GACL9G,IAAI,8DAEN,qBAAKH,UAAU,QAAf,SACE,qBACEC,IAAKC,EACLC,IAAI,gEAGR,sBAAKH,UAAU,UAAf,UACE,cAACmG,EAAD,CAAWJ,QAAQ,OAAOG,KAAK,SAASF,KAAK,WAC7C,cAACG,EAAD,CAAWJ,QAAQ,OAAOG,KAAK,UAAUF,KAAK,YAC9C,cAACG,EAAD,CAAWJ,QAAQ,QAAQG,KAAK,YAAYF,KAAK,kBAIxD,I,iEC/BM,MAAMkB,GAAsBC,GAC1B,CAAC3G,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIsG,EAASE,OACbzG,WAAWuG,EAASG,KACpBC,IAAIJ,EAAShG,QACbD,MAAMsG,IAEL9G,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIsG,EAASE,OACbzG,WAAWuG,EAASG,KACpBzG,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,cAAe+F,YAAhC,IAED9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAtBJ,EAuLSmG,GAAgBN,GACpB,CAAC3G,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MASlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIsG,EAASE,OACbzG,WAAWuG,EAASG,KACpBzG,IAAIsG,EAASlI,IACb8B,IAAIoG,EAAShG,OAAQ,CAAEF,OAAO,IAC9BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,YAAa+F,eACzC9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GAXJ,E,yBCrPJ,MAAMoG,GAAqB,CAACrB,EAAOsB,KACjCC,KAAgB,CACdvB,MAAOA,EACPsB,QAASA,EACTE,cAAe,QACfC,iBAAkB,QAClBC,SAAU,QACVC,YAAa,QACbC,YAAa,IACbC,SAAU,KARZ,EAYIC,GAAyB,CAAC9B,EAAOsB,KACrCC,KAAgB,CACdvB,MAAOA,EACPsB,QAASA,EACTE,cAAe,QACfC,iBAAkB,QAClBC,SAAU,QACVC,YAAa,QACbC,YAAa,IACbC,SAAU,KARZ,ECdWE,GAAkBrG,GACtB,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOL1B,EAAKZ,OAAOmH,KAEzBD,IACCzH,WAAW,eACXC,IAAIC,GACJF,WAAW,aACX2G,IAAIxF,EAAKZ,QACTD,MAAMsG,IAELa,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,yBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,8BAA+BE,OAAhD,GAhBF,EAqBSiH,GAAsBxG,GAC1B,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACCzH,WAAW,aACX2G,IAAIxF,EAAKZ,QACTD,MAAMsG,IAGLa,IACGzH,WAAW,aACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,GAAI6B,IAAKA,GAAO,CAAEG,OAAO,IAC7CT,EAAS,CAAEY,KAAM,oBAAqBW,QAAtC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAbF,EAmNSkH,GAAuBzG,GAC3B,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIkB,EAAK9C,IACT6E,SACA5C,MAAK,IAAMK,QAAQC,IAAI,4BACvBH,OAAOC,IACNd,EAASe,QAAQC,IAAI,2BAA4BF,GAAjD,GATJ,EA2DWmH,GAAkB1G,GACtB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACX8H,MAAM,OAAQ,KAAM3G,EAAK9C,IAEzB0J,MAAMzH,MAAM0H,IACRA,EAAQC,MACTV,GAAuB,YAAa,sDAGpCS,EAAQE,SAASjI,IACfU,QAAQC,IAAI,iBAAkBX,EAAIkB,OAAOuG,MACzCzH,EAAIkI,IAAIhI,IACN,CACEiI,SAAUnI,EAAIkB,OAAOiH,SAAWjH,EAAKiH,UAEvC,CAAE/H,OAAO,GAJX,GAOH,IACAI,OAAO4H,IACN1H,QAAQC,IAAI,2BAA4ByH,EAAxC,GAvBN,EC1USlF,oBAdUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL2I,2BAA6BpH,GAASvB,EDqCCuB,IAClC,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/CA,IACCzH,WAAW,aACXC,IAAIkB,EAAKqH,OACTrI,IAAI,CAACsI,OAAQtH,EAAKsH,QAAS,CAAEpI,OAAO,IAClCC,MAAK,IAAMV,EAAS,CAAEY,KAAM,gBAAiBW,WAC7CV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GANJ,ECxC+C6H,CAA2BpH,IAC1EuH,yBAA2BvH,GAASvB,EDkDCuB,IAChC,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAElD,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOf4E,IACCzH,WAAW,eACXC,IAAIC,GACJF,WAAW,YACXC,IAAIkB,EAAK9C,IACT8B,IAAI,CAACsI,OAAQtH,EAAKsH,QAAS,CAAEpI,OAAO,IAClCC,MAAK,IAAMV,EAAS,CAAEY,KAAM,uBAAwBmI,QAASxH,MAC7DV,OAAOC,IACNd,EAAS,CAAEY,KAAM,6BAA8BE,OAA/C,GARJ,ECjF6CgI,CAAyBvH,OAK3DgC,EA7Ef,SAAyBjE,GAEvB,MAAO0J,EAAWC,GAAWnF,oBAAS,GAiBhCoF,EAAc,IAAMD,GAAQ,GAIlC,OACE,qCACE,cAAC5C,EAAA,EAAD,CAASR,MAAM,cAAf,SACE,cAAC,KAAD,CACE,aAAW,cACXC,GAAI,CAAEqD,GAAI,GAFZ,SAIE,cAACpE,EAAA,EAAD,CAAQE,QAAQ,WAAWH,MAAM,UAAUI,QAVhC,IAAM+D,GAAQ,GAUzB,yBAMJ,eAACG,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACI,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,wBAEJ,cAAC+J,GAAA,EAAMI,KAAP,UACI,4BAAG,oEAEP,eAACJ,GAAA,EAAMK,OAAP,WACA,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAChBC,QAAS,KAxCMwE,WACnB,MAAMnI,EAAO,CAEXqH,MAAOtJ,EAAMsJ,MACbnK,GAAIa,EAAMb,GACVoK,OAAQ,aAEVvJ,EAAMqJ,2BAA2BpH,GACjCjC,EAAMwJ,yBAAyBvH,GAC/BR,QAAQC,IAAI,UAAWO,EAAK9C,IAE5ByI,GAAmB,UAAW,gCAA9B,EA8BMyC,GACAT,GAAa,EAHf,iBAOE,cAACnE,EAAA,EAAD,CAAQE,QAAQ,YACdC,QAASgE,EADX,4BAUT,I,sBC0Dc3F,oBAZUC,IAChB,CACLoG,KAAMpG,EAAMmD,SAASkD,iBAIG7J,IACnB,CACL8J,gBAAkBvI,GAASvB,GJuStB,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,YACX+H,MACAzH,MAAMqJ,IACL,MAAMC,EAAY,GAClBD,EAASzB,SAASjI,IAChB2J,EAAUC,KAAK5J,EAAIkB,OAAnB,IAEFvB,EAAS,CAAEY,KAAM,oBAAqBmI,QAASiB,GAA/C,IAEDnJ,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAdJ,OIjUWyC,EAvHf,SAA0BjE,GAExB,MAAO4K,EAAMC,GAAWrG,mBAAS,IA0CjC,OAtCFI,qBAAU,KACR5E,EAAMwK,iBAAN,GAEC,CAACxK,EAAMsK,OA4BV1F,qBAAU,KA1BkBwF,WAE1BS,EAAQ,IAGR7K,EAAMsK,KAAKtB,SAASjI,IAElB,IAAI5B,EAAK4B,EAAI5B,GACT2L,EAAO/J,EAAI+J,KACXxB,EAAQvI,EAAIuI,MACZC,EAASxI,EAAIwI,OAGjBsB,GAASD,GAAS,IACbA,EACH,CACEE,KAAMA,EACN3L,GAAIA,EACJmK,MAAOA,EACPC,OAAQA,KANZ,GARF,EAsBAwB,EAAqB,GAEpB,CAAC/K,EAAMsK,OAKN,mCACGM,EAAKI,OACJ,mCACE,cAACC,GAAA,EAAD,UACGL,EAAK5L,KAAI,CAACwJ,EAAM0C,IACf,cAACC,GAAA,EAAD,CAGE5F,MAAO,CAAE6F,WAAY,YAHvB,SAME,eAACC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UAER,kCACU,+BACA,+BAAI,2CAAkBhD,EAAKc,SAC3B,+BAAI,yCAAgBd,EAAKe,aAGlC,+BACC,oBAAIrJ,UAAU,eAAd,qBACA,oBAAIA,UAAU,eAAd,sBACA,oBAAIA,UAAU,eAAd,qBACA,oBAAIA,UAAU,eAAd,mBACA,oBAAIA,UAAU,eAAd,4BAGF,gCACEsI,EAAKsC,KAAK9L,KAAK8L,GACf,+BACA,6BAAKA,EAAK7I,OACV,6BAAK6I,EAAK5B,WACV,6BAAK4B,EAAKW,UACRX,EAAKY,MAAS,6BAAKZ,EAAKY,QAAc,mCACtCZ,EAAKa,SAAY,6BAAKb,EAAKa,WAAiB,yBALpC,OAAMT,SAUV,qBAAKhL,UAAU,eAAf,SACM,cAAC,GAAD,CAEEoJ,MAAOd,EAAKc,MACZnK,GAAIqJ,EAAKrJ,WArCX,OAAM+L,WAgDpB,qBAAKhL,UAAU,yBAAf,SACE,uEAKT,IC/GM,SAAS0L,GAAT,GAIH,IAJyB,KAC3B7B,EAD2B,QAE3BJ,EAF2B,YAG3BkC,GACC,EAED,OACE,eAAC/B,GAAA,EAAD,CACEC,KAAMA,EACNC,OAJoB,IAAML,GAAQ,GAKlCmC,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,sBAEF,cAAC2K,GAAA,EAAMI,KAAP,UACE,cAAC,GAAD,QAIP,CCWc8B,OA9Bf,SAA0BhM,GAExB,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,cAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAkBlD,SAAS,gBAG/B,cAACmF,GAAD,CACE7B,KAAMA,EACNJ,QAASA,EACTmB,KAAM9K,EAAM8K,KACZ3L,GAAIa,EAAMb,GACV6B,IAAKhB,EAAMgB,IACX6K,YAAa7L,EAAM6L,gBAI1B,EC3BM,MAAMI,GAAYjM,GAErB,qCACE,gCACE,sBAAKE,UAAU,MAAf,UACE,qBAAKqF,MAAO,CAAE2G,MAAO,MAAOC,YAAa,QAAzC,SACE,cAAC9F,EAAD,CAAWJ,QAAQ,QAAQG,KAAMpG,EAAMoG,KAAMF,KAAK,WAEpD,qBAAKhG,UAAU,uBAAf,SAAuCF,EAAMoM,SAC7C,cAACC,GAAD,OAEF,cAACC,GAAA,EAAD,OAEF,cAACrM,EAAA,EAAD,CAAWC,UAAU,eAArB,SAKGF,EAAMO,cAsBFgM,GAAgBvM,GACpB,cAACC,EAAA,EAAD,CAAWC,UAAU,gBAArB,SAAsCF,EAAMO,W,WClDtC,OAA0B,iCCA1B,OAA0B,mCCA1B,OAA0B,wC,oBCW1B,SAASiM,KACtB,OACE,eAAC,GAAD,CAAUJ,OAAO,WAAWhG,KAAK,WAAjC,UACE,sBAAKlG,UAAU,cAAf,UACE,oBAAIA,UAAU,OAAd,0CACA,oBAAIqF,MAAO,CAAEG,WAAY,OAAzB,4FAIA,2JAIA,2QAMA,8HAmBF,qBAAKxF,UAAU,UAAf,SACE,qBAAKC,IAAKsM,GAAMpM,IAAI,OAEtB,sBAAKH,UAAU,cAAf,UACE,oBAAIqF,MAAO,CAAEG,WAAY,OAASxF,UAAU,OAA5C,kBAGA,8BACE,mEADF,8FAIA,kLAKA,oKAIA,6KAMF,qBAAKA,UAAU,UAAf,SACE,qBAAKC,IAAKuM,GAAQrM,IAAI,OAGxB,sBAAKH,UAAU,cAAf,UACE,oBAAIqF,MAAO,CAAEG,WAAY,OAASxF,UAAU,OAA5C,oBAGA,4LAKA,8BACE,wFADF,qJAKA,8BACE,yDADF,4KAKA,8BACE,6IAGK,IAJP,wDASF,qBAAKA,UAAU,UAAf,SACE,qBAAKC,IAAKwM,GAAatM,IAAI,OAG7B,sBAAKH,UAAU,cAAf,UACE,oBAAIqF,MAAO,CAAEG,WAAY,OAASxF,UAAU,OAA5C,yBAGA,gGACA,8BACE,6EADF,ySAOA,8BACE,yDADF,qKAOF,sBAAKA,UAAU,cAAf,UACE,oBAAIA,UAAU,OAAd,qCACA,gSAMA,0TAOA,+dAWF,eAAC0M,GAAA,EAAD,CAAKrH,MAAO,CAAEsH,eAAgB,UAAY3M,UAAU,OAApD,UACE,cAAC4M,GAAA,EAAD,CACEvH,MAAO,CAAE2G,MAAO,MAAOW,eAAgB,SAAUE,QAAS,QAD5D,SAGE,cAAC1G,EAAD,CAAWJ,QAAQ,OAAOG,KAAK,SAASF,KAAK,aAE/C,cAAC4G,GAAA,EAAD,CACEvH,MAAO,CAAE2G,MAAO,MAAOW,eAAgB,SAAUE,QAAS,QAD5D,SAGE,cAAC1G,EAAD,CAAWJ,QAAQ,OAAOG,KAAK,UAAUF,KAAK,mBAMvD,C,sDCHD,MAAM8G,GAAYC,KAAOC,GAAI;;;;;;;;;;;;;;;;;;;;EA+BdC,oBAAQlJ,aATEC,IAEhB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBkB,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAIbiM,EA9Lf,SAAiBnN,GACf,MAAM,QAAEkB,GAAYlB,GACb+B,EAAOwC,GAAYC,mBAASxE,EAAM6B,KAAKE,QACvCkB,EAAMmK,GAAW5I,mBAAStD,EAAQgC,UAAY,IAAMhC,EAAQiC,UAsCnE,OACE,eAAC,GAAD,CAAUiJ,OAAO,aAAahG,KAAK,YAAnC,UACE,sBAAKlG,UAAU,UAAf,UACE,mBAAGA,UAAU,6BACb,qBAAKA,UAAU,sBAAf,SACE,0OAOJ,eAAC4E,EAAA,EAAD,CAAMuI,SAhDV,SAAmB9N,GACjBA,EAAEsG,iBACFyH,KACGC,SACCC,mIAAYC,wBACZD,mIAAYE,yBACZnO,EAAE8F,OACFmI,mIAAYG,oBAEbvM,MACEwM,IAECC,MAAM,2CAAN,IAED1E,IAEC0E,MACE,6FADF,IAKNtO,EAAE8F,OAAOyI,OACV,EA0BG,UACE,eAAChJ,EAAA,EAAK8H,IAAN,WACE,cAAC9H,EAAA,EAAKC,MAAN,CAAYgJ,GAAIjB,KAAhB,SACE,cAAChI,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,OACZ/F,GAAG,OACH8D,KAAK,OACLmC,SAAW7F,GAAM6N,EAAQ7N,EAAE8F,OAAOC,OAClCA,MAAOrC,EACPkC,UAAQ,MAIZ,cAACL,EAAA,EAAKC,MAAN,CAAYgJ,GAAIjB,KAAhB,SACE,cAAChI,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,QACZ/F,GAAG,QACH8D,KAAK,QACLmC,SAAW7F,GAAMgF,EAAShF,EAAE8F,OAAOC,OACnCA,MAAOvD,EACPoD,UAAQ,SAKd,cAACL,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACEC,YAAY,UACZ/F,GAAG,UACH8D,KAAK,UACLkC,UAAQ,MAIZ,cAACL,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN9I,YAAY,UACZ/F,GAAG,UACH8D,KAAK,UACLkC,UAAQ,MAIZ,cAACL,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,cAAtB,SACE,cAACxI,EAAA,EAAD,CAAQE,QAAQ,OAAOrE,KAAK,SAA5B,yBAMJ,qBAAKpB,UAAU,UAAf,SACE,oBAAIA,UAAU,sBAAd,oCAGF,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAACE,GAAD,UACE,cAACkB,GAAA,EAAD,CAAMtI,QAAS,KA5EvBuI,OAAOC,KAAK,kBA4EJ,WACE,eAACF,GAAA,EAAKhE,KAAN,WACE,cAACgE,GAAA,EAAKnO,MAAN,wBACA,eAACmO,GAAA,EAAKG,KAAN,WACE,mBAAGnO,UAAU,oCACb,0DAMV,cAAC4M,GAAA,EAAD,UACE,cAACE,GAAD,UACE,cAACkB,GAAA,EAAD,CAAMtI,QAAS,KAhGvBuI,OAAOC,KACL,8EA+FM,WACE,eAACF,GAAA,EAAKhE,KAAN,WACE,cAACgE,GAAA,EAAKnO,MAAN,oBACA,eAACmO,GAAA,EAAKG,KAAN,WACE,mBAAGnO,UAAU,yCACb,mEAMV,cAAC4M,GAAA,EAAD,UACE,cAACE,GAAD,UACE,cAACkB,GAAA,EAAD,UACE,eAACA,GAAA,EAAKhE,KAAN,WACE,cAACgE,GAAA,EAAKnO,MAAN,sBACA,eAACmO,GAAA,EAAKG,KAAN,WACE,mBAAGnO,UAAU,6CACb,qHAYjB,I,OC7IcoO,OAtBE,IAEb,8BACI,qBAAKpO,UAAU,qBAAf,SACI,sBAAKA,UAAU,gBAAf,UACI,qBAAKC,IAAI,YAAYE,IAAI,OAAOH,UAAU,aAE1C,qEACA,sFAEA,sBAAKA,UAAU,WAAf,UACI,iCAAQ,cAAC,IAAD,CAAMqF,MAAO,CAACC,MAAM,QAAS+I,eAAe,QAAQ1J,GAAI,yBAAxD,wBACR,iCAAS,cAAC,IAAD,CAAMU,MAAO,CAACC,MAAM,QAAS+I,eAAe,QAAQ1J,GAAI,oBAAxD,+B,2CCmPdZ,mBAAQ,MANKvD,IACnB,CACL8N,cAAgBvM,GAASvB,ECzPCuB,IAEnB,CAACvB,EAAUC,EAAX,OAAsD,IAAjC,aAAC4H,GAA+B,GAAjB,YAAC3H,GAAgB,EAExD,MAAMM,EAAUP,IAAWwB,SAASjB,QACxBP,IAAWwB,SAASN,KAAKb,IAGzC,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,aAML,IAAK,kBAML,QAEE,MAvBF,IAAK,eAML,IAAK,eAML,IAAK,WAML,IAAK,gBACGJ,EAAQyC,MAMf4E,IACEzH,WAAW,eACX2G,IAAIxF,GACJb,MAAK,KACFV,EAAU,CAACY,KAAM,eAAjB,IACDC,OAAOC,IACLd,EAAS,CAACY,KAAM,qBAAhB,IAKT,MAAMT,EAAYD,IAAcC,YACfD,IAEdiB,OACAe,+BAA+BX,EAAKF,MAAOE,EAAKY,UAChDzB,MAAM0B,IACLjC,EACGC,WAAW,eACXC,IAAI+B,EAAKC,KAAK/B,KACdC,IAAI,CACHwN,SAAUxM,EAAKwM,SACf1M,MAAME,EAAKF,MACXc,SAASZ,EAAKY,UANlB,GAJJ,EDuMkC2L,CAAcvM,OAIrCgC,EAxPIjE,IACjB,MAAO0O,EAAWC,GAAgBnK,oBAAS,IACpCuF,EAAMJ,GAAWnF,mBAAS,aAC1BzB,EAAM6L,GAAWpK,mBAAS,CAC/BiK,SAAU,GACV1M,MAAO,GACP8M,QAAS,GACTC,WAAY,GACZC,UAAW,GACXlM,SAAU,GACVmM,gBAAiB,GACjBC,QAAS,KAELC,EAAUC,cACVC,EAAOC,mBAoCb,OACE,qBAAKnP,UAAU,qBAAf,SACE,0BAASqF,MAAO,CAAE+J,OAAQ,QAAUpP,UAAU,gBAA9C,UACE,yBAAQA,UAAU,cAAlB,UACE,qBAAKC,IAAI,aAAaE,IAAI,OAAOH,UAAU,cAC3C,gEAGF,eAAC4E,EAAA,EAAD,CACEmE,IAAKmG,EACL7J,MAAO,CAAEgK,UAAW,SACpBlC,SAAW9N,IACTA,EAAEsG,iBA1BZ,WACE,IAAI5D,EAAO,IAAKc,GAChB/C,EAAMwO,cAAcvM,GACpB0M,GAAa,EACd,CAuBS7I,GApBH4I,EAGHQ,EAAQvE,KAAM,IAFduE,EAAQvE,KAAM,wBA1BhB2C,KACGC,SACC,aACA,mBACA6B,EAAKI,QACL,8BAEDpO,MACEwM,IACCnM,QAAQC,IAAIkM,EAAO1H,KAAnB,IAEDiD,IACC1H,QAAQC,IAAIyH,EAAMjD,KAAlB,GAmCa,EAPf,UAUE,eAACpB,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,gBAAgB/N,UAAU,aAAhD,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,yBACc,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEd,cAACV,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL2B,KAAK,OACLmC,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAM0L,SAAUlP,EAAE8F,OAAOC,QACvDpF,UAAU,eACViF,UAAQ,OAIZ,eAACL,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,iBAAiB/N,UAAU,aAAjD,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,qBACU,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEV,cAACV,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL2B,KAAK,QACL/C,UAAU,eACVkF,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAMhB,MAAOxC,EAAE8F,OAAOC,QACpDH,UAAQ,OAIZ,eAACL,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,oBAAoB/N,UAAU,aAApD,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,wBACa,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEb,cAACV,EAAA,EAAKG,QAAN,CACE3D,KAAMyI,EACN7J,UAAU,eACVkF,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAMF,SAAUtD,EAAE8F,OAAOC,QACvDH,UAAQ,IAGD,YAAR4E,EACC,cAAC,KAAD,CACE7J,UAAU,YACV0F,QAAS,IAAM+D,EAAQ,UAGzB,cAAC,KAAD,CACEzJ,UAAU,YACV0F,QAAS,IAAM+D,EAAQ,iBAK7B,eAAC7E,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,eAAe/N,UAAU,aAA/C,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,8CAEE,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEF,cAACV,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLpB,UAAU,eACVkF,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAM8L,QAAStP,EAAE8F,OAAOC,QACtDH,UAAQ,OAIZ,eAACL,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,gBAAgB/N,UAAU,aAAhD,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,cAAtB,UACG,IADH,yCAGE,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEF,cAACV,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLpB,UAAU,eACVkF,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAM+L,WAAYvP,EAAE8F,OAAOC,QACzDH,UAAQ,OAIZ,eAACL,EAAA,EAAKC,MAAN,CAAY7E,UAAU,aAAtB,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,kCACuB,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEvB,eAACV,EAAA,EAAKG,QAAN,CACE8I,GAAG,SACH7N,UAAU,eACVkF,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAMgM,UAAWxP,EAAE8F,OAAOC,QACxDH,UAAQ,EAJV,UAME,4CACA,+CACA,+CACA,uDACA,iDACA,gEACA,iDACA,kDACA,+CACA,uDACA,wDAIJ,eAACL,EAAA,EAAKC,MAAN,CAAY7E,UAAU,wBAAtB,UACE,eAAC4E,EAAA,EAAKE,MAAN,6CAEE,sBAAMO,MAAO,CAAEC,MAAO,OAAtB,kBAEF,cAACiK,GAAA,EAAD,CACEvP,UAAU,0BACVoB,KAAK,OACL4D,YAAY,aACZc,UAAQ,IAEV,sBAAM9F,UAAU,sBAAhB,kBACA,cAACuP,GAAA,EAAD,CACEvP,UAAU,0BACVoB,KAAK,OACL4D,YAAY,mBACZc,UAAQ,IAEV,sBAAM9F,UAAU,sBAAhB,iBACA,cAACuP,GAAA,EAAD,CACEvP,UAAU,0BACVoB,KAAK,OACL4D,YAAY,iBACZc,UAAQ,IAEV,sBAAM9F,UAAU,sBAAhB,kBACA,cAACuP,GAAA,EAAD,CACEvP,UAAU,0BACVoB,KAAK,OACL4D,YAAY,gCACZc,UAAQ,IAEV,sBAAM9F,UAAU,sBAAhB,kBACA,cAACuP,GAAA,EAAD,CACEnO,KAAK,OACL4D,YAAY,2CACZhF,UAAU,eACVkF,SAAW7F,GACTqP,EAAQ,IAAK7L,EAAMiM,gBAAiBzP,EAAE8F,OAAOC,QAE/CH,UAAQ,OAGZ,eAACL,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,mBAAmB/N,UAAU,aAAnD,UACE,eAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,6EAEE,sBAAMqF,MAAO,CAAEC,MAAO,OAAtB,kBAEF,cAACV,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN1M,KAAK,OACL8D,SAAW7F,GAAMqP,EAAQ,IAAK7L,EAAMkM,QAAS1P,EAAE8F,OAAOC,QACtDH,UAAQ,OAIZ,eAACL,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,oBAAoB/N,UAAU,aAApD,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAY9E,UAAU,aAAtB,4EAGA,cAAC4E,EAAA,EAAKG,QAAN,CAAc8I,GAAG,WAAWC,KAAM,EAAG1M,KAAK,YAG5C,wBAAQpB,UAAU,gBAAgBoB,KAAK,SAASgE,MAAM,SAAtD,2BAvLR,IEjCaoK,OApBQ,KACrB,MAAMR,EAAUC,cAChB,OACE,qBAAKjP,UAAU,qBAAf,SACI,0BAAUA,UAAU,wBAApB,UACI,yBAAQA,UAAU,cAAlB,UACA,qBAAKC,IAAI,aAAaE,IAAI,OAAOH,UAAU,cAC1C,gEAGL,sBAAKA,UAAU,kBAAf,UACA,oBAAIqF,MAAO,CAACoK,QAAQ,QAApB,kHACA,wBAAQpK,MAAO,CAAC2G,MAAM,SAAUhM,UAAU,gBAAgB0F,QAAS,IAAKsJ,EAAQvE,KAAK,gBAArF,yCAVN,ECwEa1G,oBAbUC,IAChB,CACLC,UAAWD,EAAMrC,KAAKsC,UACtBtC,KAAMqC,EAAM/B,SAASN,SAIGnB,IACnB,CACL0D,OAASC,IAAU3D,UC1EAkB,ED0EgByC,ECzE9B,CAAC3D,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC7BA,IAEdiB,OACAyC,2BAA2B1C,EAAYG,MAAOH,EAAYiB,UAC1DzB,MAAK,KACJV,EAAS,CAAEY,KAAM,4BAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,yBAA0BE,OAA3C,GAPJ,IAHmBI,KDyEd,KAKMqC,EArEUjE,IACvB,MAAO+B,EAAOwC,GAAYC,mBAAS,KAC5B3B,EAAU4B,GAAeD,mBAAS,IASzC,MAAM,UAAEL,GAAcnE,EACtB,OACE,eAACD,EAAD,CAAOO,SAAS,oCAAhB,UACE,eAACwE,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,4BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,cACZC,UAAQ,EACRC,SAAW7F,GAAMgF,EAAShF,EAAE8F,OAAOC,YAIvC,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACL4D,YAAY,WACZC,UAAQ,EACRC,SAAW7F,GAAMkF,EAAYlF,EAAE8F,OAAOC,YAG1C,qBAAKpF,UAAU,8BAAf,SACE,cAAC,IAAD,CAAM2E,GAAG,mBAAmBU,MAAO,CAAEC,MAAO,WAA5C,wCAKJ,qBAAKtF,UAAU,aAAf,SAA6BiE,EAAY,kCAAKA,KAAiB,OAC/D,cAACsB,EAAA,EAAD,CACEF,MAAO,CAAEG,WAAY,OACrBC,QAAQ,UACRzF,UAAU,iBACV0F,QAAUrG,IACRA,EAAEsG,iBA1CV,WACE,IAAI5D,EAAO,CACTF,MAAOA,EACPc,SAAUA,GAEZ7C,EAAMoE,OAAOnC,EACd,CAqCO6D,EAAc,EANlB,uBA7BJ,I,6BElBE8J,I,4BAAW,CACbvN,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,cACnBC,MAAO,6CAMTP,IAASC,cAAcwN,IAahB,MAAMC,GAAU1N,IAAS0N,UAG1BC,GAAY3N,IAAS2N,UAAUC,cACjC5N,IAAS2N,YACT,KA0CWF,UAEKzN,IAASN,KAAtB,MAEMmO,GAAK7N,IAAStB,YC7BVoP,OA9CI,IAAgB,IAAf,QAACtG,GAAa,EAOlC,OACQ,qCAiBE,qBAAKzJ,UAAU,oBAAoB0F,QAAS,IAAM+D,GAAQ,KAE1D,0BAASzJ,UAAU,kBAAkB0F,QAAS,IAAM+D,GAAQ,GAA5D,UACA,+CACA,sBAAKzJ,UAAU,wBAAf,UACE,sBAAKA,UAAW,eAAhB,UACA,cAAC,KAAD,CAAiBqF,MAAO,CAACkB,SAAU,OAAQjB,MAAM,UAAU+J,UAAU,UACrE,mBAAGhK,MAAO,CAACgK,UAAU,QAArB,uBAEA,sBAAKrP,UAAW,eAAhB,UACA,cAAC,KAAD,CAAkBqF,MAAO,CAACkB,SAAU,OAAQjB,MAAM,UAAU+J,UAAU,UACvE,mBAAGhK,MAAO,CAACgK,UAAU,QAArB,gCA7BX,ECEaW,OAdW,IAAmB,IAAlB,WAACC,GAAgB,EAM1C,OACE,sBAAK5K,MAAO,CAAC+J,OAAQ,QAAQpD,MAAM,QAASkE,WAAW,kBAAvD,UACE,oDACC,wBAAQxK,QANX,WACAuK,GAAW,EACV,EAIE,qBAHL,ECyDaE,OAtDI,KACb,MAAOb,EAAQc,GAAc9L,mBAAS,6GAC/BuF,EAAKJ,GAAWnF,oBAAS,IAC1B+L,EAAQJ,GAAc3L,oBAAS,GAGzC,OACE,qBAAKtE,UAAU,kBAAf,SAEI,uBAAMA,UAAU,aAAhB,UAEA,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,0BAAf,SACC,cAAC,KAAD,CAAkBA,UAAU,oBAE5B,qBAAMA,UAAU,oBAAqBC,IAAMqP,OAE3C,qBAAMtP,UAAU,iBAAhB,SACC,cAAC,KAAD,CAAkBqF,MAAO,CAACgK,UAAU,OAAOiB,UAAU,UACpD5K,QAAS,IAAK+D,GAAQ,OAI3B,0BAASzJ,UAAU,aAAnB,UACA,kDACA,gDAGA,0BAASA,UAAU,kBAAnB,UACI,sBAAKqF,MAAO,CAACkL,gBAAgB,WAA7B,UACE,cAAC,KAAD,CAAUvQ,UAAW,gBACvB,mBAAGqF,MAAO,CAACoK,QAAQ,OAAnB,oCAEA,sBAAKpK,MAAO,CAACkL,gBAAgB,WAA7B,UAAyC,cAAC,KAAD,CAAmBvQ,UAAW,gBACvE,mBAAGqF,MAAO,CAACoK,QAAQ,OAAnB,iCAGA,sBAAKpK,MAAO,CAACkL,gBAAgB,WAA7B,UAAyC,cAAC,KAAD,CAAkBvQ,UAAW,gBACpE,mBAAGqF,MAAO,CAACoK,QAAQ,OAAnB,iCAGF,sBAAKpK,MAAO,CAACkL,gBAAgB,WAA7B,UAAyC,cAAC,KAAD,CAAYvQ,UAAW,gBAChE,mBAAGqF,MAAO,CAACoK,QAAQ,OAAnB,2BAIH5F,GAAQ,cAAC,GAAD,CAAcJ,QAASA,IAC/B4G,GAAW,cAAC,GAAD,CAAmBA,QAASJ,QAzC9C,E,8BCTF,SAASO,GAAS1Q,GAChB,IAAI2Q,EAaJ,OAZAA,EAAO3Q,EAAM4Q,MAAM5R,KAAI,CAACwJ,EAAM0C,IACf,MAAT1C,EACK,cAAC,KAAkB8D,QAAnB,GAAgCpB,GAGrC,cAAC,KAAkB2F,KAAnB,CAAwB1R,GAAIa,EAAMb,GAAI2R,SAAUtI,EAAhD,SACGA,GADwD0C,KAO7DlL,EAAMgG,SAEN,cAAC,KAAD,CACEO,MAAOvG,EAAMiC,KACb8O,SAAU/Q,EAAMuD,SAChBrD,UAAW,CAAC,kBAAmBF,EAAMiG,SACrCN,QAAQ,UACRK,UAAQ,EACRgL,KAAK,OANP,SAQGL,IAML,cAAC,KAAD,CACEpK,MAAOvG,EAAMiC,KACb8O,SAAU/Q,EAAMuD,SAChBrD,UAAW,CAAC,kBAAmBF,EAAMiG,SACrCN,QAAQ,UACRqL,KAAK,OALP,SAOGL,GAGN,CAED,SAASM,GAAOjR,GACd,IAAI2Q,EAaJ,OAZAA,EAAO3Q,EAAM4Q,MAAM5R,KAAI,CAACwJ,EAAM0C,IACf,MAAT1C,EACK,wBAAQxC,UAAQ,EAAhB,0EAGL,wBAAQ7G,GAAIa,EAAMb,GAAlB,SACGqJ,GADwB0C,KAQ/B,eAACpG,EAAA,EAAKG,QAAN,CACE9F,GAAIa,EAAMb,GACV6G,SAAUhG,EAAMgG,SAChBZ,SAAUpF,EAAMuD,SAChBwK,GAAG,SACHzI,MAAOtF,EAAMsF,MALf,UAOE,wBAEE4L,QAAM,EACN5L,OAAK,EACLC,MAAO,CAAEC,MAAO,sBAJlB,SAMGxF,EAAMkF,aALH,eAOLyL,IAGN,C,8GCjFM,MAAMQ,GAAalP,GACjB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAW,QACXC,IAAIkB,EAAKjB,KACTC,IAAI,CACH8B,KAAMd,EAAKgB,KACXlB,MAAOE,EAAKF,QAEbX,MAAK,KACJV,EAAS,CAAEY,KAAM,cAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,mBAAoBE,OAArC,GAZJ,EAkBS4P,GAAuBnP,GAC3B,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAWmB,EAAKe,kBAChBjC,IAAIkB,EAAKjB,KACTF,WAAWmB,EAAKnB,YAChB2G,IAAIxF,EAAKZ,QACTD,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAVJ,EAgBS6P,GAAsBpP,GAC1B,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAWmB,EAAKe,kBAChBjC,IAAIkB,EAAKjB,KACTF,WAAWmB,EAAKnB,YAChB2G,IAAIxF,EAAKZ,QACTD,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAVJ,EAiDS8P,GAAiBrP,GACrB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAM2Q,EAAY3Q,IAAcC,UAAU2Q,WAAWD,UACnDtP,EAAKZ,OAAOoQ,iBAEdhQ,QAAQC,IAAI,SACZd,IACGC,YACAC,WAAWmB,EAAKe,kBAChBjC,IAAIkB,EAAKjB,KACTC,IAAI,IAAKgB,EAAKZ,OAAQoQ,gBAAiBF,GAAa,CAAEpQ,OAAO,IAC7DC,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GATJ,EAkCSkQ,GAAoBzP,GACxB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAWmB,EAAKe,kBAChBjC,IAAIkB,EAAKjB,KACTF,WAAWmB,EAAKnB,YAChB+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,WAAYmI,QAASxH,GAAtC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,iBAAkBE,OAAnC,GAdJ,E,yBCpIG,MAAMmQ,GAAY,CACvB,CAAE1O,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,sBAAuBxD,KAAM,MACrC,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,yBAA0BxD,KAAM,MACxC,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CACEwD,KAAM,iCACNxD,KAAM,MAER,CACEwD,KAAM,yBACNxD,KAAM,MAER,CAAEwD,KAAM,oBAAqBxD,KAAM,MACnC,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CACEwD,KAAM,2BACNxD,KAAM,MAER,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,mBAAoBxD,KAAM,MAClC,CAAEwD,KAAM,0BAA2BxD,KAAM,MACzC,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CACEwD,KAAM,oCACNxD,KAAM,MAER,CACEwD,KAAM,yBACNxD,KAAM,MAER,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,qBAAsBxD,KAAM,MACpC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,oBAAqBxD,KAAM,MACnC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CACEwD,KAAM,8BACNxD,KAAM,MAER,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,mBAAoBxD,KAAM,MAClC,CACEwD,KAAM,8BACNxD,KAAM,MAER,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CACEwD,KAAM,UACNxD,KAAM,MAER,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CACEwD,KAAM,oCACNxD,KAAM,MAER,CACEwD,KAAM,gCACNxD,KAAM,MAER,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CACEwD,KAAM,4BACNxD,KAAM,MAER,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CACEwD,KAAM,yCACNxD,KAAM,MAER,CAAEwD,KAAM,qBAAsBxD,KAAM,MACpC,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CACEwD,KAAM,mCACNxD,KAAM,MAER,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CACEwD,KAAM,6CACNxD,KAAM,MAER,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,mBAAoBxD,KAAM,MAClC,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CACEwD,KAAM,kCACNxD,KAAM,MAER,CAAEwD,KAAM,uBAAwBxD,KAAM,MACtC,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,gBAAiBxD,KAAM,MAC/B,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CACEwD,KAAM,2BACNxD,KAAM,MAER,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,sBAAuBxD,KAAM,MACrC,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,mBAAoBxD,KAAM,MAClC,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,qBAAsBxD,KAAM,MACpC,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,mBAAoBxD,KAAM,MAClC,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CACEwD,KAAM,wBACNxD,KAAM,MAER,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CACEwD,KAAM,6BACNxD,KAAM,MAER,CACEwD,KAAM,4BACNxD,KAAM,MAER,CACEwD,KAAM,mCACNxD,KAAM,MAER,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,wBAAyBxD,KAAM,MACvC,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CACEwD,KAAM,4BACNxD,KAAM,MAER,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,kBAAmBxD,KAAM,MACjC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CACEwD,KAAM,+CACNxD,KAAM,MAER,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,yBAA0BxD,KAAM,MACxC,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,uBAAwBxD,KAAM,MACtC,CACEwD,KAAM,4BACNxD,KAAM,MAER,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,WAAYxD,KAAM,MAC1B,CAAEwD,KAAM,cAAexD,KAAM,MAC7B,CAAEwD,KAAM,OAAQxD,KAAM,MACtB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,sBAAuBxD,KAAM,MACrC,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,eAAgBxD,KAAM,MAC9B,CACEwD,KAAM,2BACNxD,KAAM,MAER,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,uBAAwBxD,KAAM,MACtC,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CACEwD,KAAM,8BACNxD,KAAM,MAER,CACEwD,KAAM,gBACNxD,KAAM,MAER,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,oBAAqBxD,KAAM,MACnC,CAAEwD,KAAM,aAAcxD,KAAM,MAC5B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,YAAaxD,KAAM,MAC3B,CAAEwD,KAAM,UAAWxD,KAAM,MACzB,CAAEwD,KAAM,oBAAqBxD,KAAM,MACnC,CAAEwD,KAAM,iBAAkBxD,KAAM,MAChC,CAAEwD,KAAM,QAASxD,KAAM,MACvB,CAAEwD,KAAM,SAAUxD,KAAM,MACxB,CAAEwD,KAAM,WAAYxD,KAAM,OAGfmS,GAAc,CACzB,OACA,SACA,YACA,SACA,gBACA,iBAGWC,GAAeF,GAAU3S,KAAK8S,GAAMA,EAAE7O,O,OCrTnD,MAmTM8O,GAAU/R,GAEZ,8BACE,cAACgS,GAAD,UACE,eAAClN,EAAA,EAAD,WACE,eAACA,EAAA,EAAK8H,IAAN,WACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,aACZ+M,aAAcjS,EAAMkD,UACpBiC,UAAQ,EACRC,SAAW7F,GAAMS,EAAMkS,aAAa3S,EAAE8F,OAAOC,YAGjD,eAACR,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,qBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,gBACZ+M,aAAcjS,EAAMmD,SACpBgC,UAAQ,EACRC,SAAW7F,GAAMS,EAAMmS,YAAY5S,EAAE8F,OAAOC,eAKlD,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,4BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,cACZ+M,aAAcjS,EAAM+B,MACpBoD,UAAQ,EACRC,SAAW7F,GAAMS,EAAMuE,SAAShF,EAAE8F,OAAOC,SAE3C,cAACR,EAAA,EAAKuJ,KAAN,CAAWnO,UAAU,aAArB,+DAKF,eAAC4E,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACL4D,YAAY,WACZ+M,aAAcjS,EAAM6C,SACpBsC,UAAQ,EACRC,SAAW7F,GAAMS,EAAMyE,YAAYlF,EAAE8F,OAAOC,YAIhD,qBAAKpF,UAAU,SAAf,SACE,cAACuF,EAAA,EAAD,CACEnE,KAAK,SACLqE,QAAQ,UACRzF,UAAU,aACV0F,QAAUrG,IACRA,EAAEsG,iBAEF7F,EAAMoS,SAAS,EAAf,EAPJ,2BAmBNC,GAAUrS,GAEZ,gCACE,cAACgS,GAAD,UACE,eAAClN,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,mBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,OACZ+M,aAAcjS,EAAMsS,KACpBnN,UAAQ,EACRC,SAAW7F,IACTS,EAAMuS,QAAQhT,EAAE8F,OAAOC,MAAvB,OAKN,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,sBACA,cAACiM,GAAD,CACE9R,GAAG,UACHoE,SAAWhE,IACTS,EAAMwS,WAAWjT,EAAE8F,OAAOC,MAA1B,EAEFA,MAAOtF,EAAMyD,QACbyB,YAAY,0BACZ0L,MAAOiB,QAIX,eAAC/M,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,qBACA,cAACiM,GAAD,CACE9R,GAAG,SACHoE,SAAWhE,IACTS,EAAMyS,UAAUlT,EAAE8F,OAAOC,MAAzB,EAEFA,MAAOtF,EAAM0D,OACbwB,YAAY,yBACZ0L,MAAOgB,QAIX,eAAC9M,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,qDACA,cAACiM,GAAD,CACE9R,GAAG,mBACHoE,SAAWhE,IACTS,EAAM0S,oBAAoBnT,EAAE8F,OAAOC,MAAnC,EAEFA,MAAOtF,EAAMsD,iBACb4B,YAAY,gCACZ0L,MAAO,CACL,aACA,WACA,YACA,UACA,SACA,UACA,cACA,mBACA,OACA,uBACA,mBAQV,qBAAK1Q,UAAU,gBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,cAACuF,EAAA,EAAD,CACEE,QAAQ,UACRzF,UAAU,aACV0F,QAAUrG,IACRA,EAAEsG,iBAEF7F,EAAMoS,SAAS,EAAf,EANJ,kBAYA,cAAC3M,EAAA,EAAD,CACEE,QAAQ,UACRzF,UAAU,aAEV0F,QAAUrG,IACRA,EAAEsG,iBAG0B,eAAxB7F,EAAMsD,iBACRtD,EAAMoS,SAAS,GAEjBpS,EAAMoS,SAAS,EAAI,EAXvB,0BAwBJO,GAAU3S,GAEd,8BACE,cAACgS,GAAD,UACE,eAAClN,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,8BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,kBACZ+M,aAAcjS,EAAM4D,eACpBuB,UAAQ,EACRC,SAAW7F,IACTS,EAAM4S,kBAAkBrT,EAAE8F,OAAOC,MAAjC,OAKN,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACA,cAAC4E,EAAA,EAAKE,MAAN,wJACE,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,kBACZ+M,aAAcjS,EAAM6S,eACpB1N,UAAQ,EACRC,SAAW7F,IACTS,EAAM8S,kBAAkBvT,EAAE8F,OAAOC,MAAjC,OAKN,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACA,cAAC4E,EAAA,EAAKE,MAAN,+EACE,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,KACZ+M,aAAcjS,EAAM+S,iBACpB5N,UAAQ,EACRC,SAAW7F,IACTS,EAAMgT,oBAAoBzT,EAAE8F,OAAOC,MAAnC,OAKN,qBAAKpF,UAAU,gBAAf,SACA,sBAAKA,UAAU,MAAf,UACE,cAACuF,EAAA,EAAD,CACEE,QAAQ,UACRzF,UAAU,aACV0F,QAAUrG,IACRA,EAAEsG,iBAEF7F,EAAMoS,SAAS,EAAf,EANJ,kBAYA,cAAC3M,EAAA,EAAD,CACEE,QAAQ,UACRzF,UAAU,aAEV0F,QAAUrG,IACRA,EAAEsG,iBAG0B,eAAxB7F,EAAMsD,iBACRtD,EAAMoS,SAAS,GAEjBpS,EAAMoS,SAAS,EAAI,EAXvB,8BA2BJa,GAAUjT,GAEd,8BACE,cAACgS,GAAD,UACE,eAAClN,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,oDACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,UACZ+M,aAAcjS,EAAMkT,QACpB/N,UAAQ,EACRC,SAAW7F,IACTS,EAAMmT,WAAW5T,EAAE8F,OAAOC,MAA1B,OAKN,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACA,cAAC4E,EAAA,EAAKE,MAAN,0FACE,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,cACZ+M,aAAcjS,EAAMoT,sBACpBjO,UAAQ,EACRC,SAAW7F,IACTS,EAAMqT,yBAAyB9T,EAAE8F,OAAOC,MAAxC,OAKN,qBAAKpF,UAAU,gBAAf,SACA,sBAAKA,UAAU,MAAf,UACE,cAACuF,EAAA,EAAD,CACEE,QAAQ,UACRzF,UAAU,aACV0F,QAAUrG,IACRA,EAAEsG,iBAEF7F,EAAMoS,SAAS,EAAf,EANJ,kBAYA,cAAC3M,EAAA,EAAD,CACEE,QAAQ,UACRzF,UAAU,aAEV0F,QAAUrG,IACRA,EAAEsG,iBAGE7F,EAAMsD,iBACRtD,EAAMoS,SAAS,EAEE,EAXvB,8BA0BJkB,GAAUtT,GACc,eAAxBA,EAAMsD,iBAER,8BACE,eAAC2H,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,eAACC,GAAA,EAAD,WACGxT,EAAMkD,UADT,IACqBlD,EAAMmD,eAG7B,eAACgI,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAM+B,WAEvB,eAACoJ,GAAA,EAAD,CAAUjL,UAAU,gBAApB,UACE,cAACqT,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,eAACC,GAAA,EAAD,WACGxT,EAAMsS,KADT,KACiBtS,EAAMyD,QADvB,KACkCzD,EAAM0D,aAG1C,eAACyH,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAMsD,sBAEvB,eAAC6H,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAM4D,oBAEvB,eAACuH,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAM6S,oBAEvB,eAAC1H,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAM+S,sBAEvB,eAAC5H,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAMkT,aAEvB,eAAC/H,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAMoT,gCAQ3B,8BACE,eAACnI,GAAA,EAAD,WACE,eAACE,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,eAACC,GAAA,EAAD,WACGxT,EAAMkD,UADT,IACqBlD,EAAMmD,eAG7B,eAACgI,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAM+B,WAEvB,eAACoJ,GAAA,EAAD,CAAUjL,UAAU,gBAApB,UACE,cAACqT,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,eAACC,GAAA,EAAD,WACGxT,EAAMsS,KADT,KACiBtS,EAAMyD,QADvB,KACkCzD,EAAM0D,aAG1C,eAACyH,GAAA,EAAD,WACE,cAACoI,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,UAAexT,EAAMsD,2BAUzB0O,GAAY/E,KAAOC,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;EA2CdjJ,oBAdUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBsC,UAAWD,EAAMrC,KAAKsC,cAIEzD,IACnB,CACL+S,OAASC,GAAYhT,E/B/oBFgT,IACd,CAAChT,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,IAAIU,EACJ,OAAQoS,EAAQnQ,UACd,IAAK,YACL,IAAK,SACL,IAAK,UACL,IAAK,mBACL,IAAK,uBACL,IAAK,WACHjC,EAAO,iBACP,MACF,IAAK,cACHA,EAAO,mBACP,MACF,IAAK,UACHA,EAAO,iBACP,MACF,IAAK,OACHA,EAAO,aACP,MACF,IAAK,aACL,IAAK,WACHA,EAAO,kBACP,MACF,QACEA,EAAO,OAIX,MAAMT,EAAYD,IAAcC,YAC1BsB,EAAWvB,IACjBuB,EACGN,OACAe,+BAA+B8Q,EAAQ3R,MAAO2R,EAAQ7Q,UACtDzB,MAAM0B,IAwBL,IAAI6Q,EAvBJ9S,EACGC,WAAW,SACXC,IAAI+B,EAAKC,KAAK/B,KACdC,IAAI,CAEHiC,UAAWwQ,EAAQxQ,UACnBC,SAAUuQ,EAAQvQ,SAClBE,SAAUqQ,EAAQxQ,UAAU,GAAKwQ,EAAQvQ,SAAS,GAClDpB,MAAO2R,EAAQ3R,MACfuB,iBAAkBoQ,EAAQnQ,SAC1BC,KAAMkQ,EAAQlQ,KACdC,QAASiQ,EAAQjQ,QACjBC,OAAQgQ,EAAQhQ,OAEhBE,eAAgB8P,EAAQ9P,eACxBiP,eAAgBa,EAAQb,eACxBE,iBAAkBW,EAAQX,iBAC1BG,QAASQ,EAAQR,QACjBE,sBAAuBM,EAAQN,sBAC/B9R,KAAMA,IAiBc,UAXtBqS,EADW,mBAATrS,EACgB,iBACA,mBAATA,EACS,iBACA,eAATA,EACS,aACA,oBAATA,EACS,kBAEA,SAIlBT,EACGC,WAAW6S,GACX5S,IAAI+B,EAAKC,KAAK/B,KACdC,IAAI,CACHgC,KAAMyQ,EAAQxQ,UAAY,IAAMwQ,EAAQvQ,SACxCpB,MAAO2R,EAAQ3R,OAEpB,IAEFX,MAAK,KACJe,EAASN,OAAOgC,YAAYC,uBAA5B,IAED1C,MAAK,KACJV,EAAS,CAAEY,KAAM,kBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,eAAgBE,OAAjC,GAzDJ,E+B8mB8BiS,CAAOC,IACrCpC,cAAgBsC,GAAYlT,EAAS4Q,GAAcsC,OAIxC3P,EAtyBCjE,IAEd,MAAOkD,EAAWgP,GAAgB1N,mBAAS,KACpCrB,EAAUgP,GAAe3N,mBAAS,KAClCzC,EAAOwC,GAAYC,mBAAS,KAC5B3B,EAAU4B,GAAeD,mBAAS,KAGlC8N,EAAMC,GAAW/N,mBAAS,KAC1Bf,EAAS+O,GAAchO,mBAAS,KAChCd,EAAQ+O,GAAajO,mBAAS,KAC9BlB,EAAkBoP,GAAuBlO,mBAAS,KAGlDZ,EAAgBgP,GAAqBpO,mBAAS,KAC9CqO,EAAgBC,GAAqBtO,mBAAS,KAC9CuO,EAAkBC,GAAuBxO,mBAAS,KAGlD0O,EAASC,GAAc3O,mBAAS,KAChC4O,EAAuBC,GAA4B7O,mBAAS,KAI5DqP,EAAOzB,GAAY5N,mBAAS,IAE5BsP,EAAmBC,GAAwBvP,qBA6BlDI,qBAAU,KACJkP,IACFlM,GAAmB,QAASkM,GAC5BC,IACD,GACA,CAACD,IAGJ,MAAME,EAAa,KAEjB,MAAMC,EAAK,aAKX,IAAIC,EACY,KAAdhR,GAAiC,KAAbC,GAA6B,KAAVpB,GAA6B,KAAbc,EAErDsR,EACO,KAAT7B,GAA2B,KAAZ7O,GAA6B,KAAXC,GAAsC,KAArBJ,EAEhD8Q,EARF,uHAQUC,KAAKtS,GAEbuS,GAAML,EAAGI,KAAKlR,KAAc8Q,EAAGI,KAAKnR,GAEpCqR,GAAMN,EAAGI,KAAK/B,GAElB,SAAI4B,GAAMC,GAAMC,GAAME,GAAMC,KAgBxBR,EAbGG,EAEOC,EAIAC,EAEAE,EAEAC,EAGW,kCAFA,6BAFA,6BAFA,sCAHnB,gEAHmB,oDAchB,EACR,GAGG,UAAEpQ,GAAcnE,GACf0E,EAAYC,GAAiBH,oBAAS,GAmC7C,GAhCAI,qBAAU,KACR4P,KAAQC,UAAU,2CAClBD,KAAQE,gBAAgB,UAAxB,GACC,IAGH9P,qBAAU,KACJ5E,EAAM6B,KAAKb,MACb2D,GAAc,GACD,KAAT2N,GAA2B,KAAZ7O,GACjB+Q,KAAQG,YAAYrC,EAAO,IAAM7O,GAASrC,MAAMwT,IAC9C,IAAIvT,EAAS,CACX2B,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiB,EACjBoD,SAAUD,EAAS9L,QAAQ,GAAGgM,mBAAmB,GAAGC,UACpDC,OAAQ,CACNJ,EAAS9L,QAAQ,GAAGmM,SAASJ,SAASK,IACtCN,EAAS9L,QAAQ,GAAGmM,SAASJ,SAASM,OAI5CnV,EAAMsR,cAAcjQ,EAApB,IAGL,GACA,CAACrB,EAAM6B,KAAKb,MAGf4D,qBAAU,QAAU,CAACiP,IAEjBnP,EACF,OAAO,cAAC,IAAD,CAAUG,GAAG,aAGtB,OAAQgP,GACN,QACA,KAAK,EACH,OACE,eAAC9T,EAAD,CAAOO,SAAS,UAAhB,UACE,qBAAKJ,UAAU,0BAAf,SACE,8DAEF,cAAC6R,GAAD,CACEG,aAAcA,EACdhP,UAAWA,EACXiP,YAAaA,EACbhP,SAAUA,EACVoB,SAAUA,EACVxC,MAAOA,EACP0C,YAAaA,EACb5B,SAAUA,EACVuP,SAAUA,IAEZ,sBAAKlS,UAAU,8BAAf,UACE,0DACA,eAAC,IAAD,CAAMqF,MAAO,CAAEC,MAAO,WAAaX,GAAG,SAAtC,UACG,KADH,kBAOR,KAAK,EACH,OACE,eAAC9E,EAAD,CAAOO,SAAS,UAAhB,UACE,qBAAKJ,UAAU,0BAAf,SACE,8DAEF,cAACmS,GAAD,CACEE,QAASA,EACTD,KAAMA,EACNE,WAAYA,EACZ/O,QAASA,EACTgP,UAAWA,EACX/O,OAAQA,EACRgP,oBAAqBA,EACrBpP,iBAAkBA,EAClB8O,SAAUA,EACVT,UAAWE,QAInB,KAAK,EACH,OACE,eAAC9R,EAAD,CAAOO,SAAS,UAAhB,UACE,qBAAKJ,UAAU,0BAAf,SACE,gDAEF,cAACoT,GAAD,CACElB,SAAUA,EACVlP,UAAWA,EACXC,SAAUA,EACVpB,MAAOA,EACPuQ,KAAMA,EACN5O,OAAQA,EACRD,QAASA,EACTH,iBAAkBA,EAClBsP,kBAAmBA,EACnBhP,eAAgBA,EAChBuP,WAAYA,EACZD,QAASA,EACTJ,kBAAmBA,EACnBD,eAAgBA,EAChBG,oBAAqBA,EACrBD,iBAAkBA,EAClBM,yBAA0BA,EAC1BD,sBAAuBA,IAGzB,sBAAKlT,UAAU,gBAAf,UACE,qBAAKA,UAAU,aAAf,SACGiE,EAAY,kCAAKA,KAAiB,OAErC,8BACE,cAACsB,EAAA,EAAD,CACEF,MAAO,CAAE2G,MAAO,OAChBvG,QAAQ,UACRzF,UAAU,aACV0F,QAAUrG,GAAM6S,EAAS,GAJ3B,sBASF,qBAAKlS,UAAU,MAAf,SACE,cAACuF,EAAA,EAAD,CACEF,MAAO,CAAEG,WAAY,OACrBC,QAAQ,UACRzF,UAAU,iBACV0F,QAAUrG,IACRA,EAAEsG,iBAnNlB,WACE,IAAI5D,EAAO,CACTiB,UAAWA,EACXC,SAAUA,EACVE,SAAUH,EAAU,GAAKC,EAAS,GAClCpB,MAAOA,EACPc,SAAUA,EACVU,SAAUD,EACVE,KAAM8O,EACN7O,QAASA,EACTC,OAAQA,EACRE,eAAgBA,EAChBiP,eAAgBA,EAChBE,iBAAkBA,EAClBG,QAASA,EACTE,sBAAuBA,EACvB9R,KAAM,QAEJ0S,KACFvS,QAAQC,IAAI,UACZ1B,EAAMyT,OAAOxR,IAEbR,QAAQC,IAAI,QAEf,CA4LeoE,EAAc,EANlB,6BAgBR,KAAK,EACH,OACE,eAAC/F,EAAD,CAAOO,SAAS,UAAhB,UACE,qBAAKJ,UAAU,0BAAf,SACE,8DAEF,cAACyS,GAAD,CACEJ,QAASA,EACTD,KAAMA,EACNE,WAAYA,EACZ/O,QAASA,EACTgP,UAAWA,EACX/O,OAAQA,EACRgP,oBAAqBA,EACrBpP,iBAAkBA,EAClB8O,SAAUA,EACVT,UAAWE,GACXe,kBAAmBA,EACnBhP,eAAkBA,EAClBkP,kBAAmBA,EACnBD,eAAkBA,EAClBG,oBAAqBA,EACrBD,iBAAoBA,OAK1B,KAAK,EACH,OACE,eAAChT,EAAD,CAAOO,SAAS,UAAhB,UACE,qBAAKJ,UAAU,0BAAf,SACE,8DAEF,cAAC+S,GAAD,CACEV,QAASA,EACTD,KAAMA,EACNE,WAAYA,EACZ/O,QAASA,EACTgP,UAAWA,EACX/O,OAAQA,EACRgP,oBAAqBA,EACrBpP,iBAAkBA,EAClB8O,SAAUA,EACVT,UAAWE,GACXjO,eAAkBA,EAClBiP,eAAkBA,EAClBE,iBAAoBA,EACpBI,WAAYA,EACZD,QAAWA,EACXG,yBAA0BA,EAC1BD,sBAAyBA,OA5JvC,I,oFC/JK,SAASgC,GAAMpV,GACpB,MAAM,KAAEoO,EAAF,QAAQiH,EAAR,kBAAiBC,EAAjB,GAAoCzQ,EAApC,KAAwCqB,GAASlG,EAEvD,OACE,eAACuV,GAAA,EAAD,CAAQnH,KAAMA,EAAMoH,SAAS,KAAKC,WAAS,EAA3C,UACE,eAACC,GAAA,EAAD,WACG1V,EAAMO,SACP,cAAC,KAAD,CACE,aAAW,QACXqF,QAASyP,EACT7O,GAAI,CACFmP,SAAU,WACVC,MAAO,EACPC,IAAK,EACLrQ,MAAQsQ,GAAUA,EAAMC,QAAQC,KAAK,MAPzC,SAUE,cAAC,KAAD,SAGJ,cAAC3P,EAAD,CACEJ,QAAQ,OACRC,KAAMA,EACNN,QAAS0P,EACTlP,KAAMvB,MAIb,CAEM,SAASoR,GAAYjW,GAC1B,MAAOoO,EAAM8H,GAAW1R,oBAAS,GAUjC,OACE,qCACE,cAACyG,GAAA,EAAD,UACE,cAACE,GAAA,EAAD,CAAUjL,UAAU,gBAApB,SACE,eAACiW,GAAA,EAAD,CAAgBvQ,QAZA,KACtBsQ,GAAQ,EAAR,EAWM,UACE,cAAC3C,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,4BAIN,cAAC4B,GAAD,CACEhH,KAAMA,EACNiH,QAlBc,KAClBa,GAAQ,EAAR,EAkBIhQ,KAAK,UACLoP,kBAAmBtV,EAAMoW,cACzBvR,GAAI7E,EAAM6E,GALZ,iDAWL,C,OC5ED,SAASwR,GAAQrW,GACf,MAAMsW,EAAa,IAAGtW,EAAMuW,WAC5B,OACE,cAACD,EAAD,CAAWpW,UAAW,CAAC,UAAWF,EAAMiG,SAAxC,SAAmDjG,EAAMkG,MAE5D,CCRc,WAA0B,sC,OCI1B,SAASsQ,KACtB,OACE,qBAAKtW,UAAU,UAAf,SACE,qBAAKA,UAAU,OAAf,SACE,qBAAKC,IAAKsW,GAAWpW,IAAI,UAAUH,UAAU,aAIpD,C,gOCFc,SAASwW,GAA2B1W,GAG/C,MAAO2W,EAAaC,GAAkBpS,mBAAS,KACxChD,EAAKqV,GAAUrS,oBAAS,GA4B/B,OA1BAI,qBAAU,KACR,GAAI5E,EAAMyD,QAAS,CACjB,IAAIqT,EAAKnF,GAAUoF,MAAMC,GAAMA,EAAE/T,OAASjD,EAAMyD,UAC7CqT,GACCF,EAAeE,EAAGrX,KACvB,IACA,CAACO,EAAMyD,UAEVmB,qBAAU,KACJqS,aAAkCN,GAEhCO,aAAkBlX,EAAMmX,SAASC,OAAQT,IAG3CE,GAAO,GACP7W,EAAMqX,kBAAiB,KAEvBrX,EAAMqX,kBAAiB,GACvBR,GAAO,IAIT7W,EAAMqX,kBAAiB,EACxB,GACA,CAACrX,EAAMmX,WAGN,gCACA,cAACrS,EAAA,EAAKE,MAAN,uBACE,cAACF,EAAA,EAAKG,QAAN,CAAc3D,KAAK,WACnB4D,YAAY,WACZ+M,aAAcjS,EAAMmX,SACpB/R,SAAW7F,GAAMS,EAAMsX,YAAY/X,EAAE8F,OAAOC,SAE3C9D,GACC,qBAAKtB,UAAU,MAAf,8CAIX,CCkgCD,SAASqX,GAAWvX,GAClB,IAAI4K,EAgBJ,OAfAA,EAAO5K,EAAMwX,UAAUxY,KAAK4R,GAExB,cAACzF,GAAA,EAAD,UACE,eAACgL,GAAA,EAAD,CACEvQ,QAAS,KACP5F,EAAMyX,kBAAkB7G,EAAM8G,OAA9B,EAFJ,UAKE,cAACnE,GAAA,EAAD,UAAe3C,EAAMhK,OACrB,cAAC4M,GAAA,EAAD,UAAe5C,EAAMpI,WAPVoI,EAAM+G,OAalB,cAAC1M,GAAA,EAAD,UAAOL,GACf,CAED,MAAMgN,GAAe5X,IACnB,MAAM4Q,EAAQ,CACZ,CACE+G,IAAK,OACLnP,KAAMxI,EAAMkD,UAAY,IAAMlD,EAAMmD,SACpCuU,OAAQ,aACR9Q,KAAM,cAAC,KAAD,KAER,CACE+Q,IAAK,QACLnP,KAAMxI,EAAM+B,MACZ2V,OAAQ,cACR9Q,KAAM,cAAC,KAAD,KAER,CACE+Q,IAAK,WACLnP,KAAM,WACNkP,OAAQ,iBACR9Q,KAAM,cAAC,KAAD,KAER,CACE+Q,IAAK,WACLnP,KAAMxI,EAAMsS,KAAO,KAAOtS,EAAMyD,QAAU,KAAOzD,EAAM0D,OACvDgU,OAAQ,iBACR9Q,KAAM,cAAC,KAAD,KAER,CACE+Q,IAAK,iBACLnP,KAAMxI,EAAM4D,eACZ8T,OAAQ,uBACR9Q,KAAM,cAAC,KAAD,KACN,CACA+Q,IAAK,iBACLnP,KAAKxI,EAAM6S,eACX6E,OAAQ,uBACR9Q,KAAM,cAAC,KAAD,KACN,CACA+Q,IAAK,mBACLnP,KAAMxI,EAAM+S,iBACZ2E,OAAQ,yBACR9Q,KAAM,cAAC,KAAD,KACN,CACA+Q,IAAK,UACLnP,KAAMxI,EAAMkT,QACZwE,OAAQ,gBACR9Q,KAAM,cAAC,KAAD,KACN,CACA+Q,IAAK,wBACLnP,KAAMxI,EAAMoT,sBACZsE,OAAQ,8BACR9Q,KAAM,cAAC,KAAD,MAIV,OACE,qCACGC,OAAO7G,EAAMsB,MAAMuW,SAAS,OAC3B,6BAEA,qCACE,cAACN,GAAD,CACEC,UAAW5G,EACX6G,kBAAmBzX,EAAMyX,oBAE1B5Q,OAAO7G,EAAMsB,MAAMuW,SAAS,SAC3B,cAAC1M,GAAA,EAAD,UACE,eAACgL,GAAA,EAAD,CACEvQ,QAAS,KACP5F,EAAMyX,kBAAkB,oBAAxB,EAFJ,UAKE,cAAClE,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,+BATU,eAad,6BAEDxT,EAAMO,YAGX,cAAC+L,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACwF,GAAA,EAAD,UACE,eAACgL,GAAA,EAAD,CAAgBhQ,KAAK,iBAAiB2R,UAAU,IAAhD,UACE,cAACvE,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,8FAMJ,cAAClH,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACwF,GAAA,EAAD,UACE,eAACgL,GAAA,EAAD,CAAgBhQ,KAAK,WAAW2R,UAAU,IAA1C,UACE,cAACvE,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,8BAGJ,cAAClH,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACsQ,GAAD,CAAaG,cAAepW,EAAM+X,cAAelT,GAAG,eAnDxD,EAwDImT,GAAQhY,GAEV,8BACE,cAAC8E,EAAA,EAAD,UACE,eAACA,EAAA,EAAK8H,IAAN,WACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,aACZ+M,aAAcjS,EAAMkD,UACpB/D,GAAG,YACHiG,SAAW7F,GAAMS,EAAMkS,aAAa3S,EAAE8F,OAAOC,YAGjD,eAACR,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,qBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,UACL4D,YAAY,gBACZ+M,aAAcjS,EAAMmD,SACpBiC,SAAW7F,GAAMS,EAAMmS,YAAY5S,EAAE8F,OAAOC,mBASpD2S,GAASjY,GAEX,8BACE,eAAC8E,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,4BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,kBACZE,SAAW7F,GAAMS,EAAMuE,SAAShF,EAAE8F,OAAOC,YAG7C,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,+BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACL4D,YAAY,iBACZE,SAAW7F,GAAMS,EAAMyE,YAAYlF,EAAE8F,OAAOC,iBAQlD4S,GAAYlY,GAEd,8BACE,eAAC8E,EAAA,EAAD,WACE,qBAAK5E,UAAU,SAAf,SACE,6BACE,0FAGJ,cAAC4E,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,SACE,cAAC4E,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,cACZE,SAAW7F,GAAMS,EAAMuE,SAAShF,EAAE8F,OAAOC,gBAQ/C6S,GAAYnY,GAGd,8BACE,eAAC8E,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,mBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,UACL4D,YAAY,OACZ+M,aAAcjS,EAAMsS,KACpBlN,SAAW7F,IACTS,EAAMuS,QAAQhT,EAAE8F,OAAOC,MAAvB,OAKN,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,sBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,UACL4D,YAAY,UACZ+M,aAAcjS,EAAMyD,QACpB2B,SAAW7F,IACTS,EAAMwS,WAAWjT,EAAE8F,OAAOC,MAA1B,OAKN,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,qBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,UACL4D,YAAY,SACZ+M,aAAcjS,EAAM0D,OACpB0B,SAAW7F,GAAMS,EAAMyS,UAAUlT,EAAE8F,OAAOC,YAI7CtF,EAAMoY,eAAiB,cAACtT,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,SACpB,cAACwW,GAAD,CACAS,SAAUnX,EAAMmX,SAChBG,YAAatX,EAAMsX,YACnB7T,QAASzD,EAAMyD,QACf4U,cAAerY,EAAMqY,cACrBhB,iBAAkBrX,EAAMqX,qBAEZ,UAOlBiB,GAAetY,IACnB,MAAOoO,EAAM8H,GAAW1R,oBAAS,IAC1B+T,EAAKC,GAAUhU,mBAAS,KACxBiU,EAAaC,GAAkBlU,mBAAS,IAOzCoF,EAAc,KAClBsM,GAAQ,EAAR,EAgKF,GAA0B,OAAtBlW,EAAM2Y,kBAA8CC,IAAtB5Y,EAAM2Y,YACtC,IAAIE,EAAOlZ,OAAOmZ,OAAO9Y,EAAM2Y,aAEjC,OACE,gCACE,eAAC7T,EAAA,EAAD,WACE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,UACE,cAAC,GAAD,CAASuR,SAAS,IAAIrQ,KAAK,mBAE7B,cAAC8S,GAAA,EAAD,iBACGH,QADH,IACGA,OADH,EACGA,EAAM7Z,KAAI,CAACuZ,EAAKrN,IACf,eAAC8N,GAAA,EAAUnI,KAAX,CACEoI,QAAM,EAENlL,GAAG,KACH7N,UAAU,mDACV0F,QAAS,IAvLE2S,KACvBrC,GAAQ,GACRsC,EAAOD,EAAP,EAqL2BW,CAAgBX,GALjC,UAOE,sBAAKrY,UAAU,eAAf,UACE,qBAAKA,UAAU,UAAf,SAA0BqY,EAAItV,OAC7BsV,EAAIxW,SAEP,cAACoX,GAAA,EAAD,CAAOxT,QAAQ,UAAUyT,MAAI,EAA7B,SACGb,EAAInV,SAVF8H,UAgBb,cAACoB,GAAA,EAAD,IACA,eAACyM,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,UACE,cAAC,GAAD,CAASuR,SAAS,IAAIrQ,KAAK,yBAE7B,eAACpB,EAAA,EAAK8H,IAAN,CAAU1M,UAAU,OAApB,UACE,eAAC4E,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,aACZI,MAAOtF,EAAMqZ,aACbjU,SAAW7F,GAAMS,EAAMsZ,gBAAgB/Z,EAAE8F,OAAOC,YAGpD,eAACR,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,qBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,UACL4D,YAAY,gBACZI,MAAOtF,EAAMuZ,YACbnU,SAAW7F,GAAMS,EAAMwZ,eAAeja,EAAE8F,OAAOC,eAIrD,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,4BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,QACL4D,YAAY,cACZI,MAAOtF,EAAMyZ,SACbrU,SAAW7F,GAAMS,EAAM0Z,YAAYna,EAAE8F,OAAOC,YAGhD,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,uBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACL4D,YAAY,iBACZI,MAAOtF,EAAMyY,YACbrT,SAAW7F,GAAMS,EAAM0Y,eAAenZ,EAAE8F,OAAOC,YAGnD,eAACR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,mBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,aACZI,MAAOtF,EAAM2Z,QACbvU,SAAW7F,GAAMS,EAAM4Z,WAAWra,EAAE8F,OAAOC,kBAKnD,eAACiQ,GAAA,EAAD,CAAQF,QAASzL,EAAawE,KAAMA,EAAMoH,SAAS,KAAKC,WAAS,EAAjE,UACE,eAACC,GAAA,EAAD,sBACW6C,EAAIxW,MADf,aAEE,cAAC,KAAD,CACE,aAAW,QACX6D,QAASgE,EACTpD,GAAI,CACFmP,SAAU,WACVC,MAAO,EACPC,IAAK,EACLrQ,MAAQsQ,GAAUA,EAAMC,QAAQC,KAAK,MAPzC,SAUE,cAAC,KAAD,SAGJ,cAAC6D,GAAA,EAAD,UACE,eAAC/U,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,mCACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACL4D,YAAY,iBACZE,SAAW7F,GAAMmZ,EAAenZ,EAAE8F,OAAOC,cAI/C,cAACwU,GAAA,EAAD,UACE,cAACzT,EAAD,CACEJ,QAAQ,OACRC,KAAK,iBACLN,QAzRkB,KAC1B,IAAI5C,EACJ,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnB,MACF,IAAK,iBACHA,EAAmB,iBACnB,MACF,IAAK,aACHA,EAAmB,aACnB,MACF,IAAK,kBACHA,EAAmB,kBAIvB,IAAIf,EAAO,CACTe,iBAAkBA,EAClBhC,IAAKhB,EAAMgB,IACXe,MAAOwW,EAAIxW,MACXc,SAAU4V,GAEZzY,EAAM+Z,iBAAiB9X,GACvB2H,GAAa,WAwIf,EA6JauD,oBACblJ,aA7BuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBsC,UAAWD,EAAMrC,KAAKsC,UACtBjD,QAASgD,EAAM/B,SAASjB,QAExB8Y,aAAc9V,EAAMjC,KAAKmH,QACzBnH,KAAMiC,EAAMrD,UAAUoB,KAAKqW,gBAIH5X,IACnB,CACLiB,cAAgB0C,GAAU3D,EAASiB,EAAc0C,IACjD4V,YAAc5V,IAAU3D,UrCxlDAkB,EqCwlDqByC,ErCvlDxC,CAAC3D,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMuB,EAAWvB,IACXC,EAAYD,IAAcC,YAE1BwD,EAAQlC,EAASN,KAAKqY,kBAAkBC,WAC5CvY,EAAYG,MACZH,EAAYiB,UAGdV,EACGN,OACAgC,YAAYuW,6BAA6B/V,GACzCjD,MAAK,KACJe,EACGN,OACAgC,YAAYwW,wBAAwBzY,EAAY0Y,UAChDlZ,MAAK,IACGP,EAAUC,WAAW,SAASC,IAAIa,EAAYZ,KAAKuZ,OAAO,CAC/DxY,MAAOH,EAAY0Y,aAGtBlZ,MAAK,KACJV,EAAS,CAAEY,KAAM,wBAAjB,IAEDC,OAAOC,IACPd,EAAS,CAAEY,KAAM,qBAAsBE,OAAvC,GAZH,GAJJ,IAVwBI,KqCslDnB,EAGL4Y,cAAgBC,GAAU/Z,ErCzjDA+Z,IACrB,CAAC/Z,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC5BA,IAAcC,YAG7BC,WAAW,SACXC,IAAI0Z,EAAMzZ,KACVC,IAAI,IAAKwZ,EAAMvZ,SAAW,CAAEC,OAAO,IACnCC,MAAK,KACJV,EAAS,CAAEY,KAAM,0BAAjB,IAEDC,OAAOC,IACNC,QAAQC,IAAI,OACZhB,EAAS,CAAEY,KAAM,uBAAwBE,OAAzC,GATJ,EqCqjDmCgZ,CAAcC,IACjD1W,QAAS,IAAMrD,GrCpnDV,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC7BA,IAEdiB,OACAkC,UACA3C,MAAK,KACJV,EAAS,CAAEY,KAAM,mBAAjB,GAJJ,IqCmnDAgQ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,IACnD1Y,iBAAmBqC,GAAU3D,EAASsB,EAAiBqC,IACvD0V,iBAAmB1V,IAAU3D,UrClxCAuB,EqCkxC0BoC,ErCjxClD,CAAC3D,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAyB1CsB,EAAeC,IAASC,cATf,CACXC,OAAQ,0CACRC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,cACnBC,MAAO,4CAGyC,UAElD,IAAIC,EAEJT,EACGL,OACAyC,2BAA2BrC,EAAKF,MAAOE,EAAKY,UAC5CzB,MAAK,KACJuB,EAAST,EAAaL,OAAOgC,YAAY7C,IAGzCJ,IACGC,YACAC,WAAWmB,EAAKe,kBAChBjC,IAAIkB,EAAKjB,KACTF,WAAW,gBACXC,IAAI4B,GACJqB,SAGHpD,IAAcC,YAAYC,WAAW,SAASC,IAAI4B,GAAQqB,QAA1D,IAED5C,MAAK,KACJc,EAAaL,OAAOgC,YAAYG,QAAhC,IAED5C,MAAK,KACJc,EAAaL,OAAOkC,SAApB,IAED3C,MAAK,KACJc,EAAa8B,QAAb,IAED5C,MAAK,KACJV,EAAS,CAAEY,KAAM,qBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GA/BJ,IA9B6BS,KqC2wCxB,EAQLyP,iBAAmBzP,GAASvB,EAASgR,GAAiBzP,IACtD0Y,uBAAyBla,GAAaC,ErCltCHD,IAC9B,CAACC,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC5BA,IAAcC,YAG7BC,WAAW,eACXC,IAAIN,EAASO,KACbC,IAAI,IAAKR,EAASY,QAAU,CAAEF,OAAO,IACrCC,MAAK,KACJV,EAAS,CAAEY,KAAM,oBAAjB,IAEDC,OAAOC,IACNC,QAAQC,IAAI,OACZhB,EAAS,CAAEY,KAAM,iBAAkBE,OAAnC,GATF,EqC8sC6CmZ,CAAuBla,IACtEma,oBAAsB5Z,GAAQN,ErCjsCEM,IAC3B,CAACN,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC5BA,IAAcC,YAG7BC,WAAW,eACXC,IAAIC,GACJ6H,MACAzH,MAAMqJ,IACL/J,EAAS,CAAEY,KAAM,WAAYmI,QAASgB,EAASxI,QAA/C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,iBAAkBE,OAAnC,GARF,EqC6rCqCoZ,CAAoB5Z,QAQ7D6Z,6BAAkB7a,IAChB,IAAIgD,EACJ,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnB,MACF,IAAK,iBACHA,EAAmB,iBACnB,MACF,IAAK,aACHA,EAAmB,aACnB,MAEF,QACEA,EAAmB,kBAGvB,OAAKhD,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAYkC,EACZjC,IAAKf,EAAM6B,KAAKb,IAChB8Z,eAAgB,CAAC,CAAEha,WAAY,iBAC/Bia,QAAS,gBANe,EAC5B,IApBW5N,EA5kDf,SAAkBnN,GAGhB,MAAOgb,EAASC,GAAczW,oBAAS,GACvCI,qBAAU,KACRsW,YAAW,IAAMD,GAAW,IAAQ,KAApC,IAIF,MAAO/X,EAAWgP,GAAgB1N,mBAASxE,EAAMkB,QAAQgC,YAClDC,EAAUgP,GAAe3N,mBAASxE,EAAMkB,QAAQiC,WAChDpB,EAAOwC,GAAYC,mBAASxE,EAAM6B,KAAKE,QACvCc,EAAU4B,GAAeD,mBAAS,KAGlC6U,EAAcC,GAAmB9U,mBAAS,KAC1C+U,EAAaC,GAAkBhV,mBAAS,KACxCiV,EAAUC,GAAelV,mBAAS,KAClCiU,EAAaC,GAAkBlU,mBAAS,KACxCmV,EAASC,GAAcpV,mBAAS,KAChC2W,EAAiBC,GAAsB5W,sBAGvC8N,EAAMC,GAAW/N,mBAASxE,EAAMkB,QAAQsC,OACxCC,EAAS+O,GAAchO,mBAASxE,EAAMkB,QAAQuC,UAC9CC,EAAQ+O,GAAajO,mBAASxE,EAAMkB,QAAQwC,SAC5CyT,EAAUG,GAAe9S,mBAAS,KAClC6T,EAAehB,GAAoB7S,oBAAS,IAC5C4T,EAAgBiD,GAAqB7W,mBAASxE,EAAMkB,QAAQoa,aAE5DlM,EAAMmM,GAAW/W,mBAAS,OAC1B2E,EAAOqS,GAAYhX,mBAAS,KAC5BiX,EAASC,GAAclX,oBAAS,IAGhCZ,EAAgBgP,GAAqBpO,mBAAS,KAC9CqO,EAAgBC,GAAqBtO,mBAAS,KAC9CuO,EAAkBC,GAAuBxO,mBAAS,KAClD0O,EAASC,GAAc3O,mBAAS,KAChC4O,GAAuBC,IAA4B7O,mBAAS,IAsBnE,SAASiT,GAAkBkE,GACpBvM,EAEMA,IAASuM,EAClBJ,EAAQ,MACCnM,IAASuM,GAAYvM,GAC9BmM,EAAQI,GAJRJ,EAAQI,EAMX,CAmCD,SAASC,KACP,IAAI3Z,EAAO,CACTJ,KAAM7B,EAAM6B,KACZE,MAAO/B,EAAM6B,KAAKE,MAClBuY,SAAUvY,EACVf,IAAKhB,EAAM6B,KAAKb,IAChB6B,SAAUA,GAEZ7C,EAAMia,YAAYhY,GACbjC,EAAMmE,UAGTqX,EAASxb,EAAMmE,WAFfuX,GAAW,EAId,CA5ED9W,qBAAU,UACWgU,IAAf5Y,EAAMiC,MAAqC,OAAfjC,EAAMiC,KACpCmZ,EAAmBpb,EAAMiC,MAEzBmZ,EAAmB,CAAC,EACrB,GACA,CAACpb,EAAMiC,OAEV2C,qBAAU,KACR0S,EAAYtX,EAAMga,aAAa7C,SAA/B,GACC,CAACnX,EAAMga,eAGVpV,qBAAU,KACR4W,EAAS,IACTE,GAAW,EAAX,GACC,CAACtM,IAaJxK,qBAAU,KACR,IAAK5E,EAAM6B,KAAKb,IACd,OAAO,cAAC,IAAD,CAAU6D,GAAG,UACrB,GACA,CAAC7E,EAAM6B,KAAKb,MAGf4D,qBAAU,KACRsN,EAAalS,EAAMkB,QAAQgC,WAC3BiP,EAAYnS,EAAMkB,QAAQiC,UAC1BoB,EAASvE,EAAMkB,QAAQa,OACvBwQ,EAAQvS,EAAMkB,QAAQsC,MACtBgP,EAAWxS,EAAMkB,QAAQuC,SACzBgP,EAAUzS,EAAMkB,QAAQwC,QACxBkP,EAAkB5S,EAAMkB,QAAQ0C,gBAChCkP,EAAkB9S,EAAMkB,QAAQ2R,gBAChCG,EAAoBhT,EAAMkB,QAAQ6R,kBAClCI,EAAWnT,EAAMkB,QAAQgS,SACzBG,GAAyBrT,EAAMkB,QAAQkS,wBAGpCpT,EAAMkB,QAAQoa,YAActb,EAAMkB,QAAQ2a,YAC3CR,GAAkB,GAgKpBrb,EAAM4a,oBAAoB5a,EAAM6B,KAAKb,KACrCS,QAAQC,IAAI1B,EAAMga,cA/JjB,GACA,CAACha,EAAMkB,UAGV0D,qBAAU,KACR4P,KAAQC,UAAU,2CAClBD,KAAQE,gBAAgB,UAAxB,GACC,IA6OL,MAAMoH,GAAkB9b,GAEpB,8BACE,cAAC8E,EAAA,EAAD,UACE,cAACA,EAAA,EAAK8H,IAAN,UACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,aACZ+M,aAAcjS,EAAM4D,eACpBzE,GAAG,iBACHiG,SAAW7F,GAAMS,EAAM4S,kBAAkBrT,EAAE8F,OAAOC,kBAU1DyW,GAAkB/b,GAEpB,8BACE,cAAC8E,EAAA,EAAD,UACE,cAACA,EAAA,EAAK8H,IAAN,UACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,gCACZ+M,aAAcjS,EAAM6S,eACpB1T,GAAG,iBACHiG,SAAW7F,GAAMS,EAAM8S,kBAAkBvT,EAAE8F,OAAOC,kBAQ1D0W,GAAoBhc,GAEtB,8BACE,cAAC8E,EAAA,EAAD,UACE,cAACA,EAAA,EAAK8H,IAAN,UACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,gCACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,2BACZ+M,aAAcjS,EAAM+S,iBACpB5T,GAAG,mBACHiG,SAAW7F,GAAMS,EAAMgT,oBAAoBzT,EAAE8F,OAAOC,kBAS5D2W,GAAWjc,GAEb,8BACE,cAAC8E,EAAA,EAAD,UACE,cAACA,EAAA,EAAK8H,IAAN,UACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,qBACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,gBACZ+M,aAAcjS,EAAMkT,QACpB/T,GAAG,UACHiG,SAAW7F,GAAMS,EAAMmT,WAAW5T,EAAE8F,OAAOC,kBAUnD4W,GAAyBlc,GAE3B,8BACE,cAAC8E,EAAA,EAAD,UACE,cAACA,EAAA,EAAK8H,IAAN,UACE,eAAC9H,EAAA,EAAKC,MAAN,CACE7E,UAAU,OACVqF,MAAO,CAAEkL,gBAAiB,SAC1B1C,GAAIjB,KAHN,UAKE,cAAChI,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,oCACA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,+BACZ+M,aAAcjS,EAAMoT,sBACpBjU,GAAG,wBACHiG,SAAW7F,GAAMS,EAAMqT,yBAAyB9T,EAAE8F,OAAOC,kBAWrE,IAAKtF,EAAM6B,KAAKb,IAAK,OAAO,cAAC,IAAD,CAAU6D,GAAG,WACzC,GAAImW,EACF,OAAO,cAAC,GAAD,IAGT,OAAQ5L,GACN,IAAK,aACH,OACE,cAAC,GAAD,CACEhD,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAEhCiY,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAXtB,UAaE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACqS,GAAD,CACE9U,UAAWA,EACXgP,aAAcA,EACd/O,SAAUA,EACVgP,YAAaA,EACboJ,QAASA,IAEX,qBAAKrb,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBAtXlB,WACE,IAAI5D,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACPgC,UAAWA,EACXC,SAAUA,EACVE,SAAUH,EAAU,GAAKC,EAAS,KAGtCnD,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,8BAIjC,CAuWeuU,EAAY,MAIlB,qBAAKjc,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAK7C,IAAK,cACH,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCiY,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAVtB,UAYE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAAC,GAAD,CACE5D,MAAOA,EACPwC,SAAUA,EACVE,YAAaA,EACb8W,QAASA,EACTK,YAAaA,KAEf,qBAAK1b,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBACF+V,IAAa,MAInB,qBAAK1b,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,6DAAsC,YAK3D,IAAK,iBACH,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAftB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAAC,GAAD,CAAUpB,SAAUA,IACpB,qBAAKrE,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBA7dlB,WACE,IAAI5D,EAAO,CACTF,MAAOA,GAELA,IAAU/B,EAAM6B,KAAKE,OACvB/B,EAAM2B,cAAcM,GACpB2F,GAAmB,UAAW,0CAE9B4T,EAAS,0CAEZ,CAodeY,EAAgB,MAItB,sBAAKlc,UAAU,aAAf,UACGiJ,EAAQ,kCAAKA,KAAa,KAC1BnJ,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,aAKzD,IAAK,iBACH,OACE,cAAC,GAAD,CACEiI,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAftB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACwS,GAAD,CACE7F,KAAMA,EACNC,QAASA,EACT9O,QAASA,EACT+O,WAAYA,EACZ9O,OAAQA,EACR+O,UAAWA,EACX8I,QAASA,EACTnD,eAAgBA,EAChBjB,SAAUA,EACVG,YAAaA,EACbe,cAAeA,EACfhB,iBAAkBA,IAEpB,qBAAKnX,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBAvflB,WACE2O,KAAQG,YAAYrC,EAAO,IAAM7O,GAASrC,MAAMwT,IAC9C,IAAIvT,EAAS,CACX2B,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiB,EACjBoD,SAAUD,EAAS9L,QAAQ,GAAGgM,mBAAmB,GAAGC,UACpDC,OAAQ,CACNJ,EAAS9L,QAAQ,GAAGmM,SAASJ,SAASK,IACtCN,EAAS9L,QAAQ,GAAGmM,SAASJ,SAASM,OAI5CnV,EAAMsR,cAAcjQ,EAApB,IAGF,IAAIY,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACPsC,KAAM8O,EACN7O,QAASA,EACTC,OAAQA,IAGZ1D,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,iCAIjC,CAwdeyU,GACGjE,GA7ZnB,WACE,MAAMnW,EAAO,CACXjB,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACN8V,SAAUA,IAGdnX,EAAM2a,uBAAuB1Y,EAC9B,CAsZiBqa,EACD,EAEHtW,UAAWqS,MAGf,qBAAKnY,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAM7C,IAAK,oBACH,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCiY,QAASA,EACT9D,kBAAmBA,GACnB7T,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrC9R,KAAMtB,EAAMkB,QAAQI,KAftB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAAC2S,GAAD,CACEgB,gBAAiBA,EACjBE,eAAgBA,EAChBE,YAAaA,EACbhB,eAAgBA,EAChBkB,WAAYA,EACZjB,YAAawC,EACb9B,aAAcA,EACdE,YAAaA,EACbE,SAAUA,EACVhB,YAAaA,EACbkB,QAASA,EACTzY,QAASlB,EAAMkB,QACfF,IAAKhB,EAAM6B,KAAKb,IAChB+Y,iBAAkB/Z,EAAM+Z,mBAE1B,qBAAK7Z,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,qBACLN,QAAUrG,IACRA,EAAEsG,iBAthBlB,WACE,IAAI8N,EAAiB4I,EACM,mBAAvBvc,EAAMkB,QAAQI,MAChBqS,EAAkB,iBAClB4I,EAAU,gBACsB,mBAAvBvc,EAAMkB,QAAQI,MACvBqS,EAAkB,iBAClB4I,EAAU,gBACsB,eAAvBvc,EAAMkB,QAAQI,MACvBqS,EAAkB,aAClB4I,EAAU,YACsB,oBAAvBvc,EAAMkB,QAAQI,MACvBqS,EAAkB,kBAClB4I,EAAU,iBACsB,qBAAvBvc,EAAMkB,QAAQI,OACvBqS,EAAkB,mBAClB4I,EAAU,kBAGZ,IAAIta,EAAO,CACTe,iBAAkB2Q,EAClB3S,IAAKhB,EAAM6B,KAAKb,IAChBe,MAAO0X,EACP5W,SAAU4V,EACVvV,UAAWmW,EACXlW,SAAUoW,EACVnW,KAAMuW,EAENpW,SAAUvD,EAAMkB,QAAQoC,iBACxBE,KAAMxD,EAAMkB,QAAQsC,KACpBC,QAASzD,EAAMkB,QAAQuC,QACvBC,OAAQ1D,EAAMkB,QAAQwC,OACtBpC,KAAMib,GAGW,KAAjBlD,GACgB,KAAhBE,GACY,IAAZE,GACgB,KAAhBhB,GACY,KAAZkB,GAEA3Z,EAAMgC,iBAAiBC,GAClBjC,EAAMmE,UASTqX,EAASxb,EAAMmE,YARfuX,GAAW,GACX9T,GAAmB,UAAW,oCAC9B0R,EAAgB,IAChBE,EAAe,IACfE,EAAY,IACZhB,EAAe,IACfkB,EAAW,MAKbhS,GAAmB,QAAS,uCAE/B,CA+de4U,EAAkB,MAIxB,qBAAKtc,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,gDAAyB,YAK5C,IAAK,uBACL,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACC1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAfrB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACmW,GAAD,CACElY,eAAgBA,EAChBgP,kBAAmBA,EACnB2I,QAASA,IAEX,qBAAKrb,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBA7flB,WACE,IAAI5D,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACP0C,eAAgBA,IAGpB5D,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,yCAIjC,CAgfe6U,EAAsB,MAI5B,qBAAKvc,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAM3C,IAAK,uBACL,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACC1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAfrB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACoW,GAAD,CACElJ,eAAgBA,EAChBC,kBAAmBA,EACnByI,QAASA,IAEX,qBAAKrb,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBA/hBlB,WACE,IAAI5D,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACP2R,eAAgBA,IAGpB7S,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,yCAIjC,CAkhBe8U,EAAsB,MAI5B,qBAAKxc,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAM3C,IAAK,yBACH,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACC1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAfrB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACqW,GAAD,CACEjJ,iBAAkBA,EAClBC,oBAAqBA,EACrBuI,QAASA,IAEX,qBAAKrb,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBAjkBpB,WACE,IAAI5D,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACP6R,iBAAkBA,IAGtB/S,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,4CAIjC,CAojBiB+U,EAAwB,MAI9B,qBAAKzc,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAM7C,IAAK,gBACH,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAftB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACsW,GAAD,CACE/I,QAASA,EACTC,WAAYA,EACZoI,QAASA,IAEX,qBAAKrb,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBAplBpB,WACE,IAAI5D,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACPgS,QAASA,IAGblT,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,iCAIjC,CAukBiBgV,EAAe,MAIrB,qBAAK1c,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAM7C,IAAK,8BACL,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,eAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBH,iBAAkBtD,EAAMkB,QAAQoC,iBAChCM,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrCmI,QAASA,EACT9D,kBAAmBA,GACnBnW,KAAMtB,EAAMkB,QAAQI,KAftB,UAiBE,cAACgL,GAAA,EAAD,CAAS3G,QAAQ,WACjB,cAACuW,GAAD,CACE9I,sBAAuBA,GACvBC,yBAA0BA,GAC1BkI,QAASA,IAEX,qBAAKrb,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,OACRC,KAAK,UACLN,QAAUrG,IACRA,EAAEsG,iBArpBlB,WACE,IAAI5D,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBE,QAAS,CACPkS,sBAAuBA,KAG3BpT,EAAMwa,cAAcvY,GACfjC,EAAMmE,UAITqX,EAASxb,EAAMmE,YAHfuX,GAAW,GACX9T,GAAmB,UAAW,gDAIjC,CAwoBeiV,EAA6B,MAInC,qBAAK3c,UAAU,aAAf,SACGF,EAAMmE,UAAY,kCAAKnE,EAAMmE,aAAiB,OAEjD,qBAAKjE,UAAU,UAAf,SACGub,EAAU,+CAAwB,YAK7C,QACE,OACE,cAAC,GAAD,CACErP,OAAO,WACP9L,SAAS,iCACT8F,KAAK,WAHP,SAKE,cAACwR,GAAD,CACE1U,UAAWlD,EAAMkB,QAAQgC,UACzBC,SAAUnD,EAAMkB,QAAQiC,SACxBpB,MAAO/B,EAAM6B,KAAKE,MAClBuQ,KAAMtS,EAAMkB,QAAQsC,KACpBE,OAAQ1D,EAAMkB,QAAQwC,OACtBD,QAASzD,EAAMkB,QAAQuC,QACvBG,eAAgB5D,EAAMkB,QAAQ0C,eAC9BiP,eAAgB7S,EAAMkB,QAAQ2R,eAC9BE,iBAAkB/S,EAAMkB,QAAQ6R,iBAChCG,QAASlT,EAAMkB,QAAQgS,QACvBE,sBAAuBpT,EAAMkB,QAAQkS,sBACrC9P,iBAAkBtD,EAAMkB,QAAQoC,iBAChCiY,QAASA,EACT9D,kBAAmBA,GACnBM,cAAe/X,EAAM+D,QACrBzC,KAAMtB,EAAMkB,QAAQI,SAK/B,ICv1Bc2C,oBAZUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,SAIGnB,IACnB,CACLoc,mBAAqB7a,GAASvB,ETlJCuB,IAC1B,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAW,QACXC,IAAIkB,EAAKjB,KACTF,WAAW,gBACX2G,IAAIxF,EAAKZ,QACTD,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAVJ,ESgJuCsb,CAAmB7a,OAI/CgC,EAlNf,SAAuBjE,GACrB,MAAO+c,EAAaC,GAAkBxY,mBAASyY,UACxCC,EAAaC,GAAkB3Y,mBAAS,KACxC4Y,EAAMC,GAAW7Y,mBAAS,KAC1B8Y,EAAcC,GAAmB/Y,mBAAS,KAC1CgZ,EAAQC,GAAajZ,mBAAS,KAC9BkZ,EAAaC,GAAkBnZ,mBAAS,KAExCoZ,EAAUC,GAAerZ,oBAAS,GAoCzC,OACE,eAAC,GAAD,CAAU4H,OAAO,gBAAgB9L,SAAS,GAAG8F,KAAK,YAAlD,UACE,cAACtB,EAAA,EAAD,UACE,sBAAwB5E,UAAU,OAAlC,UACE,eAAC4E,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,6CACA,cAACF,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACLyc,QAAM,EACN7W,MAAM,MACNjE,KAAK,cACL9D,GAAG,MACHyG,QAAUrG,GAAMyd,GAAe,KAEjC,cAAClY,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACLyc,QAAM,EACN7W,MAAM,KACNjE,KAAK,cACL9D,GAAG,KACHyG,QAAUrG,GAAMyd,GAAe,QAGnC,eAAClY,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,uDACA,cAACF,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,eACNjE,KAAK,qBACL3B,KAAK,QACLnC,GAAG,QACHyG,QAAUrG,GAAM4d,EAAe5d,EAAE8F,OAAOlG,MAE1C,cAAC2F,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,qBACNjE,KAAK,qBACL3B,KAAK,QACLnC,GAAG,SACHyG,QAAUrG,GAAM4d,EAAe5d,EAAE8F,OAAOlG,MAE1C,cAAC2F,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,kBACNjE,KAAK,qBACL3B,KAAK,QACLnC,GAAG,QACHyG,QAAUrG,GAAM4d,EAAe5d,EAAE8F,OAAOlG,SAG3B,WAAhB+d,EACC,eAACpY,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,iEAGA,cAACF,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,MACNjE,KAAK,oBACL3B,KAAK,QACLnC,GAAG,yBACHyG,QAAUrG,GAAM8d,EAAQ9d,EAAE8F,OAAOlG,MAEnC,cAAC2F,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,KACNjE,KAAK,oBACL3B,KAAK,QACLnC,GAAG,gBACHyG,QAAUrG,GAAM8d,EAAQ9d,EAAE8F,OAAOlG,SAGnC,KAEJ,cAACmN,GAAA,EAAD,CAAS3G,QAAQ,WAEjB,eAACb,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,0CACA,cAACF,EAAA,EAAKgZ,MAAN,CACEC,QAAM,EACN7W,MAAM,OACNjE,KAAK,gBACL3B,KAAK,QACLnC,GAAG,OACHyG,QAAUrG,GAAMge,EAAgBhe,EAAE8F,OAAOlG,MAE3C,cAAC2F,EAAA,EAAKgZ,MAAN,CACEC,QAAM,EACN7W,MAAM,QACNjE,KAAK,gBACL3B,KAAK,QACLnC,GAAG,QACHyG,QAAUrG,GAAMge,EAAgBhe,EAAE8F,OAAOlG,MAE3C,cAAC2F,EAAA,EAAKgZ,MAAN,CACEC,QAAM,EACN7W,MAAM,QACNjE,KAAK,gBACL3B,KAAK,QACLnC,GAAG,QACHyG,QAAUrG,GAAMge,EAAgBhe,EAAE8F,OAAOlG,SAG7C,eAAC2F,EAAA,EAAKC,MAAN,CAAY7E,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,2DAGA,cAAC,GAAD,CACE7F,GAAG,SACH8G,QAAQ,OACRhE,KAAMub,EACNja,SAAWhE,IACTke,EAAUle,EAAV,EAEFqR,MAzHH,CACL,OACA,OACA,OACA,MACA,cACA,QACA,WACA,cAoHI,eAAC9L,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,mEAGA,cAACF,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,gBACNjE,KAAK,YACL3B,KAAK,QACLnC,GAAG,gBACHyG,QAAUrG,GAAMoe,EAAepe,EAAE8F,OAAOlG,MAE1C,cAAC2F,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,mBACNjE,KAAK,YACL3B,KAAK,QACLnC,GAAG,mBACHyG,QAAUrG,GAAMoe,EAAepe,EAAE8F,OAAOlG,MAE1C,cAAC2F,EAAA,EAAKgZ,MAAN,CACE5W,MAAM,gBACNjE,KAAK,YACL3B,KAAK,QACLnC,GAAG,gBACHyG,QAAUrG,GAAMoe,EAAepe,EAAE8F,OAAOlG,WApIrC,kBAyIX,qBAAKe,UAAU,UAAf,SAA0B0d,EAAW,wCAAiB,OACtD,qBAAK1d,UAAU,SAAf,SACE,cAACmG,EAAD,CACEJ,QAAQ,QACRC,KAAK,SACLN,QAAUrG,KAnLlB,WACE,IAAI0C,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACN0b,YAAaA,EACbG,YAAaA,EACbE,KAAMA,EACNE,aAAcA,EACdE,OAAQA,EACRE,YAAaA,IAGjB1d,EAAM8c,mBAAmB7a,GACzB2F,GACE,UACA,wIAEFiW,GAAY,EACb,CAkKSG,EAAc,QAMzB,IC9KK,MAAMhR,GAAYC,KAAOC,GAAI;;;;;;;;;;;;;QAgBpB+Q,OA/Cf,WACI,OACI,cAAC,IAAMC,SAAP,UACA,eAACtR,GAAA,EAAD,CAAK1M,UAAU,iGAAf,UACA,cAAC4M,GAAA,EAAD,CAAK5M,UAAU,sCAAsCie,GAAI,KACzD,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC7B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,GAAGie,GAAI,GAAIC,GAAI,IACtB,cAACtR,GAAA,EAAD,CAAK5M,UAAU,+EAA+Eie,GAAI,GAAIC,GAAI,EAA1G,SACE,cAAC,GAAD,UAEF,cAAClQ,GAAA,EAAD,UACF,cAACA,GAAA,EAAKhE,KAAN,UACG,eAACgE,GAAA,EAAKG,KAAN,CAAWnO,UAAU,cAArB,UACA,oBAAIA,UAAU,iBAAd,kCACF,oBAAIA,UAAU,oBAAd,sEAOC,cAAC4M,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,GAAIC,GAAI,IACvC,cAACtR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KACrC,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,SAMpC,ECzBP,MAAME,WAAuBC,YAAW,cAAD,yBAErCpa,MAAO,CACLnC,MAAO,IAH4B,KAMrCwc,aAAgBhf,IACdif,KAAKC,SAAS,CACV,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAD5B,EAPmC,KAYrCQ,aAAgBvG,IACZA,EAAEsG,iBACF2Y,KAAKxe,MAAM2B,cAAc6c,KAAKta,MAA9B,CAdiC,CAkBrCwa,SACE,MAAM,UAAEva,EAAF,KAAatC,GAAS2c,KAAKxe,MACjC,OAAG6B,EAAKb,IAAY,cAAC,IAAD,CAAU6D,GAAG,aAG/B,cAAC,IAAMqZ,SAAP,UACJ,eAACtR,GAAA,EAAD,CAAK1M,UAAU,gGAAf,UACA,cAAC4M,GAAA,EAAD,CAAK5M,UAAU,sCAAsCie,GAAI,KACzD,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC7B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,GAAGie,GAAI,GAAIC,GAAI,IACtB,cAACtR,GAAA,EAAD,CAAK5M,UAAU,+EAA+Eie,GAAI,GAAIC,GAAI,EAA1G,SACE,cAAC,GAAD,UAEF,cAAClQ,GAAA,EAAD,UACF,cAACA,GAAA,EAAKhE,KAAN,UACG,cAACgE,GAAA,EAAKG,KAAN,UAEA,eAAC,GAAD,WACC,oBAAInO,UAAU,cAAd,4BACA,eAAC4E,EAAA,EAAD,CAAMuI,SAAUmR,KAAK1Y,aAArB,UACA,eAAChB,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,oBACA,cAACF,EAAA,EAAKG,QAAN,CAAc3D,KAAK,QAAQnC,GAAG,QAAQ+F,YAAY,QAAQC,UAAQ,EAACC,SAAUoZ,KAAKD,kBAEpF,cAACzZ,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,cAAtB,SACA,cAACxI,EAAA,EAAD,CAAQE,QAAQ,OAAOrE,KAAK,SAA5B,iCAKA,mBAAGpB,UAAU,uBAAb,SAEA,cAAC,IAAD,CAAM2E,GAAG,SAAS3E,UAAU,oBAA5B,uCAEA,oBAAGA,UAAU,qBAAb,iCAAsD,cAAC,IAAD,CAAM2E,GAAG,UAAU3E,UAAU,WAA7B,wBAAtD,wBACA,qBAAKA,UAAU,aAAf,SAA6BiE,EAAY,kCAAKA,KAAiB,oBAQjE,cAAC2I,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,GAAIC,GAAI,IACvC,cAACtR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KACrC,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,SAMpC,EAGD,MAAMnM,GAAY/E,KAAOC,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+BvBF,GAAYC,KAAOC,GAAI;;;;;;;;;EA0BdjJ,oBAdUC,IACjB,CACFC,UAAWD,EAAMrC,KAAKsC,UACtBtC,KAAMqC,EAAM/B,SAASN,SAGCnB,IACpB,CACFiB,cAAgB0C,GAAU3D,EAASiB,EAAc0C,OAMxCJ,CAA6Coa,IC1I7C,OAA0B,+CCA1B,OAA0B,+CCA1B,OAA0B,uCCA1B,OAA0B,4C,UCczC,SAASM,KACP,OACE,eAACzQ,GAAA,EAAD,CAAMhO,UAAU,iBAAhB,UACE,cAAC,KAAD,CAAWA,UAAU,YAAY0e,KAAK,wBACtC,sBAAM1e,UAAU,QAAhB,wCAGL,CAkGc+D,oBANUC,IAChB,CACLhD,QAASgD,EAAM/B,SAASjB,WAIb+C,EAhGf,SAAoBjE,GAClB,MAAO6e,EAAQC,GAAata,oBAAS,IAC9Bua,EAAMC,GAAWxa,mBAAS,cAkBjC,OAJAI,qBAAU,KAZJ5E,EAAMkB,QAAQoC,iBAChBwb,GAAU,GAIR9e,EAAMkB,QAAQoa,WAChB0D,EAAQ,cAERA,EAAQ,YAKI,IAId,qCACE,eAAC,GAAD,CAAU5S,OAAO,4BAA4BhG,KAAK,WAAlD,UACE,cAACuY,GAAD,IACA,qBAAKze,UAAU,aAAf,SACE,8BACE,sCADF,2TAQF,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,YAAYC,IAAK8e,GAAa5e,IAAI,KACjD,qBAAKH,UAAU,mBAAf,SACE,wDAGJ,qBAAKA,UAAU,YAAf,SACE,mBAAGA,UAAU,QAAb,kdAUDF,EAAMkB,QAAQoC,iBACb,qBAAKpD,UAAU,SAAf,SACE,cAACmG,EAAD,CACEH,KAAK,uBACLE,KAAK,aACLH,QAAQ,aAId,mBAAGE,KAAK,iGAAR,SACE,qBACEjG,UAAU,YACVC,IAAK+e,GACL7e,IAAI,yCAIV,qBAAKH,UAAU,UAAf,SACE,iDAEF,eAAC0M,GAAA,EAAD,CAAKrH,MAAO,CAAEkL,gBAAiB,SAA/B,UACE,cAAC3D,GAAA,EAAD,UACE,qBACE5M,UAAU,YACVC,IAAKgf,GACL9e,IAAI,wBAGR,cAACyM,GAAA,EAAD,UACE,qBACE5M,UAAU,YACVC,IAAKif,GACL/e,IAAI,2BAMf,ICvGD,MAAMgf,WAAuBf,YAAW,cAAD,yBACrCpa,MAAQ,CACNrB,SAAU,IAFyB,KAKrC0b,aAAgBhf,IACdif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAD1B,EANmC,KAWrCQ,aAAgBvG,IACdA,EAAEsG,iBACF2Y,KAAKxe,MAAMsf,eAAed,KAAKta,MAA/B,CAbmC,CAgBrCwa,SACE,MAAM,KAAE7c,EAAF,UAAQsC,GAAcqa,KAAKxe,MACjC,OAAK6B,EAAKb,IAGR,cAAC,IAAMkd,SAAP,UACE,eAACtR,GAAA,EAAD,CAAK1M,UAAU,uGAAf,UACE,cAAC4M,GAAA,EAAD,CAAK5M,UAAU,sCAAsCie,GAAI,KACzD,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC/B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,GAAGie,GAAI,GAAIC,GAAI,IAC9B,cAACtR,GAAA,EAAD,CACE5M,UAAU,+EACVie,GAAI,GACJC,GAAI,EAHN,SAKE,cAAC,GAAD,UACE,cAAClQ,GAAA,EAAD,UACE,cAACA,GAAA,EAAKhE,KAAN,UACE,cAACgE,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,WACE,qBAAKnO,UAAU,gBACf,oBAAIA,UAAU,cAAd,6BACA,eAAC4E,EAAA,EAAD,CAAMuI,SAAUmR,KAAK1Y,aAArB,UACE,eAAChB,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,2BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,WACLnC,GAAG,WACH+F,YAAY,eACZC,UAAQ,EACRC,SAAUoZ,KAAKD,kBAInB,cAACzZ,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,cAAtB,SACE,cAACxI,EAAA,EAAD,CAAQE,QAAQ,OAAOrE,KAAK,SAA5B,kCAKJ,mBAAGpB,UAAU,0BAAb,SACE,cAAC,IAAD,CAAM2E,GAAG,WAAW3E,UAAU,SAA9B,sBAIF,qBAAKA,UAAU,aAAf,SACGiE,EAAY,kCAAKA,KAAiB,oBAQjD,cAAC2I,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,GAAIC,GAAI,IACvC,cAACtR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC/B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,UAtDf,cAAC,IAAD,CAAUtZ,GAAG,UA0DpC,EAGH,MAAMmN,GAAY/E,KAAOC,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;EA6BvBF,GAAYC,KAAOC,GAAI;;;;;;;;EAsBdjJ,oBAZUC,IAChB,CACLC,UAAWD,EAAMrC,KAAKsC,UACtBtC,KAAMqC,EAAM/B,SAASN,SAGGnB,IACnB,CACL4e,eAAiBjb,IAAU3D,U9CzGAkB,E8CyGwByC,E9CxG9C,CAAC3D,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC7BA,IAEdiB,OACAgC,YAAYyb,eAAe1d,EAAYiB,UACvCzB,MAAK,KACJV,EAAS,CAAEY,KAAM,kBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,eAAgBE,OAAjC,GAPJ,IAH2BI,K8CwGtB,KAKMqC,CAA6Cob,I,mGCuD7ClS,oBACblJ,aAjBuBC,IAEhB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,QAExBe,KAAMiC,EAAMrD,UAAUoB,KAAKsd,YAIH7e,IACnB,CACL8e,WAAa9E,IAAYha,UlB9EFuB,EkB8EsByY,ElB7ExC,CAACha,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAWmB,EAAKe,kBAChB6F,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,WAAYmI,QAASxH,GAAtC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,iBAAkBE,OAAnC,GAZJ,IAFuBS,KkB6ElB,MAOP4Y,6BAAkB7a,GACXA,EAAM6B,KACJ,CACL,CACEf,WAAY,UACZia,QAAS,YAJW,KAHb5N,EAjLFnN,IACX,MAAOyf,EAAeC,GAAelb,mBAAS,IAG9CI,qBAAU,KACR8a,EAAY,IACO,OAAf1f,EAAMiC,WAAgC2W,IAAf5Y,EAAMiC,MAC/B0d,GACD,GAEA,CAAC3f,EAAMiC,OAGV,MAAM0d,EAAYvV,UAChB,IAAImV,EAAU5f,OAAOmZ,OAAO9Y,EAAMiC,MAE9B2d,EAAgB,GACpBL,EAAQvW,SAASjI,IACf,IAAImK,EAAQ0U,EAAcC,WAAWC,GAAMA,EAAEjL,WAAa9T,EAAI8T,WAE1DkL,EAAM,CACRtO,gBAAiB1Q,EAAI0Q,gBACrBoD,SAAU9T,EAAI8T,SACdG,OAAQjU,EAAIiU,OACZyF,MAAO,IAIM,IAAXvP,EACF0U,EAAcjV,KAAKoV,IAEnBH,EAAc1U,GAAOuG,iBAAmB1Q,EAAI0Q,gBAC5CmO,EAAc1U,GAAOuP,OAAS,EAC/B,IAGHmF,EAAc5W,SAASjI,IACrB,IACE,IAAIgf,EAAM,CACR7K,IAAKnU,EAAIiU,OAAO,GAChBG,IAAKpU,EAAIiU,OAAO,GAChBH,SAAU9T,EAAI8T,SACd4F,MAAO1Z,EAAI0Z,MACXhJ,gBAAiB1Q,EAAI0Q,iBAEvBiO,GAAaM,GAAa,IAAIA,EAAUD,IAGzC,CAFC,MAAOve,GAER,IAZH,EAkBIye,EAAS,CAAEza,MAAO,UAAW0a,UAAW,UAAWC,YAAa,IAChEC,EAAQ,CAAE5a,MAAO,UAAW0a,UAAW,UAAWC,YAAa,IAGrE,SAASE,EAAUrgB,GAEjB,IAAIwF,EAEFA,EADExF,EAAMya,OAAS,GACT2F,EAIAH,EAIV,IAAIK,EAAS,OAGb,OAFItgB,EAAMya,MAAQ,IAAG6F,EAAS,SAG5B,cAACC,GAAA,EAAD,CACEC,OAAQ,CAACxgB,EAAMkV,IAAKlV,EAAMmV,KAC1BsL,YAAajb,EACbkb,OAAQ,GAHV,SAKE,eAAC,KAAD,WACG1gB,EAAM6U,SADT,KACqB7U,EAAMya,MAD3B,IACmC6F,MAIxC,CA6BD,OAAKtgB,EAAM6B,KAAKb,IAEd,cAAC,GAAD,CAAUoL,OAAO,YAAYhG,KAAK,WAAlC,SACE,eAACua,GAAA,EAAD,CACEzgB,UAAU,WACVsgB,OAAQ,CAAC,EAAG,GACZI,KAAM,IACNC,QAAS,IACTC,QAAS,GACTC,iBAAiB,EACjBC,UAAW,CACT,CAAC,WAAY,YACb,EAAE,UAAW,aATjB,UAYE,cAACC,GAAA,EAAD,CACEC,YAAY,qFACZC,IAAI,uDAEN,cAAC,KAAD,CACEC,mBA9CwB,SAAUC,GACxC,IAAI9gB,EAAW8gB,EAAQC,qBACnBC,EAAM,EAEVhhB,EAASyI,SAASwY,IAChBD,GAAOC,EAAMC,SAASC,QAAQnhB,SAAS,EAAvC,IAIF,IAAIyW,EAAI,IASR,OAPEA,GADEuK,EAAM,GACH,QAIA,SAGAI,KAAEC,QAAQ,CACfC,KAAO,MAAKN,QACZrhB,UAAW,wBAA0B8W,EACrC8K,SAAUH,KAAEI,MAAM,GAAI,IAAI,IAE7B,EAwBOC,eAAgB,CACdC,OAAQ,EACRC,QAAS,EACT/B,YAAa,GACbgC,aAAc,IAEhBC,qBAAqB,EACrBC,iBAAkB,GATpB,SAWG5C,EAAczgB,KACb,CAAC,EAAgDkM,KAAjD,IAAC,IAAEgK,EAAF,IAAOC,EAAP,gBAAY1D,EAAZ,SAA6BoD,EAA7B,MAAuC4F,GAAxC,SACE,cAAC4F,EAAD,CAEEnL,IAAKA,EACLC,IAAKA,EACL1D,gBAAiBA,EACjBoD,SAAUA,EACV4F,MAAOA,GALFvP,EAFT,WA/BkB,cAAC,IAAD,CAAUrG,GAAG,UACzC,I,4BC/Gayd,OAjBf,WACC,OACC,qBACCC,MAAM,6BACNrW,MAAM,KACNoD,OAAO,KACPkT,KAAK,OACLC,QAAQ,YALT,SAOC,sBACCD,KAAK,UACLE,EAAE,oDAIL,E,UC0CcC,OAtDf,WAEC,MAAMC,EAAiBC,aAAU,CAChCC,cAAe,CACdC,WAAY,IAEb1V,SAAWyL,IACVrX,QAAQC,IAAIoX,EAAZ,IAWF,OACC,sBAAK5Y,UAAU,YAAf,UACC,wBACC0F,QAVuBN,MAWvBpF,UAAU,iCAFX,SAIC,cAAC,GAAD,MAED,uBACCmN,SAAUuV,EAAe9c,aACzB5F,UAAU,kBACV+Y,OAAO,GAHR,UAKC,uBACC9Z,GAAG,aACH8D,KAAK,aACL3B,KAAK,SACL4D,YAAY,IACZE,SAAUwd,EAAerE,aACzBjZ,MAAOsd,EAAe9J,OAAOiK,aAE9B,wBAAQzhB,KAAK,SAASpB,UAAU,iCAAhC,mBAKD,wBACC0F,QA/BmBN,MAgCnBpF,UAAU,kCAFX,SAIC,cAAC,GAAD,QAIH,E,qBCMc+D,oBAdUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLsiB,WAAa/gB,GAASvB,ErBgfCuB,IAClB,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAI/CA,IACCzH,WAAW,eACXC,IAAIkB,EAAKjB,KACTF,WAAW,YACX2G,IAAIxF,EAAKZ,QACTD,MAAMsG,IAELa,IACGzH,WAAW,eACXC,IAAIkB,EAAKjB,KACTF,WAAW,YACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,gBAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,qBAAsBE,OAAvC,GAhBF,EqBrf+BwhB,CAAW/gB,IAC1CghB,mBAAqBhhB,GAASvB,E3C+CCuB,IAC1B,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/CA,IACCzH,WAAW,aACXC,IAAIkB,EAAKqH,OACTrI,IAAI,CAACsI,OAAQtH,EAAKsH,QAAS,CAAEpI,OAAO,IAClCC,MAAK,IAAMV,EAAS,CAAEY,KAAM,gBAAiBW,WAC7CV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GANJ,E2ClDuCyhB,CAAmBhhB,OAK/CgC,EArDf,SAAsBjE,GAsBpB,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,oBAAf,SACE,cAAC,KAAD,CACE,aAAW,oBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KAzBIwE,WACnB,MAAMnI,EAAO,CACXjB,IAAKhB,EAAMgB,IACXsI,MAAOtJ,EAAMsJ,MACbC,OAAQ,cACRlI,OAAQ,CACNyJ,KAAM9K,EAAM8K,KACZxB,MAAOtJ,EAAMsJ,MACbC,OAAQ,gBAGZ9H,QAAQC,IAAI,YAAaO,GACzBjC,EAAMgjB,WAAW/gB,GACjBjC,EAAMijB,mBAAmBhhB,GACzB2F,GAAmB,UAAW,gCAA9B,EAYQyC,EAAc,EAJlB,SAOE,cAAC,KAAD,CAAU5D,SAAS,YAK5B,I,gCC/CM,MAAMyc,GAAgBC,GACpB,CAACziB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACX2G,IAAI0b,EAAO9hB,QACXD,MAAMsG,IAEL9G,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,gBAAiB6hB,UAAlC,IAED5hB,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAlBJ,EAqHS4hB,GAAiBnhB,GACrB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIkB,EAAK9C,IACT8B,IAAIgB,EAAKZ,OAAQ,CAAEF,OAAO,IAC1BC,MAAK,IAAMK,QAAQC,IAAI,2BACvBH,OAAOC,IACNd,EAASe,QAAQC,IAAI,0BAA2BF,GAAhD,GATJ,ECZWyC,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL2iB,iBAAmBphB,GAASvB,E7CcCuB,IACxB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAI9CA,IACGC,YACAC,WAAW,aACXC,IAAIkB,EAAK9C,IACT8B,IAAIgB,EAAKZ,OAAQ,CAAEF,OAAO,IAC1BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,YAAaW,WACzCV,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GAPJ,E6CnBqC6hB,CAAiBphB,OAI3CgC,EA9Jf,SAA0BjE,GACxB,MAAO8K,EAAMwY,GAAW9e,mBAASxE,EAAM8K,MAcvC,OACE,eAAChG,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBAfa,MACnB,MAAM5D,EAAO,CACX9C,GAAIa,EAAMb,GACVkC,OAAQ,CACNkiB,SAAUzY,IAGd9K,EAAMqjB,iBAAiBphB,GACvB2F,GAAmB,UAAW,yBAA9B,EAQI9B,GACA9F,EAAMwjB,iBAAN,EAJJ,UAQG1Y,EAAK9L,KAAI,CAACwJ,EAAMib,IACf,sBAAKvjB,UAAU,OAAf,UACE,eAAC4E,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,yBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACHiG,SAAW7F,IACT+jB,EAAQ,IACHxY,EAAK4Y,MAAM,EAAGD,GACjB,CACExhB,KAAM1C,EAAE8F,OAAOC,MACf4D,SAAUV,EAAKU,SACfuC,QAASjD,EAAKiD,QACdC,MAAO,EACPiY,SAAU,QAET7Y,EAAK4Y,MAAMD,EAAI,EAAG3Y,EAAKE,SAT5B,EAYFiH,aAAczJ,EAAKvG,UAIvB,cAAC6C,EAAA,EAAKC,MAAN,UACE,eAAC6e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,IACT+jB,EAAQ,IACHxY,EAAK4Y,MAAM,EAAGD,GACjB,CACExhB,KAAMuG,EAAKvG,KACXiH,SAAU3J,EAAE8F,OAAOC,MACnBmG,QAASjD,EAAKiD,QACdC,MAAO,EACPC,SAAU,OAETb,EAAK4Y,MAAMD,EAAI,EAAG3Y,EAAKE,SAT5B,EAYFiH,aAAczJ,EAAKU,WAErB,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAMuG,EAAKiD,QACXmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,OAAQ,OAC3CrN,SAAWhE,GACT+jB,EAAQ,IACHxY,EAAK4Y,MAAM,EAAGD,GACjB,CACExhB,KAAMuG,EAAKvG,KACXiH,SAAUV,EAAKU,SACfuC,QAASlM,EACTmM,MAAO,EACPC,SAAU,OAETb,EAAK4Y,MAAMD,EAAI,EAAG3Y,EAAKE,iBAOpC,cAAClG,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,QACHiG,SAAW7F,IACT+jB,EAAQ,IACHxY,EAAK4Y,MAAM,EAAGD,GACjB,CACExhB,KAAMuG,EAAKvG,KACXiH,SAAUV,EAAKU,SACfuC,QAASjD,EAAKiD,QACdC,MAAOnM,EAAE8F,OAAOC,MAChBqG,SAAU,OAETb,EAAK4Y,MAAMD,EAAI,EAAG3Y,EAAKE,SAT5B,EAYF9F,YAAY,kBAGhB,cAACJ,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACHiG,SAAW7F,IACT+jB,EAAQ,IACHxY,EAAK4Y,MAAM,EAAGD,GACjB,CACExhB,KAAMuG,EAAKvG,KACXiH,SAAUV,EAAKU,SACfuC,QAASjD,EAAKiD,QACdC,MAAO,EACPC,SAAUpM,EAAE8F,OAAOC,UAElBwF,EAAK4Y,MAAMD,EAAI,EAAG3Y,EAAKE,SAT5B,EAYF9F,YAAY,yBAxGSue,KAgH7B,qBAAKle,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,WAAWoB,KAAK,SAAlC,sBAMP,ICpJM,SAASyiB,GAAT,GAOH,IAPyB,KAC3BjZ,EAD2B,GAE3B3L,EAF2B,KAG3B4K,EAH2B,QAI3BJ,EAJ2B,YAK3BkC,EAL2B,IAM3B7K,GACC,EACD,MAAMwiB,EAAkB,IAAM7Z,GAAQ,GACtC,OACE,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,yBAEF,cAAC2K,GAAA,EAAMI,KAAP,UAEE,cAAC,GAAD,CACEY,KAAMA,EACN3L,GAAIA,EACJ0M,YAAaA,EACb2X,gBAAiBA,EACjBxiB,IAAKA,QAKd,CCCcgL,OA9Bf,SAA0BhM,GAExB,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,OAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAUlD,SAAS,gBAGvB,cAACsd,GAAD,CACEha,KAAMA,EACNJ,QAASA,EACTmB,KAAM9K,EAAM8K,KACZ3L,GAAIa,EAAMb,GACV6B,IAAKhB,EAAMgB,IACX6K,YAAa7L,EAAM6L,gBAI1B,ECiIc5H,oBAZUC,IACjB,CACL8f,SAAU9f,EAAMjC,KAAKgiB,iBAIMvjB,IACtB,CACLwjB,gBAAkB1b,GAAS9H,G1BsXrB,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/CA,IACGzH,WAAW,aACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,oBAAqBmI,QAASxH,GAA/C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAXJ,O0BpXWyC,EAvJf,SAAejE,GAEd,MAAO4K,EAAMC,GAAYrG,mBAAS,KAC3B+V,EAAQ4J,GAAa3f,mBAAS,GAuDrC,OA/CAI,qBAAU,KACT5E,EAAMkkB,iBAAN,GAEI,CAAClkB,EAAMiC,OAqCZ2C,qBAAU,KAlCawF,WAEtBS,EAAQ,IAGR7K,EAAMgkB,SAAShb,SAASjI,IAItB,IAAIwiB,EAAWxiB,EAAIwiB,SAGfriB,EAAUH,EAAIG,QAEd0d,EAAO7d,EAAI6d,KACXrV,EAASxI,EAAIwI,OACbpK,EAAK4B,EAAI5B,GACT6B,EAAMD,EAAIC,IAEd6J,GAASD,GAAS,IAChBA,EACH,CACE2Y,SAAUA,EACVriB,QAASA,EACT0d,KAAMA,EACNrV,OAAQA,EACRpK,GAAIA,EACJ6B,IAAKA,KARN,GAdF,EA8BAojB,GACA3iB,QAAQC,IAAI,mBAAoBkJ,EAAhC,GACI,CAAC5K,EAAMgkB,WAKX,mCACC,gCACA,wBAAQ9jB,UAAU,iBAClB,sBAAKA,UAAU,YAAf,UACC,uBAAMA,UAAU,qBAAhB,UACC0K,EAAK5L,KAAI,CAACwJ,EAAM0C,IAChB,cAACmZ,GAAA,EAAD,UACC,eAACnW,GAAA,EAAD,WACC,eAACmW,GAAA,EAAUC,OAAX,CAAkBvW,GAAIG,KAAKjE,OAAQ6G,SAAS,IAA5C,UACC,4BAAItI,EAAKoW,OACRpW,EAAKtH,QAAQgC,UAFf,IAE2BsF,EAAKtH,QAAQsC,KAFxC,IAE+CgF,EAAKtH,QAAQuC,WAE5D,cAAC4gB,GAAA,EAAUE,SAAX,CAAoBzT,SAAS,IAA7B,SACA,eAAC5C,GAAA,EAAKhE,KAAN,WACA,eAACmB,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UAEC,gCACC,+BACC,yCACA,0CACA,yCACA,uCACA,+CAGF,gCACEhD,EAAK+a,SAASvkB,KAAK8L,GACnB,+BACA,6BAAKA,EAAK7I,OACV,6BAAK6I,EAAK5B,WACV,6BAAK4B,EAAKW,UACRX,EAAKY,MAAS,6BAAKZ,EAAKY,QAAc,mCACtCZ,EAAKa,SAAY,6BAAKb,EAAKa,WAAiB,yBALpC,OAAMT,YAcnB,gCACA,8BACC,cAAC,GAAD,CACC5B,MAAOd,EAAKrJ,GACZ6B,IAAKwH,EAAKxH,IACV8J,KAAMtC,EAAK+a,WAEZ,cAAC,GAAD,CACCpkB,GAAIqJ,EAAKrJ,GACT6B,IAAKwH,EAAKxH,IACV8J,KAAMtC,EAAK+a,cAGb,eAACvK,GAAA,EAAD,CAAW9Y,UAAU,mBAArB,UACC,eAACskB,GAAA,EAAD,sBAAwBhc,EAAKe,UAC7B,cAACib,GAAA,EAAD,4BACA,eAACA,GAAA,EAAD,0BAA4Bhc,EAAKrJ,qBAnDnB,OAAM+L,OA2DxB,qBAAKhL,UAAU,kBAAf,SACC,cAAC,GAAD,SAGD,qBAAKA,UAAU,sBAAf,SACC,qBAAKA,UAAU,iCAQnB,ICxID,MA+TMukB,GAAkBzkB,IACtB,MAAO0J,EAAWC,GAAWnF,oBAAS,GAEhCoF,EAAc,IAAMD,GAAQ,GAElC,MAAoC,WAAhC3J,EAAMqB,OAAOqjB,eAGb,mCACA,eAAC5a,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACE,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,6BAEF,eAAC+J,GAAA,EAAMI,KAAP,WACI,sEACA,+EAEJ,cAACJ,GAAA,EAAMK,OAAP,UACA,cAAC9D,EAAD,CACMH,KAAK,kBACLE,KAAK,aACLH,QAAQ,iBAOX,IACR,EAGG0e,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEb1kB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAI7DhG,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,IAC/DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EA5ZIjE,IACjB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAI7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OAEbuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,cACpChR,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,SAErCpW,QAAQC,IAAI1B,EAAMkB,QAAQI,MAG7B,GACA,CAACtB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,WAChBjT,gBAAiB,EACjBmT,WAAY,cACZO,aAAc,EACdC,aAAc,cACdC,eAAgB,EAChBC,eAAgB,cAChBC,WAAY,EACZC,WAAY,cACZC,IAAK,EACLZ,WAAY,GACZa,cAAe,EACf/B,SAAU,mBAGNgC,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,EACpBC,gBAAiB,EACjBC,kBAAmB,EACnBC,cAAe,IAIV3kB,EAAQ4kB,GAAazhB,mBAAS,IAAK0gB,KAGnCgB,EAAaC,GAAkB3hB,mBAAS,IAAKmhB,IAEpD/gB,qBAAU,KACRwhB,GAAiB,GAChB,CACD/kB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,SACPtiB,EAAO8jB,aACP9jB,EAAO+jB,aACP/jB,EAAOgkB,eACPhkB,EAAOikB,eACPjkB,EAAOkkB,WACPlkB,EAAOmkB,aAIT,MAAMa,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAIGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IA2BL,IAAK,aASL,QACEE,EAAM,QAlCR,IAAK,IACL,IAAK,KAkBL,IAAK,KACL,IAAK,MACHA,EAAM,KACN,MAlBF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAEF,IAAK,OACL,IAAK,QACHA,EAAM,IACN,MACF,IAAK,OACL,IAAK,QACHA,EAAM,KACN,MASF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIJ,EAAkB,KAYtB,IAAIX,EAAMmB,OACRvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KAG1DK,EAAU,IACL5kB,EACHokB,IAAKA,EACLC,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAoGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAGlC,cAAC,GAAD,CACEuH,OAAO,oBACP9L,SAAS,uCACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WACE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,gCAGA,cAAC,GAAD,CACEtR,GAAG,iBACH8G,QAAQ,sBACRhE,KAAMZ,EAAOqjB,eACbnhB,SAAU,CAACwjB,EAAMxnB,KACf8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,SAAU,iBAGtB,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAIrD,cAAC6T,GAAD,CACEpjB,OAAQA,EACR6kB,YAAaA,EACbK,iBAAkBA,EAClBF,iBAAkBA,IAEpB,eAACtN,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,cAACsW,GAAD,CACEtjB,OAAQA,EACRyjB,sBAlKoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAM9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,uBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMoR,oBAAoBnP,GAC1BjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,qCAC9Bqe,EAAUf,GACViB,EAAeR,EAAf,WAI0B,cAAC,IAAD,CAAU9gB,GAAG,UAKzC,IClPF,MA0XM8f,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEb1kB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAI7DhG,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,aAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,IAC/DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAvbIjE,IACjB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAI7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OAEbuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,cACpChR,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,SAErCpW,QAAQC,IAAI1B,EAAMkB,QAAQI,MAG7B,GACA,CAACtB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,WAChBjT,gBAAiB,EACjBmT,WAAY,cACZO,aAAc,EACdC,aAAc,cACdC,eAAgB,EAChBC,eAAgB,cAChBC,WAAY,EACZC,WAAY,cACZC,IAAK,EACLZ,WAAY,GACZa,cAAe,EACf/B,SAAU,mBAGNgC,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,EACpBC,gBAAiB,EACjBC,kBAAmB,EACnBC,cAAe,IAIV3kB,EAAQ4kB,GAAazhB,mBAAS,IAAK0gB,KAGnCgB,EAAaC,GAAkB3hB,mBAAS,IAAKmhB,IAEpD/gB,qBAAU,KACRwhB,GAAiB,GAChB,CACD/kB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,SACPtiB,EAAO8jB,aACP9jB,EAAO+jB,aACP/jB,EAAOgkB,eACPhkB,EAAOikB,eACPjkB,EAAOkkB,WACPlkB,EAAOmkB,aAIT,MAAMa,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAIGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IA2BL,IAAK,aASL,QACEE,EAAM,QAlCR,IAAK,IACL,IAAK,KAkBL,IAAK,KACL,IAAK,MACHA,EAAM,KACN,MAlBF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAEF,IAAK,OACL,IAAK,QACHA,EAAM,IACN,MACF,IAAK,OACL,IAAK,QACHA,EAAM,KACN,MASF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIJ,EAAkB,KAYtB,IAAIX,EAAMmB,OACRvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KAG1DK,EAAU,IACL5kB,EACHokB,IAAKA,EACLC,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAoGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAGlC,cAAC,GAAD,CACEuH,OAAO,2BACP9L,SAAS,2BACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WAeE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAKvD,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOjE,EAAOqkB,cACdsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMZ,EAAOsiB,SACbpgB,SAAU,CAACuN,EAAUvR,KACnBgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,aAAW,UAAW,wBAWlC,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,cAAC,GAAD,CACEhN,OAAQA,EACRyjB,sBAxLoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAM9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,uBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMoR,oBAAoBnP,GAC1BjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,qCAC9Bqe,EAAUf,GACViB,EAAeR,EAAf,WAI0B,cAAC,IAAD,CAAU9gB,GAAG,UAKzC,IClPF,MA0XM8f,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEb1kB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAI7DhG,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL2Q,mBAAqBqJ,GAAYha,EAAS2Q,GAAmBqJ,IAC7DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAvbGjE,IAChB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAI7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OAEbuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,cACpChR,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,SAErCpW,QAAQC,IAAI1B,EAAMkB,QAAQI,MAG7B,GACA,CAACtB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,SAChBjT,gBAAiB,EACjBmT,WAAY,cACZO,aAAc,EACdC,aAAc,cACdC,eAAgB,EAChBC,eAAgB,cAChBC,WAAY,EACZC,WAAY,cACZC,IAAK,EACLZ,WAAY,GACZa,cAAe,EACf/B,SAAU,mBAGNgC,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,EACpBC,gBAAiB,EACjBC,kBAAmB,EACnBC,cAAe,IAIV3kB,EAAQ4kB,GAAazhB,mBAAS,IAAK0gB,KAGnCgB,EAAaC,GAAkB3hB,mBAAS,IAAKmhB,IAEpD/gB,qBAAU,KACRwhB,GAAiB,GAChB,CACD/kB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,SACPtiB,EAAO8jB,aACP9jB,EAAO+jB,aACP/jB,EAAOgkB,eACPhkB,EAAOikB,eACPjkB,EAAOkkB,WACPlkB,EAAOmkB,aAIT,MAAMa,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAIGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IA2BL,IAAK,aASL,QACEE,EAAM,QAlCR,IAAK,IACL,IAAK,KAkBL,IAAK,KACL,IAAK,MACHA,EAAM,KACN,MAlBF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAEF,IAAK,OACL,IAAK,QACHA,EAAM,IACN,MACF,IAAK,OACL,IAAK,QACHA,EAAM,KACN,MASF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIJ,EAAkB,KAYtB,IAAIX,EAAMmB,OACRvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KAG1DK,EAAU,IACL5kB,EACHokB,IAAKA,EACLC,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAoGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAGlC,cAAC,GAAD,CACEuH,OAAO,cACP9L,SAAS,0BACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WAeR,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACY,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAKvD,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOjE,EAAOqkB,cACdsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMZ,EAAOsiB,SACbpgB,SAAU,CAACuN,EAAUvR,KACnBgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,aAAW,UAAW,wBAWlC,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,cAAC,GAAD,CACEhN,OAAQA,EACRyjB,sBAxLoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAM9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,sBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMqR,mBAAmBpP,GACzBjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,6CAC9Bqe,EAAUf,GACViB,EAAeR,EAAf,WAI0B,cAAC,IAAD,CAAU9gB,GAAG,UAKzC,IClPF,MAyRM4f,GAAkBzkB,GACc,WAAhCA,EAAMqB,OAAOqjB,eAEb,qCACE,eAAC3L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,yBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE9F,GAAG,aACH+F,YAAY,aACZE,SAAW7F,IACTS,EAAMqmB,iBAAiB9mB,EAAvB,EAEF+F,MAAOtF,EAAMqB,OAAOwjB,gBAGxB,eAAC9L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOtF,EAAMqB,OAAOqkB,cACpBsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMjC,EAAMqB,OAAOsiB,SACnBpgB,SAAU,CAACuN,EAAUvR,KACnBS,EAAMumB,iBAAiBhnB,GACvBS,EAAMqmB,iBAAiB9mB,EAAvB,EAEFqR,MAAO,CAAC,aAAW,UAAW,2BAOjC,KAIL+T,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEgB,KAA7B1kB,EAAMqB,OAAOimB,aACa,KAA1BtnB,EAAMqB,OAAOkmB,UACbvnB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAIhC,KAA7BhG,EAAMqB,OAAOimB,aACa,KAA1BtnB,EAAMqB,OAAOkmB,UACbvnB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,IAC/DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAtYGjE,IAChB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAE7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OACXuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,SACvCoN,GAAc,GAEjB,GACA,CAACjlB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,SAChB6C,SAAU,GACV9V,gBAAiB,EACjBmT,WAAY,cACZC,WAAY,GACZY,IAAK,EACLC,cAAe,EACf/B,SAAU,mBAGNgC,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,IAIfxkB,EAAQ4kB,GAAazhB,mBAAS0gB,IAG9BgB,EAAaC,GAAkB3hB,mBAASmhB,GAG/C/gB,qBAAU,KACR4iB,GAAqB,GACpB,CACDnmB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,WAGT,MAAM0C,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAGGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IAcL,IAAK,aASL,QACEE,EAAM,QArBR,IAAK,IACL,IAAK,KACHA,EAAM,KACN,MACF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAKF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIgB,EAAsB,KAC1BvB,EAAU,IACL5kB,EACHokB,IAAKmB,OAAOvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KACpEF,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAkGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAGlC,cAAC,GAAD,CACEuH,OAAO,oBACP9L,SAAS,uCACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WACE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,uBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOkmB,cAGlB,eAACxO,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,+BAGA,cAAC,GAAD,CACEtR,GAAG,iBACH8G,QAAQ,sBACRhE,KAAMZ,EAAOqjB,eACbnhB,SAAU,CAACwjB,EAAMxnB,KACf8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,SAAU,iBAGtB,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAIrD,cAAC,GAAD,CACEvP,OAAQA,EACR6kB,YAAaA,EACbK,iBAAkBA,EAClBF,iBAAkBA,IAEpB,eAACtN,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,cAAC,GAAD,CACEhN,OAAQA,EACRyjB,sBA7KoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAI9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,sBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMoR,oBAAoBnP,GAC1BjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,oCAC9Bqe,EAAUf,GACViB,EAAeR,EAAf,WAI0B,cAAC,IAAD,CAAU9gB,GAAG,UAKzC,IC/LF,MA6RM4f,GAAkBzkB,GACc,WAAhCA,EAAMqB,OAAOqjB,eAEb,qCACE,eAAC3L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,yBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE9F,GAAG,aACH+F,YAAY,aACZE,SAAW7F,IACTS,EAAMqmB,iBAAiB9mB,EAAvB,EAEF+F,MAAOtF,EAAMqB,OAAOwjB,gBAGxB,eAAC9L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOtF,EAAMqB,OAAOqkB,cACpBsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMjC,EAAMqB,OAAOsiB,SACnBpgB,SAAU,CAACuN,EAAUvR,KACnBS,EAAMumB,iBAAiBhnB,GACvBS,EAAMqmB,iBAAiB9mB,EAAvB,EAEFqR,MAAO,CAAC,aAAW,UAAW,2BAOjC,KAIL+T,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEb1kB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAI7DhG,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,IAC/DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAtYIjE,IACjB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAE7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OACXuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,aACvCoN,GAAc,GAEjB,GACA,CAACjlB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,SAChBjT,gBAAiB,EACjBmT,WAAY,cACZC,WAAY,GACZY,IAAK,EACLC,cAAe,EACf/B,SAAU,kBACV8D,MAAO,IAGH9B,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,IAIfxkB,EAAQ4kB,GAAazhB,mBAAS0gB,IAG9BgB,EAAaC,GAAkB3hB,mBAASmhB,GAGzC+B,EAAWrY,iBAAO,MAGxBzK,qBAAU,KACR4iB,IACA/lB,QAAQC,IAAIL,EAAOsiB,SAAnB,GACC,CACDtiB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,WAGT,MAAM0C,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAGGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IAcL,IAAK,aASL,QACEE,EAAM,QArBR,IAAK,IACL,IAAK,KACHA,EAAM,KACN,MACF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAKF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIgB,EAAsB,KAC1BvB,EAAU,IACL5kB,EACHokB,IAAKmB,OAAOvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KACpEF,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAmGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAGlC,cAAC,GAAD,CACEuH,OAAO,oBACP9L,SAAS,sCACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WACE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,+BAGA,cAAC,GAAD,CACEtR,GAAG,iBACH8G,QAAQ,sBACRhE,KAAMZ,EAAOqjB,eACbnhB,SAAU,CAACwjB,EAAMxnB,KACf8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,SAAU,iBAGtB,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAIrD,cAAC,GAAD,CACEvP,OAAQA,EACR6kB,YAAaA,EACbK,iBAAkBA,EAClBF,iBAAkBA,IAEpB,eAACtN,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,eAAC0K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,mBACA,cAAC3L,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN7O,GAAG,QACH8J,IAAKye,EACLtiB,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,OAIN,cAAC,GAAD,CACE8B,OAAQA,EACRyjB,sBA7KoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAI9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,uBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMoR,oBAAoBnP,GAC1BjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,qCAC9Bqe,EAAUf,GACViB,EAAeR,GACf+B,EAASlY,QAAQlK,MAAQ,EAAzB,WAI0B,cAAC,IAAD,CAAUT,GAAG,UAKzC,I,UChMF,MA8MM8f,GAAgB3kB,GACM,gBAAtBA,EAAMqB,OAAOsmB,MAAoD,KAA1B3nB,EAAMqB,OAAOkmB,SAEpD,eAACxO,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAS,KACP5F,EAAM4nB,wBAAN,OAMD,cAAC7hB,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAkBlD/B,oBAdUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,OAIpDzW,EA/OKjE,IAClB,MAAMklB,EAAgB,CACpByC,KAAM,cACNJ,SAAU,GACVM,OAAO,EACPC,UAAU,IAGLC,EAAWC,GAAgBxjB,oBAAS,IACpCkd,EAASuG,GAAczjB,mBAAS,KAgChCnD,EAAQ4kB,GAAazhB,mBAAS0gB,GAM/BgD,EAAsB3oB,IAC1B0mB,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOpC,OAAQ5B,EAAO,CAAC9B,EAAE8F,OAAOpC,QAA1D,EA4DIklB,EAAc9Y,mBAEpB,OAAKrP,EAAM6B,KAAKb,IAGd,cAAC,GAAD,CACEoL,OAAO,qBACP9L,SAAS,qBACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WACE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,cAACQ,GAAD,CACE9R,GAAG,OACHoE,SAAWhE,IAjFGA,KACxB0mB,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAA/C,EAiFY+gB,CAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOsmB,KACdziB,YAAY,uBACZ0L,MAAO,CAAC,YAAa,QAAS,SAAU,cAG5C,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,uBAGA,cAAC,KAAD,CACE2X,SAnGK,KAAM,EAoGXjpB,GAAG,WACH4oB,UAAWA,EACXM,SAAS,OACTC,UAAW,EACXC,SAlIUC,IACpBR,GAAa,GACbS,MAAM,iDAAkD,CACtDC,OAAQ,OACRC,KAAM,OACNC,QAAS,CAEP,eAAgB,qCAElBC,KAAO,QAAOL,MAEbpnB,MAAM0B,GACLA,EAAKgmB,OAAO1nB,MAAMa,IAAD,CAAaA,KAAMA,EAAMsH,OAAQzG,EAAKyG,aAExDnI,MAAM2nB,IACL,MAAMrH,EAAUqH,EAAI9mB,KAAKjD,KAAKykB,IAAD,CAC3BuF,QAASvF,EAAEuF,QACX/lB,KAAMwgB,EAAExgB,SAGVglB,EAAWvG,GACXsG,GAAa,EAAb,IAEJ/B,EAAU,IAAK5kB,EAAQkmB,SAAUiB,GAAjC,EA4GUpjB,SAAW7F,IACT0mB,EAAU,IAAK5kB,EAAQkmB,SAAUhoB,EAAE,GAAG0D,MAAtC,EAEFye,QAASA,EACTxc,YAAY,oBACZI,MAAOjE,EAAOkmB,SACdte,IAAKkf,OAGT,eAACpP,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,gCAGA,cAAC3L,EAAA,EAAKgZ,MAAN,CACE7a,KAAK,QACL3B,KAAK,QACL4F,MAAM,QACN+hB,QAAS5nB,EAAOwmB,MAChBziB,SAAW7F,IACT2oB,EAAmB3oB,EAAnB,IAGJ,cAACuF,EAAA,EAAKgZ,MAAN,CACE7a,KAAK,QACL3B,KAAK,QACL4F,MAAM,YACN9B,SAAW7F,IACT2oB,EAAmB3oB,EAAnB,OAIN,eAACwZ,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,qCAGA,cAAC3L,EAAA,EAAKgZ,MAAN,CACE7a,KAAK,WACL3B,KAAK,QACL4F,MAAM,YACN+hB,QAAS5nB,EAAOymB,SAChB1iB,SAAW7F,IACT2oB,EAAmB3oB,EAAnB,IAGJ,cAACuF,EAAA,EAAKgZ,MAAN,CACE7a,KAAK,WACL3B,KAAK,QACL4F,MAAM,aACN9B,SAAW7F,IACT2oB,EAAmB3oB,EAAnB,OAIN,cAAC,GAAD,CACE8B,OAAQA,EACRumB,uBAnJqB,KAC7B,IAAI5mB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,wBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,MACrDpkB,KAAMjD,EAAMkB,QAAQgC,UAAY,IAAMlD,EAAMkB,QAAQiC,YACjD9B,IAGPrB,EAAMoR,oBAAoBnP,GAC1B2F,GAAmB,UAAW,oCAC9Bqe,EAAUf,GACViD,EAAY3Y,QAAQ0Z,OAApB,WAK0B,cAAC,IAAD,CAAUrkB,GAAG,UAEzC,ICnIa,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCSzC,MAAMskB,WAAsB7K,YAC1BI,SACE,OACE,cAAC,GAAD,CACEtS,OAAO,iBACP9L,SAAS,4BACT8F,KAAK,WAHP,SAKE,sBACEb,MAAO,CACL2G,MAAO,OACPsE,UAAW,UAHf,UAME,oBAAGjL,MAAO,CAAEiL,UAAW,OAAQb,QAAS,gBAAxC,qEAEE,uBACA,uBAHF,iIAKkE,IAChE,iDANF,eAOE,uBACA,uBARF,wPAaE,uBACA,uBAdF,iEAgBE,uBACA,uBAjBF,wPAsBE,uBACA,uBAvBF,mOA4BE,uBACA,uBA7BF,iDA6BuD,OAEvD,cAACrD,GAAA,EAAD,CAAS3G,QAAQ,WACjB,oBAAGJ,MAAO,CAAEiL,UAAW,OAAQb,QAAS,gBAAxC,UACG,IACD,iDAAyB,IACzB,qBACExP,IAAKipB,GACL/oB,IAAI,OACJH,UAAU,gCACT,IAPL,4kBAkBA,cAACoM,GAAA,EAAD,CAAS3G,QAAQ,WACjB,oBAAGJ,MAAO,CAAEiL,UAAW,OAAQb,QAAS,gBAAxC,UACG,IACD,2DAAmC,IACnC,qBACExP,IAAKkpB,GACLhpB,IAAI,OACJH,UAAU,gCACT,IAPL,4oBAmBA,cAACoM,GAAA,EAAD,CAAS3G,QAAQ,WACjB,oBAAGJ,MAAO,CAAEiL,UAAW,OAAQb,QAAS,gBAAxC,UACE,wDAAgC,IAChC,qBACExP,IAAKmpB,GACLjpB,IAAI,OACJH,UAAU,gCACT,IANL,qvBAoBA,cAACoM,GAAA,EAAD,CAAS3G,QAAQ,WACjB,oBAAGJ,MAAO,CAAEiL,UAAW,OAAQb,QAAS,gBAAxC,UACE,oEAAuC,IACvC,qBACExP,IAAKopB,GACLlpB,IAAI,OACJH,UAAU,gCACT,IANL,qwBAoBA,cAACoM,GAAA,EAAD,CAAS3G,QAAQ,WACjB,oBAAGJ,MAAO,CAAEiL,UAAW,OAAQb,QAAS,mBAAxC,UACE,oEAA4C,IAC5C,qBACExP,IAAKqpB,GACLnpB,IAAI,OACJH,UAAU,gCACT,IANL,koBAqBP,EAGYipB,UCzJf,MAAMM,WAAkBnL,YACtBoL,kBACE,OACElL,KAAKxe,MAAMya,OACX+D,KAAKxe,MAAMya,MAAMzb,KAAI,CAAC2qB,EAASze,KAC7B,MAAM,GACJ/L,EADI,MAEJ4C,EAFI,UAGJmB,EAHI,SAIJC,EAJI,QAKJymB,EALI,KAMJpmB,EANI,QAOJC,EAPI,SAQJ0T,EARI,iBASJ7T,GACEqmB,EACJ,OACE,+BACE,6BAAKxqB,IACL,+BACG+D,EADH,IACeC,KAEf,6BAAKpB,IACL,6BAAKuB,IACL,+BACGsmB,EADH,KACcpmB,EADd,KACsBC,EADtB,KACiC0T,OAR1BhY,EADX,GAeL,CAED0qB,oBAEC,CACDnL,SACE,OAAKF,KAAKxe,MAAM6B,KAAKb,IACjB,SAAWwd,KAAKxe,MAAMkB,QAAQI,KAAa,cAAC,IAAD,CAAUuD,GAAG,MAE1D,sBAAKU,MAAO,CAAEukB,cAAe,OAAQC,WAAY,QAAjD,UACE,qBAAI5qB,GAAG,QAAP,4CACkC,IAC/Bqf,KAAKxe,MAAMya,MAAQ+D,KAAKxe,MAAMya,MAAMzP,OAAS,KAEhD,uBAAO7L,GAAG,WAAV,SACE,kCACE,+BACE,oCACA,sCACA,uCACA,kDACA,4CAEDqf,KAAKkL,0BAjBmB,cAAC,IAAD,CAAU7kB,GAAG,UAsB/C,EAYYsI,oBACblJ,aAVuBC,IAEhB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,QACxBuZ,MAAOvW,EAAMrD,UAAUkkB,QAAQtK,UAMjCI,6BAAkB7a,GACXA,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAY,QACZC,IAAKf,EAAM6B,KAAKb,MAJQ,KAHjBmM,CAWbsc,I,gBCqDaO,OAzIGhqB,IAChB,MAAOiqB,EAAcC,GAAmB1lB,mBAAS,KAC1C2lB,EAAaC,GAAkB5lB,mBAAS,KACxC6lB,EAAeC,GAAoB9lB,mBAAS,KAC5C+lB,EAAaC,GAAkBhmB,mBAAS,KACxCimB,EAAaC,GAAkBlmB,mBAAS,IA2E/C,OAAQ,gCACN,uBAAM6I,SApBesd,IACrBA,EAAM9kB,iBAEN,MAAM+kB,EAAc,CAClBrkB,MAAO0jB,EACPY,OAAQR,EACRzL,KAAM,IAAIyI,KAAKkD,GACfjpB,KAAM6oB,EACN1qB,KAAMgrB,GAGRzqB,EAAM8qB,kBAAkBF,GACxBV,EAAgB,IAChBE,EAAe,IACfE,EAAiB,IACjBE,EAAe,IACfE,EAAe,GAAf,EAIA,UACI,sBAAKxqB,UAAU,oBAAf,UACE,qBAAKA,UAAU,gBAAf,SACA,oBAAIqF,MAAO,CAACG,WAAY,IAAKqlB,aAAc,QAA3C,6BAEA,uBAAOxlB,MAAO,CAACwlB,aAAc,SAA7B,kBACA,uBACEzpB,KAAK,OACLgE,MAAO2kB,EACP7kB,SA9EkBulB,IAC1BT,EAAgBS,EAAMtlB,OAAOC,MAA7B,IA+EM,uBAAOC,MAAO,CAACgK,UAAW,KAAMwb,aAAc,SAA9C,kBACA,uBACEzpB,KAAK,OACLgE,MAAO6kB,EACP/kB,SA9DiBulB,IACzBP,EAAeO,EAAMtlB,OAAOC,MAA5B,IAgEM,uBAAOC,MAAO,CAACgK,UAAW,KAAMwb,aAAc,SAA9C,uBACA,uBACEzpB,KAAK,OACLgE,MAAOmlB,EACPrlB,SAhFiBulB,IACzBD,EAAeC,EAAMtlB,OAAOC,MAA5B,IAkFM,uBAAOC,MAAO,CAACgK,UAAW,KAAMwb,aAAc,SAA9C,oBACA,uBACEzpB,KAAK,SACLuiB,IAAI,OACJC,KAAK,OACLxe,MAAO+kB,EACPjlB,SAnEmBulB,IAC3BL,EAAiBK,EAAMtlB,OAAOC,MAA9B,IAoEM,uBAAOC,MAAO,CAACgK,UAAW,KAAMwb,aAAc,SAA9C,kBACA,uBACEzpB,KAAK,OACLuiB,IAAI,aACJmH,IAAI,aACJ1lB,MAAOilB,EACPnlB,SAnEiBulB,IACzBH,EAAeG,EAAMtlB,OAAOC,MAA5B,EAmEQC,MAAO,CAACwlB,aAAc,aAG5B,qBAAM7qB,UAAU,gBAAhB,SACE,wBAAQqF,MAAO,CAACwlB,aAAc,OAAQzpB,KAAK,SAA3C,8BAKJ,uBACA,cAAC,IAAD,CAAMuD,GAAG,WAAT,SAAoB,wBAAQvD,KAAK,SAAb,sBAnDtB,E,OChEa2pB,OAhBEjrB,GAUb,qBAAKE,UAAU,WAAf,SACE,cAAC,GAAD,CAAU4qB,kBAVkBI,IAC9B,MAAMN,EAAc,IACfM,EACH/rB,GAAIgsB,KAAKC,SAAS1E,YAEpB1mB,EAAMqrB,OAAOT,EAAb,M,OCQWU,OAfEtrB,IACf,MAAMuH,EAAQvH,EAAM4e,KAAK2M,eAAe,QAAS,CAAEhkB,MAAO,SACpDC,EAAMxH,EAAM4e,KAAK2M,eAAe,QAAS,CAAE/jB,IAAK,YAChDgkB,EAAOxrB,EAAM4e,KAAK6M,cAExB,OACE,sBAAKvrB,UAAU,WAAf,UACE,2CACA,qBAAKA,UAAU,kBAAf,SAAkCqH,IAClC,qBAAKrH,UAAU,gBAAf,SAAgCsH,IAChC,qBAAKtH,UAAU,iBAAf,SAAiCsrB,MALrC,E,OCCatd,OANDlO,IACZ,MAAM0rB,EAAU,QAAU1rB,EAAME,UAEhC,OAAO,qBAAKA,UAAWwrB,EAAhB,SAA0B1rB,EAAMO,UAAvC,E,OC4CaorB,OA5CA3rB,GAEX,qCACE,cAAC,eAAD,UACE,cAAC,GAAD,CAAME,UAAU,OAAhB,SACE,sBAAKqF,MAAO,CAAC+J,OAAQ,QAArB,UACE,cAAC,GAAD,CAAYsP,KAAM5e,EAAM4e,OAExB,sBAAK1e,UAAU,oBAAoBqF,MAAO,CAACqmB,WAAY,QAASrc,UAAW,UAA3E,UACE,kCAAO,uCAAcvP,EAAMuG,MAAMslB,iBACjC,kCAAO,uCAAc7rB,EAAMsB,QAC3B,kCAAO,4CAAmBtB,EAAMP,WAIlC,sBAAKS,UAAU,cAAcqF,MAAO,CAAC2G,MAAO,MAAO0f,WAAY,MAAOrc,UAAW,UAAjF,iBAA8FvP,EAAM6qB,UAEpG,wBAAQ3qB,UAAU,SAASqF,MAAO,CAAC2G,MAAO,MAAO0f,WAAY,MAAOrc,UAAW,OAA/E,wBAON,cAAC,cAAD,UACE,cAAC,GAAD,CAAMrP,UAAU,OAAhB,SACE,gCACE,cAAC,GAAD,CAAY0e,KAAM5e,EAAM4e,OAExB,sBAAK1e,UAAU,oBAAoBqF,MAAO,CAACqmB,WAAY,MAAOrc,UAAW,UAAzE,UACA,kCAAO,uCAAcvP,EAAMuG,MAAMslB,iBAC/B,kCAAO,uCAAc7rB,EAAMsB,QAC3B,kCAAO,4CAAmBtB,EAAMP,QAChC,sBAAKS,UAAU,cAAf,iBAA+BF,EAAM6qB,UAErC,wBAAQ3qB,UAAU,SAAlB,8B,OCzBC8E,OAbAhF,GAIX,qBAAKE,UAAU,MAAf,SAEI,kD,OCaO4rB,OAhBE9rB,GAKb,8BACE,eAAC,GAAD,CAAME,UAAU,WAAhB,UACE,cAAC,GAAD,IAECF,EAAM4Q,MAAM5R,KAAIO,GAAO,cAAC,GAAD,CAAOgH,MAAOhH,EAAEgH,MAAOjF,KAAM/B,EAAE+B,KAAMupB,OAAQtrB,EAAEsrB,OAAQjM,KAAMrf,EAAEqf,KAAMnf,KAAMF,EAAEE,cCL7G,MAAMssB,GAAO,CACX,CACE5sB,GAAI,KACJoH,MAAO,cACPskB,OAAQ,KACRjM,KAAM,IAAIyI,KAAK,KAAM,EAAG,IACxB/lB,KAAM,OACN7B,KAAM,YAER,CAAEN,GAAI,KAAMoH,MAAO,UAAWskB,OAAQ,KAAMjM,KAAM,IAAIyI,KAAK,KAAM,GAAI,IAAK/lB,KAAM,YAAa7B,KAAM,WACnG,CACEN,GAAI,KACJoH,MAAO,UACPskB,OAAQ,KACRjM,KAAM,IAAIyI,KAAK,KAAM,EAAG,IACxB/lB,KAAM,OACN7B,KAAM,WAER,CACEN,GAAI,KACJoH,MAAO,SACPskB,OAAQ,IACRjM,KAAM,IAAIyI,KAAK,KAAM,EAAG,IACxB/lB,KAAM,QACN7B,KAAM,aAwCKusB,OAlCQ,KACrB,MAAOzsB,EAAG0sB,GAAQznB,mBAASunB,IACrBG,EAAc3sB,IAClB0sB,GAAKE,GACI,CAAC5sB,KAAM4sB,IADhB,EAYF,OACE,qCACE,cAAC,cAAD,UACE,sBAAK5mB,MAAO,CAACgK,UAAW,MAAOwb,aAAc,OAA7C,UACE,cAAC,GAAD,CAASM,OAAQa,IACjB,cAAC,GAAD,CAAStb,MAAOrR,SAIpB,cAAC,eAAD,UACE,sBAAKgG,MAAO,CAACgK,UAAW,KAAMwb,aAAc,MAA5C,UACE,cAAC,GAAD,CAASM,OAAQa,IACjB,cAAC,GAAD,CAAStb,MAAOrR,WAZxB,E,6FCdF,MAAM6sB,WAAqB9N,YAAW,cAAD,yBACnCpa,MAAQ,CACNlD,IAAKwd,KAAKxe,MAAM6B,KAAKb,IAErBwH,KAAM,GACN6jB,WAAY,EACZzH,WAAY,cACZhU,MAAO,GACPwW,SAAU,GACVkF,OAAQ,GACRC,UAAW,mBAEXC,UAAW,GACXC,cAAe,GAIfC,eAAgB,gBAEhBC,cAAeC,OAASC,OAAO,OAC/BC,eAAgBF,OAASC,OAAO,KAChCE,gBAAiBH,OAASC,OAAO,OACjCG,eAAgBJ,OAASC,OAAO,MAChCI,eAAgBL,OAASC,OAAO,QAChCK,mBAAoBN,OAASC,OAAO,mBAOpCM,eAAgB,IA/BiB,KAkCnC5O,aAAgBhf,IACdif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAD1B,EAnCiC,KA4EnC8nB,UAAY,KACV5O,KAAKC,SAAS,CACZjW,KAAM,GACN6jB,WAAY,EACZzH,WAAY,cACZhU,MAAO,GACPwW,SAAU,GACVkF,OAAQ,GACRC,UAAW,mBACXY,eAAgB,KAElB3O,KAAK6O,yBAAL,EAvFiC,KA0FnCC,iBAAmB,KACjBxlB,KAAgB,CAGdvB,MAAO,WACPsB,QACE,2KACFE,cAAe,UACfC,iBAAkB,UAClBG,YAAa,QACbC,SAAU,KATZ,EA3FiC,KAwGnCmlB,kBAAqBC,IACnB,MAAMC,EAASjP,KAAKta,MAAMipB,eAAeO,QAAQ3E,GAAQA,EAAI4E,QAAUH,IACvEhP,KAAKC,SAAS,CAAE0O,eAAgBM,IAChCzd,GAAGlP,WAAW,QACXC,IAAIyd,KAAKta,MAAMlD,KACfF,WAAW,wBACXC,IAAIysB,GACJxpB,QAJH,EA3GiC,KA+HnC4pB,wBAA2BruB,IACzBA,EAAEsG,iBACF2Y,KAAKC,SAAS,CAAC,GACfD,KAAKxe,MAAM6tB,uBAAuBrP,KAAKta,MAAvC,EAlIiC,KAsJnCmpB,wBAA0BjjB,UACxB4F,GAAGlP,WAAW,QACXC,IAAIyd,KAAKta,MAAMlD,KACfF,WAAW,wBACX+H,MACAzH,MAAMqJ,IACLA,EAASzB,SAASjI,IAChB,IAAI+sB,EAAK/sB,EAAIkB,OAAO8rB,eAEhBC,EAAKjtB,EAAIkB,OAAOgsB,SAChBC,EAAKntB,EAAIkB,OAAOksB,SAChBC,EAAKrtB,EAAIkB,OAAOosB,OAChBC,EAAOvtB,EAAIkB,OAAOssB,UAEX,kBAAPT,GAGFtP,KAAKC,UAAU+P,IAAD,CACZrB,eAAgBqB,EAAUrB,eAAesB,OAAO,CAC9CC,SAAUV,EACV5G,SAAU8G,EACV5B,OAAQ8B,EACR7B,UAAW+B,EACXX,MAAO5sB,EAAI5B,QAGhB,GApBH,IAuBDoC,OAAO4H,GAAU1H,QAAQC,IAAIyH,IA5BhC,CAvJiC,CAwCnCwlB,uBAAuBzoB,GACrBsY,KAAKC,SAAS,CAAEmG,WAAY1e,GAC7B,CAED0oB,iBAAiBtpB,GACfkZ,KAAKC,SAAS,CACZ8N,UAAWjnB,GAEd,CAEDupB,aAAaC,GACX,OAAqB,IAAjBA,EAAM9jB,MAKX,CAED+jB,iBACEvQ,KAAKC,SAAS,CACZ4N,WAAY,EACZzH,WAAY,gBAGdpG,KAAKC,UAAU+P,IAAD,CACZ5d,MAAO4d,EAAU5d,MAAM6d,OAAO,CAC5BxrB,KAAMub,KAAKta,MAAMsE,KACjByZ,OAAQzD,KAAKta,MAAMmoB,WAAa7N,KAAKta,MAAM0gB,gBAGhD,CAmHDoK,oBACExQ,KAAK6O,0BAED4B,YACFzQ,KAAKC,SAAS,CAAE+N,UAAW,OAAQC,cAAe,UACzCyC,cACT1Q,KAAKC,SAAS,CAAE+N,UAAW,QAASC,cAAe,SAEtD,CAED/N,SACE,MAAM,KAAEzc,EAAF,KAAQJ,GAAS2c,KAAKxe,MAE5B,OACE,mCAeE,sBAAKuF,MAAO,CAAE2G,MAAO,OAAQoD,OAAQ,QAArC,UACE,oBACEpP,UAAU,cACVqF,MAAO,CACLgK,UAAW,KACXwb,aAAc,OACdhB,WAAY,MACZrkB,WAAY,KANhB,0CAYA,qBACEH,MAAO,CACLwH,QAAS,OACTF,eAAgB,SAChBzB,WAAY,SACZ+jB,SAAU,OACVjjB,MAAO,QANX,SASE,cAACzG,EAAA,EAAD,CACEF,MAAO,CACL2G,MAAOsS,KAAKta,MAAMsoB,UAClB4C,YAAa,UACb3e,gBAAiB,WAEnB1C,GAAIshB,IACJxqB,GAAG,OAPL,oBAaF,sBACEU,MAAO,CACLwH,QAAS,OACTF,eAAgB,SAChBzB,WAAY,SACZ+jB,SAAU,OACVjjB,MAAO,OACPoD,OAAQ,QAPZ,UAUE,cAACpB,GAAA,EAAD,CACE3I,MAAO,CACL2G,MAAOsS,KAAKta,MAAMsoB,UAClBzB,aAAc,OACdta,gBAAiB,WAJrB,SAOE,eAAC3L,EAAA,EAAD,CAAM5E,UAAU,cAAcqF,MAAO,CAAEoK,QAAS,QAAhD,UACE,oBACEzP,UAAU,cACVqF,MAAO,CACL+pB,OAAQ,OACR7oB,SAAU,OACVf,WAAY,OALhB,0CAWA,gCAGE,qBAAKH,MAAO,CAAEoK,QAAS,eAAvB,0BACA,cAAC,eAAD,UACE,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CAAEoK,QAAS,cAAe5C,QAAS,QAD5C,SAGE,cAACwiB,GAAA,EAAD,CAEEC,UAAQ,EACRrwB,GAAG,OACHuiB,QAAS+N,GAAYzwB,KAAK0wB,GAAWA,EAAOnpB,QAC5ChB,MAAO,CAAE2G,MAAO,OAAQuE,gBAAiB,SACzC3E,KAAK,QACL6jB,cAAgBpwB,GAAMif,KAAKD,aAAahf,GACxC6F,SAAW7F,GACTif,KAAKC,SAAS,CAAEjW,KAAMjJ,EAAE8F,OAAOihB,cAEjCsJ,YAAcC,GACZ,cAACC,GAAA,EAAD,IACMD,EACJ3qB,YAAY,cACZS,QAAQ,mBAOlB,cAAC,cAAD,UACE,cAACb,EAAA,EAAKC,MAAN,CACEQ,MAAO,CAAEoK,QAAS,cAAe5C,QAAS,QAD5C,SAGE,cAACwiB,GAAA,EAAD,CAEEC,UAAQ,EACRrwB,GAAG,OACHuiB,QAAS+N,GAAYzwB,KAAK0wB,GAAWA,EAAOnpB,QAC5ChB,MAAO,CAAE2G,MAAO,MAAOuE,gBAAiB,SACxC3E,KAAK,QACL6jB,cAAgBpwB,GAAMif,KAAKD,aAAahf,GACxC6F,SAAW7F,GACTif,KAAKC,SAAS,CAAEjW,KAAMjJ,EAAE8F,OAAOihB,cAEjCsJ,YAAcC,GACZ,cAACC,GAAA,EAAD,IACMD,EACJ3oB,MAAM,cACNvB,QAAQ,mBAOlB,qBAAKJ,MAAO,CAAEoK,QAAS,eAAvB,6BACA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,eAAC+W,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,aACH+F,YAAY,eACZE,SAAW7F,IACTif,KAAKD,aAAahf,EAAlB,EAEF2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAMmoB,aAGpB,eAAC0D,GAAA,EAAD,CACEhiB,GAAI6V,KAAWqD,OACfthB,QAAQ,oBACRY,MACE,sBAAMhB,MAAO,CAAEC,MAAO,SAAtB,SACGgZ,KAAKta,MAAM0gB,aAGhBzlB,GAAG,OACHoG,MAAO,CAAEkL,gBAAiB,WAT5B,UAWE,cAAC,KAASxG,OAAV,8BAGA,cAAC+lB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBAAuBpvB,EAAE8F,OAAOihB,YAArC,EAFJ,kBAUF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBAAuBpvB,EAAE8F,OAAOihB,YAArC,EAFJ,iBAUF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBAAuBpvB,EAAE8F,OAAOihB,YAArC,EAFJ,kBAUF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBAAuBpvB,EAAE8F,OAAOihB,YAArC,EAFJ,mBASF,cAAC,KAASha,QAAV,IAEA,cAAC,KAASrC,OAAV,+BAEA,cAAC+lB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBAAuBpvB,EAAE8F,OAAOihB,YAArC,EAFJ,iBASF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBAAuBpvB,EAAE8F,OAAOihB,YAArC,EAFJ,0BAYR,cAACxhB,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQuB,KAApB2R,KAAKta,MAAMsE,MACc,IAA1BgW,KAAKta,MAAMmoB,YACe,gBAA1B7N,KAAKta,MAAM0gB,WACT,cAACnf,EAAA,EAAD,CACEnE,KAAK,SACLiE,MAAO,CAAE2G,MAAO,MAAOuE,gBAAiB,WACxC7K,QAAS,IAAM4Y,KAAKuQ,iBAHtB,iBAQA,cAACtpB,EAAA,EAAD,CACEnE,KAAK,SACLiE,MAAO,CAAE2G,MAAO,OAChBvG,QAAQ,YACRK,UAAQ,EAJV,mBAWJ,qBAAKT,MAAO,CAAEoK,QAAS,eAAvB,4BACA,sBACEpK,MAAO,CACL0qB,UAAW,SACX3gB,OAAQ,OACRpD,MAAO,MACP0f,WAAY,MACZnb,gBAAiB,QACjBsa,aAAc,QAPlB,UAUE,cAAC/R,GAAA,EAAD,UACE,cAACwL,GAAA,EAAD,CACEjf,MAAO,CACLiL,UAAW,SACXC,gBAAiB,uBACjBjL,MAAO,QACP0G,MAAO,OACPxG,WAAY,IACZiK,QAAS,cACTugB,aAAc,OARlB,2BAcF,cAAC,eAAD,UACE,cAAC7kB,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACM,KAAK,KAAnC,SAEE,kCACE,+BACE,oBAAIvG,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OAAzC,SACE,4CAEF,oBAAI3G,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OAAzC,SACE,qDAGHsS,KAAKta,MAAM0M,MAAM5R,KAAKwJ,GACrB,+BACE,6BAAKA,EAAKvF,OACV,6BAAKuF,EAAKyZ,qBAOpB,cAAC,cAAD,UACE,cAAC5W,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACM,KAAK,KAAnC,SAEE,kCACE,+BACE,oBAAIvG,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OAAzC,SACE,mBAAG3G,MAAO,CAAEkB,SAAU,OAAtB,yBAEF,oBAAIlB,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OAAzC,SACE,mBAAG3G,MAAO,CAAEkB,SAAU,OAAtB,gCAGH+X,KAAKta,MAAM0M,MAAM5R,KAAKwJ,GACrB,+BACE,6BAAKA,EAAKvF,OACV,6BAAKuF,EAAKyZ,wBAOtB,eAACkO,GAAA,EAAD,CACE5qB,MAAO,CACL2G,MAAO,MACP0f,WAAY,MACZrc,UAAW,QACXwb,aAAc,QALlB,UAQIvM,KAAKqQ,aAAarQ,KAAKta,MAAM0M,OAmB7B,cAACnL,EAAA,EAAD,CACEE,QAAQ,YACRJ,MAAO,CAAE2G,MAAO,MAAOzF,SAAU,OACjCT,UAAQ,EAHV,8BAlBA,cAACP,EAAA,EAAD,CACEF,MAAO,CACLkL,gBAAiB,UACjBvE,MAAO,MACPzF,SAAU,OAEZb,QAAS,IACP4Y,KAAKC,SAAS,CACZ7N,MAAO4N,KAAKta,MAAM0M,MAAM8c,QACtB,CAACllB,EAAM0C,IACLA,IAAUsT,KAAKta,MAAM0M,MAAM5F,OAAS,MAV9C,8BA2BAwT,KAAKqQ,aAAarQ,KAAKta,MAAM0M,OAY7B,cAACnL,EAAA,EAAD,CACEE,QAAQ,YACRJ,MAAO,CAAE2G,MAAO,MAAOzF,SAAU,OACjCT,UAAQ,EAHV,mBAXA,cAACP,EAAA,EAAD,CACEF,MAAO,CACLkL,gBAAiB,UACjBvE,MAAO,MACPzF,SAAU,OAEZb,QAAS,IAAM4Y,KAAKC,SAAS,CAAE7N,MAAO,KANxC,sBAuBJ,qBAAKrL,MAAO,CAAEoK,QAAS,eAAvB,kBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBAJpB,SAOE,cAAC+W,GAAA,EAAD,UACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,OACLuiB,IAAI,aACJ3e,YAAY,aACZE,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAMkjB,eAKxB,qBAAK7hB,MAAO,CAAEoK,QAAS,eAAvB,gBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBAJpB,SAOE,cAAC+W,GAAA,EAAD,UACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,SACHmC,KAAK,OACLuiB,IAAI,aACJ3e,YAAY,aACZE,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAMooB,aAOxB,qBAAK/mB,MAAO,CAAEoK,QAAS,eAAvB,uBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CAAEoK,QAAS,cAAe5C,QAAS,QAD5C,SAGE,cAAC6W,GAAA,EAAD,UACE,cAACwM,GAAD,UACE,eAAC,KAAD,WACE,cAACC,GAAA,EAAD,CACE1qB,QAAQ,YACRuG,MAAM,OACNhM,UAAU,KAHZ,SAKGse,KAAKta,MAAMqoB,YAEd,eAAC+D,GAAA,EAAD,WACE,cAACN,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAKoQ,iBAAiBrvB,EAAE8F,OAAOihB,aAFnC,sBASF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAKoQ,iBAAiBrvB,EAAE8F,OAAOihB,aAFnC,2BASF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAKoQ,iBAAiBrvB,EAAE8F,OAAOihB,aAFnC,mCAcZ,cAAC,KAAD,CAAS/gB,MAAO,CAAEwlB,aAAc,UAS/BvM,KAAKta,MAAM0M,QAAU,IACE,KAAxB4N,KAAKta,MAAMkjB,UACW,KAAtB5I,KAAKta,MAAMooB,QACc,qBAAzB9N,KAAKta,MAAMqoB,UACT,cAAC9mB,EAAA,EAAD,CACEF,MAAO,CACL+pB,OAAQ,cACR7e,gBAAiB,UACjBvE,MAAO,MACPqD,UAAW,OAEb3J,QAAUrG,IACRif,KAAKoP,wBAAwBruB,GAC7Bif,KAAK4O,YACL5O,KAAK8O,kBAAL,EAEF3nB,QAAQ,YACRrE,KAAK,SAbP,qBAkBA,cAACmE,EAAA,EAAD,CACEF,MAAO,CACL+pB,OAAQ,cACRpjB,MAAO,MACPqD,UAAW,OAEb5J,QAAQ,YACRK,UAAQ,EAPV,6BAgBR,eAACkI,GAAA,EAAD,CACE3I,MAAO,CACL2G,MAAOsS,KAAKta,MAAMsoB,UAClBld,OAAQ,QACRyb,aAAc,OACdta,gBAAiB,UACjBwf,UAAW,QANf,UASE,oBACE/vB,UAAU,cACVqF,MAAO,CACLG,WAAY,IACZF,MAAO,QACP+J,UAAW,OACXwb,aAAc,MANlB,6BAcA,8BACGvM,KAAKta,MAAMipB,eAAenuB,KAAK+pB,GAC9B,qCACE,cAAC,eAAD,UACE,eAAC7a,GAAA,EAAD,CACE3I,MAAO,CACL2G,MAAO,MACP0f,WAAY,OACZnb,gBAAiB,oBACjBnB,OAAQ,QACRyb,aAAc,QANlB,UASE,sBACE7qB,UAAU,cACVqF,MAAO,CAAEwlB,aAAc,SAFzB,UAIE,uBAAMxlB,MAAO,CAAEgrB,YAAa,OAA5B,UACE,uCADF,IACiBxH,EAAI3B,YACb,IACR,qCAPF,IAOe2B,EAAIuD,UAGnB,qBACE1mB,QAAS,IAAM4Y,KAAK+O,kBAAkBxE,EAAI4E,OAC1CpoB,MAAO,CACLkB,SAAU,OACVf,WAAY,IACZkmB,WAAY,QACZrc,UAAW,SANf,eAaA,sBACErP,UAAU,cACVqF,MAAO,CAAEwlB,aAAc,QAFzB,UAIE,4CAJF,IAIsBhC,EAAIwD,UAJ1B,IAIsCxD,EAAI4E,SAG1C,sBACEpoB,MAAO,CAAE0qB,UAAW,SAAUlF,aAAc,QAD9C,UAGE,cAAC/R,GAAA,EAAD,UACE,cAACwL,GAAA,EAAD,CACEjf,MAAO,CACLiL,UAAW,SACXC,gBAAiB,uBACjBjL,MAAO,QACP0G,MAAO,QACP0f,WAAY,OACZlmB,WAAY,IACZiK,QAAS,cACTugB,aAAc,OATlB,8BAeF,cAAC7kB,GAAA,EAAD,CACEC,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLM,KAAK,KACLvG,MAAO,CACL2G,MAAO,QACP0f,WAAY,OACZtc,OAAQ,OACRmB,gBAAiB,SATrB,SAaE,kCACE,+BACE,oBACElL,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OADvC,SAGE,4CAEF,oBACE3G,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OADvC,SAGE,qDAMH6c,EAAI2F,SAAS1vB,KAAKwJ,GACjB,mCACE,+BACE,6BAAKA,EAAKvF,OACV,6BAAKuF,EAAKyZ,6BAiB1B,cAAC,cAAD,UACE,eAAC/T,GAAA,EAAD,CACE3I,MAAO,CACL2G,MAAO,MACP0f,WAAY,OACZnb,gBAAiB,oBACjBnB,OAAQ,QACRyb,aAAc,QANlB,UASE,sBACE7qB,UAAU,cACVqF,MAAO,CAAEwlB,aAAc,OAFzB,UAIE,uBAAMxlB,MAAO,CAAEgrB,YAAa,QAA5B,UACE,uCADF,IACiBxH,EAAI3B,SAAU,OACvB,IACR,qCAPF,IAOe2B,EAAIuD,UAGnB,qBACE1mB,QAAS,IAAM4Y,KAAK+O,kBAAkBxE,EAAI4E,OAC1CpoB,MAAO,CACLqmB,WAAY,MACZrc,UAAW,OACX7J,WAAY,IACZe,SAAU,QANd,eAaA,sBACEvG,UAAU,cACVqF,MAAO,CAAEwlB,aAAc,QAFzB,UAIE,4CAJF,IAIsBhC,EAAIwD,aAG1B,sBACEhnB,MAAO,CAAE0qB,UAAW,SAAUlF,aAAc,QAD9C,UAGE,cAAC/R,GAAA,EAAD,UACE,cAACwL,GAAA,EAAD,CACEjf,MAAO,CACLiL,UAAW,SACXC,gBAAiB,uBACjBjL,MAAO,QACP0G,MAAO,QACP0f,WAAY,QACZlmB,WAAY,IACZiK,QAAS,cACTugB,aAAc,OATlB,8BAgBF,cAAC7kB,GAAA,EAAD,CACEC,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLM,KAAK,KACLvG,MAAO,CACL2G,MAAO,QACP0f,WAAY,QACZtc,OAAQ,OACRmB,gBAAiB,SATrB,SAaE,kCACE,+BACE,oBACElL,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OADvC,SAGE,mBAAG3G,MAAO,CAAEkB,SAAU,OAAtB,yBAEF,oBACElB,MAAO,CAAEiL,UAAW,SAAUtE,MAAO,OADvC,SAGE,mBAAG3G,MAAO,CAAEkB,SAAU,OAAtB,gCAMHsiB,EAAI2F,SAAS1vB,KAAKwJ,GACjB,+BACE,6BAAKA,EAAKvF,OACV,6BAAKuF,EAAKyZ,4CAgBzC,EAGH,MAAMwN,GAAc,CAClB,CAAElpB,MAAO,OACT,CAAEA,MAAO,QACT,CAAEA,MAAO,WACT,CAAEA,MAAO,QACT,CAAEA,MAAO,OACT,CAAEA,MAAO,WACT,CAAEA,MAAO,QACT,CAAEA,MAAO,SACT,CAAEA,MAAO,UACT,CAAEA,MAAO,UACT,CAAEA,MAAO,QACT,CAAEA,MAAO,UACT,CAAEA,MAAO,UACT,CAAEA,MAAO,QACT,CAAEA,MAAO,SACT,CAAEA,MAAO,YACT,CAAEA,MAAO,WACT,CAAEA,MAAO,YAwBL6pB,GAAcnjB,KAAOC,GAAI;;;;;;EAUhBC,oBACblJ,aA9BuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACLyQ,UAAYuJ,GAAYha,EAASyQ,GAAUuJ,IAI3CmT,uBAAyBnT,IACvBha,UhDplBiCuB,EgDolBDyY,EhDnlB7B,CAACha,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9BD,IAAWwB,SAASjB,QAApC,MACMW,EAAOlB,IAAWwB,SAASN,KAE3BksB,EAAiB9rB,EAAKyqB,eAEtBuB,EAAWhsB,EAAK2O,MAChBud,EAAWlsB,EAAKmlB,SAChBiH,EAASpsB,EAAKqqB,OACdiC,EAAYtsB,EAAKsqB,UAEjBiE,EAAOvuB,EAAK0qB,cACZ8D,EAAOxuB,EAAK6qB,eACZ4D,EAAQzuB,EAAK8qB,gBACb4D,EAAQ1uB,EAAK+qB,eACb4D,EAAO3uB,EAAKgrB,eACZ4D,EAAW5uB,EAAKirB,mBAEhB4D,GAAO,IAAIzJ,MAAO0J,WACxB,IAAIC,EAAI,GAENA,EADEF,GAAQ,GAAKA,EAAO,EAClB,KACKA,GAAQ,GAAKA,EAAO,GACzB,KACKA,GAAQ,IAAMA,EAAO,GAC1B,KAEA,KAGNlwB,IACGC,YACAC,WAAW,QACXC,IAAIc,EAAKb,KACTF,WAAW,0BACX2G,IAAI,CACHmX,KAAMhe,IAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,MACrD/lB,KAAM0vB,EAENjD,eAAgBA,EAEhBE,SAAUA,EACVE,SAAUA,EACVE,OAAQA,EACRE,UAAWA,EAEXiC,KAAMA,EACNC,KAAMA,EACNC,MAAOA,EACPC,MAAOA,EACPC,KAAMA,EACNC,SAAUA,IAEXzvB,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GA3BJ,IA/BmCS,KgD8kB9B,MAsBP4Y,6BAAkB7a,GACXA,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAY,OACZC,IAAKf,EAAM6B,KAAKb,MAJQ,KAHjBmM,CAWbif,I,OC79Ba6E,OApGC,KACd,MAAOpc,EAAU6K,GAAelb,mBAAS,CAAE0sB,IAAK,MACzCC,EAAUC,GAAe5sB,mBAAS,IAEzC,IAAI6sB,EAAiB,mCAErB,MAAMC,EAAoB,iDAAgDzc,EAASqc,gBAAgBG,IAC7FE,EAAmB,6FAA4F1c,EAASK,WAAWL,EAAS2c,cAAcH,IA0BhKzsB,qBAAU,KACHiQ,EAASK,KAEduT,MAAM8I,GACHnwB,MAAMwT,GAAaA,EAASkU,SAC5B1nB,MAAMa,IACL,IAAIwvB,EAAU,GACdxvB,EAAKyvB,MAAM1oB,SAAQ,CAACxB,EAAKic,KACvBgO,GAAW,QAAUhO,EAAI,GAAK,KAAOjc,EAAIiqB,QAAQ,GAAGE,KAAO,GAA3D,IAEFP,EAAY,CAAEvpB,QAAS4pB,EAASG,MAAO,WAAvC,IAEDrwB,OAAOC,IACN4vB,EAAY,CAAEvpB,QAAS,sBAAuB+pB,MAAO,UAArD,GAVJ,GAYC,CAAC/c,EAASK,MAGb,MAQM2c,EAAkBlc,IACtB+J,EAAY,IACP7K,EACHK,IAAKS,EAASX,OAAO8c,SACrBN,IAAK7b,EAASX,OAAO+c,WAHvB,EAOF,OACE,0BAAS5yB,GAAG,UAAUe,UAAU,OAAhC,UACE,oBAAIA,UAAU,OAAd,8BACA,uBACEoB,KAAK,OACL2B,KAAK,WACL9D,GAAG,WACH+F,YAAY,YACZhF,UAAU,WACVkF,SAAW7F,IACTmgB,EAAY,IAAK7K,EAAUqc,IAAK3xB,EAAE8F,OAAOC,OAAzC,EAEFA,MAAOuP,EAASqc,MAElB,wBACE/xB,GAAG,aACHe,UAAU,yBACV0F,QA3E0BrG,IAC9BA,EAAEsG,iBAEF4iB,MAAM6I,GACHlwB,MAAM2nB,GAAQA,EAAID,SAClB1nB,MAAMa,IACLR,QAAQC,IAAIO,GAEPA,EAAKivB,IAKVxR,EAAY,IACP7K,EACHK,IAAKjT,EAAKiT,IACVsc,IAAKvvB,EAAKuvB,MAPVJ,EAAY,CAAEvpB,QAAS,uBAAwB+pB,MAAO,UAIxD,IAMDrwB,OAAOC,IACN4vB,EAAY,CAAEvpB,QAAS,0BAA2B+pB,MAAO,UAAzD,GAjBJ,EAqEE,uCAOA,wBAAQ1xB,UAAU,gBAAgB0F,QArCjBrG,IACnBA,EAAEsG,iBACEmsB,UAAUC,YACZD,UAAUC,YAAYC,mBAAmBL,GACtCT,EAAY,CAAEvpB,QAAS,4BAA6B+pB,MAAO,UAA3D,EAiCH,6BAGCT,GACC,mBAAGjxB,UAAY,eAAcixB,EAASS,kBAAtC,SACGT,EAAStpB,YA1BlB,EChEK,MAAMsqB,GAASnyB,GAElB,qBACEuF,MAAO,CACL0qB,UAAW,SACX3gB,OAAQ,QACRyb,aAAc,MAJlB,SAOE,eAAC9f,GAAA,EAAD,WACGjL,EAAMoyB,UACLpyB,EAAMoyB,SAASpzB,KAAKqzB,GAClB,cAAClnB,GAAA,EAAD,UACE,mBAAGhF,KAAO,mCAAkCksB,IAA5C,SAAqDA,KADxCA,MAIjBryB,EAAMoyB,UAAY,uDCFbE,OAfWtyB,GAEtB,eAACiL,GAAA,EAAD,WACGjL,EAAMiC,KAAKswB,YACV,qCACE,8CAAiBvyB,EAAMiC,KAAKswB,WAA5B,YACA,6CAAgBvyB,EAAMiC,KAAKuwB,UAA3B,YACA,6CAAgBxyB,EAAMiC,KAAKuwB,UAA3B,gBAGFxyB,EAAMiC,KAAKswB,YAAc,qD,0CCLjC,MAAME,GAAWC,EAAQ,KA2KVC,OAzKS3yB,IACtB,MAAO4yB,EAAMC,GAAWruB,mBAAS,KAC1BsuB,EAAWC,GAAgBvuB,mBAAS,IACpCqmB,EAAQmI,GAAaxuB,oBAAU,IAAMxE,EAAMgO,MAAM6Y,QAAQ,KAGzDoM,EAAWC,GAAgB1uB,oBAAS,IACpC2uB,EAAeC,GAAoB5uB,oBAAS,GAGnDI,qBAAU,KACR5E,EAAMqzB,YAAYxI,EAAQ7qB,EAAMkL,OAChCooB,GAAgB,GACf,CAACzI,EAAQ7qB,EAAMuzB,KAAMvzB,EAAMwzB,OAG9B5uB,qBAAU,KACR,IAAIsG,GAAS,EACKunB,GAASgB,WAAWzzB,EAAM0zB,KAAK3c,MAAK,CAACvO,EAAMib,KAC3D,GAAIjb,EAAKoqB,OAASA,EAEhB,OADA1nB,EAAQuY,EACDA,CACR,IAEHsP,EAAa7nB,GAEbooB,GAAgB,GACf,CAACV,IAGJ,MAAMU,EAAiB,KACrB,MAAMK,EAAW3zB,EAAMwzB,MAAQ3I,EAAS,KAGxC,IAAI+I,EAAa,IAAI5zB,EAAM6zB,UAGvBC,EAAe,IAAKF,EAAW5zB,EAAMkL,QAGzC4oB,EAAe,CACblB,KAAMA,EACNmB,eAAgBlJ,EAChB8I,SAAUA,EAAS9M,QAAQ,IAI7B+M,EAAW5zB,EAAMkL,OAAS4oB,EAG1B9zB,EAAMg0B,YAAYJ,EAAlB,EAGF,OACE,eAAChnB,GAAA,EAAD,CAAqB1M,UAAU,WAA/B,UACE,eAAC4M,GAAA,EAAD,WACE,qBACE3M,IAAKuyB,OAAS,KAAgB1yB,EAAM0zB,cAAcO,QAClD5zB,IAAKL,EAAM0zB,IACXpkB,OAAQ,GACRpD,MAAO,KAERlM,EAAMkL,MAAQ,KAGjB,eAAC4B,GAAA,EAAD,WACE,cAAC,GAAD,CACE3N,GAAG,OACH8G,QAAQ,QACRhE,KAAO,UAASjC,EAAM0zB,MACtBnwB,SAAWhE,IACTszB,EAAQtzB,EAAR,EAEFqR,MAAO6hB,GAASgB,WAAWzzB,EAAM0zB,KAAK10B,KAAKwJ,GAClCA,EAAKoqB,SAIhB,cAAC9tB,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACHe,UAAU,OACVkF,SAAW7F,GAAMszB,EAAQtzB,EAAE8F,OAAOC,OAClCA,MAAOstB,EACPztB,UAAQ,OAIZ,eAAC2H,GAAA,EAAD,WACE,wBAAOonB,QAAQ,SAAf,UACE,cAAC,KAAD,CACEjxB,KAAK,SACL4gB,IAAK,EACLmH,IAAK,IACL1lB,MAAOulB,EACPzlB,SAAW7F,GAAMyzB,EAAUpM,OAAOrnB,GAAGsnB,QAAQ,MAE/C,wCAEF,cAAC,KAAD,CACEvhB,MAAOulB,EACP3qB,UAAU,SACVkF,SAAW7F,GAAMyzB,EAAUpM,OAAOrnB,EAAE8F,OAAOC,OAAOuhB,QAAQ,SAG9D,cAAC/Z,GAAA,EAAD,UACE,sBAAK5M,UAAU,eAAf,UACE,cAACuF,EAAA,EAAD,CACEG,QAAS,KACPstB,GAAa,EAAb,EAEFhzB,UAAU,mBAJZ,mBAQA,cAACuF,EAAA,EAAD,CACEG,QAAS,KACPwtB,GAAiB,EAAjB,EAEFlzB,UAAU,0BAJZ,uCAWJ,eAAC4J,GAAA,EAAD,CAAOC,KAAMkpB,EAAWjpB,OAAQ,IAAMkpB,GAAa,GAAnD,UACE,cAACppB,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,UACG6yB,EAAO,iDAAoBA,KAAY,4CAG5C,cAAC9oB,GAAA,EAAMI,KAAP,UACG0oB,GAAQH,GAASgB,WAAWzzB,EAAM0zB,KAAKZ,IACtC,cAACX,GAAD,CAAOC,SAAUK,GAASgB,WAAWzzB,EAAM0zB,KAAKZ,GAAWqB,UAG/D,cAACrqB,GAAA,EAAMK,OAAP,UACE,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS,IAAMstB,GAAa,GAAxD,wBAMJ,eAACppB,GAAA,EAAD,CAAOC,KAAMopB,EAAenpB,OAAQ,IAAMopB,GAAiB,GAA3D,UACE,cAACtpB,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,UACG6yB,EACC,oEAAuCA,KAEvC,4CAIN,cAAC9oB,GAAA,EAAMI,KAAP,UACG0oB,GAAQH,GAASgB,WAAWzzB,EAAM0zB,KAAKZ,IACtC,cAAC,GAAD,CAAW7wB,KAAMwwB,GAASgB,WAAWzzB,EAAM0zB,KAAKZ,OAGpD,cAAChpB,GAAA,EAAMK,OAAP,UACE,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS,IAAMwtB,GAAiB,GAA5D,0BA1GIpzB,EAAM0zB,IADlB,EC7CF,MAAMU,GAAS1B,EAAQ,KAEjB2B,IADS3B,EAAQ,KACL,CAAC,SAAO,QAAM,QAiMjBvlB,oBACblJ,aAfuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bf,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL4zB,sBAAwB5Z,GACtBha,ErDzJgCga,IAC7B,CAACha,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAW,eACXC,IAAI2Z,EAAQ1Z,KACZF,WAAW,gBACX2G,IAAIiT,EAAQrZ,QACZD,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAVJ,EqDuJW8yB,CAAsB5Z,QAMnCG,6BAAkB7a,GACXA,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAY,OACZC,IAAKf,EAAM6B,KAAKb,MAJQ,KAHjBmM,EA/LOnN,IACpB,MAAOwzB,EAAMe,GAAW/vB,mBAAS,IAC1B+uB,EAAMiB,GAAWhwB,mBAAS6vB,GAAU,KAEpCR,EAAUG,GAAexvB,mBAAS,KAElCwJ,EAAMymB,GAAWjwB,mBAAS,IAC1BkwB,EAAWC,GAAgBnwB,mBAAS,MACpCowB,EAAQC,GAAarwB,mBAAS,KAC9BswB,EAASC,GAAcvwB,oBAAS,IAEhC4J,EAAM8H,GAAW1R,oBAAS,IAC1BwwB,EAAKC,GAAUzwB,mBAAS,IAEzB6uB,EAAc,CAACpxB,EAAMwhB,KACzBmR,EAAOnR,GAAKmD,OAAO3kB,GACnB,MACMizB,EAAiBN,EAAOO,QAC5B,CAACC,EAAeC,IAAiBD,EAAgBC,GAF9B,GAKrBV,EAAaO,EAAb,EA+CF,OA5CAtwB,qBAAU,KACJ5E,EAAM6B,KAAKsH,OACb8rB,EACE,oEADF,GAGD,CAACj1B,EAAM6B,KAAKsH,QAwCb,qCACE,eAACrE,EAAA,EAAD,CAAMuI,SAxBV,SAAsB9N,GAGpB,GAFAA,EAAEsG,iBAEE6uB,EAAY,IACdO,EAAO,qCADT,CAKA,IAAIhzB,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,IACHwyB,EACHyB,UAAW9B,EACXa,UAAWd,EACXuB,QAASA,IAIb90B,EAAMs0B,sBAAsBryB,GAC5BiU,GAAQ,EAbP,CAcF,EAIG,UACE,wMAoBA,eAACpR,EAAA,EAAKC,MAAN,CAAY7E,UAAU,YAAtB,UACE,cAAC4E,EAAA,EAAKE,MAAN,6BACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,YACHiG,SAAW7F,GAAMg1B,EAAQh1B,EAAE8F,OAAOC,OAClCA,MAAOkuB,EACP3P,IAAK,EACLmH,IAAK,IACL7lB,UAAQ,IAEV,cAAC,GAAD,CACEhG,GAAG,YACH8G,QAAQ,6BACRhE,KAAMsxB,EACNhwB,SAAWhE,IACTi1B,EAAQj1B,EAAR,EAEFqR,MAAOyjB,WAKb,eAACp0B,EAAA,EAAD,CAAWC,UAAU,mBAArB,UACE,eAAC0M,GAAA,EAAD,CAAK1M,UAAU,6CAAf,UACE,cAAC4M,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,8BACA,cAACA,GAAA,EAAD,sBAEDnN,OAAOD,KAAK00B,GAAOX,YAAYz0B,KAAI,CAACozB,EAAUlnB,IAC7C,cAACqqB,GAAD,CAEEvnB,KAAMA,EACN0lB,IAAKtB,EACLlnB,MAAOA,EACPmoB,YAAaA,EACbW,YAAaA,EACbH,SAAUA,EACVL,KAAMA,EACND,KAAMA,GARDnB,QAaX,qBAAIlyB,UAAWw0B,EAAY,IAAM,aAAe,UAAhD,iCACuBA,EAAU7N,QAAQ,GADzC,OAMA,cAAC,GAAD,IAEA,cAAC/hB,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN9I,YAAY,WACZ/F,GAAG,UACH8D,KAAK,UACLmC,SAAW7F,IACTw1B,EAAWx1B,EAAE8F,OAAOC,MAApB,MAKL0vB,GAAO,mBAAG90B,UAAU,aAAb,SAA2B80B,IACnC,cAACvvB,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,mBAAhC,0BAIF,cAACkV,GAAD,CACEhH,KAAMA,EACNiH,QAAS,KACPa,GAAQ,EAAR,EAHJ,mCA/FJ,IC7CF,SAASsf,GAAT,GAA0B,IAAb,OAAEC,GAAU,EACvB,OACE,mCACE,sBAAKv1B,UAAU,cAAf,0BAEE,8CACgBu1B,EADhB,kFAOP,CAecxxB,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,QACjBlI,QAASgD,EAAM/B,SAASjB,YAIAR,IACnB,CACLg1B,cAAe,IAAMh1B,GCpEhB,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,QACA,IAAK,aACHN,EAAMsG,EACN,MACF,IAAK,WACHtG,EAAME,EAAQyC,MAET/C,IAAcC,YACPC,WAAW,eAAeC,IAAIC,GAG3C6H,MACAzH,MAAML,IACL,MAAMkB,EAAO,GACbA,EAAK0I,KAAK5J,EAAIkB,QACdvB,EAAS,CAAEY,KAAM,WAAYmI,QAASxH,GAAtC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,iBAAkBE,OAAnC,GARJ,ODwDWyC,EAhEf,SAAkBjE,GAEhB,MAAOgb,EAASC,GAAczW,oBAAS,GACvCI,qBAAU,KACRsW,YAAW,IAAMD,GAAW,IAAQ,KAApC,IAEFrW,qBAAU,KACR5E,EAAM01B,eAAN,GACC,IAEH,MAAMzwB,EAAU,KACd,OAAQjF,EAAMiC,KAAK,GAAGwzB,QACpB,QACA,IAAK,eACH,OAAO,cAAC,GAAD,IACT,IAAK,YAEL,IAAK,cAEL,IAAK,cACH,OAAO,cAACD,GAAD,CAAKC,OAAQz1B,EAAMiC,KAAK,GAAGwzB,SATtC,EAaF,OACE,mCACIza,EAKA,cAAC,GAAD,IAJA,cAAC,GAAD,CAAU5O,OAAO,eAAehG,KAAK,WAArC,SACE,cAACnB,EAAD,OAOT,IEzCc,SAAS0wB,GAAT,GAAqD,IAArC,QAAEpa,EAAF,SAAWqa,EAAX,YAAqBC,GAAe,EACjE,OACE,mCACE,cAAC/wB,EAAA,EAAD,UACE,eAACA,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,yDACA,eAAC4H,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAAChI,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,WACLiE,MAAM,MACNtB,QAAS,KACP2V,EAAQ,GACRsa,GAAY,EAAZ,MAIN,cAAC/oB,GAAA,EAAD,UACE,cAAChI,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,WACLiE,MAAM,KACNtB,QAAS,KACP2V,EAAQ,GACRsa,GAAY,EAAZ,eASjB,CClCc,SAAS9jB,GAAT,GAA2D,IAA3C,QAAEwJ,EAAF,YAAWua,EAAX,eAAwBC,GAAkB,EACvE,MAAOC,EAAMC,GAAWzxB,oBAAS,GACjC,OACE,eAACM,EAAA,EAAD,CAAMuI,SAAU,IAAMkO,EAAQ,GAA9B,UACE,eAACzW,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,mEAGA,eAAC4H,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAAChI,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,SACLiE,MAAM,MACNtB,QAAS,KACPmwB,GAAe,GACfE,GAAQ,EAAR,MAIN,cAACnpB,GAAA,EAAD,UACE,cAAChI,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,SACLiE,MAAM,KACNtB,QAAS,KACPmwB,GAAe,GACfE,GAAQ,EAAR,YAMTD,EACC,mCACGF,EACC,qCACE,cAAChxB,EAAA,EAAKG,QAAN,CACEE,UAAQ,EACR7D,KAAK,OACL4D,YAAY,uCACZ/F,GAAG,0BACHiG,SAAW7F,GAAMw2B,EAAex2B,EAAE8F,OAAOC,SAE3C,cAACG,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,gBAAhC,qBAKF,qCACE,0GAIA,cAACuF,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,gBAAhC,uBAMJ,OAGT,CC/Dc,SAASmS,GAAT,GAA2D,IAA3C,YAAE6jB,EAAF,eAAeC,EAAf,QAA+B5a,GAAW,EACvE,MAAO6a,EAAUC,GAAe7xB,mBAAS,IAClC8xB,EAAWC,GAAgB/xB,oBAAS,IACpChD,EAAKqV,GAAUrS,oBAAS,GAE/BI,qBAAU,KACS,MAAbwxB,GACFG,GAAa,EACd,GACA,CAACH,IAqCJ,OACE,eAACtxB,EAAA,EAAD,CACEuI,SAAU,KACRkO,EAAQ,EAAR,EAFJ,UAKE,eAACzW,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,8EAGA,cAACF,EAAA,EAAKG,QAAN,CACEE,UAAQ,EACR7D,KAAK,OACLnC,GAAG,cACHq3B,QAAUj3B,IACR42B,EAAe52B,EAAE8F,OAAOoxB,MAAM,GAA9B,IAGJ,oBAAGlxB,MAAO,CAAEC,MAAO,sBAAnB,sBAAqD4wB,EAArD,UAEDE,EACC,cAAC7wB,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,4BAAhC,kBAIA,qCACE,cAACuF,EAAA,EAAD,CAAQvF,UAAU,6BAA6B0F,QApCnCrG,IACd22B,GACF32B,EAAEsG,iBA3BeqwB,KAEArmB,GAEhB5G,IAAK,eAAcitB,EAAYjzB,QAC/ByzB,IAAIR,GACIS,GACT,iBACClsB,IACC,MAAMmsB,EAAOzL,KAAK0L,MACfpsB,EAASqsB,iBAAmBrsB,EAASssB,WAAc,KAEtDV,EAAYO,EAAZ,IAEDztB,GAAU1H,QAAQC,IAAIyH,KACvB,KACE0G,GACG5G,IAAI,eACJuY,MAAM0U,EAAYjzB,MAClB+zB,iBACA51B,MAAM+f,GAAQ1f,QAAQC,IAAIyf,IAJ7B,GAVJ,EAsBE8V,CAAYf,KAEZ32B,EAAEsG,iBACFgR,GAAO,GACR,EA6BK,gCAGCrV,EACC,qBAAKtB,UAAU,MAAf,SACE,+EAEA,UAKb,CCjFc,SAASoT,GAAOtT,GAC7B,MAAO2W,EAAaC,GAAkBpS,mBAAS,KACxC0yB,EAAWC,GAAgB3yB,oBAAS,GAE3CI,qBAAU,KACR,GAAI5E,EAAMyD,QAAS,CACjB,IAAIqT,EAAKnF,GAAUoF,MAAMC,GAAMA,EAAE/T,OAASjD,EAAMyD,UAChDmT,EAAeE,EAAGrX,KACnB,IACA,CAACO,EAAMyD,UAEVmB,qBAAU,KACJqS,aAAkCN,GAEhCO,aAAkBlX,EAAMmX,SAAUR,GACpCwgB,GAAa,GAEbA,GAAa,GAGfA,GAAa,EACd,GACA,CAACn3B,EAAMmX,WAQV,OACE,eAACrS,EAAA,EAAD,CAAMuI,SAPa,KACd6pB,GACHl3B,EAAMub,QAAQ,EACf,EAID,UACGvb,EAAM41B,SACL,oBAAI11B,UAAU,OAAd,2BAEA,oBAAIA,UAAU,OAAd,8JAMF,cAAC4E,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,YACZ/F,GAAG,YACHiG,SAAW7F,GAAMS,EAAMo3B,QAAQ73B,EAAE8F,OAAOC,WAG5C,cAACR,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,iBACZ/F,GAAG,YACHiG,SAAW7F,GAAMS,EAAMq3B,YAAY93B,EAAE8F,OAAOC,OAC5CH,UAAQ,MAGZ,cAACL,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,iBACZ/F,GAAG,YACHiG,SAAW7F,GAAMS,EAAMs3B,YAAY/3B,EAAE8F,OAAOC,WAGhD,cAACR,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,OACZ/F,GAAG,OACHiG,SAAW7F,GAAMS,EAAMuS,QAAQhT,EAAE8F,OAAOC,OACxCH,UAAQ,MAGZ,cAACL,EAAA,EAAKC,MAAN,UACE,cAACkM,GAAD,CACE9R,GAAG,UACHoE,SAAWhE,IACTS,EAAMwS,WAAWjT,EAAE8F,OAAOC,MAA1B,EAEFA,MAAOtF,EAAMyD,QACbyB,YAAY,UACZ0L,MAAOiB,OAGX,cAAC/M,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,WACZ/F,GAAG,WACHiG,SAAW7F,GAAMS,EAAMsX,YAAY/X,EAAE8F,OAAOC,OAC5CH,UAAQ,MAGX+xB,GAAa,qBAAKh3B,UAAU,MAAf,4CACd,cAACuF,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,uBAAhC,oBAKL,CC3Gc,SAASyS,GAAT,GAAiD,IAAjC,QAAE4I,EAAF,OAAWka,EAAX,UAAmB8B,GAAa,EAC7D,OACE,qCACE,sDACA,eAACzyB,EAAA,EAAD,CAAMuI,SAAU,IAAMkO,EAAQ,GAA9B,UACE,cAAC,GAAD,CACEpW,UAAQ,EACRhG,GAAG,WACH8G,QAAQ,QACRhE,KAAMwzB,EACNlyB,SAAWhE,IACTg4B,EAAUh4B,EAAV,EAEFqR,MAAO,CACL,eACA,YACA,cACA,cACA,WAGJ,cAACnL,EAAA,EAAD,CAAQvF,UAAU,4BAA4BoB,KAAK,SAAnD,uBAMP,CC3BM,MAAMk2B,GAAYx3B,GAUrB,eAAC8E,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,UAAahF,EAAMkH,QAClBlH,EAAM4K,KAAK5L,KAAI,CAACwJ,EAAM0C,IAEnB,qBACE3F,MAAO,CACLwH,QAAS,OACT0qB,cAAe,SACf5qB,eAAgB,aAChBzB,WAAY,cALhB,SAQE,cAACtG,EAAA,EAAKgZ,MAAN,CACExc,KAAK,WACL4F,MAAOsB,EACPrJ,GAAIqJ,EAEJygB,QAASjpB,EAAM03B,aAAaxsB,GAC5B9F,SAAU,IA3BAuQ,KACpB,MAAMgiB,EAAsB33B,EAAM03B,aAAa14B,KAAI,CAACwJ,EAAM0C,IACxDA,IAAUyK,GAAYnN,EAAOA,IAG/BxI,EAAM43B,gBAAgBD,EAAtB,EAsB0BpZ,CAAarT,IAFxB1C,UCzBJ,SAASyK,GAAT,GAAgE,IAAhD,QAAEsI,EAAF,UAAWsc,EAAX,SAAsBC,EAAtB,YAAgCC,GAAe,EAC5E,MAAOC,EAAMC,GAAWzzB,oBAAS,IAC1BhD,EAAKqV,GAAUrS,oBAAS,GAe/B,OACE,qCACE,2HAIA,eAACM,EAAA,EAAD,WACE,cAAC0yB,GAAD,CACE5sB,KAAMitB,EACNH,aAAcI,EACdF,gBAAiBG,IAEnB,qBACExyB,MAAO,CACLwH,QAAS,OACT0qB,cAAe,SACf5qB,eAAgB,aAChBzB,WAAY,cALhB,SAQE,cAACtG,EAAA,EAAKgZ,MAAN,CACExc,KAAK,WACL4F,MAAM,oBAEN/H,GAAG,OACHiG,SAAU,IAAM6yB,GAAQ,IAFpB,UAKR,cAACxyB,EAAA,EAAD,CAAQvF,UAAU,4BAA4B0F,QAzChCrG,IACdu4B,EAASI,OAAOC,IAAwB,IAAZA,IAC1BH,EACFzc,EAAQ,KAER1E,GAAO,IAGTtX,EAAEsG,iBACF0V,EAAQ,GACT,EA+BG,kBAGC/Z,GACC,qBAAKtB,UAAU,MAAf,SACE,gEAMX,CCxDc,SAASk4B,GAAT,GAKX,IAL4B,QAC9B7c,EAD8B,UAE9Bsc,EAF8B,eAG9BQ,EAH8B,kBAI9BC,GACC,EACD,MAAON,EAAMC,GAAWzzB,oBAAS,IAC1BhD,EAAKqV,GAAUrS,oBAAS,GAc/B,OACE,qCACE,iKAIA,eAACM,EAAA,EAAD,WACE,cAAC0yB,GAAD,CACE5sB,KAAMitB,EACNH,aAAcW,EACdT,gBAAiBU,IAEnB,qBACE/yB,MAAO,CACLwH,QAAS,OACT0qB,cAAe,SACf5qB,eAAgB,aAChBzB,WAAY,cALhB,SAQE,cAACtG,EAAA,EAAKgZ,MAAN,CACExc,KAAK,WACL4F,MAAM,oBACN/H,GAAG,OACHiG,SAAU,IAAM6yB,GAAQ,OAG5B,cAACxyB,EAAA,EAAD,CAAQvF,UAAU,4BAA4B0F,QAvChCrG,IACd84B,EAAeH,OAAOC,IAAwB,IAAZA,IAChCH,EACFzc,EAAQ,KAER1E,GAAO,IAGTtX,EAAEsG,iBACF0V,EAAQ,KACT,EA6BG,kBAGC/Z,GACC,qBAAKtB,UAAU,MAAf,SACE,gEAMX,CC5Dc,SAASq4B,GAAT,GAA6C,IAA5B,QAAEhd,EAAF,aAAWid,GAAgB,EACzD,OACE,eAAC1zB,EAAA,EAAD,CAAMuI,SAAU,IAAMkO,EAAQ,GAA9B,UACE,6FACA,eAACzW,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,YACLiE,MAAM,MACNtB,QAAS,IAAM4yB,EAAa,SAE9B,cAAC1zB,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,YACLiE,MAAM,gBACNtB,QAAS,IAAM4yB,EAAa,aAE9B,cAAC1zB,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,YACLiE,MAAM,gBACNtB,QAAS,IAAM4yB,EAAa,aAE9B,cAAC1zB,EAAA,EAAKgZ,MAAN,CACE3Y,UAAQ,EACR7D,KAAK,QACL2B,KAAK,YACLiE,MAAM,iBACNtB,QAAS,IAAM4yB,EAAa,iBAGhC,cAAC/yB,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,4BAAhC,oBAKL,C,eCrCD,SAASu4B,GAAkBz4B,GACzB,OACE,eAAC8J,GAAA,EAAD,IAAW9J,EAAO8L,KAAK,KAAK,kBAAgB,mBAAmBC,UAAQ,EAAvE,UACE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,mBAAhB,8FAKF,eAAC2K,GAAA,EAAMI,KAAP,CAAYwuB,iBAAiB,QAA7B,UACE,6DACA,4BACE,+BACE,6BACE,mEAEF,6BACE,2EAEF,6BACE,8EAEF,6BACE,qEAEF,6BACE,kEAEF,6BACE,sEAEF,6BACE,iFAEF,6BACE,0EAEF,6BACE,uEAEF,6BACE,yEAEF,6BACE,iFAEF,6BACE,+EAEF,6BACE,wFAEF,6BACE,wFAEF,6BACE,2EAEF,6BACE,gEAEF,6BACE,sFAEF,6BACE,qGAKF,6BACE,kEAEF,6BACE,mFAEF,6BACE,qEAIN,kEACA,8BACE,oBAAGvyB,KAAK,uBAAuBZ,MAAO,CAAEC,MAAO,WAA/C,uCAC6B,OAE7B,uDAJF,kXAWA,6DACA,0DACA,6DAC8B,uDAD9B,8CAE+B,8CAF/B,OAIA,0EACA,iRAMA,8EACA,sIAIA,+BACE,oDACqB,IACnB,oBACEW,KAAK,uCACLZ,MAAO,CAAEC,MAAO,WAFlB,UAIG,IAJH,+CAMK,IARP,qBASoB,0EAEb,OAEP,6GAIA,oMAKA,qIAKF,oEACA,kMAKA,iEACA,2KAIA,qEACA,0XAQA,uPAMA,gFACA,8PAMA,yEACA,kRAMA,uQAMA,kKAEkE,IAChE,uDAHF,OAKA,yEACA,gQAMA,2OAKA,qRAMA,wJAIA,4KAKA,qQAMA,yEACA,4SAMA,+PAMA,gFACA,qWAOA,8EACA,yUAOA,uFACA,oHAEgB,IACd,mBAAGW,KAAK,+BAA+BZ,MAAO,CAAEC,MAAO,WAAvD,gDAHF,OAQA,uFACA,4BACE,iFAEF,+BACE,2TAOA,qOAMF,4BACE,8DAEF,+BACE,gKAIA,0OAIE,+BACE,2EACA,gGAGJ,2EAEE,+BACE,+EACA,wDACA,8DACA,0FACA,wFAIN,4BACE,8DAEF,+BACE,kTAOA,wjBAWF,0EACA,6FAC+D,IAC7D,oBACEW,KAAK,uCACLZ,MAAO,CAAEC,MAAO,WAFlB,UAIG,IAJH,+CAMK,OAEP,+DACA,oPAMA,oSAMA,4XAMK,oFANL,OAQA,wQAMA,4MAKA,qGAGA,mEACA,qFACA,oIAIA,+BACE,wEACA,qGAIF,oGAGA,wRAMA,uxBAcA,iEACA,8KAKA,0KAIA,mHAIA,2JAIA,oGAGA,kKAIA,6IAE0C,uDAF1C,IAEyE,OAEzE,kFACA,kcASA,sQAMA,gEACA,wOAIQ,4EAGV,cAACsE,GAAA,EAAMK,OAAP,UACE,cAAC,KAAD,CAAQvE,QAAS5F,EAAMgK,OAAvB,uBAIP,CAEc,SAAS2uB,KACtB,MAAOvqB,EAAM8H,GAAW0iB,IAAMp0B,UAAS,GAIvC,OACE,gCACE,cAAC,KAAD,CAAQoB,QALO,IAAMsQ,GAAQ,GAK7B,kCACA,cAACuiB,GAAD,CAAmB1uB,KAAMqE,EAAMpE,OALf,IAAMkM,GAAQ,OAQnC,CClec,SAAS2iB,GAAT,GAAmC,IAAnB,aAAE/yB,GAAgB,EAC/C,OACE,qCACE,qGAGA,cAAC6yB,GAAD,IACA,cAAC7zB,EAAA,EAAD,CAAMuI,SAAW9N,GAAMuG,EAAavG,GAApC,SACE,eAACuF,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKgZ,MAAN,CACExc,KAAK,WACL4F,MAAM,qCACN/B,UAAQ,IAEV,cAACM,EAAA,EAAD,CAAQvF,UAAU,4BAA4BoB,KAAK,SAAnD,0BAOT,CCyLc2C,oBAbUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,YAIAR,IACnB,CACLo4B,aAAeC,GAAWr4B,EhGhHDq4B,IACpB,CAACr4B,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,aAML,QACEN,EAAMsG,EACN,MALF,IAAK,WACHtG,EAAME,EAAQyC,MAOlB,MAAM9C,EAAYD,IAAcC,YAEhCA,EACGC,WAAW,SACXC,IAAIC,GACJC,IAAI,IAAK83B,EAAO73B,SAAW,CAAEC,OAAO,IACpCC,MAAK,IACGP,EACJC,WAAW,eACXC,IAAIC,GACJC,IAAI,IAAK83B,EAAOzuB,MAAQ,CAAEnJ,OAAO,MAErCC,MAAK,KACJV,EAAS,CAAEY,KAAM,kBAAjB,IAEDC,OAAOC,IACNC,QAAQC,IAAI,OACZhB,EAAS,CAAEY,KAAM,eAAgBE,OAAjC,GAfJ,EgG4FmCs3B,CAAaC,OAIrC90B,EAlMf,SAAiBjE,GACf,MAAOoP,EAAMmM,GAAW/W,mBAAS,GAE3BsB,EAAgBvG,IACpB,IAAI0C,EACAjC,EAAMk2B,aACRj0B,EAAO,CACLf,QAAS,CAAE2a,UAAU,GACrBvR,KAAM,CACJvI,MAAO/B,EAAM6B,KAAKE,MAClB+zB,YAAa91B,EAAM81B,YACnBI,YAAc,gBAAel2B,EAAMk2B,YAAYjzB,OAC/C4R,SAAU,CACR7U,EAAMg5B,KACNh5B,EAAMi5B,SACNj5B,EAAMk5B,SACNl5B,EAAMsS,KACNtS,EAAMyD,QACNzD,EAAMmX,UAERse,OAAQz1B,EAAMy1B,OACdqC,SAAU93B,EAAM83B,SAChBO,eAAgBr4B,EAAMq4B,eACtBc,UAAWn5B,EAAMm5B,YAGrB55B,EAAEsG,iBACF7F,EAAM84B,aAAa72B,GACnB2F,GAAmB,WAAY,yCAE/B3F,EAAO,CACLf,QAAS,CAAE2a,UAAU,GACrBvR,KAAM,CACJvI,MAAO/B,EAAM6B,KAAKE,MAClB8S,SAAU,CACR7U,EAAMg5B,KACNh5B,EAAMi5B,SACNj5B,EAAMk5B,SACNl5B,EAAMsS,KACNtS,EAAMyD,QACNzD,EAAMmX,UAERse,OAAQz1B,EAAMy1B,OACdqC,SAAU93B,EAAM83B,SAChBO,eAAgBr4B,EAAMq4B,eACtBc,UAAWn5B,EAAMm5B,YAGrB55B,EAAEsG,iBACF7F,EAAM84B,aAAa72B,GACpB,EAMH,OAFA2C,qBAAU,QAAU,CAACwK,IAEbA,GACN,KAAK,EACH,OACE,qBAAKlP,UAAU,OAAf,SACE,cAACy1B,GAAD,CACEpa,QAASA,EACTqa,SAAU51B,EAAM41B,SAChBC,YAAa71B,EAAM61B,gBAI3B,KAAK,EACH,OACE,qBAAK31B,UAAU,OAAf,SACE,cAAC,GAAD,CACEqb,QAASA,EACTwa,eAAgB/1B,EAAM+1B,eACtBD,YAAa91B,EAAM81B,gBAI3B,KAAK,EACH,OACE,qBAAK51B,UAAU,OAAf,SACE,cAAC,GAAD,CACEqb,QAASA,EACT2a,YAAal2B,EAAMk2B,YACnBC,eAAgBn2B,EAAMm2B,mBAI9B,KAAK,EACH,OACE,qBAAKj2B,UAAU,OAAf,SACE,cAAC,GAAD,CACEqb,QAASA,EACTyd,KAAMh5B,EAAMg5B,KACZ5B,QAASp3B,EAAMo3B,QACf6B,SAAUj5B,EAAMi5B,SAChB5B,YAAar3B,EAAMq3B,YACnB6B,SAAUl5B,EAAMk5B,SAChB5B,YAAat3B,EAAMs3B,YACnBhlB,KAAMtS,EAAMsS,KACZC,QAASvS,EAAMuS,QACf9O,QAASzD,EAAMyD,QACf+O,WAAYxS,EAAMwS,WAClB2E,SAAUnX,EAAMmX,SAChBG,YAAatX,EAAMsX,YACnBse,SAAU51B,EAAM41B,aAIxB,KAAK,EACH,OACE,qBAAK11B,UAAU,OAAf,SACE,cAAC,GAAD,CACEqb,QAASA,EACTka,OAAQz1B,EAAMy1B,OACd8B,UAAWv3B,EAAMu3B,cAIzB,KAAK,EACH,OACE,qBAAKr3B,UAAU,OAAf,SACE,cAAC,GAAD,CACEqb,QAASA,EACTsc,UAAW73B,EAAM63B,UACjBC,SAAU93B,EAAM83B,SAChBC,YAAa/3B,EAAM+3B,gBAI3B,KAAK,IACH,OACE,qBAAK73B,UAAU,OAAf,SACE,cAACk4B,GAAD,CACE7c,QAASA,EACTsc,UAAW73B,EAAM63B,UACjBQ,eAAgBr4B,EAAMq4B,eACtBC,kBAAmBt4B,EAAMs4B,sBAIjC,KAAK,IACH,OACE,qBAAKp4B,UAAU,OAAf,SACE,cAACq4B,GAAD,CAAShd,QAASA,EAASid,aAAcx4B,EAAMw4B,iBAGrD,KAAK,IACH,OACE,qCACE,qBAAKt4B,UAAU,aAAf,sKAKA,qBAAKA,UAAU,kBAAf,yCACA,sBAAKA,UAAU,kBAAf,gIAEoD,IAClD,mBAAGiG,KAAK,oJAAR,kBAHF,UAUN,KAAK,EACH,OACE,qBAAKjG,UAAU,OAAf,SACE,cAAC24B,GAAD,CAAQ/yB,aAAcA,MAG5B,QAEE,OACE,qBAAK5F,UAAU,cAAf,uEAKP,IC9Lc,SAASk5B,KAEtB,MAAOxD,EAAUC,GAAerxB,oBAAS,IAGlCsxB,EAAaC,GAAkBvxB,oBAAS,IAGxC0xB,EAAaC,GAAkB3xB,mBAAS,KAGxCw0B,EAAM5B,GAAW5yB,mBAAS,KAC1By0B,EAAU5B,GAAe7yB,mBAAS,KAClC00B,EAAU5B,GAAe9yB,mBAAS,KAClC8N,EAAMC,GAAW/N,mBAAS,KAC1Bf,EAAS+O,GAAchO,mBAAS,KAChC2S,EAAUG,GAAe9S,mBAAS,KAGlCixB,EAAQ8B,GAAa/yB,mBAAS,gBAIrC,IAAIqzB,EACJ,OAAQpC,GACN,QACA,IAAK,eACHoC,EAAY,CACV,eACA,qBACA,eACA,gBACA,eACA,2BACA,gBACA,wBACA,sBACA,0BACA,UAEF,MACF,IAAK,YACHA,EAAY,CAAC,eAAgB,yBAA0B,UACvD,MACF,IAAK,cACHA,EAAY,CAAC,eAAgB,uBAAwB,UACrD,MACF,IAAK,cACHA,EAAY,CAAC,eAAgB,UAC7B,MACF,IAAK,QACHA,EAAY,CACV,eACA,qBACA,eACA,gBACA,eACA,2BACA,gBACA,wBACA,sBACA,yBACA,0BACA,uBACA,UAMN,MAAOC,EAAUC,GAAevzB,mBAAS,KAClC6zB,EAAgBC,GAAqB9zB,mBAAS,KAC9C20B,EAAWX,GAAgBh0B,mBAAS,IAQ3C,OANAI,qBAAU,KACRmzB,EAAY,IAAIsB,MAAMxB,EAAU7sB,QAAQwX,MAAK,IAC7C8V,EAAkB,IAAIe,MAAMxB,EAAU7sB,QAAQwX,MAAK,IACnD/gB,QAAQC,IAAIo2B,EAAZ,GACC,CAACrC,IAGF,cAAC,GAAD,CAAUrvB,KAAK,WAAWgG,OAAO,eAAe9L,SAAS,kBAAzD,SACE,cAAC,GAAD,CACEs1B,SAAUA,EACVC,YAAaA,EACbC,YAAaA,EACbC,eAAgBA,EAChBG,YAAaA,EACbC,eAAgBA,EAChB6C,KAAMA,EACN5B,QAASA,EACT6B,SAAUA,EACV5B,YAAaA,EACb6B,SAAUA,EACV5B,YAAaA,EACbhlB,KAAMA,EACNC,QAASA,EACT9O,QAASA,EACT+O,WAAYA,EACZ2E,SAAUA,EACVG,YAAaA,EACbme,OAAQA,EACR8B,UAAWA,EACXM,UAAWA,EACXC,SAAUA,EACVC,YAAaA,EACbM,eAAgBA,EAChBC,kBAAmBA,EACnBa,UAAWA,EACXX,aAAcA,KAIrB,CC/GD,SAASvtB,GAAKjL,GACZ,IAAI4K,EAKJ,OAJAA,EAAO5K,EAAM4Q,MAAM5R,KAAI,CAACwJ,EAAM0C,IACrB,6BAAiB1C,GAAR0C,KAIhB,qBAAK3F,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAK/E,KAGV,CAEM,MAAM0uB,GAAoBt5B,GAE7B,eAAC,GAAD,CAAUoG,KAAK,WAAWgG,OAAO,eAAe9L,SAAS,eAAzD,UACE,4BAAIN,EAAM6H,UACV,eAAC/C,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,qDACA,eAAC4e,GAAA,EAAD,CAAY1jB,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,OACZ/F,GAAG,qBAEL,cAACsG,EAAA,EAAD,CACEvF,UAAU,YACVf,GAAG,SACHyG,QAAUrG,IACRS,EAAMu5B,QAAQ,IACTv5B,EAAMw5B,OACTj6B,EAAE8F,OAAOo0B,gBAAgBn0B,OAF3B,EAJJ,oBAaF,cAAC,GAAD,CAAMsL,MAAO5Q,EAAMw5B,YAGrB,eAAC10B,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,2CACA,eAAC4e,GAAA,EAAD,WACE,cAAC3S,GAAD,CACE9R,GAAG,aACHoE,SAAWhE,IACTS,EAAM05B,OAAOn6B,EAAE8F,OAAOC,MAAtB,EAEFA,MAAOtF,EAAMwH,IACbtC,YAAY,wBACZ0L,MAAO,CACL,UACA,WACA,aACA,YACA,aAGJ,cAACnL,EAAA,EAAD,CACEvF,UAAU,YACVf,GAAG,OACHyG,QAAUrG,IACRS,EAAM25B,OAAO,IAAI35B,EAAM45B,KAAMr6B,EAAE8F,OAAOo0B,gBAAgBn0B,OAAtD,EAJJ,oBAUF,cAAC,GAAD,CAAMsL,MAAO5Q,EAAM45B,UAGrB,eAAC90B,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,qDAEA,eAAC4e,GAAA,EAAD,CAAY1jB,UAAU,OAAtB,UACE,cAAC4E,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL4D,YAAY,OACZ/F,GAAG,qBAEL,cAACsG,EAAA,EAAD,CACEvF,UAAU,YACVf,GAAG,QACHyG,QAAUrG,IACRS,EAAM65B,QAAQ,IAAI75B,EAAM85B,MAAOv6B,EAAE8F,OAAOo0B,gBAAgBn0B,OAAxD,EAJJ,oBAUF,cAAC,GAAD,CAAMsL,MAAO5Q,EAAM85B,cAIvB,cAACr0B,EAAA,EAAD,CACEvF,UAAU,YACV0F,QAAUrG,GAAMS,EAAMub,QAAQ,cAFhC,qBCoCStX,oBAbUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,YAIAR,IACnB,CACLF,eAAiBC,GAAaC,EAASF,EAAeC,OAI3CwD,EAlIOjE,IACpB,MAAOoP,EAAMmM,GAAW/W,mBAAS,UAC1Bg1B,EAAQD,GAAW/0B,mBAAS,KAC5Bo1B,EAAMD,GAAUn1B,mBAAS,KAEzBgD,EAAKkyB,GAAUl1B,mBAAS,KACxBs1B,EAAOD,GAAWr1B,mBAAS,IAGlCI,qBAAU,QAAU,CAACwK,IAErB,MAAM4O,EAAgBze,IACpB,IAAI0C,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNU,MAAO/B,EAAM6B,KAAKE,MAClBy3B,OAAQA,EACRI,KAAMA,EACNE,MAAOA,GAET54B,QAAS,CAAEoa,YAAY,IAEzBtb,EAAMQ,eAAeyB,EAArB,EAGF,OAAQmN,GACN,QACA,IAAK,QACH,OACE,cAAC,GAAD,CAAUhJ,KAAK,UAAUgG,OAAO,eAAe9L,SAAS,eAAxD,SACE,eAACwE,EAAA,EAAD,WACE,cAACA,EAAA,EAAKE,MAAN,mDACA,cAACF,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACL2B,KAAK,YACLiE,MAAM,MACNtB,QAASoY,IAEX,cAAClZ,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACL2B,KAAK,YACLiE,MAAM,KACNtB,QAAS,IAAM2V,EAAQ,mBAKjC,IAAK,WACH,OACE,cAAC+d,GAAD,CACE/d,QAASA,EACTge,QAASA,EACTC,OAAQA,EACRE,OAAQA,EACRlyB,IAAKA,EACLmyB,OAAQA,EACRC,KAAMA,EACNC,QAASA,EACTC,MAAOA,EACPjyB,QAAQ,2MAKd,IAAK,aACH,OACE,cAAC,GAAD,CAAUzB,KAAK,WAAWgG,OAAO,eAAe9L,SAAS,eAAzD,SACE,eAACwE,EAAA,EAAD,WACE,eAACA,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,8FAIA,cAACF,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACL2B,KAAK,eACLiE,MAAM,QAGR,cAACpC,EAAA,EAAKgZ,MAAN,CAAYxc,KAAK,QAAQ2B,KAAK,eAAeiE,MAAM,UAErD,eAACpC,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,sHAIA,cAACF,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACL2B,KAAK,cACLiE,MAAM,MACNtB,QAAUrG,GAAMgc,EAAQ,kBAE1B,cAACzW,EAAA,EAAKgZ,MAAN,CACExc,KAAK,QACL2B,KAAK,eACLiE,MAAM,KACNtB,QAASoY,YAMrB,IAAK,eACH,OACE,eAAC,GAAD,CAAU+b,KAAK,WAAW3tB,OAAO,eAAe9L,SAAS,eAAzD,UACE,sHAIA,cAACmF,EAAA,EAAD,CAAQvF,UAAU,YAAY0F,QAASoY,EAAvC,qBApFR,I,+BC0Ca/Z,oBAZUC,IAChB,CACLhD,QAASgD,EAAM/B,SAASjB,YAIAR,IACnB,CACLs5B,UAAY/3B,GAASvB,E/F8RCuB,IACjB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9CA,IACGC,YACAC,WAAW,mBACX2G,IAAIxF,GACJb,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GARJ,E+FhS8Bw4B,CAAU/3B,OAI7BgC,EAtEf,SAAmBjE,GACjB,MAAOi6B,EAAYC,GAAiB11B,mBAAS,KACtCzC,EAAOwC,GAAYC,mBAAS,KAC5BqQ,EAAU6K,GAAelb,mBAAS,IAWzC,OACE,mCACE,sBAAKtE,UAAU,mBAAf,UACE,qBAAKA,UAAU,OAAf,mIAIA,eAAC4E,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBAlBS,MACnB,MAAM5D,EAAO,CACXg4B,WAAYA,EACZl4B,MAAOA,EACP8S,SAAUA,GAEZ7U,EAAMg6B,UAAU/3B,EAAhB,EAaQ6D,GACA9F,EAAMwjB,iBAAN,EAJJ,UAOE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,+BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL8D,SAAW7F,GAAM26B,EAAc36B,EAAE8F,OAAOC,YAG5C,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL8D,SAAW7F,GAAMmgB,EAAYngB,EAAE8F,OAAOC,YAG1C,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,mCACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL8D,SAAW7F,GAAMgF,EAAShF,EAAE8F,OAAOC,YAGvC,cAACG,EAAA,EAAD,CAAQvF,UAAU,YAAYoB,KAAK,SAAnC,2BAOT,IC3Dc,SAAS64B,GAAT,GAAoC,IAAlB,YAAEC,GAAe,EAChD,MAAOC,EAASC,GAAc91B,mBAAS,OAwBvCI,qBAAU,KArBa,MACrB,OAAQy1B,GACN,QACA,IAAK,MACHD,EAAY,IACZ,MACF,IAAK,YACHA,EAAY,aACZ,MACF,IAAK,QACHA,EAAY,SACZ,MACF,IAAK,SACHA,EAAY,UACZ,MACF,IAAK,QACHA,EAAY,SAfhB,EAqBAG,EAAgB,GACf,CAACF,IAIJ,OACE,cAAC,GAAD,CACEl7B,GAAG,YACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MAPc,CAAC,MAAO,YAAa,QAAS,SAAU,SAQtDrN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CC3CM,MAAMi7B,GAAcpwB,MAAOoe,EAAOiS,KACvC,MAGM1b,EAAQ,mGAA6EyJ,YACrF1lB,QAAa2lB,MAAM1J,GAEzB0b,QADmB33B,EAAKgmB,OACxB,E,0BCHa,SAAS4R,GAAT,GAA+C,IAAvB,iBAAEC,GAAoB,EAC3D,MAAOnS,EAAOoS,GAAYp2B,mBAAS,KAC5BoQ,EAAU6lB,GAAej2B,mBAAS,IAczC,IAAIkd,EAOJ,OAnBA9c,qBAAU,KACR41B,GAAYhS,EAAOiS,EAAnB,GACC,CAACjS,IAYF9G,EADY,KAAV8G,EACQ,CAAC,OAED5T,EAIV,mCACG4T,EACC,cAAC,KAAD,CACEmH,cAAgBpwB,IACdq7B,EAASr7B,EAAE8F,OAAOC,OAClBq1B,EAAiBp7B,EAAjB,EAEF6F,SAAW7F,IACTo7B,EAAiBp7B,EAAjB,EAEFJ,GAAG,OACHuiB,QAASA,EACT8N,UAAQ,EACRhpB,GAAI,CAAE0F,MAAO,OAAQ2uB,WAAY,8BACjCjL,YAAcC,GAAW,cAAC,KAAD,IAAeA,EAAQ3oB,MAAM,WAGxD,cAAC,KAAD,CACEyoB,cAAgBpwB,IACdq7B,EAASr7B,EAAE8F,OAAOC,OAClBq1B,EAAiBp7B,EAAjB,EAEF6F,SAAW7F,IACTo7B,EAAiBp7B,EAAjB,EAEFJ,GAAG,OACHqwB,UAAQ,EACR9N,QAASA,EACToZ,kBAAoBpL,GAAWA,IAAWhO,EAAQ,GAClDlb,GAAI,CAAE0F,MAAO,OAAQ2uB,WAAY,8BACjCjL,YAAcC,GAAW,cAAC,KAAD,IAAeA,EAAQ3oB,MAAM,YAK/D,CCNM,MAAM6zB,GAAqB94B,GACzB,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOL1B,EAAKZ,OAAOmH,KAEzBD,IACCzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBvzB,IAAIxF,EAAKZ,QACTD,MAAMsG,IAELa,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBj6B,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GApBF,EAiMSy5B,GAAkBh5B,GACtB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBj6B,IAAIkB,EAAK9C,IACT6E,SACA5C,MAAK,IAAMV,EAAS,CAAEY,KAAM,kBAC5BC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAXJ,EAgBS05B,GAAqBj5B,GACzB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBj6B,IAAIkB,EAAK9C,IACT6E,SACA5C,MAAK,IAAMV,EAAS,CAAEY,KAAM,sBAC5BC,OAAOC,IACNd,EAAS,CAAEY,KAAM,wBAAyBE,OAA1C,GAXJ,ECtWS25B,GAAY/wB,MAAOqC,EAAM2uB,KACpC,MAEMrc,EAAQ,oHAA8FtS,2BACtG3J,QAAa2lB,MAAM1J,GAEzBqc,SADmBt4B,EAAKgmB,QACTuS,MAAM,GAAG5uB,KAAK6uB,OAA7B,EC6Mar3B,mBAAQ,MARKvD,IACnB,CACL0G,mBAAqBC,GAAa3G,EAAS0G,GAAmBC,IAC9D6b,aAAejhB,GAASvB,EAASwiB,GAAajhB,IAC9C84B,kBAAoB94B,GAASvB,EAASq6B,GAAkB94B,OAI7CgC,EAxMf,SAAqBjE,GACnB,MAAOu7B,EAAUC,GAAeh3B,mBAAS,KAClCi3B,EAAUrB,GAAe51B,mBAAS,KAClChD,EAAKqV,GAAUrS,mBAAS,KAGxBk3B,EAAMC,GAAWn3B,oBAAS,GAO3Bo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAEHzT,EAAOgU,GAAYr3B,mBAASo3B,GAkB7BR,EAAaE,IACjBO,EAAS,IAAKhU,EAAOyT,OAAQA,GAA7B,GAGKQ,EAAaC,GAAkBv3B,mBAAS,IAW/CI,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAEJ,MAAME,EAAkBF,EAAY98B,KAAI,CAACi9B,EAAY/wB,IAEjD,+BACG+wB,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,UAFLP,MAQNqP,EAAQ4J,GAAa3f,mBAAS,GAM/BsB,EAAe,KACnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,IAIjBr6B,QAAQC,IAAI,kBAAmB1B,GAC/BA,EAAMoH,mBAAmBnF,GAnBzBkiB,EAAU5J,EAAS,GAsBfmhB,GACF17B,EAAMkjB,aAAajhB,GAErBjC,EAAM+6B,kBAAkB94B,EAAxB,EAGF,OACE,eAAC6C,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACFC,IACA9F,EAAMwjB,iBAAN,EAJJ,UAcE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACHiG,SAAW7F,IACTi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAEFH,UAAQ,OAIZ,cAACg1B,GAAD,CAAUC,YAAaA,EAAa8B,WAAW,IAE/C,qBAAK32B,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAKqsB,MAGP,cAACl3B,EAAA,EAAKC,MAAN,UAQE,cAAC21B,GAAD,CAAgBC,iBA9GIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,MA2GC,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,4BACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,GA/HAA,KACfA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE7CuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAC9C,EA0HwB62B,CAAY58B,GAC7B+F,MAAOuiB,EAAM3e,WAEf,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4lB,EAAMpc,QACZmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,QAAS,MAAO,KAAM,OACrFrN,SAAWhE,IACTs8B,EAAS,IAAKhU,EAAOpc,QAASlM,GAA9B,UAMR,cAACuF,EAAA,EAAKC,MAAN,UACE,cAACU,EAAA,EAAD,CACEvF,UAAU,wBACVf,GAAG,iBACHyG,QAAS,KA5HQwE,WACJ,KAAfyd,EAAMpb,KACR0uB,GAAUtT,EAAMpb,KAAM2uB,GAAWh6B,MAAK,KACpC26B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,IAGF/kB,EAAO,qCACR,EAqHOulB,EAAkB,EAJtB,8BAWF,cAACt3B,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKgZ,MAAN,CACExc,KAAK,WACL+6B,gBAAc,EACdn1B,MAAM,YACNtB,QAAS,KA3Kf+1B,GAASD,EAuKL,MAQF,qBAAKn2B,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,sBAMP,I,UCxMD,MAAMg7B,GAAiB,2BAgDRC,OA7BYv8B,IACzB4E,qBAAU,KAER,MAAM43B,EApBYx8B,KACpB,IAAIw8B,EAAS,CAAC,EAad,OAZIx8B,EAAMy8B,MACRD,EAAOC,IAAMz8B,EAAMy8B,KAEjBz8B,EAAM08B,QACRF,EAAOE,MAAQ18B,EAAM08B,OAEnB18B,EAAM28B,cACRH,EAAOG,YAAc38B,EAAM28B,kBAEH/jB,IAAtB5Y,EAAM48B,cACRJ,EAAOI,YAAc58B,EAAM48B,aAEtBJ,CAAP,EAMiBK,CAAa78B,GACtB88B,GAA4B,IAAlB98B,EAAM88B,QACtB,IAAK98B,EAAM+8B,sBACT,KAAM,8CAER,MAAMC,EAAqB,IAAIC,KAC7BX,GACAE,EACAM,GAQF,OANAE,EAAmBte,OACjB1e,EAAM+8B,sBACN/8B,EAAMk9B,qBAID,KACLF,EAAmB9T,QAAQ3nB,OAAO4H,IAChC1H,QAAQ0H,MAAM,uCAAwCA,EAAtD,GADF,CADF,GAKC,IAEI,qBAAKhK,GAAIm9B,MC9ClB,MAAMa,WAAsB7e,YAC1B8e,YAAYp9B,GACVq9B,MAAMr9B,GACNwe,KAAKta,MAAQ,CAAEo5B,UAAU,EAC1B,CAE8B,gCAACn0B,GAE9B,MAAO,CACLm0B,UAAU,EACVn0B,QAEH,CAGDuV,SACE,MAAM,SAAE4e,EAAF,MAAYn0B,GAAUqV,KAAKta,MAEjC,OAAIo5B,EAGA,gCACE,kEAECn0B,EAAMtB,SAAW,sDAAyBsB,EAAMtB,cAKhD2W,KAAKxe,MAAMO,QACnB,E,OC2CYg9B,I,WChEf,MAAMC,GAAS,WACTC,GAAU,mCA8ODx5B,mBAAQ,MANKvD,IACnB,CACL0G,mBAAqBC,GAAa3G,EAAS0G,GAAmBC,OAInDpD,EA3Of,SAAiBjE,GACf,MAAO09B,EAAgBC,GAAqBn5B,mBAAS,KAC9C+2B,EAAUC,GAAeh3B,mBAAS,KAClC2E,EAAOqS,GAAYhX,mBAAS,OAC5Bs3B,EAAaC,GAAkBv3B,mBAAS,KACxCo5B,EAAgBC,GAAqBr5B,mBAAS,KAC9Cs5B,EAAYC,GAAiBv5B,mBAAS,KACtCi3B,EAAUrB,GAAe51B,mBAAS,KAClCw5B,EAAYC,GAAiBz5B,mBAAS,KACtC05B,EAAgBC,GAAqB35B,mBAAS,KAC9C45B,EAAaC,GAAkB75B,mBAAS,KACxC2c,EAAKmd,GAAU95B,mBAAS,IAiDzBo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAGHzT,EAAOgU,GAAYr3B,mBAASo3B,GAanCh3B,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAGL,MAAOvhB,EAAQ4J,GAAa3f,mBAAS,GAM9BsB,EAAe,KACnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM4T,EACNO,YAAaA,EACbL,SAAUA,EACVuC,WAAYA,EACZE,eAAgBA,EAChB/c,IAAKA,EACLid,YAAaA,IAIjBp+B,EAAMoH,mBAAmBnF,GAtB1BkiB,EAAU5J,EAAS,EAuBL,EAIf,OACE,qCACE,cAAC,GAAD,CACEkiB,IAAK,GACLC,MAAO,IACPE,aAAa,EACbG,sBAxGkB,CAACwB,EAAaC,KAEpC/V,MAAO,kDAAiD+V,EAAcD,oBACrEn9B,MAAKwT,GAAYA,EAASkU,SAC1B1nB,MAAKa,IAEJ,IAAIumB,EAYJ,YARoC5P,GAAhC3W,EAAKyY,QAAQ+jB,iBACdjW,EAAQvmB,EAAKyY,QAAQgkB,aACrBlD,EAAYhT,KAEbA,EAAQvmB,EAAKyY,QAAQ+jB,gBACrBjD,EAAYhT,IAGPC,MAAO,gDAA+C+U,cAAkBC,oBAAyBjV,IAAxG,IAECpnB,MAAK2nB,GAAOA,EAAID,SAChB1nB,MAAKu9B,IACJl9B,QAAQC,IAAI,QAASi9B,EAAQC,MAC7Bb,EAAcY,EAAQC,KAAtB,IASHr9B,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,IAEDtG,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,GApCF,IAyGE,mBAAGtC,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAAxD,SAAmE+1B,IAEnE,eAACsD,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,UACE,cAACk5B,GAAA,EAAMxoB,QAAP,oDACA,8FAKA,eAACvR,EAAA,EAAD,CACGuI,SAAW9N,IACVA,EAAEsG,iBACFC,IACA9F,EAAMwjB,iBAAN,EAJJ,UAQA,cAAC1e,EAAA,EAAKC,MAAN,UACA,6BAAK+4B,GAAcA,EAAW9+B,KAAIiD,GAClC,8BAAK,4BAET,qBAAK2vB,MAAM,OAAX,SACE,sBAAKA,MAAM,YAAX,UACE,oBAAIA,MAAM,aAAV,SACE,sBAAKA,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAAoBv5B,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAA7G,gBACGvD,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAOjc,QAEhB,uBACE0qB,MAAM,mBACNtwB,KAAK,QACL2B,KAAK,mBACL9D,GAAG,oBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,QACzCtmB,MAAK,OAAGrD,QAAH,IAAGA,OAAH,EAAGA,EAAMkhB,OAAOjc,MACrBtB,QAAUrG,IAlFEA,KACvBi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAkFay5B,CAAex/B,GACf66B,EAAW,OAACn4B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAOsY,UACzBwC,EAAa,OAACh8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO6a,YAC3BG,EAAiB,OAACl8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO+a,gBAC/BG,EAAc,OAACp8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO6b,OAC5BV,EAAM,OAACr8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAOhC,IAApB,SAQR,mBAAGyQ,MAAM,YAAT,gBACG3vB,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAO8b,gBAAgBjgC,KAAIwJ,GAC3B,6BAEL,sBAAKopB,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAApC,SACGt2B,IAEH,uBACEopB,MAAM,mBACNtwB,KAAK,WACLgE,MAAOkD,EACPrJ,GAAG,mBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,OAAQxgB,WAAY,QAC7DxF,QAAUrG,IApHFA,KACpBs8B,EAAUhU,EAAMpb,KAAOlN,EAAE8F,OAAOC,OAChCy2B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,EAkHcsD,CAAa3/B,EAAb,4BA8BZ,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,uBAKD6H,GAAS,8BAAK,2GAIpB,ICvOD,MAAMq0B,GAAS,WACTC,GAAU,mCA6ODx5B,YAAQ,MANKvD,IACnB,CACL0G,mBAAqBC,GAAa3G,EAAS0G,GAAmBC,OAInDpD,EA1Of,SAAyBjE,GACvB,MAAO09B,EAAgBC,GAAqBn5B,mBAAS,KAC9C+2B,EAAUC,GAAeh3B,mBAAS,KAClC2E,EAAOqS,GAAYhX,mBAAS,OAC5Bs3B,EAAaC,GAAkBv3B,mBAAS,KACxCo5B,EAAgBC,GAAqBr5B,mBAAS,KAC9Cs5B,EAAYC,GAAiBv5B,mBAAS,KACtCi3B,EAAUrB,GAAe51B,mBAAS,KAClCw5B,EAAYC,GAAiBz5B,mBAAS,KACtC05B,EAAgBC,GAAqB35B,mBAAS,KAC9C45B,EAAaC,GAAkB75B,mBAAS,KACxC2c,EAAKmd,GAAU95B,mBAAS,IAiDzBo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAGHzT,EAAOgU,GAAYr3B,mBAASo3B,GAanCh3B,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAGL,MAAOvhB,EAAQ4J,GAAa3f,mBAAS,GAM9BsB,EAAe,KACnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM4T,EACNO,YAAaA,EACbL,SAAUA,EACVuC,WAAYA,EACZE,eAAgBA,EAChB/c,IAAKA,EACLid,YAAaA,IAIjBp+B,EAAMoH,mBAAmBnF,GAtB1BkiB,EAAU5J,EAAS,EAuBL,EAIf,OACE,qCACE,cAAC,GAAD,CACEkiB,IAAK,GACLC,MAAO,IACPE,aAAa,EACbG,sBAxGkB,CAACwB,EAAaC,KAEpC/V,MAAO,kDAAiD+V,EAAcD,oBACrEn9B,MAAKwT,GAAYA,EAASkU,SAC1B1nB,MAAKa,IAGJ,IAAIumB,EAWJ,YARoC5P,GAAhC3W,EAAKyY,QAAQ+jB,iBACdjW,EAAQvmB,EAAKyY,QAAQgkB,aACrBlD,EAAYhT,KAEbA,EAAQvmB,EAAKyY,QAAQ+jB,gBACrBjD,EAAYhT,IAGPC,MAAO,gDAA+C+U,cAAkBC,oBAAyBjV,IAAxG,IAECpnB,MAAK2nB,GAAOA,EAAID,SAChB1nB,MAAKu9B,IACJl9B,QAAQC,IAAI,QAASi9B,EAAQC,MAC7Bb,EAAcY,EAAQC,KAAtB,IASHr9B,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,IAEDtG,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,GApCF,IAyGE,mBAAGtC,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAAxD,SAAmE+1B,IAEnE,eAACsD,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,UACE,cAACk5B,GAAA,EAAMxoB,QAAP,oDACA,8FAKA,eAACvR,EAAA,EAAD,CACGuI,SAAW9N,IACVA,EAAEsG,iBACFC,IACA9F,EAAMwjB,iBAAN,EAJJ,UAQA,cAAC1e,EAAA,EAAKC,MAAN,UACA,6BAAK+4B,GAAcA,EAAW9+B,KAAIiD,GAClC,8BAAK,4BAET,qBAAK2vB,MAAM,OAAX,SACE,sBAAKA,MAAM,YAAX,UACE,oBAAIA,MAAM,aAAV,SACE,sBAAKA,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAAoBv5B,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAA7G,gBACGvD,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAOjc,QAEhB,uBACE0qB,MAAM,mBACNtwB,KAAK,QACL2B,KAAK,mBACL9D,GAAG,oBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,QACzCtmB,MAAK,OAAGrD,QAAH,IAAGA,OAAH,EAAGA,EAAMkhB,OAAOjc,MACrBtB,QAAUrG,IAlFEA,KACvBi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAkFay5B,CAAex/B,GACf66B,EAAW,OAACn4B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAOsY,UACzBwC,EAAa,OAACh8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO6a,YAC3BG,EAAiB,OAACl8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO+a,gBAC/BG,EAAc,OAACp8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO6b,OAC5BV,EAAM,OAACr8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAOhC,IAApB,SAOR,mBAAGyQ,MAAM,YAAT,gBACG3vB,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAO8b,gBAAgBjgC,KAAIwJ,GAC3B,6BAEL,sBAAKopB,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAApC,SACGt2B,IAEH,uBACEopB,MAAM,mBACNtwB,KAAK,WACLgE,MAAOkD,EACPrJ,GAAG,mBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,OAAQxgB,WAAY,QAC7DxF,QAAUrG,IAnHFA,KACpBs8B,EAAUhU,EAAMpb,KAAOlN,EAAE8F,OAAOC,OAChCy2B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,EAiHcsD,CAAa3/B,EAAb,4BA8BZ,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,uBAKD6H,GAAS,8BAAK,2GAIpB,ICvOc,SAASg2B,GAAT,GAAiC,IAAZ,MAAE75B,GAAS,EAC7C,MAAO85B,EAAUC,GAAe76B,mBAAS,gBAClCuF,EAAMJ,GAAWnF,oBAAS,IAG1B86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,uBAa/Bgf,EAAkB,KACtB7Z,GAAQ,GACR01B,EAAY,cAAZ,EAGF,OACE,qCACE,cAACt4B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,gCAIF,cAAC4J,GAAA,EAAMI,KAAP,UACE,eAACw1B,GAAD,CACEN,SAAUA,EACVC,YAAaA,EACb7b,gBAAiBA,EACjBle,MAAOA,EAJT,UAME,wBACEpF,UAAU,qCACV0F,QAAS,KA3CnB25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAqCJ,SAIGE,IAEFF,EACC,cAAC,GAAD,CAASh6B,MAAOA,EAAOke,gBAAiBA,IAExC,cAAC,GAAD,CAAale,MAAOA,EAAOke,gBAAiBA,cAOzD,CAED,SAASkc,GAAW1/B,GAClB,OAAQA,EAAMo/B,UACZ,QACA,IAAK,cACH,OACE,qCACE,qBAAKl/B,UAAU,mBAAf,8BAGA,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,UACLN,QAAS,IAAM5F,EAAMq/B,YAAY,UAGrC,cAACvyB,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,YACLN,QAAS,IAAM5F,EAAMq/B,YAAY,iBAM7C,IAAK,KAEL,IAAK,MACH,OAAO,mCAAGr/B,EAAMO,WAErB,CCpGc,SAASo/B,GAAT,GAAkC,IAAZ,MAAEr6B,GAAS,EAC9C,MAAOs6B,EAAWC,GAAgBr7B,mBAAS,gBACpCuF,EAAMJ,GAAWnF,oBAAS,IAG1B86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,uBAa/Bgf,EAAkB,KACtB7Z,GAAQ,GACRk2B,EAAa,cAAb,EAGF,OACE,qCACE,cAAC94B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,qCAIF,cAAC4J,GAAA,EAAMI,KAAP,UACE,eAAC41B,GAAD,CACEF,UAAWA,EACXC,aAAcA,EACdrc,gBAAiBA,EACjBle,MAAOA,EAJT,UAME,wBACEpF,UAAU,qCACV0F,QAAS,KA3CnB25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAqCJ,SAIGE,IAEFF,EACC,cAAC,GAAD,CAASh6B,MAAOA,EAAOke,gBAAiBA,IAExC,cAAC,GAAD,CAAale,MAAOA,EAAOke,gBAAiBA,cAOzD,CAED,SAASsc,GAAY9/B,GACnB,OAAQA,EAAM4/B,WACZ,QACA,IAAK,cACH,OACE,qCACE,qBAAK1/B,UAAU,mBAAf,mCAGA,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,UACLN,QAAS,IAAM5F,EAAM6/B,aAAa,UAGtC,cAAC/yB,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,aACLN,QAAS,IAAM5F,EAAM6/B,aAAa,iBAM9C,IAAK,KAEL,IAAK,MACH,OAAO,mCAAG7/B,EAAMO,WAErB,CClGM,SAASw/B,GAAT,GAAmC,IAAZ,MAAEz6B,GAAS,EACvC,MAAO06B,EAAKC,GAAUz7B,mBAAS,gBACxBuF,EAAMJ,GAAWnF,oBAAS,IAG1B86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,uBAa/Bgf,EAAkB,KACtB7Z,GAAQ,GACRs2B,EAAO,cAAP,EAGF,OACE,qCACE,cAACl5B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,gCAIF,cAAC4J,GAAA,EAAMI,KAAP,UACE,eAACg2B,GAAD,CACEF,IAAKA,EACLC,OAAQA,EACRzc,gBAAiBA,EACjBle,MAAOA,EAJT,UAME,wBACEpF,UAAU,qCACV0F,QAAS,KA3CnB25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAqCJ,SAIGE,IAEFF,EACC,cAAC,GAAD,CAASh6B,MAAOA,EAAOke,gBAAiBA,IAExC,cAAC,GAAD,CAAale,MAAOA,EAAOke,gBAAiBA,cAOzD,CAED,SAAS0c,GAAQlgC,GACf,OAAQA,EAAMggC,KACZ,QACA,IAAK,cACH,OACE,qCACE,qBAAK9/B,UAAU,mBAAf,6BAGA,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,WACLN,QAAS,IAAM5F,EAAMigC,OAAO,UAGhC,cAACnzB,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,MACLN,QAAS,IAAM5F,EAAMigC,OAAO,iBAMxC,IAAK,KACH,OAAO,cAACd,GAAD,CAAa75B,MAAOtF,EAAMsF,MAAOke,gBAAiBxjB,EAAMwjB,kBACjE,IAAK,MACH,OAAO,cAACmc,GAAD,CAAcr6B,MAAOtF,EAAMsF,MAAOke,gBAAiBxjB,EAAMwjB,kBAErE,CCzGM,SAAS2c,GAAT,GAAiD,IAA3B,KAAEp2B,EAAF,QAAQJ,EAAR,MAAiBrE,GAAS,EACrD,MAAO86B,EAAWC,GAAgB77B,mBAAS,gBAGpCg7B,EAAQC,GAAaj7B,mBAAS,uBAI/Bgf,EAAkB,KACtB7Z,GAAQ,GACR02B,EAAa,cAAb,EAGF,OACE,qCACE,cAACt5B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,eAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,8BACoBoF,EAAMunB,OAAO,cAGnC,cAAC/iB,GAAA,EAAMI,KAAP,UACE,cAACo2B,GAAD,CACEF,UAAWA,EACXC,aAAcA,EACd7c,gBAAiBA,EACjBle,MAAOA,WAOlB,CAED,SAASg7B,GAAQtgC,GACf,OAAQA,EAAMogC,WACZ,QACA,IAAK,cACH,OACE,qCACE,qBAAKlgC,UAAU,mBAAf,oDAGA,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,UACLN,QAAS,IAAM5F,EAAMqgC,aAAa,UAGtC,cAACvzB,GAAA,EAAD,UACE,cAACzG,EAAD,CACEJ,QAAQ,QACRC,KAAK,aACLN,QAAS,IAAM5F,EAAMqgC,aAAa,iBAM9C,IAAK,MACH,OAAO,cAAC,GAAD,CAAW7c,gBAAiBxjB,EAAMwjB,kBAC3C,IAAK,KACH,OAAO,cAACuc,GAAD,CAAez6B,MAAOtF,EAAMsF,QAExC,CCrFc,SAASi7B,GAAcj7B,GAEpC,MAAMk7B,EAAWl7B,EAAMm7B,QAAQC,QAAQ,SAASA,QAAQ,QAClDC,EAASr7B,EAAMm7B,QAAQG,MAAM,SAASA,MAAM,QAC5Cp5B,EAAMg5B,EAASC,QAAQI,SAAS,EAAG,OACnCC,EAAW,GAEjB,KAAOt5B,EAAIu5B,SAASJ,EAAQ,QAC1BG,EAASn2B,KACP0uB,MAAM,GACH7W,KAAK,GACLxjB,KAAI,IAAMwI,EAAIC,IAAI,EAAG,OAAOg5B,WAInC,OAAOK,CACR,CCXM,SAASE,GAAYx5B,GAC1B,OAAOA,EAAIu5B,SAAS,IAAI1Z,KAAQ,MACjC,CAMc,SAAS4Z,GAAUz5B,EAAKlC,GACrC,OAAI07B,GAAYx5B,GAAa,SAd/B,SAAoBA,EAAKlC,GACvB,OAAOA,EAAM47B,OAAO15B,EAAK,MAC1B,CAaK25B,CAAW35B,EAAKlC,GAAe,WANrC,SAAiBkC,GACf,OAAOA,EAAI05B,OAAO,IAAI7Z,KAAQ,MAC/B,CAKK+Z,CAAQ55B,GAAa,QAClB,EACR,CChBc,SAAS65B,GAAT,GAA8C,IAAtB,MAAE/7B,EAAF,SAASg8B,GAAY,EAiB1D,SAASC,IACP,OAAOj8B,EAAM47B,OAAO,IAAI7Z,KAAQ,QACjC,CAED,OACE,sBAAKnnB,UAAU,SAAf,UACE,qBACEA,UAAU,WACV0F,QAAS,KAAO27B,KAAeD,EAf5Bh8B,EAAMm7B,QAAQI,SAAS,EAAG,UAa/B,SAIIU,IAAyC,KAA3B16B,OAAO26B,aAAa,OAEtC,sBAAKthC,UAAU,UAAf,UA3BKoF,EAAMunB,OAAO,QA2BlB,IAvBKvnB,EAAMunB,OAAO,WA0BlB,qBAAK3sB,UAAU,OAAO0F,QAAS,IAAM07B,EAlBhCh8B,EAAMm7B,QAAQh5B,IAAI,EAAG,UAkB1B,SACGZ,OAAO26B,aAAa,SAI5B,C,oCCvCM,MAAMC,GAAyBC,GAC7B,CAAChhC,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACX2G,IAAIi6B,EAAYrgC,QAChBD,MAAMsG,IAEL9G,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,sBAAuBogC,eAAxC,IAEDngC,OAAOC,IACNd,EAAS,CAAEY,KAAM,4BAA6BE,OAA9C,GAlBJ,EAyESmgC,GAAiB1/B,GACrB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlBlC,QAAQC,IAAI,cAAeO,EAAKuF,KAEhC5G,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WAAW8H,MAAM,MAAO,KAAM3G,EAAKuF,KAC9CqB,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,iBAAkBmI,QAASxH,GAA5C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,uBAAwBE,OAAzC,GAdJ,EA8WSogC,GAAeC,IACnB,CAELvgC,KAAM,oBAAqBugC,SC7bhB59B,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLohC,eAAiB7/B,IAASvB,UnHgQC2G,EmHhQuBpF,EnHiQ7C,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIsG,EAASE,OACbzG,WAAWuG,EAASG,KACpBzG,IAAIsG,EAASlI,IACb6E,SACA5C,MAAK,IAAMV,EAAS,CAAEY,KAAM,cAAe+F,eAC3C9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAXJ,IA/B2B6F,KmHjQtB,EAEL06B,gBAAkB9/B,IAASvB,UrE8CCyiB,EqE9CwBlhB,ErE+C/C,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIoiB,EAAOhkB,IACX6E,SACA5C,MAAK,IAAMV,EAAS,CAAEY,KAAM,gBAAiB6hB,aAC7C5hB,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GATJ,IA/B4B2hB,KqEhDvB,KAMMlf,EAhDf,SAAgBjE,GAkBd,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,SAAf,SACE,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KAtBKzG,KACpB,MAAM8C,EAAO,CACXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxB1tB,GAAIA,GAGFa,EAAMgiC,OACRhiC,EAAM+hC,gBAAgB9/B,GACtBjC,EAAM6L,gBAEN7L,EAAM8hC,eAAe7/B,GACrBjC,EAAM6L,cACP,EAUOo2B,CAAajiC,EAAMb,GAAnB,EAJJ,SAOE,cAAC,KAAD,CAAYsH,SAAS,iBAK9B,IC2FcxC,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLiH,aAAe1F,GAASvB,EAASiH,GAAa1F,IAC9CmhB,cAAgBnhB,GAASvB,EAAS0iB,GAAcnhB,OAIrCgC,EAjIf,SAAsBjE,GACpB,MAAOu7B,EAAUC,GAAeh3B,mBAASxE,EAAM2nB,OACxCmU,EAAaC,GAAkBv3B,mBAASxE,EAAMi8B,YAsBrD,OACE,eAACn3B,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBAvBa,MACnB,MAAM5D,EAAO,CACXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxB1tB,GAAIa,EAAMb,GACVkC,OAAQ,CACNsmB,KAAM4T,EACNO,YAAaA,EACb38B,GAAIa,EAAMb,KAGVa,EAAMgiC,OACRhiC,EAAMojB,cAAcnhB,GACpBjC,EAAM6L,gBAEN7L,EAAM2H,aAAa1F,GACnBjC,EAAM6L,cACP,EAOG/F,GACA9F,EAAMwjB,iBAAN,EAJJ,UAOE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACH8S,aAAcspB,EACdn2B,SAAW7F,IACTi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,OAKLw2B,EAAY98B,KAAI,CAACi9B,EAAYxY,IAC5B,sBAAKvjB,UAAU,OAAf,UACE,eAAC4E,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,0BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACHiG,SAAW7F,IACTw8B,EAAe,IACVD,EAAYpY,MAAM,EAAGD,GACxB,CACEhX,KAAMlN,EAAE8F,OAAOC,MACf4D,SAAU+yB,EAAW/yB,SACrBuC,QAASwwB,EAAWxwB,YAEnBqwB,EAAYpY,MAAMD,EAAI,EAAGqY,EAAY9wB,SAP1C,EAUFiH,aAAcgqB,EAAWxvB,UAG7B,cAAC3H,EAAA,EAAKC,MAAN,UACE,eAAC6e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,IACTw8B,EAAe,IACVD,EAAYpY,MAAM,EAAGD,GACxB,CACEhX,KAAMwvB,EAAWxvB,KACjBvD,SAAU3J,EAAE8F,OAAOC,MACnBmG,QAASwwB,EAAWxwB,YAEnBqwB,EAAYpY,MAAMD,EAAI,EAAGqY,EAAY9wB,SAP1C,EAUFiH,aAAcgqB,EAAW/yB,WAE3B,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAMg6B,EAAWxwB,QACjBmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,OAAQ,OAC3CrN,SAAWhE,GACTw8B,EAAe,IACVD,EAAYpY,MAAM,EAAGD,GACxB,CACEhX,KAAMwvB,EAAWxvB,KACjBvD,SAAU+yB,EAAW/yB,SACrBuC,QAASlM,MAERu8B,EAAYpY,MAAMD,EAAI,EAAGqY,EAAY9wB,mBArDzByY,KA8D7B,qBAAKle,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,WAAWoB,KAAK,SAAlC,sBAMP,ICtHM,SAAS4gC,GAAT,GASH,IATqB,KACvBva,EADuB,YAEvBmU,EAFuB,GAGvB38B,EAHuB,KAIvB4K,EAJuB,QAKvBJ,EALuB,MAMvBrE,EANuB,YAOvBuG,EAPuB,MAQvBm2B,GACC,EACD,MAAMxe,EAAkB,IAAM7Z,GAAQ,GACtC,OACE,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,yBAEF,cAAC2K,GAAA,EAAMI,KAAP,UAEE,cAAC,GAAD,CACEyd,KAAMA,EACNsU,WAAYH,EACZ38B,GAAIA,EACJ0M,YAAaA,EACbvG,MAAOA,EACPke,gBAAiBA,EACjBwe,MAAOA,QAKhB,CCAcG,OAhCf,SAAcniC,GAEZ,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,OAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAUlD,SAAS,gBAGvB,cAACy7B,GAAD,CACE58B,MAAOtF,EAAMsF,MACbyE,KAAMA,EACNJ,QAASA,EACTge,KAAM3nB,EAAM2nB,KACZmU,YAAa97B,EAAM87B,YACnB38B,GAAIa,EAAMb,GACV0M,YAAa7L,EAAM6L,YACnBm2B,MAAOhiC,EAAMgiC,UAIpB,E,4BC2Fc/9B,mBAAQ,MAPKvD,IACnB,CACL0G,mBAAqBC,GAAa3G,EAAS0G,GAAmBC,IAC9D0zB,kBAAoB94B,GAASvB,EAASq6B,GAAkB94B,OAI7CgC,EAlHf,SAAuBjE,GACrB,MAAO8gC,EAAUsB,GAAe59B,mBAAS,IACnCgf,EAAkB,IAAMxjB,EAAM2J,SAAQ,GA8C5C,OA5CA/E,qBAAU,KACRw9B,EAAY7B,GAAcvgC,EAAMsF,OAAhC,GACC,CAACtF,EAAMsF,QA2CR,mCACE,eAACwE,GAAA,EAAD,CACEC,KAAM/J,EAAM+J,KACZC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,kBAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,eAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,kBAAhB,iBACOa,EAAMqiC,SAAS1a,KADtB,oBAIF,cAAC7d,GAAA,EAAMI,KAAP,UACE,qCACE,sBAAKhK,UAAU,WAAWqF,MAAO,CAAEiQ,SAAU,QAA7C,UACE,cAAC6rB,GAAD,CAAgB/7B,MAAOtF,EAAMsF,MAAOg8B,SAAUthC,EAAMoF,WACpD,sBAAKlF,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACG,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAKlB,KAAI,CAAC0jB,EAAGxX,IAC3C,qBAAKhL,UAAU,OAAf,SACGwiB,GADwBxX,OAK9B41B,EAAS9hC,KAAKg8B,GACb,8BACGA,EAAKh8B,KAAKwI,GACT,qBACEtH,UAAU,MAEV0F,QAAS,KAAOo7B,GAAYx5B,IAAQxH,EAAMoF,SAASoC,GAHrD,SAKE,qBAAKtH,UAAW+gC,GAAUz5B,EAAKxH,EAAMsF,OAArC,SACGkC,EAAIqlB,OAAO,KAAKnG,cAJdlf,EAAIqlB,OAAO,KAAKnG,eAJjBsU,WAgBhB,cAAC30B,EAAD,CACEJ,QAAQ,QACRC,KAAK,MACLN,QAAUrG,IACRA,EAAEsG,iBAtFK,MACnB,IAAI5D,EAGFA,EADEjC,EAAMgiC,QAAUhiC,EAAMqiC,SAASC,cAC1B,CAEL9W,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM3nB,EAAMqiC,SAAS1a,KACrB8T,SAAUz7B,EAAMqiC,SAAS5G,SACzBK,YAAa97B,EAAMqiC,SAASvG,cAIzB,CACLtQ,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM3nB,EAAMqiC,SAAS1a,KACrBmU,YAAa97B,EAAMqiC,SAASvG,YAC5BL,SAAUz7B,EAAMqiC,SAAS5G,SACzByC,eAAgBl+B,EAAMqiC,SAASnE,eAC/BF,WAAYh+B,EAAMqiC,SAASrE,WAC3BgB,MAAOh/B,EAAMqiC,SAASrD,MACtB7d,IAAKnhB,EAAMqiC,SAASlhB,IACpBmhB,eAAe,IAKrBtiC,EAAMoH,mBAAmBnF,GACzBjC,EAAM+6B,kBAAkB94B,EAAxB,EAmDY6D,GACA0d,GAAiB,aAQhC,IC1Cc+e,OAtEf,SAAaviC,GAEX,MAAOwiC,EAAcC,GAAmBj+B,oBAAS,IAE1C69B,EAAUK,GAAel+B,mBAAS,CAAC,GAwC1C,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,kBAAf,SACE,cAAC,KAAD,CACE,aAAW,kBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP68B,GAAgB,GA7CLr4B,WACfpK,EAAMgiC,MACJhiC,EAAMsiC,cAERI,EAAY,CACV/a,KAAM3nB,EAAM2nB,KACZ8T,SAAUz7B,EAAMy7B,SAChBK,YAAa97B,EAAM87B,YACnB38B,GAAIa,EAAMb,GACVmjC,cAAetiC,EAAMsiC,cACrBtE,WAAYh+B,EAAMg+B,WAClBE,eAAgBl+B,EAAMk+B,eACtB/c,IAAKnhB,EAAMmhB,IACX6d,MAAOh/B,EAAMo+B,cAIfsE,EAAY,CACV/a,KAAM3nB,EAAM2nB,KACZ8T,SAAUz7B,EAAMy7B,SAChBK,YAAa97B,EAAM87B,YACnB38B,GAAIa,EAAMb,KAKdujC,EAAY,CACV/a,KAAM3nB,EAAM2nB,KACZ8T,SAAUz7B,EAAMy7B,SAChBK,YAAa97B,EAAM87B,YACnB3a,IAAKnhB,EAAMmhB,IACX+c,eAAgBl+B,EAAMk+B,eACtBF,WAAYh+B,EAAMg+B,WAClBgB,MAAOh/B,EAAMg/B,OAEhB,EAWO30B,EAAc,EALlB,SAQE,cAAC,KAAD,CAAc5D,SAAS,WAG3B,cAAC,GAAD,CACEnB,MAAOtF,EAAMsF,MACbF,SAAUpF,EAAMoF,SAChB2E,KAAMy4B,EACN74B,QAAS84B,EACTJ,SAAUA,EACVL,MAAOhiC,EAAMgiC,UAIpB,EC4Ec/9B,oBArBUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,QACjBu5B,UAAWz+B,EAAMmD,SAASs7B,UAC1BC,gBAAiB1+B,EAAMmD,SAASu7B,oBAIRliC,IACnB,CAGLmiC,aAAc,IAAMniC,GvH2Gf,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,aACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAbJ,IuHxIAshC,oBAAsB7gC,GAASvB,EAASgI,GAAoBzG,IAC5D0F,aAAe1F,GAASvB,EAASiH,GAAa1F,IAC9C8gC,cAAgB9gC,IAASvB,UzHqHC2G,EyHrHsBpF,EzHsH3C,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAQlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIsG,EAASE,OACbzG,WAAWuG,EAASG,KACpBzG,IAAIsG,EAASlI,IACb8B,IAAIoG,EAAShG,OAAQ,CAAEF,OAAO,IAC9BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,kBAAmB+F,eAC/C9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,wBAAyBE,OAA1C,GAXJ,IAhC0B6F,KyH3HrB,EAOL27B,mBAAqB/gC,GAASvB,EzHeCuB,IAC1B,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIkB,EAAKsF,OACTzG,WAAWmB,EAAKuF,KAAKoB,MAAM,KAAM,KAAM3G,EAAK9C,IAC5C0J,MACAzH,MAAMqJ,IACL,IAAIkd,EACJld,EAASzB,SAAQjI,GAAO4mB,EAAO5mB,EAAIkB,SACnCvB,EAAS,CAAEY,KAAM,wBAAyBmI,QAASke,GAAnD,IAEDpmB,OAAOC,IACNd,EAAS,CAAEY,KAAM,8BAA+BE,OAAhD,GAdJ,EyH9CuCwhC,CAAmB/gC,IAC1D0G,eAAiB1G,GAASvB,EAASiI,GAAe1G,OAIvCgC,EAvIf,SAAqBjE,GAEnB,MAAOijC,EAAOC,GAAY1+B,oBAAS,GA0FnC,OARAI,qBAAU,KAfazF,KAEPa,EAAM2nB,KAEpB,MAAM1lB,EAAO,CACXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxB1tB,GAAIa,EAAMb,IAGZa,EAAMgjC,mBAAmB/gC,EAAzB,EAMAkhC,EAAe,GAId,CAACnjC,EAAM+iC,gBAIR,mCACE,cAACh8B,EAAA,EAAD,CAASR,MAAM,qBAAf,SACE,cAAC,KAAD,CACE,aAAW,qBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KA5FEzG,KAEjByI,GACE,SACA,sCAGF,IAAIw7B,EAAUpjC,EAAM2nB,KAETyb,EAAQtH,YAEd9yB,SAAQzJ,IAEX,MAAM8jC,EAAY,CAEhBlkC,GAAII,EAAEkN,KACNvD,SAAU3J,EAAE2J,UAGdlJ,EAAM2I,eAAe06B,EAArB,IAGF,MAAMphC,EAAO,CACXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxB1tB,GAAIa,EAAMb,GACVkC,OAAQ,CACN4hC,OAAO,EACPtb,KAAMyb,EAAQzb,KAEdmU,YAAasH,EAAQtH,YACrB38B,GAAIikC,EAAQjkC,GACZmkC,GAAIF,EAAQE,GACZniB,IAAKiiB,EAAQjiB,IACb+c,eAAgBkF,EAAQlF,eACxBF,WAAYoF,EAAQpF,WACpBI,YAAagF,EAAQhF,cAIzBp+B,EAAM2H,aAAa1F,EAAnB,EAsDQshC,GAjDapkC,KAEPa,EAAM2nB,KAEpB,MAAM1lB,EAAO,CACXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxB1tB,GAAIa,EAAMb,GACVkC,OAAQ,CACN4hC,OAAO,IAIXjjC,EAAM+iC,cAAc9gC,EAApB,EAqCQuhC,EAAe,EANnB,SASoC,GAA/BxjC,EAAM4iC,gBAAgBK,MACf,mCAAE,cAAC,KAAD,CAAgBx8B,SAAS,UAAUjB,MAAM,gBAC1C,mCAAE,cAAC,KAAD,CAAgBiB,SAAS,mBAM/C,IC4CcxC,oBAxBUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,QACjBu5B,UAAWz+B,EAAMmD,SAASs7B,UAC1Bc,eAAgBv/B,EAAMw9B,YAAY+B,eAClCC,QAASx/B,EAAMw9B,YAAYgC,YAIHhjC,IACnB,CAGLmiC,aAAc,IAAMniC,GxHwFf,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,aACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAbJ,IwHrHAshC,oBAAsB7gC,GAASvB,EAASgI,GAAoBzG,IAC5D0F,aAAe1F,IAASvB,UR0IC2G,EQ1IqBpF,ER2IzC,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlBlC,QAAQC,IAAI,SAAU2F,GAEtBzG,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIsG,EAASE,OACbzG,WAAWuG,EAASG,KACpBzG,IAAIsG,EAASlI,IACb8B,IAAIoG,EAAShG,OAAQ,CAAEF,OAAO,IAC9BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,YAAa+F,eACzC9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GAXJ,IAjCyB6F,KQ/IpB,EAMLs8B,gBAAkB1hC,GAASvB,ER4FCuB,IACvB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WACXC,IAAIkB,EAAK9C,IACT8B,IAAIgB,EAAKZ,OAAQ,CAAEF,OAAO,IAC1BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,YAAaW,WACzCV,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GATJ,EQ3HoCmiC,CAAgB1hC,IACpD0G,eAAiB1G,GAASvB,EAASiI,GAAe1G,IAClD2hC,kBAAoB3hC,GAASvB,ERwCCuB,IACzB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WAAW8H,MAAM,KAAM,KAAM3G,EAAK9C,IAC7C0J,MACAzH,MAAMqJ,IACL,IAAIkd,EACJld,EAASzB,SAAQjI,GAAO4mB,EAAO5mB,EAAIkB,SAEnCvB,EAAS,CAAEY,KAAM,uBAAwBmI,QAASke,GAAlD,IAEDpmB,OAAOC,IACNd,EAAS,CAAEY,KAAM,6BAA8BE,OAA/C,GAbJ,EQvEsCoiC,CAAkB3hC,IACxD4hC,YAAc5hC,GAASvB,GRVlB,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAdJ,OQfWyC,EA3Jf,SAAyBjE,GAEvB,MAAOijC,EAAOC,GAAY1+B,oBAAS,GAyGnC,OA5BAI,qBAAU,QAOP,CAAC5E,EAAM2H,eAGV/C,qBAAU,QAgBP,CAAC5E,EAAM2iC,YAGR,mCACE,cAAC57B,EAAA,EAAD,CAASR,MAAM,qBAAf,SACE,cAAC,KAAD,CACE,aAAW,qBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KA5GEzG,KAEjByI,GACE,UACA,iCAGF,IAAIw7B,EAAUpjC,EAAM2nB,KACpBlmB,QAAQC,IAAI,aAAc0hC,GACfA,EAAQtH,YAEd9yB,SAAQzJ,IAEX,MAAM8jC,EAAY,CAEhBlkC,GAAII,EAAEkN,KACNvD,SAAU3J,EAAE2J,UAGdlJ,EAAM2I,eAAe06B,EAArB,IAGF,MAAMphC,EAAO,CACXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxB1tB,GAAIa,EAAMb,GACVkC,OAAQ,CACP4hC,OAAO,EACNtb,KAAMyb,EAAQzb,KAEdmU,YAAasH,EAAQtH,YACrB38B,GAAIikC,EAAQjkC,GACZmkC,GAAIF,EAAQE,GACZniB,IAAKiiB,EAAQjiB,IACb+c,eAAgBkF,EAAQlF,eACxBF,WAAYoF,EAAQpF,WACpBI,YAAagF,EAAQhF,cAIzBp+B,EAAM2H,aAAa1F,EAAnB,EAsEQshC,GAjEapkC,KAEPa,EAAM2nB,KAEpB,MAAM1lB,EAAO,CACX9C,GAAIa,EAAMb,GACVkC,OAAQ,CACN4hC,OAAO,IAIXjjC,EAAM2jC,gBAAgB1hC,EAAtB,EAuDQuhC,GAlDarkC,KAErB,MAAM8C,EAAO,CACX9C,GAAIa,EAAMb,IAGda,EAAM4jC,kBAAkB3hC,EAAxB,EA6CUkhC,EAAe,EAPnB,SAWkC,GAA9BnjC,EAAMyjC,eAAeR,MACb,mCAAE,cAAC,KAAD,CAAgBx8B,SAAS,UAAUjB,MAAM,gBAC1C,mCAAE,cAAC,KAAD,CAAgBiB,SAAS,mBAM/C,ICrIc,SAASq9B,GAAS9jC,GAG/B,OADAyB,QAAQC,IAAI,sCAAuC1B,EAAM+jC,OAEvD,qCACG/jC,EAAMgkC,YAAYhlC,KAAI,CAACilC,EAAS/4B,IAC/B,qBAAKhL,UAAU,WAAf,SACE,qBAAKA,UAAU,cAAf,SA+EE,eAAC+K,GAAA,EAAD,CAEEi5B,OAAQ,CAAEna,WAAY,EAAGD,cAAe,EAAGwF,OAAQ,GAFrD,UAIE,eAAC6U,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4B+jC,EAAQtc,OACnCsc,EAAQxI,SACP,qBAAKv7B,UAAU,YAAf,SAA4B+jC,EAAQxI,WAClC,KACJ,sBAAKv7B,UAAU,QAAf,UAOGF,EAAMgiC,MACL,cAAC,GAAD,CACE18B,MAAOtF,EAAMsF,MACbqiB,KAAMsc,EAAQtc,KACdmU,YAAamI,EAAQnI,YACrBL,SAAUwI,EAAQxI,SAClBt8B,GAAI8kC,EAAQ9kC,GACZiG,SAAUpF,EAAMoF,SAChB48B,MAAOhiC,EAAMgiC,MACbM,cAAe2B,EAAQ3B,cACvBtE,WAAYiG,EAAQjG,WACpBE,eAAgB+F,EAAQ/F,eACxB/c,IAAK8iB,EAAQ9iB,IACbid,YAAa6F,EAAQ7F,cAErB,KACH6F,EAAQ3B,cAAgB,KACvB,cAAC,GAAD,CACEh9B,MAAOtF,EAAMsF,MACbqiB,KAAMsc,EAAQtc,KACdmU,YAAamI,EAAQnI,YACrB38B,GAAI8kC,EAAQ9kC,GACZ0M,YAAa7L,EAAM6L,YACnBm2B,MAAOhiC,EAAMgiC,QAGhBhiC,EAAMokC,WACL,cAAC,GAAD,CACEzc,KAAMsc,EACN3+B,MAAOtF,EAAMsF,MACbnG,GAAI8kC,EAAQ9kC,KAEZ,WAIP8kC,EAAQnI,YAAY98B,KAAI,CAACi9B,EAAY/wB,IACpC,cAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,SAKG64B,EAAQX,GACP,mCACE,4BAAIrH,EAAW/1B,SAGjB,mCACE,8BACG+1B,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,cAZZ,OAAMP,OAkBhB,cAACC,GAAA,EAAD,UACG84B,EAAQ9iB,IAAM,mBAAGhb,KAAM89B,EAAQ9iB,IAAjB,SAAuB8iB,EAAQ9iB,MAAW,SAxErD,QAAOjW,QAjFa,WAAUA,OAgKjDlL,EAAM+jC,MAAM/kC,KAAI,CAACilC,EAAS/4B,IACnB,qBAAKhL,UAAU,WAAf,SACE,qBAAKA,UAAU,cAAf,SACG,eAAC+K,GAAA,EAAD,CAECi5B,OAAQ,CAAEna,WAAY,EAAGD,cAAe,EAAGwF,OAAQ,GAFpD,UAIC,eAAC6U,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4B+jC,EAAQtc,OACnCsc,EAAQxI,SACP,qBAAKv7B,UAAU,YAAf,SAA4B+jC,EAAQxI,WAClC,KACJ,sBAAKv7B,UAAU,QAAf,UACE,cAAC,GAAD,CACEoF,MAAOtF,EAAMsF,MACbnG,GAAI8kC,EAAQ9kC,GACZ0M,YAAa7L,EAAM6L,YACnBm2B,MAAOhiC,EAAMgiC,QAEdhiC,EAAMgiC,MACL,cAAC,GAAD,CACE18B,MAAOtF,EAAMsF,MACbqiB,KAAMsc,EAAQtc,KACdmU,YAAamI,EAAQnI,YACrBL,SAAUwI,EAAQxI,SAClBt8B,GAAI8kC,EAAQ9kC,GACZiG,SAAUpF,EAAMoF,SAChB48B,MAAOhiC,EAAMgiC,MACbM,cAAe2B,EAAQ3B,cACvBtE,WAAYiG,EAAQjG,WACpBE,eAAgB+F,EAAQ/F,eACxB/c,IAAK8iB,EAAQ9iB,IACbid,YAAa6F,EAAQ7F,cAErB,KACH6F,EAAQ3B,cAAgB,KACvB,cAAC,GAAD,CACEh9B,MAAOtF,EAAMsF,MACbqiB,KAAMsc,EAAQtc,KACdmU,YAAamI,EAAQnI,YACrB38B,GAAI8kC,EAAQ9kC,GACZ0M,YAAa7L,EAAM6L,YACnBm2B,MAAOhiC,EAAMgiC,QAGhBhiC,EAAMokC,YAA+B,GAAjBH,EAAQhB,MAC3B,cAAC,GAAD,CACEtb,KAAMsc,EACN3+B,MAAOtF,EAAMsF,MACbnG,GAAI8kC,EAAQ9kC,GACZ8jC,OAAO,IAEP,WAIPgB,EAAQnI,YAAY98B,KAAI,CAACi9B,EAAY/wB,IACpC,cAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,SAKG64B,EAAQX,GACP,mCACE,4BAAIrH,EAAW/1B,SAGjB,mCACE,8BACG+1B,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,cAZZ,OAAMP,OAkBhB,cAACC,GAAA,EAAD,UACG84B,EAAQ9iB,IAAM,mBAAGhb,KAAM89B,EAAQ9iB,IAAjB,SAAuB8iB,EAAQ9iB,MAAW,SAzErD,QAAOjW,QAHa,WAAUA,SAoFjD,C,yBCxCcjH,oBAhBUC,IAChB,CACLmgC,UAAWngC,EAAMmD,SAASg9B,UAC1B3C,YAAax9B,EAAMw9B,YAAY4C,MAC/BC,UAAWrgC,EAAMw9B,YAAY6C,cAIL7jC,IACnB,CACL8jC,aAAeT,GAAUrjC,E5H7GAqjC,IACpB,CAACrjC,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIgjC,EAAMx8B,OACVzG,WAAWijC,EAAMv8B,KACjBqB,MACAzH,MAAMqJ,IACL,MAAMpD,EAAW,GACjBoD,EAASzB,SAASjI,IAChBsG,EAASsD,KAAK5J,EAAIkB,OAAlB,IAEFvB,EAAS,CAAEY,KAAM,iBAAkBmI,QAASpC,GAA5C,IAED9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,uBAAwBE,OAAzC,GAhBJ,E4H8EkCgjC,CAAaT,IAC/CU,mBAAqBV,GAAUrjC,GVrK1B,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,iBAAkBmI,QAASxH,GAA5C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,uBAAwBE,OAAzC,GAdJ,IUwIAmgC,cAAgBE,GAASnhC,EAASihC,GAAcE,OAIrC59B,EAtNf,SAAiBjE,GACf,MAAO+jC,EAAOW,GAAYlgC,mBAAS,KAC5Bw/B,EAAaW,GAAkBngC,mBAAS,KAKxC+V,EAAQ4J,GAAa3f,mBAAS,GAC/BqH,EAAc,KAClBsY,EAAU5J,EAAS,EAAnB,EAGF,SAASqqB,IACP,OACE,mCACE,cAAC79B,EAAA,EAAD,CAASR,MAAM,UAAf,SACE,cAAC,KAAD,CACE,aAAW,UACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACPiG,GAAa,EAJjB,SAOE,cAAC,KAAD,CAAUtG,MAAO,CAAEkB,SAAU,WAMrC,CAkJF,OAhJA7B,qBAAU,KACR,MAAMigC,EAAW,CAEft9B,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,eAE1B7sB,EAAM2hC,cAAckD,EAApB,GACC,CAAC7kC,EAAMsF,MAAOiV,IAGjB3V,qBAAU,KACR,MAAM3C,EAAO,CAEXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,OAE1B7sB,EAAMwkC,aAAaviC,GACnBjC,EAAMykC,mBAAmBxiC,EAAzB,GACC,CAACjC,EAAMsF,MAAOiV,IAqHjB3V,qBAAU,KA1EUwF,WAElBs6B,EAAS,IAGT1kC,EAAMqkC,UAAUr7B,SAASjI,IACvB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GACTs8B,EAAW16B,EAAI06B,SACfta,EAAMpgB,EAAIogB,IACV+c,EAAiBn9B,EAAIm9B,eACrBF,EAAaj9B,EAAIi9B,WACjBI,EAAcr9B,EAAIq9B,YACtB,IAAIkF,EAEFA,IADEviC,EAAIuhC,eACDvhC,EAAIuhC,cAKXoC,GAAUX,GAAU,IACfA,EACH,CACEpc,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmkC,GAAIA,EACJniB,IAAKA,EACL+c,eAAgBA,EAChBF,WAAYA,EACZI,YAAaA,KAXjB,GAhBF,EAsEA0G,EAAa,GACZ,CAAC9kC,EAAMqH,SAAUrH,EAAM0hC,cAE1B98B,qBAAU,KArHgBwF,WAExBu6B,EAAe,IAGf3kC,EAAMukC,UAAUv7B,SAASjI,IACvB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GAETgiB,EAAMpgB,EAAIogB,IACV+c,EAAiBn9B,EAAIm9B,eACrBF,EAAaj9B,EAAIi9B,WACjBI,EAAcr9B,EAAIq9B,YACtB,IAAIkF,EAAKviC,EAAIuiC,GAObqB,GAAgBZ,GAAU,IACrBA,EACH,CACEpc,KAAM4T,EAENO,YAAaA,EACb38B,GAAIA,EACJmkC,GAAIA,EACJniB,IAAKA,EACL+c,eAAgBA,EAChBF,WAAYA,EACZI,YAAaA,KAXjB,GAhBF,EAiHA2G,EAAmB,GAClB,CAAC/kC,EAAMukC,YAIR,qCACA,cAACK,EAAD,IACGZ,EAAYh5B,OACX,8BACE,cAAC84B,GAAD,CACEj4B,YAAaA,EACbk4B,MAAOA,EACPC,YAAaA,EACbhC,OAAO,EACP18B,MAAOtF,EAAMsF,MACb8+B,YAAY,MAIhB,qBAAKlkC,UAAU,yBAAf,SACE,kFAKT,ICnMM,MAAM8kC,GAAW,IAA0B,IAAzB,MAAE1/B,EAAF,SAASF,GAAe,EAC/C,MAAO07B,EAAUsB,GAAe59B,mBAAS,KAClCuF,EAAMJ,GAAWnF,oBAAS,GAUjC,OAJAI,qBAAU,KACRw9B,EAAY7B,GAAcj7B,GAA1B,GACC,CAACA,IAGF,qCACE,sBAAKpF,UAAU,WAAf,UACE,cAACmhC,GAAD,CAAgB/7B,MAAOA,EAAOg8B,SAAUl8B,IACxC,sBAAKlF,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACG,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAKlB,KAAI,CAAC0jB,EAAGxX,IAC3C,qBAAKhL,UAAU,OAAf,SACGwiB,GADwBxX,OAK9B41B,EAAS9hC,KAAKg8B,GACb,8BACGA,EAAKh8B,KAAKwI,GACT,qBACEtH,UAAU,MAEV0F,QAAS,IAAMR,EAASoC,GAH1B,SAKE,qBAAKtH,UAAW+gC,GAAUz5B,EAAKlC,GAA/B,SACGkC,EAAIqlB,OAAO,KAAKnG,cAJdlf,EAAIqlB,OAAO,KAAKnG,eAJjBsU,WAgBhB,sBAAK96B,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAQqF,MAAO,CAACiL,UAAW,QAA1C,gFACA,qBAAKtQ,UAAU,QAAQqF,MAAO,CAACiL,UAAW,SAA1C,SAAoD,cAAC2vB,GAAD,CAAc76B,MAAOA,EAAOyE,KAAMA,EAAMJ,QAASA,SAGvG,wBAEA,sBAAKzJ,UAAU,WAAf,UACE,qBAAKA,UAAU,SAAf,SA5CGoF,EAAMunB,OAAO,gBA6ChB,cAAC,GAAD,CAASvnB,MAAOA,EAAOyE,KAAMA,SAtCnC,ECbIyzB,GAAS,WACTC,GAAU,mCA+MDx5B,mBAAQ,MANKvD,IACnB,CACL4H,eAAiBjB,GAAa3G,EAAS4H,GAAejB,OAI3CpD,EA5Mf,SAA0BjE,GACxB,MAAO09B,EAAgBC,GAAqBn5B,mBAAS,KAC9C+2B,EAAUC,GAAeh3B,mBAAS,KAClC2E,EAAOqS,GAAYhX,mBAAS,OAC5Bs3B,EAAaC,GAAkBv3B,mBAAS,KACxCo5B,EAAgBC,GAAqBr5B,mBAAS,KAC9Cs5B,EAAYC,GAAiBv5B,mBAAS,KACtCi3B,EAAUrB,GAAe51B,mBAAS,KAClCw5B,EAAYC,GAAiBz5B,mBAAS,KACtC05B,EAAgBC,GAAqB35B,mBAAS,KAC9C45B,EAAaC,GAAkB75B,mBAAS,IAgDzCo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAGHzT,EAAOgU,GAAYr3B,mBAASo3B,GAanCh3B,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAGL,MAAOvhB,EAAQ4J,GAAa3f,mBAAS,GAM9BsB,EAAe,KACnBg2B,EAAY9yB,SAASi8B,IACnB,MAAMhjC,EAAO,CAEXZ,OAAQ,CACNy6B,YAAamJ,EAAKx4B,OAItBhL,QAAQC,IAAI,WAAYO,GAExBjC,EAAMsI,eAAerG,GAfxBkiB,EAAU5J,EAAS,EAgBH,GAXf,EAgBF,OACE,qCACE,cAAC,GAAD,CACEkiB,IAAK,GACLC,MAAO,IACPE,aAAa,EACbG,sBAlGkB,CAACwB,EAAaC,KAEpC/V,MAAO,kDAAiD+V,EAAcD,oBACrEn9B,MAAKwT,GAAYA,EAASkU,SAC1B1nB,MAAKa,IAEJ,IAAIumB,EAYJ,YARoC5P,GAAhC3W,EAAKyY,QAAQ+jB,iBACdjW,EAAQvmB,EAAKyY,QAAQgkB,aACrBlD,EAAYhT,KAEbA,EAAQvmB,EAAKyY,QAAQ+jB,gBACrBjD,EAAYhT,IAGPC,MAAO,gDAA+C+U,cAAkBC,oBAAyBjV,IAAxG,IAECpnB,MAAK2nB,GAAOA,EAAID,SAChB1nB,MAAKu9B,IACJl9B,QAAQC,IAAI,QAASi9B,EAAQC,MAC7Bb,EAAcY,EAAQC,KAAtB,IASHr9B,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,IAEDtG,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,GApCF,IAkGE,mBAAGtC,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAAxD,SAAmE+1B,IAEnE,eAACsD,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,UACE,cAACk5B,GAAA,EAAMxoB,QAAP,oDACA,8FAKA,eAACvR,EAAA,EAAD,CACGuI,SAAW9N,IACVA,EAAEsG,iBACFC,GAAc,EAHlB,UAOA,cAAChB,EAAA,EAAKC,MAAN,UACA,6BAAK+4B,GAAcA,EAAW9+B,KAAIiD,GAClC,8BAAK,4BAET,qBAAK2vB,MAAM,OAAX,SACE,sBAAKA,MAAM,YAAX,UACE,oBAAIA,MAAM,aAAV,SACE,qBAAKA,MAAM,aAAX,SACE,oCAAK3vB,QAAL,IAAKA,OAAL,EAAKA,EAAMkhB,OAAOjc,YAGtB,mBAAG0qB,MAAM,YAAT,gBACG3vB,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAO8b,gBAAgBjgC,KAAIwJ,GAC3B,6BAEL,sBAAKopB,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAApC,SACGt2B,IAEH,uBACEopB,MAAM,mBACNtwB,KAAK,WACLgE,MAAOkD,EACPrJ,GAAG,mBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,OAAQxgB,WAAY,QAC7DxF,QAAUrG,IAvFFA,KACpBs8B,EAAUhU,EAAMpb,KAAOlN,EAAE8F,OAAOC,OAChCy2B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,EAqFcsD,CAAa3/B,EAAb,4BA8BZ,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,uBAKD6H,GAAS,8BAAK,2GAIpB,IC7CclF,oBAXUC,IAChB,CACLhD,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACLq6B,kBAAoB94B,GAASvB,EAASq6B,GAAkB94B,OAI7CgC,EAxJUjE,IACvB,MAAOklC,EAAUC,GAAe3gC,mBAAS,KAClC0E,EAAUk8B,GAAe5gC,mBAAS,IAClCiH,EAAS45B,GAAc7gC,mBAAS,KAChC86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,wBAC9BuF,EAAMJ,GAAWnF,oBAAS,IAC1B8gC,EAAWC,GAAgB/gC,mBAAS,IAAI6iB,OACxC7lB,EAAKqV,GAAUrS,mBAAS,KASxBqjB,EAAOgU,GAAYr3B,mBANL,CACnBiI,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,MAiCH/gB,EAAQ4J,GAAa3f,mBAAS,GAC/BqH,EAAc,KAClBsY,EAAU5J,EAAS,EAAnB,EAqCF,OAJA3V,qBAAU,KACRiH,GAAa,GACZ,IAGD,8BAOGyzB,EACC,cAAC,GAAD,CAAkB9b,gBArDA,KACtB7Z,GAAQ,EAAR,IAsDI,eAAC7E,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBA9CS,MACnB,MAAM5D,EAAO,CACX+4B,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBxrB,OAAQ,CACN46B,WAAY,CACVxvB,KAAMob,EAAMpb,KAAO,IAAMob,EAAM3e,SAAgB2e,EAAMpc,QACrDxJ,KAAM4lB,EAAMpb,KACZhB,QAASoc,EAAMpc,QACfvC,SAAU2e,EAAM3e,SAChB8xB,KAAMh7B,EAAMsF,MAAMunB,OAAO,QAK/B7sB,EAAM+6B,kBAAkB94B,GAExB2F,GAAmB,UAAW,gCAC9BiE,GAAa,EA8BL/F,GACA9F,EAAMwjB,iBAAN,EAJJ,UAQA,cAACkX,GAAD,CAAgBC,iBAhFIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,IA4EG,eAACR,EAAA,EAAKC,MAAN,WACA,cAACD,EAAA,EAAKE,MAAN,qBACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,GAjGAA,KACfA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE7CuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAC9C,EA4FwB62B,CAAY58B,GAC7B+F,MAAOuiB,EAAM3e,WAEf,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4lB,EAAMpc,QACZmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,QAAS,MAAO,KAAM,OACrFrN,SAAWhE,IACTs8B,EAAS,IAAKhU,EAAOpc,QAASlM,GAA9B,UAMJ,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,4BAA4BoB,KAAK,SAAnD,wBA5CV,I,qBCvFF,MAAMk8B,GAAS,WACTC,GAAU,mCAiRDx5B,mBAAQ,MAPKvD,IACnB,CAELq6B,kBAAoB94B,GAASvB,EAASq6B,GAAkB94B,OAI7CgC,EA9Qf,SAAiBjE,GACf,MAAO09B,EAAgBC,GAAqBn5B,mBAAS,KAC9C+2B,EAAUC,GAAeh3B,mBAAS,KAClC2E,EAAOqS,GAAYhX,mBAAS,OAC5Bs3B,EAAaC,GAAkBv3B,mBAAS,KACxCo5B,EAAgBC,GAAqBr5B,mBAAS,KAC9Cs5B,EAAYC,GAAiBv5B,mBAAS,KACrCghC,EAAeC,GAAoBjhC,mBAAS,KAC5CqgB,EAAY6gB,GAAiBlhC,mBAAS,KACtCmhC,EAAeC,GAAoBphC,mBAAS,IAiD9Co3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,GACRuK,OAAQjZ,KAAO/H,GAAYgI,OAAO,gBAG7BhF,EAAOgU,GAAYr3B,mBAASo3B,GAsBnCh3B,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAGL,MAAOvhB,EAAQ4J,GAAa3f,mBAAS,GAM9BsB,EAAe,KACnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM4T,EACNO,YAAaA,EACb9X,SAAUwhB,EACVK,OAAQjZ,KAAO/H,GAAYgI,OAAO,cAClChd,QAAS81B,IAhBdxhB,EAAU5J,EAAS,GAsBlBva,EAAM+6B,kBAAkB94B,EAAxB,EAIF,OACE,qCACE,cAAC,GAAD,CACEw6B,IAAK,GACLC,MAAO,IACPE,aAAa,EACbG,sBAlHkB,CAACwB,EAAaC,KAEpC/V,MAAO,kDAAiD+V,EAAcD,oBACrEn9B,MAAKwT,GAAYA,EAASkU,SAC1B1nB,MAAKa,IAEJ,IAAIumB,EAYJ,YARoC5P,GAAhC3W,EAAKyY,QAAQ+jB,iBACdjW,EAAQvmB,EAAKyY,QAAQgkB,aACrBlD,EAAYhT,KAEbA,EAAQvmB,EAAKyY,QAAQ+jB,gBACrBjD,EAAYhT,IAGPC,MAAO,gDAA+C+U,cAAkBC,oBAAyBjV,IAAxG,IAECpnB,MAAK2nB,GAAOA,EAAID,SAChB1nB,MAAKu9B,IACJl9B,QAAQC,IAAI,QAASi9B,EAAQC,MAC7Bb,EAAcY,EAAQC,KAAtB,IASHr9B,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,IAEDtG,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,GApCF,IAmHE,mBAAGtC,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAAxD,SAAmE+1B,IAEnE,eAACsD,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,UACE,cAACk5B,GAAA,EAAMxoB,QAAP,oDACA,8FAKA,eAACvR,EAAA,EAAD,CACGuI,SAAW9N,IACVA,EAAEsG,iBACFC,IACA9F,EAAMwjB,iBAAN,EAJJ,UAQA,cAAC1e,EAAA,EAAKC,MAAN,UACA,6BAAK+4B,GAAcA,EAAW9+B,KAAIiD,GAClC,8BAAK,4BAET,qBAAK2vB,MAAM,OAAX,SACE,sBAAKA,MAAM,YAAX,UACE,oBAAIA,MAAM,aAAV,SACE,sBAAKA,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAAoBv5B,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAA7G,gBACGvD,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAOjc,QAEhB,uBACE0qB,MAAM,mBACNtwB,KAAK,QACL2B,KAAK,mBACL9D,GAAG,oBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,QACzCtmB,MAAK,OAAGrD,QAAH,IAAGA,OAAH,EAAGA,EAAMkhB,OAAOjc,MACrBtB,QAAUrG,IAjFEA,KACvBi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAiFay5B,CAAex/B,EAAf,SAKR,mBAAGqyB,MAAM,YAAT,gBACG3vB,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAO8b,gBAAgBjgC,KAAIwJ,GAC3B,6BAEL,sBAAKopB,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAApC,SACGt2B,IAEH,uBACEopB,MAAM,mBACNtwB,KAAK,WACLgE,MAAOkD,EACPrJ,GAAG,mBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,OAAQxgB,WAAY,QAC7DxF,QAAUrG,IA5GFA,KACpBs8B,EAAUhU,EAAMpb,KAAOlN,EAAE8F,OAAOC,OAChCu2B,EAAUhU,EAAMge,OAAShhB,GACzBkX,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,EAyGcsD,CAAa3/B,EAAb,4BA8BV,eAACuF,EAAA,EAAKC,MAAN,WACI,cAACD,EAAA,EAAKE,MAAN,gDACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,gBACHiG,SAAW7F,IACTkmC,EAAiBlmC,EAAE8F,OAAOC,MAA1B,OAIN,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,oDAOA,cAAC,KAAD,CACEq9B,SAAUxd,EACVzf,SAAWwZ,GAAS8mB,EAAc9mB,GAClCknB,WAAW,kBAGf,eAAChhC,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,0CACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,gBACHiG,SAAW7F,IACTqmC,EAAiBrmC,EAAE8F,OAAOC,MAA1B,OAKV,qBAAKC,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,uBAKD6H,GAAS,8BAAK,2GAIpB,IC/QM,SAAS48B,GAAT,GAAqD,IAA3B,KAAEh8B,EAAF,QAAQJ,EAAR,MAAiBrE,GAAS,EACzD,MAAO86B,EAAWC,GAAgB77B,mBAAS,gBAGpC86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,uBAa/Bgf,EAAkB,KACtB7Z,GAAQ,GACR02B,EAAa,cAAb,EAGF,OACE,qCACE,cAACt5B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,eAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,8BACoBoF,EAAMunB,OAAO,cAGnC,eAAC/iB,GAAA,EAAMI,KAAP,WAEI,wBACEhK,UAAU,qCACV0F,QAAS,KAtCnB25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAgCJ,SAIGE,IAEFF,EACC,cAAC0G,GAAD,CAAa1gC,MAAOA,EAAOke,gBAAiBA,IAE5C,cAAC,GAAD,CAAiBle,MAAOA,EAAOke,gBAAiBA,YAM7D,CCjEc,SAASyiB,GAAT,GAAkD,IAAtB,MAAE3gC,EAAF,SAASg8B,GAAY,EAC9D,MAAMd,EAAWl7B,EAAMm7B,QAAQC,QAAQ,QACjCC,EAASr7B,EAAMm7B,QAAQG,MAAM,QAUnC,OACE,sBAAK1gC,UAAU,SAAf,UACE,qBAAKA,UAAU,WAAW0F,QAAS,IAAM07B,EATpCh8B,EAAMm7B,QAAQI,SAAS,EAAG,SAS/B,SACGh6B,OAAO26B,aAAa,OAEvB,sBAAKthC,UAAU,UAAf,+BACqBsgC,EAAS3T,OAAO,WADrC,KACmD,IAChD8T,EAAO9T,OAAO,cAEjB,qBAAK3sB,UAAU,OAAO0F,QAAS,IAAM07B,EAZhCh8B,EAAMm7B,QAAQh5B,IAAI,EAAG,SAY1B,SACGZ,OAAO26B,aAAa,SAI5B,C,yBC6Ccv9B,oBAdUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL4H,eAAiBrG,GAASvB,EAAS4H,GAAerG,IAClDg5B,eAAiBh5B,GAASvB,EAASu6B,GAAeh5B,IAClDi5B,kBAAoBj5B,GAASvB,EAASw6B,GAAkBj5B,OAI7CgC,EA9Df,SAAwBjE,GA8BtB,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,cAAf,SACE,cAAC,KAAD,CACE,aAAW,cACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KAjCIwE,WACnB,MAAMnI,EAAO,CAEX+4B,KAAMh7B,EAAMsF,MAAMunB,OAAO,KAAO,EAChCrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNy6B,YAAa97B,EAAMyM,KACnBjE,KAAMxI,EAAMwI,KACZiD,QAASzL,EAAMyL,QACfvC,SAAUlJ,EAAMkJ,WAGpBlJ,EAAMsI,eAAerG,GACrB2F,GAAmB,UAAY,GAAE3F,EAAKZ,OAAOmH,2BAA7C,EAqBQ6B,GAlBYlL,KACpB,MAAM8C,EAAO,CACX+4B,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzB1tB,GAAIA,GAGNa,EAAMi7B,eAAeh5B,GACrBjC,EAAMk7B,kBAAkBj5B,GACxBjC,EAAMmkB,UAAUnkB,EAAMua,OAAS,EAA/B,EAWQ0nB,CAAajiC,EAAMb,GAAnB,EALJ,SAQE,cAAC,KAAD,CAAesH,SAAS,YAKjC,I,0CCuBcxC,aAdUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL4H,eAAiBrG,GAASvB,EAAS4H,GAAerG,IAClDg5B,eAAiBh5B,GAASvB,EAASu6B,GAAeh5B,IAClDi5B,kBAAoBj5B,GAASvB,EAASw6B,GAAkBj5B,OAI7CgC,EAnEf,SAAuBjE,GAErB,MAAO8K,EAAMwY,GAAW9e,mBAAS,IAkCjC,OArBkBsG,EAAK9L,KAAI,CAACimC,EAAM/5B,IAChC,cAACD,GAAA,EAAD,UACE,eAACE,GAAA,EAAD,CAEIjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHzB,UAKE,8BAAK,GAAE65B,EAAKhjC,SAAZ,QALF,SAKuC,GAAEgjC,EAAK/7B,YAAY+7B,EAAKx5B,UAL/D,QAQE,cAAC,KAAD,CAAkB7F,QAAS,IAhBTq/B,KACtB,IAAIiB,EAAW,IAAIp7B,GACnBo7B,EAAWA,EAASxY,QAAQyY,GAAaA,EAAShnC,KAAO8lC,EAAK9lC,KAC9DmkB,EAAQ4iB,EAAR,EAaqCE,CAAenB,OAPxC,OAAM/5B,SAmBlB,mCACE,cAACnE,EAAA,EAAD,CAASR,MAAM,cAAf,SACE,cAAC,KAAD,CACE,aAAW,cACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KATfgC,GAAoB,GAAE5H,EAAMwI,qBAUZ,EAJZ,SAOE,cAAC,KAAD,CAAsB/B,SAAS,YAKxC,ICqDcxC,mBAAQ,MANKvD,IACnB,CACL2lC,qBAAuBpkC,GAASvB,ElCuQCuB,IAC5B,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlBlC,QAAQC,IAAI,gBAAcO,GAG1BrB,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAK,GAAEkB,EAAK+4B,QACZl6B,WAAY,GAAEmB,EAAK+4B,QACnBj6B,IAAIkB,EAAK9C,IACT8B,IAAIgB,EAAKZ,OAAQ,CAAEF,OAAO,IAC1BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,qBAAsBmI,QAASxH,MAC3DV,OAAOC,IACNd,EAAS,CAAEY,KAAM,2BAA4BE,OAA7C,GAXJ,EkCzSyC6kC,CAAqBpkC,OAInDgC,EAzGf,SAAsBjE,GACpB,MAAOyM,EAAM65B,GAAW9hC,mBAASxE,EAAMyM,OAChCjE,EAAM+9B,GAAW/hC,mBAASxE,EAAMiC,OAChCiH,EAAUk8B,GAAe5gC,mBAASxE,EAAMkJ,WACxCuC,EAAS45B,GAAc7gC,mBAASxE,EAAMyL,SA0B7C,OACE,eAAC3G,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBA1Ba,MACnB,MAAM5D,EAAO,CAEZ+4B,KAAMh7B,EAAMg7B,KACX77B,GAAIa,EAAMb,GACVkC,OAAQ,CACNlC,GAAIa,EAAMb,GACV88B,WAAY,CACVxvB,KAAMA,EACNxK,KAAMuG,EACNU,SAAUA,EACVuC,QAASA,EACTuvB,KAAMh7B,EAAMg7B,QAOlBh7B,EAAMqmC,qBAAqBpkC,EAA3B,EAQI6D,GACA9F,EAAMwjB,iBAAN,EAJJ,UAOE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,yBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACH8S,aAAczJ,EACdpD,SAAW7F,IACTgnC,EAAQhnC,EAAE8F,OAAOC,MAAjB,OAiBN,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wCACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL7R,aAAc/I,EACd9D,SAAW7F,GAAM6lC,EAAY7lC,EAAE8F,OAAOC,SAExC,cAAC,GAAD,CACEnG,GAAG,UACH8G,QAAQ,sBACRhE,KAAMwJ,EACNmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,SAC/DrN,SAAWhE,IACT8lC,EAAW9lC,EAAX,UAUR,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,WAAWoB,KAAK,SAAlC,sBAMP,ICxGM,SAASklC,GAAT,GAaH,IAbqB,KACvB/5B,EADuB,KAEvBxK,EAFuB,SAGvBiH,EAHuB,QAIvBuC,EAJuB,KAKvBuvB,EALuB,GAMvB77B,EANuB,KAOvB4K,EAPuB,QAQvBJ,EARuB,MASvBrE,EATuB,OAUvBiV,EAVuB,UAWvB4J,EAXuB,MAYvB6d,GACC,EACD,MAAMxe,EAAkB,IAAM7Z,GAAQ,GAEtC,OACE,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,yBAEF,cAAC2K,GAAA,EAAMI,KAAP,UAEE,cAAC,GAAD,CAEEuC,KAAMA,EACNxK,KAAMA,EACN+4B,KAAMA,EACNvvB,QAASA,EACTvC,SAAUA,EACV/J,GAAIA,EACJob,OAAQA,EACR4J,UAAWA,EACX7e,MAAOA,EACPke,gBAAiBA,EACjBwe,MAAOA,QAKhB,CCJcG,OAtCf,SAAcniC,GAEZ,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,OAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAUlD,SAAS,gBAGvB,cAAC+/B,GAAD,CAEEz8B,KAAMA,EACNJ,QAASA,EAET8C,KAAMzM,EAAMyM,KACZxK,KAAMjC,EAAMiC,KACZ+4B,KAAMh7B,EAAMg7B,KACZvvB,QAASzL,EAAMyL,QACfvC,SAAUlJ,EAAMkJ,SAChB/J,GAAIa,EAAMb,GACVob,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,cAMxB,ECyEclgB,mBAAQ,MANKvD,IACnB,CACL+lC,+BAAiCxkC,GAASvB,ErCyTCuB,IACtC,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlBlC,QAAQC,IAAI,gBAAcO,GAG1BrB,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAK,GAAEkB,EAAK+4B,QACZl6B,WAAY,GAAEmB,EAAK+4B,QACnBj6B,IAAIkB,EAAK9C,IACT8B,IAAIgB,EAAKZ,OAAQ,CAAEF,OAAO,IAC1BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,qBAAsBmI,QAASxH,MAC3DV,OAAOC,IACNd,EAAS,CAAEY,KAAM,2BAA4BE,OAA7C,GAXJ,EqC3VmDilC,CAA+BxkC,OAIvEgC,EAzGf,SAA+BjE,GAC7B,MAAOyM,EAAM65B,GAAW9hC,mBAASxE,EAAMyM,OAChCjE,EAAM+9B,GAAW/hC,mBAASxE,EAAMiC,OAChCiH,EAAUk8B,GAAe5gC,mBAASxE,EAAMkJ,WACxCuC,EAAS45B,GAAc7gC,mBAASxE,EAAMyL,SA0B7C,OACE,eAAC3G,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBA1Ba,MACnB,MAAM5D,EAAO,CAEZ+4B,KAAMh7B,EAAMg7B,KACX77B,GAAIa,EAAMb,GACVkC,OAAQ,CACNlC,GAAIa,EAAMb,GACV88B,WAAY,CACVxvB,KAAMA,EACNxK,KAAMuG,EACNU,SAAUA,EACVuC,QAASA,EACTuvB,KAAMh7B,EAAMg7B,QAOlBh7B,EAAMymC,+BAA+BxkC,EAArC,EAQI6D,GACA9F,EAAMwjB,iBAAN,EAJJ,UAOE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,yBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACH8S,aAAczJ,EACdpD,SAAW7F,IACTgnC,EAAQhnC,EAAE8F,OAAOC,MAAjB,OAiBN,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wCACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL7R,aAAc/I,EACd9D,SAAW7F,GAAM6lC,EAAY7lC,EAAE8F,OAAOC,SAExC,cAAC,GAAD,CACEnG,GAAG,UACH8G,QAAQ,sBACRhE,KAAMwJ,EACNmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,SAC/DrN,SAAWhE,IACT8lC,EAAW9lC,EAAX,UAUR,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,WAAWoB,KAAK,SAAlC,sBAMP,ICxGM,SAASolC,GAAT,GAaH,IAb+B,KACjCj6B,EADiC,KAEjCxK,EAFiC,SAGjCiH,EAHiC,QAIjCuC,EAJiC,KAKjCuvB,EALiC,GAMjC77B,EANiC,KAOjC4K,EAPiC,QAQjCJ,EARiC,MASjCrE,EATiC,OAUjCiV,EAViC,UAWjC4J,EAXiC,MAYjC6d,GACC,EACD,MAAMxe,EAAkB,IAAM7Z,GAAQ,GAItC,OACE,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,yBAEF,cAAC2K,GAAA,EAAMI,KAAP,UAEE,cAAC,GAAD,CAEEuC,KAAMA,EACNxK,KAAMA,EACN+4B,KAAMA,EACNvvB,QAASA,EACTvC,SAAUA,EACV/J,GAAIA,EACJob,OAAQA,EACR4J,UAAWA,EACX7e,MAAOA,EACPke,gBAAiBA,EACjBwe,MAAOA,QAKhB,CCJc2E,OAxCf,SAAwB3mC,GAItB,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,OAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAUlD,SAAS,gBAGvB,cAACigC,GAAD,CAEE38B,KAAMA,EACNJ,QAASA,EAET8C,KAAMzM,EAAMyM,KACZxK,KAAMjC,EAAMiC,KACZ+4B,KAAMh7B,EAAMg7B,KACZvvB,QAASzL,EAAMyL,QACfvC,SAAUlJ,EAAMkJ,SAChB/J,GAAIa,EAAMb,GACVob,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,cAMxB,E,sBCoqBclgB,oBAvBUC,IAChB,CACL0iC,oBAAqB1iC,EAAMmD,SAASw/B,aACpCC,gBAAiB5iC,EAAMmD,SAASy/B,gBAChCD,aAAc3iC,EAAMw9B,YAAYqF,SAChCC,SAAU9iC,EAAMw9B,YAAYsF,SAC5B9lC,QAASgD,EAAM/B,SAASjB,QACxByhC,UAAWz+B,EAAMmD,SAASs7B,cAIFjiC,IACnB,CACLumC,gBAAkBvsB,IAAYha,UxCrhBFuB,EwCqhB2ByY,ExCphBlD,CAACha,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlBlC,QAAQC,IAAI,OAAQO,GAEpBsG,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBnyB,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,oBAAqBmI,QAASxH,GAA/C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAfJ,IAjC4BS,KwCohBvB,EAELilC,sBAAwBxsB,IAAYha,UxCjeFuB,EwCieiCyY,ExChe9D,CAACha,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAQlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBnyB,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,wBAAyBmI,QAASxH,GAAnD,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,8BAA+BE,OAAhD,GAfJ,IAhCkCS,KwC+d7B,EAGL2/B,YAAcC,GAASnhC,EAASkhC,GAAYC,IAC5CsF,wBAA0BllC,GAASvB,ExCrlBCuB,IAC/B,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB,MAAMshC,EAAOhjC,EAAKZ,OAAOuM,OAInB/M,EAAY0H,IACZ6+B,EAAQvmC,EAAUumC,QAGxBnC,EAAKj8B,SAASmvB,IACZ,IAAIzwB,EAAS7G,EACVC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAIkB,EAAK+4B,MACTl6B,WAAWmB,EAAK+4B,MAChBj6B,MACHqmC,EAAMnmC,IAAIyG,EAAQ,CAAEvI,GAAIuI,EAAOvI,GAAI88B,WAAY9D,GAA/C,IAGFiP,EACGC,SACAjmC,MAAK,KACJV,EAAS,CAAEY,KAAM,kBAAmB2jC,QAApC,IAED1jC,OAAOC,IACNd,EAAS,CAAEY,KAAM,wBAAyBE,OAA1C,GANJ,EwCmiB4C2lC,CAAwBllC,IACpE4hC,YAAchC,GAASnhC,GzB9iBlB,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAdJ,IyBihBAiH,mBAAqBxG,GAASvB,EAAS+H,GAAmBxG,IAC1D4gC,aAAer6B,GAAS9H,GzIpdnB,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,aACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAbJ,OyI0bWyC,EAjrBf,SAAmBjE,GAIjB,MAAO4K,EAAMC,GAAWrG,mBAAS,KAC1B8iC,EAASC,GAAc/iC,mBAAS,KAChCgjC,EAASC,GAAcjjC,mBAAS,KAChCm+B,EAAW+E,GAAgBljC,mBAAS,KACpCkF,EAAWC,GAAWnF,oBAAS,IAC/BmjC,EAAeC,GAAepjC,oBAAS,IACvC4J,EAAM8H,GAAW0iB,IAAMp0B,UAAS,IAChCqiC,EAAcgB,GAAmBrjC,mBAAS,KAC1CsjC,EAASC,GAAcvjC,oBAAS,GAGvCI,qBAAU,KACR5E,EAAM6iC,cAAN,GACC,CAAC7iC,EAAMsF,MAAOtF,EAAMua,SAEvB3V,qBAAU,KACRiH,GAAa,GACZ,CAAC7L,EAAMiC,OAyBV2C,qBAAU,KAvBewF,WAEvBs9B,EAAa,IAGb1nC,EAAM2iC,UAAU35B,SAASjI,IAEvB,IAAIyH,EAAOzH,EAAIyH,KACXiD,EAAU1K,EAAI0K,QACdvC,EAAWnI,EAAImI,SAEnBw+B,GAAc98B,GAAS,IAClBA,EACH,CACEpC,KAAMA,EACNU,SAAUA,EACVuC,QAASA,KALb,GANF,EAmBAu8B,EAAkB,GAEjB,CAAChoC,EAAMua,SAGX,MAAOA,EAAQ4J,GAAa3f,mBAAS,GAE/BqH,EAAc,KAClBsY,EAAU5J,EAAS,EAAnB,EAGF,SAAS0tB,EAAOhD,GACfr9B,GAAoB,GAAEq9B,kBACtB,CAED,SAASL,IACR,OACE,mCACE,cAAC79B,EAAA,EAAD,CAASR,MAAM,UAAf,SACE,cAAC,KAAD,CACE,aAAW,UACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACPiG,IACAjE,GAAmB,eAAnB,EALJ,SAQE,cAAC,KAAD,CAAUrC,MAAO,CAAEkB,SAAU,WAMrC,CAED,MAEMqE,EAAMwY,GAAW9e,mBAAS,IAazB0jC,EAAYp9B,EAAK9L,KAAI,CAACimC,EAAM/5B,IAChC,cAACD,GAAA,EAAD,UACE,eAACE,GAAA,EAAD,CAEIjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHzB,UAKE,8BAAK,GAAE65B,EAAKhjC,SAAZ,QALF,SAKuC,GAAEgjC,EAAK/7B,YAAY+7B,EAAKx5B,UAL/D,QAQE,cAAC1E,EAAA,EAAD,CAASR,MAAM,SAAf,SACY,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KApBLq/B,KACtB,IAAIiB,EAAW,IAAIp7B,GACnBo7B,EAAWA,EAASxY,QAAQyY,GAAaA,EAAShnC,KAAO8lC,EAAK9lC,KAC9DmkB,EAAQ4iB,EAAR,EAkBoBE,CAAenB,EAAf,EAJJ,SAOE,cAAC,KAAD,CAAkBx+B,SAAS,aAfjC,OAAMyE,SA4MpB,SAASi9B,IACP,OAAOv9B,EAAK8iB,QAAOhT,GACJ1a,EAAMsF,MAAMunB,OAAO,MAEjBnS,EAAQsgB,MAE1B,CAvIHp2B,qBAAU,KACRnD,QAAQC,IAAI,OAAQoJ,EAApB,GACC,CAACA,IAGFlG,qBAAU,KACR,MAAM3C,EAAO,CAEXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,eAE1B7sB,EAAM6jC,YAAY5hC,EAAlB,GACC,CAACjC,EAAMsF,MAAOiV,IAIjB3V,qBAAU,KACR,MAAM3C,EAAO,CACX+4B,KAAMh7B,EAAMsF,MAAMunB,OAAO,MAG3B7sB,EAAMinC,gBAAgBhlC,GACtBjC,EAAMknC,sBAAsBjlC,EAA5B,GACC,CAACjC,EAAMsF,MAAOiV,IA8DjB3V,qBAAU,KA3DWwF,WAEnBm9B,EAAW,IAGXvnC,EAAM4mC,oBAAoB59B,SAASjI,IAGjC,IAAI5B,EAAK4B,EAAI5B,GACTsN,EAAO1L,EAAIk7B,WAAWxvB,KACtBxK,EAAOlB,EAAIk7B,WAAWh6B,KACtBiH,EAAWnI,EAAIk7B,WAAW/yB,SAC1BuC,EAAU1K,EAAIk7B,WAAWxwB,QACzBuvB,EAAOj6B,EAAIk7B,WAAWjB,KAE1BuM,GAAY38B,GAAS,IAChBA,EACH,CACE6B,KAAMA,EACNxK,KAAMA,EACNwJ,QAASA,EACTvC,SAAUA,EACV8xB,KAAMA,EACN77B,GAAIA,KARR,GAVF,EAuDAipC,GA/BsBh+B,WAEtBq9B,EAAW,IAGXznC,EAAM8mC,gBAAgB99B,SAASjI,IAG7B,IAAI5B,EAAK4B,EAAI5B,GACTsN,EAAO1L,EAAIk7B,WAAWxvB,KACtBxK,EAAOlB,EAAIk7B,WAAWh6B,KACtBiH,EAAWnI,EAAIk7B,WAAW/yB,SAC1BuC,EAAU1K,EAAIk7B,WAAWxwB,QACzBuvB,EAAOj6B,EAAIk7B,WAAWjB,KAE1ByM,GAAY78B,GAAS,IAChBA,EACH,CACE6B,KAAMA,EACNxK,KAAMA,EACNwJ,QAASA,EACTvC,SAAUA,EACV8xB,KAAMA,EACN77B,GAAIA,KARR,GAVF,EA2BA2nC,EAAiB,GAChB,CAAC9mC,EAAM4mC,oBAAqB5mC,EAAM8mC,kBAqCrCliC,qBAAU,KAnCiBwF,WAIzB,GAFAS,EAAQ,SAEc+N,GAAlB5Y,EAAMgnC,UAA2C,IAAlBhnC,EAAMgnC,SAAiB,OAAQ,8BAAK,6CAIvEhnC,EAAMgnC,SAASh+B,SAASjI,IAERA,EAAI+6B,YAEZ9yB,SAAS/G,IAGb,IAAIomC,EAAQzb,KAAO7rB,EAAIsnC,OAAOC,MAAMzb,OAAO,cACvCrkB,EAAOvG,EAAKwK,KACZvD,EAAWjH,EAAKiH,SAChBuC,EAAUxJ,EAAKwJ,QAEnBZ,GAASD,GAAS,IACbA,EACH,CACEowB,KAAMpO,KAAOyb,EAAO,cAAcrN,OAClC/4B,KAAMuG,EACNiE,KAAMjE,EAAO,IAAMU,EAAW,IAAMuC,EACpCA,QAASA,EACTvC,SAAUA,KAPd,GARF,GAJF,EA4BAq/B,EAAoB,GACnB,CAACvoC,EAAMgnC,SAAUzsB,IAUpB3V,qBAAU,KACRujC,GAAqB,GACpB,CAACnoC,EAAMgnC,WAGZ,MAAMp5B,EAASjO,OAAOmZ,OACpBqvB,IAAsBhT,QAAO,CAACqT,EAAKhgC,KACjCggC,EAAIhgC,EAAKvG,MAAQumC,EAAIhgC,EAAKvG,MACtB,IAAKuG,EAAMU,SAAUV,EAAKU,SAAWs/B,EAAIhgC,EAAKvG,MAAMiH,UACpDV,EACGggC,IACN,CAAC,IAOE5+B,EAAc,IAAMD,GAAQ,GAC5B8+B,EAAa,IAAM9+B,GAAQ,GAG3B++B,EAAkB,IAAMd,GAAY,GAGpC1uB,EAAkB,KACtBhD,GAAQ,EAAR,EAGIyyB,EAAQ,KACZzyB,GAAQ,EAAR,EAiCFtR,qBAAU,MA7BV,WACE,IAAIgkC,EAAQ,GAEAh7B,EAAO8f,QAAO,QAAGzrB,KAAM4mC,GAAT,SAAoBlG,EAAUmG,MAAK,QAAGtgC,KAAMugC,GAAT,SAAmBA,IAAQF,CAA3B,GAAnC,IAIrB7/B,SAAQ/G,IAAU2mC,EAAMj+B,KAAK1I,EAAX,IAEvB2L,EAAO5E,SAAQggC,IACbrG,EAAU35B,SAAQR,IACZwgC,EAAI/mC,MAAQuG,EAAKA,MACnBogC,EAAMj+B,KAAK,CACT1I,KAAM+mC,EAAI/mC,KACVwK,KAAMu8B,EAAIv8B,KACVhB,QAASu9B,EAAIv9B,QACbvC,SAAU8/B,EAAI9/B,SAAWV,EAAKU,SAC9B8xB,KAAMgO,EAAIhO,MAEb,GATH,IAaF6M,EAAgBe,EAIjB,CAGCv0B,EAAM,GACL,CAACrU,EAAMgnC,WAEZ,MAAMiC,EAAY,KAEhB,MAAMhnC,EAAO,CAEX+4B,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBxrB,OAAQ,CACNuM,OAAQi5B,IAGV7mC,EAAMmnC,wBAAwBllC,GAC9B0H,GAAQ,EAAR,EAIF,OACE,qCACC,cAAClE,EAAA,EAAD,CAAQvF,UAAU,uBAAuByF,QAAQ,YAAYC,QAASsT,EAAtE,iBAGC,cAAC0rB,EAAD,IAEC4C,EAAQx8B,OACP,qCACE,cAACC,GAAA,EAAD,UACGq8B,EAAQtoC,KAAI,CAACimC,EAAM/5B,IAClB,eAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,UAKE,gCACE,8BACC65B,EAAKhjC,KADN,IACagjC,EAAK/7B,SADlB,IAC6B+7B,EAAKx5B,WAEhC,0BAGJ,qBAAKlG,MAAO,CAAEqmB,WAAY,UAG1B,sBAAK1rB,UAAU,QAAf,UAOE,cAAC6G,EAAA,EAAD,CAASR,MAAM,cAAf,SACE,cAAC,KAAD,CACE,aAAW,cACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACPqiC,EAAOhD,EAAKhjC,KAAZ,EAJJ,SAOE,cAAC,KAAD,CAAsBwE,SAAS,WAKnC,cAAC,GAAD,CACCnB,MAAOtF,EAAMsF,MACbmH,KAAMw4B,EAAKx4B,KACXjE,KAAMy8B,EAAKhjC,KACX9C,GAAI8lC,EAAK9lC,GACTsM,QAASw5B,EAAKx5B,QACdvC,SAAU+7B,EAAK/7B,SACfqR,OAAQA,EACR4J,UAAWA,IAGZ,cAAC,GAAD,CACE7e,MAAOtF,EAAMsF,MACbmH,KAAMw4B,EAAKx4B,KACXxK,KAAMgjC,EAAKhjC,KACX+4B,KAAMiK,EAAKjK,KACX77B,GAAI8lC,EAAK9lC,GACTsM,QAASw5B,EAAKx5B,QACdvC,SAAU+7B,EAAK/7B,SACfqR,OAAQA,EACR4J,UAAWA,SAtDT,OAAMjZ,SAwElB,cAACD,GAAA,EAAD,UACGu8B,EAAQxoC,KAAI,CAACimC,EAAM/5B,IAClB,eAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,UAKE,gCACE,8BACG65B,EAAKhjC,KADR,IACegjC,EAAK/7B,SADpB,IAC+B+7B,EAAKx5B,WAElC,0BAIJ,qBAAKlG,MAAO,CAAEqmB,WAAY,UAG1B,sBAAK1rB,UAAU,QAAf,UAEE,cAAC6G,EAAA,EAAD,CAASR,MAAM,cAAf,SACE,cAAC,KAAD,CACE,aAAW,cACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAUrG,IA9Zb0lC,KACjB3hB,EAAQ,IAAIxY,EAAMm6B,GAAlB,EA8ZsBiE,CAAUjE,GACVgD,EAAOhD,EAAKhjC,MACZ1C,EAAE8F,OAAOW,UAAW,CAApB,EANJ,SASE,cAAC,KAAD,CAAsBS,SAAS,WAInC,cAAC,GAAD,CACEnB,MAAOtF,EAAMsF,MACbmH,KAAMw4B,EAAKx4B,KACXjE,KAAMy8B,EAAKhjC,KACX9C,GAAI8lC,EAAK9lC,GACTsM,QAASw5B,EAAKx5B,QACdvC,SAAU+7B,EAAK/7B,SACfqR,OAAQA,EACR4J,UAAWA,IAEb,cAAC,GAAD,CACE7e,MAAOtF,EAAMsF,MACbmH,KAAMw4B,EAAKx4B,KACXxK,KAAMgjC,EAAKhjC,KACX+4B,KAAMiK,EAAKjK,KACX77B,GAAI8lC,EAAK9lC,GACTsM,QAASw5B,EAAKx5B,QACdvC,SAAU+7B,EAAK/7B,SACfqR,OAAQA,EACR4J,UAAWA,SAlDT,OAAMjZ,SAgElB,eAACi+B,GAAA,EAAD,CAAOC,QAAS,EAAGC,UAAU,MAAM9jC,MAAO,CAACsH,eAAgB,UAA3D,UACE,cAACpH,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAC5CsE,QAAS6iC,EADX,uBAKA,cAAChjC,EAAA,EAAD,CAAQvF,UAAU,uBAAuByF,QAAQ,YAAYC,QAASsT,EAAtE,oBAMJ,eAACpP,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACE,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,uCAEJ,cAAC+J,GAAA,EAAMI,KAAP,UACKg+B,IAEL,eAACp+B,GAAA,EAAMK,OAAP,WACA,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS,KA1bpB,MAEnB,MAEM3D,EAAO,CAEXZ,OAAQ,CACPkiB,SALczY,EAMb5J,QAASlB,EAAMkB,QAMf0d,KAAM5e,EAAMsF,MAAMunB,OAAO,cACzBtjB,OAAQ,YAKZvJ,EAAMyI,mBAAmBxG,GAC3B2F,GAAmB,wCAAyC,wHAA5D,EAsaM0hC,GACAhmB,EAAQ,IACR1Z,GAAa,EAHf,qBAOE,cAACnE,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAASgE,EAArC,0BAMJ,sBAAK1J,UAAU,yBAAf,UACI,8DACA,cAACuF,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAC5CsE,QArPa,IAAMgiC,GAAY,GAoPjC,sBAKA,eAAC99B,GAAA,EAAD,CAAOC,KAAM49B,EAAe39B,OAAQ0+B,EAApC,UACA,cAAC5+B,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,4CAEJ,cAAC+J,GAAA,EAAMI,KAAP,mCAGA,eAACJ,GAAA,EAAMK,OAAP,WACA,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS,KACnCqjC,IACArhC,GAAmB,wBAAnB,EAFF,iBAOE,cAACnC,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS8iC,EAArC,yBAOJ,eAACnzB,GAAA,EAAD,CACEnH,KAAMA,EACNiH,QAASzL,EACT,kBAAgB,qBAChB,mBAAiB,2BAJnB,UAME,cAAC8L,GAAA,EAAD,CAAavW,GAAG,qBAAhB,SACG,kBAEH,cAAC0a,GAAA,EAAD,UACE,cAAC0vB,GAAA,EAAD,CAAmBpqC,GAAG,2BAAtB,6DAIF,eAAC2a,GAAA,EAAD,WACE,cAACrU,EAAA,EAAD,CAAQG,QAAS+iC,EAAjB,oBACA,cAACljC,EAAA,EAAD,CAAQG,QAAS,KA3dC,MAEtB,MAGM3D,EAAO,CAEXZ,OAAQ,CACNmoC,UANclC,EAOdmC,WANejC,EAOftmC,QAASlB,EAAMkB,QAMf0d,KAAM5e,EAAMsF,MAAMunB,OAAO,cACzBtjB,OAAQ,YAKZvJ,EAAMyI,mBAAmBxG,GAC3B2F,GAAmB,mBAAoB,kCAAvC,EAqcQ8hC,GACAf,GAAO,EAEPgB,WAAS,EAJX,0BAYF,sBAAKzpC,UAAU,yBAAf,UACE,0FACA,cAACuF,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAC5CsE,QAAS6iC,EADX,sBAKA,eAAC3+B,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACA,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,2CAEJ,cAAC+J,GAAA,EAAMI,KAAP,mCAGA,eAACJ,GAAA,EAAMK,OAAP,WACA,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS,KACnCqjC,IACArhC,GAAmB,wBAAnB,EAFF,iBAME,cAACnC,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAASgE,EAArC,2BAST,ICzqBM,MAAMggC,GAAe,IAA0B,IAAzB,MAAEtkC,EAAF,SAASF,GAAe,EACnD,MAAO07B,EAAUsB,GAAe59B,mBAAS,KAClCuF,EAAMJ,GAAWnF,oBAAS,IAC1BsU,EAAQwoB,GAAY98B,mBAASooB,QAUpC,OAJAhoB,qBAAU,KACRw9B,EAAY7B,GAAcj7B,GAA1B,GACC,CAACA,IAGF,qCACE,sBAAKpF,UAAU,WAAf,UACE,cAACmhC,GAAD,CAAgB/7B,MAAOA,EAAOg8B,SAAUl8B,IACxC,sBAAKlF,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACG,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAKlB,KAAI,CAAC0jB,EAAGxX,IAC3C,qBAAKhL,UAAU,OAAf,SACGwiB,GADwBxX,OAK9B41B,EAAS9hC,KAAKg8B,GACb,8BACGA,EAAKh8B,KAAKwI,GACT,qBACEtH,UAAU,MAEV0F,QAAS,IAAMR,EAASoC,GAH1B,SAKE,qBAAKtH,UAAW+gC,GAAUz5B,EAAKlC,GAA/B,SACGkC,EAAIqlB,OAAO,KAAKnG,cAJdlf,EAAIqlB,OAAO,KAAKnG,eAJjBsU,WAgBhB,sBAAK96B,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAQqF,MAAO,CAACiL,UAAW,QAA1C,+DACA,qBAAKtQ,UAAU,QAAQqF,MAAO,CAACiL,UAAW,SAA1C,SAAoD,cAACu1B,GAAD,CAAkBzgC,MAAOwT,EAAQ/O,KAAMA,EAAMJ,QAASA,MAC1G,cAACk1B,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,2JAIF,sBAAKzF,UAAU,WAAf,UACE,qBAAKA,UAAU,SAAf,SA5CGoF,EAAMunB,OAAO,gBA6ChB,cAACoZ,GAAD,CAAoB3gC,MAAOA,EAAOg8B,SAAUA,IAE5C,cAAC,GAAD,CAAWh8B,MAAOA,EAAOyE,KAAMA,SAxCrC,E,0BC5BK,MAAM8/B,GAAez/B,MAC1Boe,EACAiT,EACAqO,EACAC,EACAC,EACAC,EACAC,KAIA,IAAInrB,EAAQ,gHAA0FyJ,IAClGiT,IACF1c,GAAS,aAAY0c,KAEnBqO,IACF/qB,GAAS,gBAAe+qB,KAEtBC,IACFhrB,GAAS,WAAUgrB,KAGrB,MAAMjnC,QAAa2lB,MAAM1J,GACnB9c,QAAaa,EAAKgmB,OACxBkhB,EAAW/nC,EAAK28B,MAChBqL,EAAShoC,EAAKkoC,QACdD,EAAenrB,EAAf,EAKWqrB,GAAWhgC,MAAOigC,EAAMJ,EAAUD,KAC7C,MAAMlnC,QAAa2lB,MAAO,GAAE4hB,KACtBpoC,QAAaa,EAAKgmB,OACxBkhB,EAAW/nC,EAAK28B,MAChBqL,EAAShoC,EAAKkoC,OAAd,E,8CCoBalmC,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL+gC,sBAAwBC,GAAgBhhC,EAAS+gC,GAAsBC,OAI5Dz9B,EA/Cf,SAA0BjE,GAkBxB,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,mBAAf,SACE,cAAC,KAAD,CACE,aAAW,mBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KAvBIwE,WACnB,MAAMnI,EAAO,CACXZ,OAAQ,CACNsmB,KAAM3nB,EAAM2nB,KACZ8T,SAAUz7B,EAAMy7B,SAChBK,YAAa97B,EAAM87B,YACnB3a,IAAKnhB,EAAMmhB,IACX+c,eAAgBl+B,EAAMk+B,eACtBF,WAAYh+B,EAAMg+B,WAClBgB,MAAOh/B,EAAMg/B,MACbsD,eAAe,IAGnBtiC,EAAMyhC,sBAAsBx/B,GAC5B2F,GAAmB,UAAW,sBAA9B,EAUQyC,EAAc,EAJlB,SAOE,cAAC,KAAD,CAAY5D,SAAS,YAK9B,IC/Bc,SAAS6jC,GAAWtqC,GACjC,OACE,mCACGA,EAAMwoB,OACLxoB,EAAMuqC,QAAQvrC,KAAI,CAACwJ,EAAMib,IACvB,qBAAKvjB,UAAU,WAAf,SACE,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CAAK5M,UAAU,QAAf,SACE,qBAAKC,IAAKqI,EAAK2a,OAAOqnB,MAAOnqC,IAAM,GAAEmI,EAAK2a,OAAOjc,YAEnD,cAAC4F,GAAA,EAAD,CAAK5M,UAAU,cAAf,SACE,eAAC+K,GAAA,EAAD,CAAMi5B,OAAQ,CAAEna,WAAY,EAAGD,cAAe,EAAGwF,OAAQ,GAAzD,UACE,eAAC6U,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4BsI,EAAK2a,OAAOjc,QACxC,qBAAKhH,UAAU,QAAf,SAEE,cAAC,GAAD,CACEoF,MAAOtF,EAAMsF,MACbm2B,SAAUjzB,EAAK2a,OAAOsY,SACtB9T,KAAMnf,EAAK2a,OAAOjc,MAClB40B,YAAatzB,EAAK2a,OAAO2Y,YACzB3a,IAAK3Y,EAAK2a,OAAOhC,IACjB+c,eAAgB11B,EAAK2a,OAAO+a,eAC5BF,WAAYx1B,EAAK2a,OAAO6a,WACxBgB,MAAOx2B,EAAK2a,OAAO6b,aAKxBx2B,EAAK2a,OAAO2Y,aACXtzB,EAAK2a,OAAO2Y,YAAY98B,KAAI,CAACi9B,EAAYxY,IACvC,eAACtY,GAAA,EAAD,CAAkBjL,UAAU,OAA5B,UACE,cAACqT,GAAA,EAAD,UACE,cAAC,KAAD,CAA0B9M,SAAS,WAEpCw1B,EAAW/1B,OAJCud,KAOnB,mBAAGtd,KAAMqC,EAAK2a,OAAOhC,IAArB,SAA2B3Y,EAAK2a,OAAOhC,eAjChBsC,MAyCxC,CCpDc,SAAS0W,GAAT,GAAoC,IAAlB,YAAEC,GAAe,EAChD,MAAOC,EAASC,GAAc91B,mBAAS,aAqBvCI,qBAAU,KAlBa,MACrB,OAAQy1B,GACN,QACA,IAAK,YACHD,EAAY,aACZ,MACF,IAAK,QACHA,EAAY,SACZ,MACF,IAAK,SACHA,EAAY,UACZ,MACF,IAAK,SACLA,EAAY,UAZd,EAkBAG,EAAgB,GACf,CAACF,IAIJ,OACE,cAAC,GAAD,CACEl7B,GAAG,YACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MAPc,CAAC,YAAa,QAAS,SAAU,UAQ/CrN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CCrCc,SAASkrC,GAAT,GAA0C,IAArB,eAAEC,GAAkB,EACtD,MAAOrQ,EAASC,GAAc91B,mBAAS,OAWvCI,qBAAU,KANN8lC,EADc,QAAZrQ,EACa,GAEC,GAAEA,IAKJ,GACf,CAACA,IAwBJ,OACE,cAAC,GAAD,CACEl7B,GAAG,YACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MA3Bc,CAChB,MACA,WACA,QACA,UACA,YACA,iBACA,UACA,iBACA,SACA,SACA,UACA,WACA,SACA,gBACA,UACA,iBACA,SACA,iBACA,oBASErN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CChDc,SAASorC,GAAT,GAA4C,IAAtB,gBAAEC,GAAmB,EACxD,MAaOvQ,EAASC,GAAc91B,mBAAS,OA8CvC,OAJAI,qBAAU,KAvCa,MACrB,OAAQy1B,GACN,QACA,IAAK,MACHuQ,EAAgB,IAChB,MACF,IAAK,eACHA,EAAgB,gBAChB,MACF,IAAK,kBACHA,EAAgB,mBAChB,MACF,IAAK,aACHA,EAAgB,cAChB,MACF,IAAK,cACHA,EAAgB,eAChB,MACF,IAAK,gBACHA,EAAgB,iBAChB,MACF,IAAK,SACHA,EAAgB,UAChB,MACF,IAAK,WACHA,EAAgB,YAChB,MACF,IAAK,cACHA,EAAgB,eAChB,MACF,IAAK,QACHA,EAAgB,SAChB,MACF,IAAK,aACHA,EAAgB,cAjCpB,EAuCArQ,EAAgB,GACf,CAACF,IAGF,cAAC,GAAD,CACEl7B,GAAG,eACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MAhEiB,CACnB,MACA,eACA,kBACA,aACA,cACA,gBACA,SACA,WACA,cACA,QACA,cAsDErN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CCrEc,SAASsrC,GAAT,GAAsD,IAApC,MAAEC,EAAF,WAAS/nB,EAAT,WAAqBgoB,GAAc,EAClE,OACE,eAAC9qC,EAAA,EAAD,WAEI6qC,EAAME,KACJ,cAAC3kC,EAAD,CAAWT,QAAS,IAAMnE,QAAQC,IAAIopC,EAAME,KAAK7kC,MAAOD,KAAK,OAAOD,QAAQ,UAAa,KAI3F6kC,EAAMG,KACJ,gCACE,cAACr+B,GAAA,EAAD,CAAK1M,UAAU,4BAAf,SACE,uCAAU6iB,EAAa,OAEzB,eAACnW,GAAA,EAAD,WACkB,GAAdmW,GACF,cAACjW,GAAA,EAAD,UACE,cAACzG,EAAD,CAAWT,QAAS,IAAMmlC,GAAY,GAAI7kC,KAAK,gBAAgBD,QAAQ,YAEzE,cAAC6G,GAAA,EAAD,UACE,cAACzG,EAAD,CAAWT,QAAS,IAAMmlC,EAAW,GAAI7kC,KAAK,YAAYD,QAAQ,kBAItE,OAKX,CClBc,SAASilC,GAAalrC,GACnC,MAAO+J,EAAMJ,GAAWnF,oBAAS,IAC1B2mC,EAAQC,GAAa5mC,mBAAS,KAE9BgkB,EAAOoS,GAAYp2B,mBAAS,KAC5Bi3B,EAAUrB,GAAe51B,mBAAS,KAClCslC,EAAaY,GAAkBlmC,mBAAS,KACxCulC,EAAca,GAAmBpmC,mBAAS,KAE1C+lC,EAASP,GAAcxlC,mBAAS,CAAC,IACjCsmC,EAAOb,GAAYzlC,mBAAS,KAE5B6lC,EAAMgB,GAAW7mC,mBAAS,KAE1B8mC,EAAUC,GAAe/mC,mBAAS,KAElCue,EAAYyoB,GAAiBhnC,mBAAS,GAI7C,SAAS0lC,EAAeG,GAClBiB,EAASzzB,SAASwyB,GACpB5oC,QAAQC,IAAI,0BAGd6pC,GAAaE,GAAiB,IAAIA,EAAcpB,IAEjD,CAmCD,OAjCAzlC,qBAAU,KACRilC,GACErhB,EACAiT,EACAqO,EACAC,EACAC,EACAC,EACAC,EAPF,GAWC,CAAC1hB,EAAOiT,EAAUqO,IAErBllC,qBAAU,KACRylC,GAAQD,GAASC,EAAMJ,EAAUD,EAAjC,GAEC,CAACK,IAiBF,qCACE,qBAAKnqC,UAAU,mBAAf,4BACA,eAAC4E,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACF+0B,EAASuQ,EAAT,EAHJ,UAME,cAACrmC,EAAA,EAAKC,MAAN,UACE,eAAC6e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE/E,UAAU,cACVoB,KAAK,OACLnC,GAAG,QACH8S,aAAcuW,EACdpjB,SAAW7F,IACT6rC,EAAU7rC,EAAE8F,OAAOC,MAAnB,IAGJ,cAACG,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,wBAAhC,yBAKJ,eAACwrC,GAAA,EAAD,CAAKllC,GAAI,CAAEmlC,SAAU,GAArB,UACE,eAACC,GAAA,EAAD,CAAMC,WAAS,EAACzC,QAAS,EAAzB,UACE,eAACwC,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,EAAvB,UACE,2CACA,8BACE,cAAC,GAAD,CAAU1R,YAAaA,SAG3B,eAACwR,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,EAAvB,UACE,wCACA,8BACE,cAACrB,GAAD,CAAaC,eAAgBA,YAInC,eAACkB,GAAA,EAAD,CAAMC,WAAS,EAACzC,QAAS,EAAzB,UACE,eAACwC,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,EAAvB,UACE,8CACA,8BACE,cAACnB,GAAD,CAAcC,gBAAiBA,SAGnC,cAACgB,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,aAI7B,cAACxB,GAAD,CACEC,QAASA,EACT/hB,MAAOA,EACPljB,MAAOtF,EAAMsF,MACbF,SAAUpF,EAAMoF,WAEjB0lC,EACC,cAACD,GAAD,CACEC,MAAOA,EACP/nB,WAAYA,EACZgoB,WA1ER,SAAoBgB,GACdA,EAAS,GAEXP,GAAeQ,GAAaA,EAAWD,IACvCV,EAAQP,EAAMG,KAAK9kC,MACnB+jC,EAAeY,EAAMG,KAAK9kC,OACjB4lC,EAAS,IAElBP,GAAeQ,GAA2B,IAAbA,EAAiB,EAAIA,EAAW,IAC3C,GAAdjpB,GAAiBsoB,EAAQC,EAASvoB,IAEzC,IAiEO,OAGT,CCtGc9e,YAAQ,MARKvD,IACnB,CACL+gC,sBAAwBC,GAAgBhhC,EAAS+gC,GAAsBC,OAM5Dz9B,EA3Bf,SAAmBjE,GAEjB,OACE,gCACI,6FACF,cAACkrC,GAAD,CAAc5lC,MAAOtF,EAAMsF,QAC7B,8BACI,wBAAQpF,UAAU,2BAA2BqF,MAAO,CAACgK,UAAW,QAC9D3J,QAAS,KACT5F,EAAMqrC,QAAQrrC,EAAMqqC,KAAO,EAA3B,EAFF,sBAUP,IC+JcpmC,YAAQ,MARKvD,IACnB,CACL+gC,sBAAwBC,GAAgBhhC,EAAS+gC,GAAsBC,OAM5Dz9B,EAjLf,SAAejE,GACb,MAAOy7B,EAAUrB,GAAe51B,mBAAS,UAClChD,EAAKqV,GAAUrS,mBAAS,KAGxBk3B,EAAMC,GAAWn3B,oBAAS,GAO3Bo3B,EAAe,CACnBnvB,KAAM,GACN6uB,OAAQ,KAEHzT,EAAOgU,GAAYr3B,mBAASo3B,GAkB7BR,EAAaE,IACjBO,EAAS,IAAKhU,EAAOyT,OAAQA,GAA7B,GAGK2Q,EAAUC,GAAe1nC,mBAAS,IAWzCI,qBAAU,KACRnD,QAAQC,IAAI,YAAauqC,EAAzB,GACC,CAACA,IAEJ,MAAME,EAAWF,EAASjtC,KAAI,CAAC2oB,EAAMzc,IAEjC,6BACGyc,EAAKlb,MADCvB,MAONqP,EAAQ4J,GAAa3f,mBAAS,GAM/BsB,EAAe,KAEnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNo6B,SAAUA,EACVwQ,SAAUA,IAIdxqC,QAAQC,IAAK,qBAAsBO,GACnCR,QAAQC,IAAI,kBAAmB1B,GAE/BA,EAAMyhC,sBAAsBx/B,GArB5BkiB,EAAU5J,EAAS,EAsBN,EAKf,OACE,gCACI,kEACJ,eAACzV,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACFC,GAAc,EAHlB,UAgBE,qBAAKP,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAKw8B,MAGP,cAACrnC,EAAA,EAAKC,MAAN,UACE,cAAC21B,GAAD,CAAgBC,iBA3FIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,MAyFC,cAACR,EAAA,EAAKC,MAAN,UACE,cAACU,EAAA,EAAD,CACEvF,UAAU,wBACVf,GAAG,WACHyG,QAAS,KAnFMwE,WACF,KAAfyd,EAAMpb,KACR0uB,GAAUtT,EAAMpb,KAAM2uB,GAAWh6B,MAAK,KACpC8qC,GAAaD,GAAa,IAAIA,EAAUpkB,KACxCgU,EAASD,EAAT,IAGF/kB,EAAO,8BACR,EA4EOu1B,EAAgB,EAJpB,wBAWF,qBAAK7mC,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQG,QAAS,KACTiI,MAAM,6BAAN,EAIN3N,UAAU,uBAAuBoB,KAAK,SALxC,uBAYJ,gCAEI,+BACI,wBAAQpB,UAAU,2BAA2BqF,MAAO,CAACgK,UAAW,QAC5D3J,QAAS,KACT5F,EAAMqrC,QAAQrrC,EAAMqqC,KAAO,EAA3B,EAFJ,wBAQJ,+BACI,wBAAQnqC,UAAU,2BAA2BqF,MAAO,CAACqmB,WAAY,QAASrc,UAAW,QACjF3J,QAAS,KACT5F,EAAMqrC,QAAQrrC,EAAMqqC,KAAO,EAA3B,EAFJ,yBAYX,ICGcpmC,YAAQ,MARKvD,IACnB,CACL+gC,sBAAwBC,GAAgBhhC,EAAS+gC,GAAsBC,OAM5Dz9B,EA1Kf,SAAgBjE,GACd,MAAOy7B,EAAUrB,GAAe51B,mBAAS,WAClChD,EAAKqV,GAAUrS,mBAAS,KAGxBk3B,EAAMC,GAAWn3B,oBAAS,GAO3Bo3B,EAAe,CACnBnvB,KAAM,GACN6uB,OAAQ,KAEHzT,EAAOgU,GAAYr3B,mBAASo3B,GAkB7BR,EAAaE,IACjBO,EAAS,IAAKhU,EAAOyT,OAAQA,GAA7B,GAGK2Q,EAAUC,GAAe1nC,mBAAS,IAWzCI,qBAAU,KACRnD,QAAQC,IAAI,YAAauqC,EAAzB,GACC,CAACA,IAEJ,MAAME,EAAWF,EAASjtC,KAAI,CAAC2oB,EAAMzc,IAEjC,6BACGyc,EAAKlb,MADCvB,MAONqP,EAAQ4J,GAAa3f,mBAAS,GAM/BsB,EAAe,KAEnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNo6B,SAAUA,EACVwQ,SAAUA,IAIdxqC,QAAQC,IAAK,qBAAsBO,GACnCR,QAAQC,IAAI,kBAAmB1B,GAE/BA,EAAMyhC,sBAAsBx/B,GArB5BkiB,EAAU5J,EAAS,EAsBN,EAKf,OACE,gCACI,mEACJ,eAACzV,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACFC,GAAc,EAHlB,UAgBE,qBAAKP,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAKw8B,MAGP,cAACrnC,EAAA,EAAKC,MAAN,UACE,cAAC21B,GAAD,CAAgBC,iBA3FIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,MAyFC,cAACR,EAAA,EAAKC,MAAN,UACE,cAACU,EAAA,EAAD,CACEvF,UAAU,wBACVf,GAAG,WACHyG,QAAS,KAnFMwE,WACF,KAAfyd,EAAMpb,KACR0uB,GAAUtT,EAAMpb,KAAM2uB,GAAWh6B,MAAK,KACpC8qC,GAAaD,GAAa,IAAIA,EAAUpkB,KACxCgU,EAASD,EAAT,IAGF/kB,EAAO,8BACR,EA4EOu1B,EAAgB,EAJpB,wBAWF,qBAAK7mC,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,uBAOJ,sBAAKpB,UAAU,oBAAf,UACI,+BACI,wBAAQA,UAAU,2BAA2BqF,MAAO,CAACgK,UAAW,QAChE3J,QAAS,KACT5F,EAAMqrC,QAAQrrC,EAAMqqC,KAAO,EAA3B,EAFA,wBAOJ,+BACI,wBAAQnqC,UAAU,2BAA2BqF,MAAO,CAACqmB,WAAY,QAASrc,UAAW,QACjF3J,QAAS,KACTiI,MAAM,6CAAN,EAFJ,2BAYX,ICjKD,MAAM2vB,GAAS,WACTC,GAAU,mCA+ODx5B,mBAAQ,MANKvD,IACnB,CACL+gC,sBAAwBC,GAAgBhhC,EAAS+gC,GAAsBC,OAI5Dz9B,EA5Of,SAAiBjE,GACf,MAAO09B,EAAgBC,GAAqBn5B,mBAAS,KAC9C+2B,EAAUC,GAAeh3B,mBAAS,KAClC2E,EAAOqS,GAAYhX,mBAAS,OAC5Bs3B,EAAaC,GAAkBv3B,mBAAS,KACxCo5B,EAAgBC,GAAqBr5B,mBAAS,KAC9Cs5B,EAAYC,GAAiBv5B,mBAAS,KACtCi3B,EAAUrB,GAAe51B,mBAAS,KAClCw5B,EAAYC,GAAiBz5B,mBAAS,KACtC05B,EAAgBC,GAAqB35B,mBAAS,KAC9C45B,EAAaC,GAAkB75B,mBAAS,KACxC2c,EAAKmd,GAAU95B,mBAAS,IAiDzBo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAGHzT,EAAOgU,GAAYr3B,mBAASo3B,GAanCh3B,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAGL,MAAOvhB,EAAQ4J,GAAa3f,mBAAS,GAM9BsB,EAAe,KACnB,MAAM7D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KACzBrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM4T,EACNO,YAAaA,EACbL,SAAUA,EACVuC,WAAYA,EACZE,eAAgBA,EAChB/c,IAAKA,EACLid,YAAaA,IAIjBp+B,EAAMyhC,sBAAsBx/B,GAC5B2F,GAAmB,UAAW,uBAvB/Buc,EAAU5J,EAAS,EAwBL,EAIf,OACE,qCACE,cAAC,GAAD,CACEkiB,IAAK,GACLC,MAAO,IACPE,aAAa,EACbG,sBAzGkB,CAACwB,EAAaC,KAEpC/V,MAAO,kDAAiD+V,EAAcD,oBACrEn9B,MAAKwT,GAAYA,EAASkU,SAC1B1nB,MAAKa,IAEJ,IAAIumB,EAYJ,YARoC5P,GAAhC3W,EAAKyY,QAAQ+jB,iBACdjW,EAAQvmB,EAAKyY,QAAQgkB,aACrBlD,EAAYhT,KAEbA,EAAQvmB,EAAKyY,QAAQ+jB,gBACrBjD,EAAYhT,IAGPC,MAAO,gDAA+C+U,cAAkBC,oBAAyBjV,IAAxG,IAECpnB,MAAK2nB,GAAOA,EAAID,SAChB1nB,MAAKu9B,IACJl9B,QAAQC,IAAI,QAASi9B,EAAQC,MAC7Bb,EAAcY,EAAQC,KAAtB,IASHr9B,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,IAEDtG,OAAOC,IACNC,QAAQC,IAAIF,EAAIqG,SAChB2T,EAASha,EAAIqG,QAAb,GApCF,IA0GE,mBAAGtC,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAAxD,SAAmE+1B,IAEnE,eAACsD,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,UACE,cAACk5B,GAAA,EAAMxoB,QAAP,oDACA,8FAKA,eAACvR,EAAA,EAAD,CACGuI,SAAW9N,IACVA,EAAEsG,iBACFC,IACA9F,EAAMwjB,iBAAN,EAJJ,UAQA,cAAC1e,EAAA,EAAKC,MAAN,UACA,6BAAK+4B,GAAcA,EAAW9+B,KAAIiD,GAClC,8BAAK,4BAET,qBAAK2vB,MAAM,OAAX,SACE,sBAAKA,MAAM,YAAX,UACE,oBAAIA,MAAM,aAAV,SACE,sBAAKA,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAAoBv5B,MAAO,CAACkB,SAAU,OAAQf,WAAY,OAAQF,MAAO,SAA7G,gBACGvD,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAOjc,QAEhB,uBACE0qB,MAAM,mBACNtwB,KAAK,QACL2B,KAAK,mBACL9D,GAAG,oBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,QACzCtmB,MAAK,OAAGrD,QAAH,IAAGA,OAAH,EAAGA,EAAMkhB,OAAOjc,MACrBtB,QAAUrG,IAnFEA,KACvBi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAmFay5B,CAAex/B,GACf66B,EAAW,OAACn4B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAOsY,UACzBwC,EAAa,OAACh8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO6a,YAC3BG,EAAiB,OAACl8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO+a,gBAC/BG,EAAc,OAACp8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAO6b,OAC5BV,EAAM,OAACr8B,QAAD,IAACA,OAAD,EAACA,EAAMkhB,OAAOhC,IAApB,SAQR,mBAAGyQ,MAAM,YAAT,gBACG3vB,QADH,IACGA,OADH,EACGA,EAAMkhB,OAAO8b,gBAAgBjgC,KAAIwJ,GAC3B,6BAEL,sBAAKopB,MAAM,aAAX,UACE,uBAAOA,MAAM,mBAAmBkN,IAAI,oBAApC,SACGt2B,IAEH,uBACEopB,MAAM,mBACNtwB,KAAK,WACLgE,MAAOkD,EACPrJ,GAAG,mBACHoG,MAAO,CAAC6F,WAAY,QAASwgB,WAAY,OAAQxgB,WAAY,QAC7DxF,QAAUrG,IArHFA,KACpBs8B,EAAUhU,EAAMpb,KAAOlN,EAAE8F,OAAOC,OAChCy2B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,EAmHcsD,CAAa3/B,EAAb,4BA8BZ,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,uBAKD6H,GAAS,8BAAK,2GAIpB,IC7LclF,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL+gC,sBAAwBC,GAAgBhhC,EAAS+gC,GAAsBC,OAI5Dz9B,EA9Cf,SAA8BjE,GAiB5B,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,mBAAf,SACE,cAAC,KAAD,CACE,aAAW,mBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KAtBIwE,WACnB,MAAMnI,EAAO,CACXZ,OAAQ,CACNsmB,KAAM3nB,EAAM2nB,KACZ8T,SAAUz7B,EAAMy7B,SAChBK,YAAa97B,EAAM87B,YACnBoC,eAAgBl+B,EAAMk+B,eACtBF,WAAYh+B,EAAMg+B,WAClBI,YAAap+B,EAAMo+B,YACnBkE,eAAe,IAGnBtiC,EAAMyhC,sBAAsBx/B,GAC5B2F,GAAmB,UAAW,sBAA9B,EAUQyC,EAAc,EAJlB,SAOE,cAAC,KAAD,CAAY5D,SAAS,YAK9B,IC/Bc,SAAS4lC,GAAcrsC,GAEpC,OACE,mCAEGA,EAAM+jC,MAAM/kC,KAAI,CAACilC,EAAS/4B,IACzB,qBAAKhL,UAAU,WAAf,SACE,qBAAKA,UAAU,cAAf,SACG,eAAC+K,GAAA,EAAD,CAECi5B,OAAQ,CAAEna,WAAY,EAAGD,cAAe,EAAGwF,OAAQ,GAFpD,UAIC,eAAC6U,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4B+jC,EAAQtc,OACnCsc,EAAQxI,SACP,qBAAKv7B,UAAU,YAAf,SAA4B+jC,EAAQxI,WAClC,KAEJ,qBAAKv7B,UAAU,QAAf,SACE,cAAC,GAAD,CACEu7B,SAAUwI,EAAQxI,SAClB9T,KAAMsc,EAAQtc,KACdmU,YAAamI,EAAQnI,YACrBoC,eAAgB+F,EAAQ/F,eAAkB+F,EAAQ/F,eAAkB,KACpEF,WAAYiG,EAAQjG,WAAciG,EAAQjG,WAAc,KACxDI,YAAa6F,EAAQ7F,YAAe6F,EAAQ7F,YAAe,YAKhE6F,EAAQnI,YAAY98B,KAAI,CAACi9B,EAAY/wB,IACpC,cAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,SAKG64B,EAAQX,GACP,mCACE,4BAAIrH,EAAW/1B,SAGjB,mCACE,8BACG+1B,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,cAZZ,OAAMP,SAvBV,QAAOA,QAHa,WAAUA,QAmDjD,CC4CcjH,oBAZUC,IAChB,CACLooC,UAAWpoC,EAAMmD,SAASklC,eAIF7rC,IACnB,CACL8rC,WAAaxK,GAAUthC,G7GpDlB,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,cAAemI,QAASxH,GAAzC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAbJ,O6G0BWyC,EAzGSjE,IACtB,MAAOysC,EAAQC,GAAaloC,mBAAS,KAG9B+V,EAAQ4J,GAAa3f,mBAAS,GAMrCI,qBAAU,KACR5E,EAAMwsC,YAAN,GACC,CAACjyB,IAiEJ,OAVA3V,qBAAU,KApDWwF,WAEnBsiC,EAAU,IAGV1sC,EAAMssC,UAAUtjC,SAASjI,IACvB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GACTs8B,EAAW16B,EAAI06B,SACf6G,EAAgBvhC,EAAIuhC,cACpBtE,EAAaj9B,EAAIi9B,WACjBE,EAAiBn9B,EAAIm9B,eACrBE,EAAcr9B,EAAIi+B,MAIpB0N,EADCpK,EACUmK,GAAW,IACjBA,EACH,CACE9kB,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmjC,cAAeA,EACftE,WAAYA,EACZE,eAAgBA,EAChBE,YAAaA,IAKNqO,GAAW,IACjBA,EACH,CACE9kB,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EAAGwoB,KAAM4T,EACbE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmjC,cAAeA,EACftE,WAAYA,EACZE,eAAgBA,EAChBE,YAAaA,IAGnB,GA3CF,EAiDAuO,GACAlrC,QAAQC,IAAI,mBAAoB+qC,EAAhC,GAGC,CAACzsC,EAAMssC,YAEV7qC,QAAQC,IAAI,mBAAoB+qC,GAG9B,qCACE,qBAAKvsC,UAAU,MAAf,SACE,qBAAKA,UAAU,8BAAf,8BAEF,qBAAKA,UAAU,cAAf,SACE,cAACmsC,GAAD,CACExgC,YA/EY,KAClBsY,EAAU5J,EAAS,EAAnB,EA+EMwpB,MAAO0I,EACPzK,OAAO,QATf,ICxEK,SAAS4K,GAAT,GAAiD,IAA3B,KAAE7iC,EAAF,QAAQJ,EAAR,MAAiBrE,GAAS,EACrD,MAAO86B,EAAWC,GAAgB77B,mBAAS,gBACpC6lC,EAAMgB,GAAW7mC,mBAAS,IAC1Boa,EAAMiuB,GAAWroC,mBAAS,CAACc,KAC3BwnC,EAAOC,GAAYvoC,oBAAS,IAI5B86B,EAAMC,GAAW/6B,oBAAS,IAC1Bw9B,EAAOgL,GAAYxoC,oBAAS,IAC5Bg7B,EAAQC,GAAaj7B,mBAAS,wBAiB9ByoC,EAAUC,GAAe1oC,mBAAS,CACvC2oC,UAAW,GACXC,MAAO,GACPC,OAAQ,KAiCJ7pB,EAAkB,KACtB7Z,GAAQ,GACR02B,EAAa,cAAb,EAGF,OACE,qCACE,cAACt5B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,eAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,4CACkCoF,EAAMunB,OAAO,cAGjD,eAAC/iB,GAAA,EAAMI,KAAP,WACI,wBACMhK,UAAU,qCACV0F,QAAS,KAxEvB25B,GAASD,GACT0N,GAAUhL,QAERvC,EADEH,EACQ,sBAEA,qBAiEJ,SAKGE,IAEH,wBACMt/B,UAAU,qCACV0F,QAAS,IAnFAmnC,GAAS,GAiFxB,iCAMCzN,EACC,cAACgO,GAAD,CAAahoC,MAAOA,EAAOke,gBAAiBA,IAE5C,cAAC0nB,GAAD,CAAc5lC,MAAOA,UAM7B,eAACwE,GAAA,EAAD,CACEC,KAAM+iC,EACN9iC,OAnGc,IAAM+iC,GAAS,GAoG7BjhC,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,mCAIF,cAAC4J,GAAA,EAAMI,KAAP,UACI,cAAC,GAAD,WAKX,CCrFcjG,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL6sC,sBAAwBtrC,IAASvB,U3C8SCghC,E2C9S8Bz/B,E3C+S3D,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAI2gC,EAAYviC,IAChB6E,SACA5C,MAAK,IAAMV,EAAS,CAAEY,KAAM,mBAAoBogC,kBAChDngC,OAAOC,IACNd,EAAS,CAAEY,KAAM,yBAA0BE,OAA3C,GATJ,IA/BkCkgC,K2C/S7B,KAKMz9B,EA3Cf,SAAgBjE,GAcd,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,SAAf,SACE,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KAhBKzG,KACpB,MAAM8C,EAAO,CACX9C,GAAIA,GAGJa,EAAMutC,sBAAsBtrC,GAC5B2F,GAAmB,UAAY,GAAE5H,EAAM2nB,0BACvC3nB,EAAM6L,aAAN,EAUMo2B,CAAajiC,EAAMb,GAAnB,EAJJ,SAOE,cAAC,KAAD,CAAYsH,SAAS,iBAK9B,IC4FcxC,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL8sC,iBAAmBvrC,IAASvB,U5CgYC2G,E4ChYyBpF,E5CiYjD,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MASlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACXC,IAAIsG,EAASlI,IACb8B,IAAIoG,EAAShG,OAAQ,CAAEF,OAAO,IAC9BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,YAAa+F,eACzC9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GATJ,IAjC6B6F,K4CjYxB,EAEL+b,cAAgBnhB,GAASvB,EAAS0iB,GAAcnhB,OAIrCgC,EA3Hf,SAA0BjE,GACxB,MAAOu7B,EAAUC,GAAeh3B,mBAASxE,EAAM2nB,OACxCmU,EAAaC,GAAkBv3B,mBAASxE,EAAMi8B,YAgBrD,OACE,eAACn3B,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBAjBa,MACnB,MAAM5D,EAAO,CACX9C,GAAIa,EAAMb,GACVkC,OAAQ,CACNsmB,KAAM4T,EACNO,YAAaA,EACb38B,GAAIa,EAAMb,KAGZa,EAAMwtC,iBAAiBvrC,GACvB2F,GAAmB,UAAW,2BAC9B5H,EAAM6L,aAAN,EAOE/F,GACA9F,EAAMwjB,iBAAN,EAJJ,UAOE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACH8S,aAAcspB,EACdn2B,SAAW7F,IACTi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,OAKLw2B,EAAY98B,KAAI,CAACi9B,EAAYxY,IAC5B,sBAAKvjB,UAAU,OAAf,UACE,eAAC4E,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,0BACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACHiG,SAAW7F,IACTw8B,EAAe,IACVD,EAAYpY,MAAM,EAAGD,GACxB,CACEhX,KAAMlN,EAAE8F,OAAOC,MACf4D,SAAU+yB,EAAW/yB,SACrBuC,QAASwwB,EAAWxwB,YAEnBqwB,EAAYpY,MAAMD,EAAI,EAAGqY,EAAY9wB,SAP1C,EAUFiH,aAAcgqB,EAAWxvB,UAG7B,cAAC3H,EAAA,EAAKC,MAAN,UACE,eAAC6e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,IACTw8B,EAAe,IACVD,EAAYpY,MAAM,EAAGD,GACxB,CACEhX,KAAMwvB,EAAWxvB,KACjBvD,SAAU3J,EAAE8F,OAAOC,MACnBmG,QAASwwB,EAAWxwB,YAEnBqwB,EAAYpY,MAAMD,EAAI,EAAGqY,EAAY9wB,SAP1C,EAUFiH,aAAcgqB,EAAW/yB,WAE3B,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAMg6B,EAAWxwB,QACjBmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,OAAQ,OAC3CrN,SAAWhE,GACTw8B,EAAe,IACVD,EAAYpY,MAAM,EAAGD,GACxB,CACEhX,KAAMwvB,EAAWxvB,KACjBvD,SAAU+yB,EAAW/yB,SACrBuC,QAASlM,MAERu8B,EAAYpY,MAAMD,EAAI,EAAGqY,EAAY9wB,mBArDzByY,KA8D7B,qBAAKle,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,WAAWoB,KAAK,SAAlC,sBAMP,ICjHM,SAASmsC,GAAT,GASH,IATyB,KAC3B9lB,EAD2B,YAE3BmU,EAF2B,GAG3B38B,EAH2B,KAI3B4K,EAJ2B,QAK3BJ,EAL2B,MAM3BrE,EAN2B,YAO3BuG,EAP2B,MAQ3Bm2B,GACC,EACD,MAAMxe,EAAkB,IAAM7Z,GAAQ,GACtC,OACE,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,yBAEF,cAAC2K,GAAA,EAAMI,KAAP,UAEE,cAAC,GAAD,CACEyd,KAAMA,EACNsU,WAAYH,EACZ38B,GAAIA,EACJ0M,YAAaA,EACbvG,MAAOA,EACPke,gBAAiBA,EACjBwe,MAAOA,QAKhB,CCAcG,OAhCf,SAAcniC,GAEZ,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,OAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAUlD,SAAS,gBAGvB,cAACgnC,GAAD,CACEnoC,MAAOtF,EAAMsF,MACbyE,KAAMA,EACNJ,QAASA,EACTge,KAAM3nB,EAAM2nB,KACZmU,YAAa97B,EAAM87B,YACnB38B,GAAIa,EAAMb,GACV0M,YAAa7L,EAAM6L,YACnBm2B,MAAOhiC,EAAMgiC,UAIpB,ECxBc,SAAS8B,GAAS9jC,GAIhC,MAAOua,EAAQ4J,GAAa3f,mBAAS,GAE/BqH,EAAc,KAClBsY,EAAU5J,EAAS,EAAnB,GAIMmT,EAAQggB,GAAalpC,mBAAS,IAUrC,OACE,qCACA,uBACA,4BACE,yBAAQY,SAXZ,SAAqB7F,GACnB,MAAM+F,EAAQ/F,EAAE8F,OAAOC,MACjBqoC,EACM,QAAVroC,EAAkBtF,EAAM+jC,MAAQ/jC,EAAM+jC,MAAMrW,QAAQkgB,GAAMA,EAAEnS,SAAS,KAAOn2B,IAC9EooC,EAAUC,EACX,EAMG,UACE,wBAAQroC,MAAM,MAAd,4BACA,wBAAQA,MAAM,YAAd,sBACA,wBAAQA,MAAM,eAAd,0BACA,wBAAQA,MAAM,QAAd,wBAIDooB,EAAO1uB,KAAI,CAACilC,EAAS/4B,IACpB,qBAAKhL,UAAU,WAAf,SACE,qBAAKA,UAAU,cAAf,SACE,eAAC+K,GAAA,EAAD,CAEEi5B,OAAQ,CAAEna,WAAY,EAAGD,cAAe,EAAGwF,OAAQ,GAFrD,UAIE,eAAC6U,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4B+jC,EAAQtc,OACnCsc,EAAQxI,SACP,qBAAKv7B,UAAU,YAAf,SAA4B+jC,EAAQxI,WAClC,KACJ,sBAAKv7B,UAAU,QAAf,UACE,cAAC,GAAD,CACEoF,MAAOtF,EAAMsF,MACbnG,GAAI8kC,EAAQ9kC,GACZwoB,KAAMsc,EAAQtc,KACdqa,MAAOhiC,EAAMgiC,MACbn2B,YAAaA,IAkBdo4B,EAAQ3B,cAAgB,KACvB,cAACuL,GAAD,CACEvoC,MAAOtF,EAAMsF,MACbqiB,KAAMsc,EAAQtc,KACdmU,YAAamI,EAAQnI,YACrB38B,GAAI8kC,EAAQ9kC,GACZ0M,YAAaA,EACbm2B,MAAOhiC,EAAMgiC,cAapBiC,EAAQnI,YAAY98B,KAAI,CAACi9B,EAAY/wB,IACpC,cAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,SAKG64B,EAAQX,GACP,mCACE,4BAAIrH,EAAW/1B,SAGjB,mCACE,8BACG+1B,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,cAZZ,OAAMP,OAkBhB,cAACC,GAAA,EAAD,UACG84B,EAAQ9iB,IAAM,mBAAGhb,KAAM89B,EAAQ9iB,IAAjB,SAAuB8iB,EAAQ9iB,MAAW,SAzErD,QAAOjW,QAHa,WAAUA,SAoFjD,CCqCcjH,oBAdUC,IAChB,CACLw9B,YAAax9B,EAAMw9B,YAAY4C,MAC/BC,UAAWrgC,EAAMw9B,YAAY6C,cAIL7jC,IACnB,CACL+jC,mBAAqB9c,GAASjnB,GhD7GzB,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,iBAAkBmI,QAASxH,GAA5C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,uBAAwBE,OAAzC,GAdJ,IgDgFAmgC,cAAgBE,GAASnhC,EAASihC,GAAcE,OAIrC59B,EAlKf,SAAiBjE,GAEf,MAAO+jC,EAAOW,GAAYlgC,mBAAS,KAG5B+V,EAAQ4J,GAAa3f,mBAAS,GA0HrC,OA1GAI,qBAAU,KACR,MAAM3C,EAAO,CAEXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,eAE1B7sB,EAAMykC,mBAAmBxiC,EAAzB,GACC,CAACjC,EAAMsF,MAAOiV,IAgFjB3V,qBAAU,KAzCUwF,WAElBs6B,EAAS,IAGT1kC,EAAM0hC,YAAY14B,SAASjI,IACzB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GAETgiB,EAAMpgB,EAAIogB,IACV+c,EAAiBn9B,EAAIm9B,eACrBF,EAAaj9B,EAAIi9B,WACjBI,EAAcr9B,EAAIq9B,YAClB3C,EAAW16B,EAAI06B,SACnB,IAAI6H,EAAKviC,EAAIuiC,GAQboB,GAAUX,GAAU,IACfA,EACH,CACEpc,KAAM4T,EAENO,YAAaA,EACb38B,GAAIA,EACJmkC,GAAIA,EACJniB,IAAKA,EACLsa,SAAUA,EACVyC,eAAgBA,EAChBF,WAAYA,EACZI,YAAaA,KAZjB,GAlBF,EAqCA0G,EAAa,GACZ,CAAC9kC,EAAM0hC,cAeVjgC,QAAQC,IAAI,iBARHqiC,EAAMrW,QAAOzrB,GACH,aAGIA,EAAKw5B,SAAS,MAOnC,mCACGsI,EAAM/4B,OACL,8BACE,cAAC,GAAD,CACEa,YA9HU,KAClBsY,EAAU5J,EAAS,EAAnB,EA8HQwpB,MAAOA,EACP/B,OAAO,EACP18B,MAAOtF,EAAMsF,MACb8+B,YAAY,MAIhB,qBAAKlkC,UAAU,yBAAf,SACE,wGAKT,IC5IM,MAAM4tC,GAAe,IAA0B,IAAzB,MAAExoC,EAAF,SAASF,GAAe,EACnD,MAAO07B,EAAUsB,GAAe59B,mBAAS,KAClCuF,EAAMJ,GAAWnF,oBAAS,GAUjC,OAJAI,qBAAU,KACRw9B,EAAY7B,GAAcj7B,GAA1B,GACC,CAACA,IAGF,qCA4BE,sBAAKpF,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAQqF,MAAO,CAACiL,UAAW,QAA1C,yMACA,qBAAKtQ,UAAU,QAAQqF,MAAO,CAACiL,UAAW,SAA1C,SAAoD,cAACo8B,GAAD,CAActnC,MAAOA,EAAOyE,KAAMA,EAAMJ,QAASA,MACrG,cAACk1B,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,mSAIF,sBAAKzF,UAAU,WAAf,UACE,qBAAKA,UAAU,SAAf,SA5CGoF,EAAMunB,OAAO,gBA6ChB,8BAAK,cAAC,GAAD,CAASvnB,MAAOA,EAAOyE,KAAMA,WAtCxC,E,8EC6Qai7B,I,wCC2IA/gC,oBApBUC,IACd,CACLjC,KAAMiC,EAAMw9B,YAAY4C,MACxByJ,QAAS7pC,EAAMw9B,YAAYsF,SAC3BD,SAAU7iC,EAAMw9B,YAAYqF,aAIJrmC,IACnB,CACH+jC,mBAAqB9c,GAASjnB,GnDhX7B,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,mBACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,iBAAkBmI,QAASxH,GAA5C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,uBAAwBE,OAAzC,GAdJ,ImDmVIqiC,YAAchC,GAASnhC,GnD1QtB,CAACA,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAdJ,ImD6OIwsC,gBAAkBnM,GAASnhC,EnD5BHmhC,IACvB,CAACnhC,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WACX2G,IAAIo6B,EAAKxgC,QACTD,MAAMsG,IAEL9G,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,WACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,wBAAyBugC,QAA1C,IAEDtgC,OAAOC,IACNd,EAAS,CAAEY,KAAM,8BAA+BE,OAAhD,GAlBJ,EmDHwCwsC,CAAgBnM,IAGpDD,YAAcC,GAASnhC,EAASkhC,GAAYC,OAKrC59B,EAzZf,SAAyBjE,GAEvB,MAAO+mC,EAAUkH,GAAgBzpC,mBAAS,KACnCk/B,EAASwK,GAAc1pC,mBAAS,KAEhC2pC,EAAWC,GAAgB5pC,mBAAS,KACpC6pC,EAAOC,GAAY9pC,mBAAS,KAC5B+pC,EAAWC,GAAgBhqC,oBAAS,IACpCs3B,EAAaC,GAAkBv3B,mBAAS,CAAC,MAGzCiqC,EAAWC,GAAgBlqC,mBAAS,KACpCkF,EAAWC,GAAWnF,oBAAS,IAC/BwB,EAAU2oC,GAAenqC,oBAAS,GAMvC,IAOIke,EAAI,IAAI2E,KAAKrnB,EAAMsF,MAAMunB,OAAO,eACpCnK,EAAEksB,SAASlsB,EAAEmsB,WAAa,GAC1BptC,QAAQC,IAAI,gBAAiBghB,EAAEosB,cAAcprB,MAAM,EAAE,KAKnD,MAAMqrB,EAdW,SAAS1G,EAAO2G,GACjC,IAAI,IAAIC,EAAI,GAAGC,EAAG,IAAI7nB,KAAKghB,GAAQ6G,GAAI,IAAI7nB,KAAK2nB,GAAME,EAAGrC,QAAQqC,EAAGC,UAAU,GAC1EF,EAAItkC,KAAK,IAAI0c,KAAK6nB,IAEtB,OAAOD,CACR,CAQeG,CAAa,IAAI/nB,KAAKrnB,EAAMsF,MAAMunB,OAAO,eAAe,IAAIxF,KAAK3E,EAAEosB,cAAcprB,MAAM,EAAE,MACjF1kB,KAAKqwC,GAAIA,EAAEP,cAAcprB,MAAM,EAAE,MAEvD,IAAI4rB,EAAgBb,EAEpB,IAAIc,EAAW,GAGf,IAFA,IAAIC,EAAcF,EAActkC,OAEvByY,EAAI,EAAGA,EAAI+rB,EAAa/rB,IAAK,CACpC,IAAI1D,EAAM,CAAC,EACXA,EAAG,MAAYuvB,EAAc7rB,GAC7B1D,EAAG,IAAUuvB,EAAc7rB,GAC3B1D,EAAG,IAAU,EACbwvB,EAAS5kC,KAAKoV,EAGf,CAED,IAAI0vB,EAAaF,EAASG,SAAQnwC,GAChC85B,MAAM95B,EAAEowC,KAAKntB,KAAK,CAChB6lB,MAAO9oC,EAAE8oC,MACT2G,IAAKzvC,EAAEyvC,QAObpqC,qBAAU,KACR5E,EAAM4hC,aAAN,GACC,IA4DLh9B,qBAAU,KA1DgBwF,WAExBgkC,EAAa,IACbE,EAAS,IAGTtuC,EAAMiC,KAAK+G,SAASjI,IAElB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GACTs8B,EAAW16B,EAAI06B,SACfta,EAAMpgB,EAAIogB,IACV+c,EAAiBn9B,EAAIm9B,eACrBF,EAAaj9B,EAAIi9B,WACjBI,EAAcr9B,EAAIi+B,MACtB,IAAIsE,EAEFA,IADEviC,EAAIuhC,eACDvhC,EAAIuhC,cAKK,aAAZ7G,EACF2S,GAAcrK,GAAU,IACnBA,EACH,CACEpc,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmkC,GAAIA,EACJniB,IAAKA,EACL+c,eAAgBA,EAChBF,WAAYA,EACZI,YAAaA,MAIjBkQ,GAAUvK,GAAU,IACfA,EACH,CACEpc,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmkC,GAAIA,EACJniB,IAAKA,EACL+c,eAAgBA,EAChBF,WAAYA,EACZI,YAAaA,KAGlB,GA/CH,EAqDAwR,EAAmB,GAElB,CAAC5vC,EAAMiC,OAEV2C,qBAAU,KACR8pC,EAAaK,EAAb,GAEG,IAGHnqC,qBAAU,KACRirC,GAAc,GAGX,CAAC1B,EAAWE,IAGnB5sC,QAAQC,IAAI,aAAcysC,GAI1B,IAAI0B,EAAe,KACjB,IAAIC,EAAO,GACX,IAAIhwB,EAAI,EACJiwB,EAAI,EACJC,EAAI,EAER,KAAOlwB,EAAIquB,EAAUnjC,OAAQ,GAAK+kC,EAAI1B,EAAMrjC,OAAQ,GAElD8kC,EAAKE,KAAO7B,EAAUruB,KACtBgwB,EAAKE,KAAO3B,EAAM0B,KAClBD,EAAKE,KAAO3B,EAAM0B,KAIpB,KAAOjwB,EAAIquB,EAAUnjC,QACnB8kC,EAAKE,KAAO7B,EAAUruB,KAGxB,KAAOiwB,EAAI1B,EAAMrjC,QACf8kC,EAAKE,KAAO3B,EAAM0B,KAIpB,OAAOD,CAAP,EAGFlrC,qBAAU,KACRqrC,GAAc,GACb,CAAC9B,EAAWE,IAEf,IAAI4B,EAAe7lC,UACjB,IAAI6lC,EAAe,GACfC,EAAQ,EAIZ,SAFML,IAEW,IAAb1B,GAA4B,IAATE,EAAc,OAAQ,8BAAK,6CAElD,IAAI8B,EAAWN,IAEXO,EAAI,EACJC,EAAK,SACLC,EAAI,KAAOF,EAAIC,EACnB,IAAK,IAAI5sB,EAAI,EAAGA,EAAIgsB,EAAWzkC,OAAQyY,IAAK,CAC1C,IAAIlkB,EAAI,CAAC,EAETA,EAAC,MAAY4wC,EAASD,GAAOvoB,KAC7BpoB,EAAC,MAAYkwC,EAAWhsB,GAAG4kB,MAAQiI,EACnC/wC,EAAC,IAAUkwC,EAAWhsB,GAAGurB,IAAMsB,EAC/B/wC,EAAC,YAAkB4wC,EAASD,GAAOpU,YACnCv8B,EAAC,WAAiB4wC,EAASD,GAAOlS,WAClCz+B,EAAC,eAAqB4wC,EAASD,GAAOhS,eACtC3+B,EAAC,YAAkB4wC,EAASD,GAAO9R,YACnC7+B,EAAC,GAAS4wC,EAASD,GAAO5M,GAC1B/jC,EAAC,IAAU4wC,EAASD,GAAO/uB,IAI3B8uB,EAAatlC,KAAKpL,IAElB6wC,GAAQ,GAGD,KAAIA,EAAI,GAGHE,EAARF,EAAI,EAAQ,IAAMA,EAAIC,EAAc,KAAOD,EAAIC,IAEnDH,IACcC,EAASnlC,OAAS,IAAGklC,EAAQ,EAC5C,CAGDjC,EAAYgC,GAEZxuC,QAAQC,IAAI,gBAAgBqlC,EAA5B,EAsEAniC,qBAAU,KACR5E,EAAM6jC,aAAN,GACC,IAGHj/B,qBAAU,KA1CMwF,WAEd8jC,EAAW,IAGXluC,EAAM+tC,QAAQ/kC,SAASjI,IAErB,IAAI4mB,EAAO5mB,EAAI4mB,KACXmU,EAAc/6B,EAAI+6B,YAClBkC,EAAaj9B,EAAIi9B,WACjBE,EAAiBn9B,EAAIm9B,eACrBE,EAAcr9B,EAAIq9B,YAClBkF,EAAKviC,EAAIuiC,GAET+E,EAAQtnC,EAAIsnC,MACZ2G,EAAMjuC,EAAIiuC,IAGdd,GAAYnK,GAAU,IACjBA,EACH,CACAx9B,MAAOohB,EACPmU,YAAaA,EACbkC,WAAYA,EACZE,eAAgBA,EAChBE,YAAaA,EACbkF,GAAIA,EAEJ+E,MAAOA,EACP2G,IAAKA,KAXP,GAbF,EAsCAuB,EAAS,GACR,CAACvwC,EAAM+tC,UAGZ,MAAMnkC,EAAc,IAAMD,GAAQ,GAC5B8+B,EAAa,IAAM9+B,GAAQ,GAGjC,OACE,mCACC+5B,EAAQ14B,OACP,sBAAK9K,UAAU,WAAf,UACA,cAAC,KAAD,CACEswC,QAAS,CAACC,KAAeC,KAAgBC,MACzCC,YAAY,eACZC,YAAY,YACZC,cAAe,CACbtwB,OAAQ,yCAEVuwB,OAAQrN,EACRsN,cAAc,OACdC,aAAa,QACblkC,QAAQ,aACRmkC,cAAY,EACZC,UAAY5xC,GAAMkC,QAAQC,IAAInC,EAAE6xC,WAOlC,gCACA,4BACI,cAAC3rC,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS6iC,EAArC,6BAIF,eAAC3+B,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACA,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,8BAEF,eAAC+J,GAAA,EAAMI,KAAP,WACI,qEACA,oEAEJ,eAACJ,GAAA,EAAMK,OAAP,WACA,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAhB,iBAGE,cAACF,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAASgE,EAArC,4BAQR,gCACE,qBAAK1J,UAAU,2BAAf,SACM,4FAEJ,4BACI,cAACuF,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAAS6iC,EAArC,6BAIF,eAAC3+B,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACA,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,8BAEF,cAAC+J,GAAA,EAAMI,KAAP,UACI,uEAEJ,eAACJ,GAAA,EAAMK,OAAP,WACA,cAAC1E,EAAA,EAAD,CAAQE,QAAQ,YAAYK,SAAUA,EAAWJ,QAAS,KAlJ3CwE,WACnB28B,EAAS/9B,SAASR,IAChB,MAAMvG,EAAO,CACXupB,KAAMoB,KAAOpkB,EAAK6/B,OAAOxb,OAAO,QAChCmO,KAAMpO,KAAOpkB,EAAK6/B,OAAOxb,OAAO,KAEhCxrB,OAAQ,CACNsmB,KAAMnf,EAAKjC,MACXu1B,YAAatzB,EAAKszB,YAClBkC,WAAYx1B,EAAKw1B,WACjBE,eAAgB11B,EAAK01B,eACrBE,YAAa51B,EAAK41B,YAClBkF,GAAI96B,EAAK86B,GACTniB,IAAK3Y,EAAK2Y,IACVknB,MAAO7/B,EAAK6/B,MACZ2G,IAAKxmC,EAAKwmC,IACVxnC,IAAKolB,KAAOpkB,EAAK6/B,OAAOxb,OAAO,gBAMlC7sB,EAAMguC,gBAAgB/rC,EAAtB,IAEHoG,GAAuB,WAAY,wCAAnC,EA2HMgpC,GACAznC,IAtEmB+kC,GAAY,EAuEjB,EAHhB,SAKK3oC,EAAW,YAAc,aAE5B,cAACP,EAAA,EAAD,CAAQE,QAAQ,YAAYC,QAASgE,EAArC,0BAWT,ICvZgB0nC,OAJAtxC,GACN,8BAAMA,EAAMiC,OCKR,SAASsvC,GAAgBvxC,EAAOwxC,EAAUC,GACvD,MAAOC,EAAaC,GAAkBntC,oBAAS,IACxCvC,EAAM2vC,GAAWptC,mBAAS,MAOjC,OACE,gCACE,oDACA,cAACqtC,GAAD,CAAiBvsC,MAAOtF,EAAMsF,MAAOksC,SAAUA,EAAUC,YAAaA,IACtE,uBACCC,GAAe,cAAC,GAAD,CAASzvC,KAAMA,MAGpC,CCyLcgC,mBAAQ,MARKvD,IACnB,CAELwiB,aAAejhB,GAASvB,EAASwiB,GAAajhB,OAKnCgC,EAnMf,SAA2BjE,GACzB,MAAOu7B,EAAUC,GAAeh3B,mBAAS,KAClCi3B,EAAUrB,GAAe51B,mBAAS,KAClChD,EAAKqV,GAAUrS,mBAAS,KAGxBk3B,EAAMC,GAAWn3B,oBAAS,GAO3Bo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAEHzT,EAAOgU,GAAYr3B,mBAASo3B,GAkB7BR,EAAaE,IACjBO,EAAS,IAAKhU,EAAOyT,OAAQA,GAA7B,GAGKQ,EAAaC,GAAkBv3B,mBAAS,IAW/CI,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAEJ,MAAME,EAAkBF,EAAY98B,KAAI,CAACi9B,EAAY/wB,IAEjD,+BACG+wB,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,UAFLP,MAQNqP,EAAQ4J,GAAa3f,mBAAS,GAM/BsB,EAAe,KACnB,MAAM7D,EAAO,CAEXZ,OAAQ,CACNsmB,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,IAIjB97B,EAAMkjB,aAAajhB,GAdnBkiB,EAAU5J,EAAS,EAeN,EAQf,OACE,eAACzV,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACFC,IACA9F,EAAMwjB,iBAAN,EAJJ,UAcE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACHiG,SAAW7F,IACTi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAEFH,UAAQ,OAIZ,cAACg1B,GAAD,CAAUC,YAAaA,EAAa8B,WAAW,IAE/C,qBAAK32B,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAKqsB,MAGP,cAACl3B,EAAA,EAAKC,MAAN,UAQE,cAAC21B,GAAD,CAAgBC,iBAzGIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,MAsGC,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,4BACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,GA1HAA,KACfA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE7CuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAC9C,EAqHwB62B,CAAY58B,GAC7B+F,MAAOuiB,EAAM3e,WAEf,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4lB,EAAMpc,QACZmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,QAAS,MAAO,KAAM,OACrFrN,SAAWhE,IACTs8B,EAAS,IAAKhU,EAAOpc,QAASlM,GAA9B,UAMR,cAACuF,EAAA,EAAKC,MAAN,UACE,cAACU,EAAA,EAAD,CACEvF,UAAU,wBACVf,GAAG,iBACHyG,QAAS,KAvHQwE,WACJ,KAAfyd,EAAMpb,KACR0uB,GAAUtT,EAAMpb,KAAM2uB,GAAWh6B,MAAK,KACpC26B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,IAGF/kB,EAAO,qCACR,EAgHOulB,EAAkB,EAJtB,8BAoBF,qBAAK72B,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,sBAMP,IC9LM,SAASwwC,GAAT,GAAuD,IAA3B,KAAE/nC,EAAF,QAAQJ,EAAR,MAAiBrE,GAAS,EAC3D,MAAO86B,EAAWC,GAAgB77B,mBAAS,gBAGpC86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,uBAa/Bgf,EAAkB,KACtB7Z,GAAQ,GACR02B,EAAa,cAAb,EAGF,OACE,qCACE,cAACt5B,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAVA,IAAM+D,GAAQ,SAa7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,kCAIF,eAAC4J,GAAA,EAAMI,KAAP,WAEI,wBACEhK,UAAU,qCACV0F,QAAS,KAtCnB25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAgCJ,SAIGE,IAEFF,EACC,cAAC0G,GAAD,CAAaxiB,gBAAiBA,IAE9B,cAAC,GAAD,CAAmBA,gBAAiBA,YAMjD,CCsFcvf,oBAdUC,IAChB,CACLmD,SAAUnD,EAAMmD,SAASklC,WACzBhI,UAAWrgC,EAAMw9B,YAAY6C,cAIL7jC,IACnB,CACL8rC,WAAaxK,GAAUthC,G5H7FlB,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,cAAemI,QAASxH,GAAzC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAbJ,I4HgEAmgC,cAAgBE,GAASnhC,EAASihC,GAAcE,OAIrC59B,EAlJKjE,IAClB,MAAOysC,EAAQC,GAAaloC,mBAAS,KAC9Bw/B,EAAaW,GAAkBngC,mBAAS,KACxCuF,EAAMJ,GAAWnF,oBAAS,IAK1B+V,EAAQ4J,GAAa3f,mBAAS,GAMrCI,qBAAU,KACR5E,EAAMwsC,YAAN,GACC,CAACjyB,IAgGJ,OARA3V,qBAAU,KA/CWwF,WAEnBsiC,EAAU,IAGV1sC,EAAMqH,SAAS2B,SAASjI,IACtB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GACTs8B,EAAW16B,EAAI06B,SACf6G,EAAgBvhC,EAAIuhC,cACpBtE,EAAaj9B,EAAIi9B,WACjBE,EAAiBn9B,EAAIm9B,eACrB/c,EAAMpgB,EAAIogB,IACVid,EAAcr9B,EAAIi+B,MAIpB0N,EADCpK,EACUmK,GAAW,IACjBA,EACH,CACE9kB,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmjC,cAAeA,EACftE,WAAYA,EACZE,eAAgBA,EAChB/c,IAAKA,EACLid,YAAaA,IAKNqO,GAAW,IACjBA,EACH,CACE9kB,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,IAGV,GAtCF,EA4CAwtC,EAAc,GAIb,CAAC3sC,EAAMqH,WAGR,qCACE,sBAAKnH,UAAU,MAAf,UACE,qBAAKA,UAAU,8BAAf,4BACA,qBAAKA,UAAU,QAAQqF,MAAO,CAACiL,UAAW,SAA1C,SAAoD,cAACshC,GAAD,CAAoB/nC,KAAMA,EAAMJ,QAASA,SAE/F,qBAAKzJ,UAAU,cAAf,SACE,cAAC4jC,GAAD,CACEj4B,YA/GY,KAClBsY,EAAU5J,EAAS,EAAnB,EA+GMnV,SAAUpF,EAAMoF,SAChB2+B,MAAO0I,EACPzI,YAAaA,EACbhC,OAAO,EACP18B,MAAOtF,EAAMsF,YAbrB,ICtHK,MAAMukC,GAAez/B,MAC1Boe,EACAiT,EACAqO,EACAC,EACAC,EACAC,EACAC,KAIA,IAAInrB,EAAQ,gHAA0FyJ,IAClGiT,IACF1c,GAAS,aAAY0c,KAEnBqO,IACF/qB,GAAS,gBAAe+qB,KAEtBC,IACFhrB,GAAS,WAAUgrB,KAGrB,MAAMjnC,QAAa2lB,MAAM1J,GACnB9c,QAAaa,EAAKgmB,OACxBkhB,EAAW/nC,EAAK28B,MAChBqL,EAAShoC,EAAKkoC,QACdD,EAAenrB,GACftd,QAAQC,IAAI,oBAAqBO,EAAjC,EAIWmoC,GAAWhgC,MAAOigC,EAAMJ,EAAUD,KAC7C,MAAMlnC,QAAa2lB,MAAO,GAAE4hB,KACtBpoC,QAAaa,EAAKgmB,OACxBkhB,EAAW/nC,EAAK28B,MAChBqL,EAAShoC,EAAKkoC,QACd1oC,QAAQC,IAAI,oBAAqBO,EAAjC,E,yBCyBagC,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLwiB,aAAejhB,GAASvB,EAASwiB,GAAajhB,OAInCgC,EArDf,SAAsBjE,GAwBpB,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,qBAAf,SACE,cAAC,KAAD,CACE,aAAW,qBACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KA7BIwE,WACnB,MAAMnI,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAE1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KAAO,EAChCrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CACNsmB,KAAM3nB,EAAM2nB,KACZ8T,SAAUz7B,EAAMy7B,SAChBK,YAAa97B,EAAM87B,YACnB3a,IAAKnhB,EAAMmhB,IACX+c,eAAgBl+B,EAAMk+B,eACtBF,WAAYh+B,EAAMg+B,WAClBgB,MAAOh/B,EAAMg/B,MACbsD,eAAe,IAGnBtiC,EAAMkjB,aAAajhB,GACnB2F,GAAmB,UAAW,wBAA9B,EAUQyC,EAAc,EAJlB,SAOE,cAAC,KAAD,CAAc5D,SAAS,YAKhC,ICrCc,SAAS6jC,GAAWtqC,GACjC,OACE,mCACGA,EAAMwoB,OACLxoB,EAAMuqC,QAAQvrC,KAAI,CAACwJ,EAAMib,IACvB,qBAAKvjB,UAAU,kBAAf,SACE,eAAC0M,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CAAK5M,UAAU,QAAf,SACE,qBAAKC,IAAKqI,EAAK2a,OAAOqnB,MAAOnqC,IAAM,GAAEmI,EAAK2a,OAAOjc,YAEnD,cAAC4F,GAAA,EAAD,CAAK5M,UAAU,cAAf,SACE,eAAC+K,GAAA,EAAD,CAAMi5B,OAAQ,CAAEna,WAAY,EAAGD,cAAe,EAAGwF,OAAQ,GAAzD,UACE,eAAC6U,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4BsI,EAAK2a,OAAOjc,QACxC,sBAAKhH,UAAU,QAAf,UACE,cAAC,GAAD,CACEoF,MAAOtF,EAAMsF,MACbm2B,SAAUjzB,EAAK2a,OAAOsY,SACtB9T,KAAMnf,EAAK2a,OAAOjc,MAClB40B,YAAatzB,EAAK2a,OAAO2Y,YACzB3a,IAAK3Y,EAAK2a,OAAOhC,IACjB+c,eAAgB11B,EAAK2a,OAAO+a,eAC5BF,WAAYx1B,EAAK2a,OAAO6a,WACxBgB,MAAOx2B,EAAK2a,OAAO6b,MACnB55B,SAAUpF,EAAMoF,SAChB48B,OAAO,IAET,cAAC,GAAD,CACE18B,MAAOtF,EAAMsF,MACbm2B,SAAUjzB,EAAK2a,OAAOsY,SACtB9T,KAAMnf,EAAK2a,OAAOjc,MAClB40B,YAAatzB,EAAK2a,OAAO2Y,YACzB3a,IAAK3Y,EAAK2a,OAAOhC,IACjB+c,eAAgB11B,EAAK2a,OAAO+a,eAC5BF,WAAYx1B,EAAK2a,OAAO6a,WACxBgB,MAAOx2B,EAAK2a,OAAO6b,cAIxBx2B,EAAK2a,OAAO2Y,aACXtzB,EAAK2a,OAAO2Y,YAAY98B,KAAI,CAACi9B,EAAYxY,IACvC,eAACtY,GAAA,EAAD,CAAkBjL,UAAU,OAA5B,UACE,cAACqT,GAAA,EAAD,UACE,cAAC,KAAD,CAA0B9M,SAAS,WAEpCw1B,EAAW/1B,OAJCud,KAOnB,mBAAGtd,KAAMqC,EAAK2a,OAAOhC,IAArB,SAA2B3Y,EAAK2a,OAAOhC,eA3CTsC,MAmD/C,CC9Dc,SAASgnB,GAAT,GAA0C,IAArB,eAAEC,GAAkB,EACtD,MAAOrQ,EAASC,GAAc91B,mBAAS,OAWvCI,qBAAU,KANN8lC,EADc,QAAZrQ,EACa,GAEC,GAAEA,IAKJ,GACf,CAACA,IAwBJ,OACE,cAAC,GAAD,CACEl7B,GAAG,YACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MA3Bc,CAChB,MACA,WACA,QACA,UACA,YACA,iBACA,UACA,iBACA,SACA,SACA,UACA,WACA,SACA,gBACA,UACA,iBACA,SACA,iBACA,oBASErN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CChDc,SAASorC,GAAT,GAA4C,IAAtB,gBAAEC,GAAmB,EACxD,MAaOvQ,EAASC,GAAc91B,mBAAS,OA8CvC,OAJAI,qBAAU,KAvCa,MACrB,OAAQy1B,GACN,QACA,IAAK,MACHuQ,EAAgB,IAChB,MACF,IAAK,eACHA,EAAgB,gBAChB,MACF,IAAK,kBACHA,EAAgB,mBAChB,MACF,IAAK,aACHA,EAAgB,cAChB,MACF,IAAK,cACHA,EAAgB,eAChB,MACF,IAAK,gBACHA,EAAgB,iBAChB,MACF,IAAK,SACHA,EAAgB,UAChB,MACF,IAAK,WACHA,EAAgB,YAChB,MACF,IAAK,cACHA,EAAgB,eAChB,MACF,IAAK,QACHA,EAAgB,SAChB,MACF,IAAK,aACHA,EAAgB,cAjCpB,EAuCArQ,EAAgB,GACf,CAACF,IAGF,cAAC,GAAD,CACEl7B,GAAG,eACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MAhEiB,CACnB,MACA,eACA,kBACA,aACA,cACA,gBACA,SACA,WACA,cACA,QACA,cAsDErN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CCzEc,WAA0B,+CCI1B,SAASwyC,GAAT,GAAuC,IAApB,KAAEhoC,EAAF,QAAQJ,GAAW,EAMnD,OACE,qCACE,wBAAQzJ,UAAU,iCAAiC0F,QAPpC,IAAM+D,GAAQ,GAO7B,kBAGA,cAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAXkB,KACtBL,GAAQ,EAAR,EAWImC,KAAK,KACL,kBAAgB,OAChBC,UAAQ,EALV,SAOE,mBAAG5F,KAAK,0BAAR,SACE,qBAAKhG,IAAK6xC,GAAa3xC,IAAI,4BAKpC,CCxBc,SAASwqC,GAAT,GAAsD,IAApC,MAAEC,EAAF,WAAS/nB,EAAT,WAAqBgoB,GAAc,EAClE,OACE,eAAC9qC,EAAA,EAAD,WAEI6qC,EAAME,KACJ,cAAC3kC,EAAD,CAAWT,QAAS,IAAMnE,QAAQC,IAAIopC,EAAME,KAAK7kC,MAAOD,KAAK,OAAOD,QAAQ,UAAa,KAI3F6kC,EAAMG,KACJ,gCACE,cAACr+B,GAAA,EAAD,CAAK1M,UAAU,4BAAf,SACE,uCAAU6iB,EAAa,OAEzB,eAACnW,GAAA,EAAD,WACkB,GAAdmW,GACF,cAACjW,GAAA,EAAD,UACE,cAACzG,EAAD,CAAWT,QAAS,IAAMmlC,GAAY,GAAI7kC,KAAK,gBAAgBD,QAAQ,YAEzE,cAAC6G,GAAA,EAAD,UACE,cAACzG,EAAD,CAAWT,QAAS,IAAMmlC,EAAW,GAAI7kC,KAAK,YAAYD,QAAQ,kBAItE,OAKX,CCnBc,SAASilC,GAAalrC,GACnC,MAAO+J,EAAMJ,GAAWnF,oBAAS,IAC1B2mC,EAAQC,GAAa5mC,mBAAS,KAE9BgkB,EAAOoS,GAAYp2B,mBAAS,KAC5Bi3B,EAAUrB,GAAe51B,mBAAS,KAClCslC,EAAaY,GAAkBlmC,mBAAS,KACxCulC,EAAca,GAAmBpmC,mBAAS,KAE1C+lC,EAASP,GAAcxlC,mBAAS,CAAC,IACjCsmC,EAAOb,GAAYzlC,mBAAS,KAE5B6lC,EAAMgB,GAAW7mC,mBAAS,KAE1B8mC,EAAUC,GAAe/mC,mBAAS,KAElCue,EAAYyoB,GAAiBhnC,mBAAS,GAI7C,SAAS0lC,EAAeG,GAClBiB,EAASzzB,SAASwyB,GACpB5oC,QAAQC,IAAI,0BAGd6pC,GAAaE,GAAiB,IAAIA,EAAcpB,IAEjD,CAmCD,OAjCAzlC,qBAAU,KACRilC,GACErhB,EACAiT,EACAqO,EACAC,EACAC,EACAC,EACAC,EAPF,GAWC,CAAC1hB,EAAOiT,EAAUqO,IAErBllC,qBAAU,KACRylC,GAAQD,GAASC,EAAMJ,EAAUD,EAAjC,GAEC,CAACK,IAiBF,qCACE,qBAAKnqC,UAAU,mBAAf,4BACA,cAAC6xC,GAAD,CAAWhoC,KAAMA,EAAMJ,QAASA,IAChC,eAAC7E,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACF+0B,EAASuQ,EAAT,EAHJ,UAME,cAACrmC,EAAA,EAAKC,MAAN,UACE,eAAC6e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE/E,UAAU,cACVoB,KAAK,OACL4D,YAAY,kBACZ/F,GAAG,QACH8S,aAAcuW,EACdpjB,SAAW7F,IACT6rC,EAAU7rC,EAAE8F,OAAOC,MAAnB,IAGJ,cAACG,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,wBAAhC,yBAKJ,eAACwrC,GAAA,EAAD,CAAKllC,GAAI,CAAEmlC,SAAU,GAArB,UACE,eAACC,GAAA,EAAD,CAAMC,WAAS,EAACzC,QAAS,EAAzB,UACE,eAACwC,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,EAAvB,UACE,2CACA,8BACE,cAAC3R,GAAD,CAAUC,YAAaA,SAG3B,eAACwR,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,EAAvB,UACE,wCACA,8BACE,cAAC,GAAD,CAAapB,eAAgBA,YAInC,eAACkB,GAAA,EAAD,CAAMC,WAAS,EAACzC,QAAS,EAAzB,UACE,eAACwC,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,EAAvB,UACE,8CACA,8BACE,cAAC,GAAD,CAAclB,gBAAiBA,SAGnC,cAACgB,GAAA,EAAD,CAAMpjC,MAAI,EAAC2V,GAAI,GAAI2tB,GAAI,aAI7B,cAAC,GAAD,CACEvB,QAASA,EACT/hB,MAAOA,EACPljB,MAAOtF,EAAMsF,MACbF,SAAUpF,EAAMoF,WAEjB0lC,EACC,cAAC,GAAD,CACEA,MAAOA,EACP/nB,WAAYA,EACZgoB,WA5ER,SAAoBgB,GACdA,EAAS,GAEXP,GAAeQ,GAAaA,EAAWD,IACvCV,EAAQP,EAAMG,KAAK9kC,MACnB+jC,EAAeY,EAAMG,KAAK9kC,OACjB4lC,EAAS,IAElBP,GAAeQ,GAA2B,IAAbA,EAAiB,EAAIA,EAAW,IAC3C,GAAdjpB,GAAiBsoB,EAAQC,EAASvoB,IAEzC,IAmEO,OAGT,CChIM,MAAMqlB,GAAe,IAAmC,IAAlC,IAAE6J,EAAF,OAAO13B,EAAP,YAAe1O,GAAkB,EAC5D,MAAOvG,EAAOg8B,GAAY98B,mBAASooB,QACnC,OACE,sBAAK1sB,UAAU,WAAf,UACE,cAAC+lC,GAAD,CAAoB3gC,MAAOA,EAAOg8B,SAAUA,IAC5C,cAAC,GAAD,CAAWh8B,MAAOA,MAHtB,ECwJarB,oBAXUC,IAChB,CACLhD,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL4H,eAAiBrG,GAASvB,EAAS4H,GAAerG,OAIvCgC,EA7JajE,IAC1B,MAAOklC,EAAUC,GAAe3gC,mBAAS,KAClC0E,EAAUk8B,GAAe5gC,mBAAS,IAClCiH,EAAS45B,GAAc7gC,mBAAS,KAChC86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,wBAC9BuF,EAAMJ,GAAWnF,oBAAS,IAC1B8gC,EAAWC,GAAgB/gC,mBAAS,IAAI6iB,OAQxCQ,EAAOgU,GAAYr3B,mBANL,CACnBiI,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,MA0BH/gB,EAAQ4J,GAAa3f,mBAAS,GAM/BsB,EAAe,KACnB,MAAM7D,EAAO,CACXZ,OAAQ,CACNy6B,YAAajU,EAAMpb,KAAO,IAAMob,EAAM3e,SAAgB2e,EAAMpc,QAC5DjD,KAAMqf,EAAMpb,KACZhB,QAASoc,EAAMpc,QACfvC,SAAU2e,EAAM3e,SAEhB28B,OAAQjZ,KAAO0Y,GAAWzY,OAAO,gBAIrCprB,QAAQC,IAAI,gBAAiBO,GAE7BjC,EAAMsI,eAAerG,GAlBrBkiB,EAAU5J,EAAS,EAoBN,EAgBf,OAJA3V,qBAAU,KACRnD,QAAQC,IAAI,OAAQmmB,EAAMpb,KAA1B,GACC,CAACob,EAAMpb,OAGR,gCACE,wBACEvM,UAAU,qCACV0F,QAAS,KAhBb25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAUV,SAIGE,IAEFF,EACC,cAAC,GAAD,CAAkB9b,gBApDA,KACtB7Z,GAAQ,EAAR,IAqDI,eAAC7E,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBACFC,IACA9F,EAAMmkB,UAAUnkB,EAAMua,OAAS,GAC/Bva,EAAMwjB,iBAAN,EALJ,UASA,cAACkX,GAAD,CAAgBC,iBAzEIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,IAqEG,eAACR,EAAA,EAAKC,MAAN,WACA,cAACD,EAAA,EAAKE,MAAN,qBACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,GA1FAA,KACfA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE7CuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAC9C,EAqFwB62B,CAAY58B,GAC7B+F,MAAOuiB,EAAM3e,WAEf,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4lB,EAAMpc,QACZmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,QAAS,MAAO,KAAM,OACrFrN,SAAWhE,IACTs8B,EAAS,IAAKhU,EAAOpc,QAASlM,GAA9B,UAKR,eAACuF,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,0BACA,cAAC,KAAD,CACEq9B,SAAUiD,EACVlgC,SAAWwZ,GAAS2mB,EAAa3mB,GACjCknB,WAAW,kBAUX,qBAAKvgC,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,4BAA4BoB,KAAK,SAAnD,yBA3DV,ICpFK,MAAM4wC,GAAsB,IAA2C,IAA1C,KAAEnoC,EAAF,QAAQJ,EAAR,OAAiB4Q,EAAjB,UAAyB4J,GAAgB,EAC3E,MACMX,EAAkB,IAAM7Z,GAAQ,GAEtC,OACE,gCACE,cAAC5C,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAPA,IAAM+D,GAAQ,SAU7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,yCAIF,cAAC4J,GAAA,EAAMI,KAAP,UACE,cAAC,GAAD,CACEsZ,gBAAiBA,EACjBjJ,OAAQA,EACR4J,UAAWA,WAvBrB,E,yBC0CalgB,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLoiC,oBAAsB7gC,GAASvB,EAASgI,GAAoBzG,OAIjDgC,EAzCf,SAAiCjE,GAc/B,OAZgBmP,cAad,mCACE,cAACpI,EAAA,EAAD,CAASR,MAAM,SAAf,SACE,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,IAfKzG,KACpB,MAAM8C,EAAO,CACX9C,GAAIA,GAGNa,EAAM8iC,oBAAoB7gC,GAC1BjC,EAAMmkB,UAAUnkB,EAAMua,OAAS,EAA/B,EASqB0nB,CAAajiC,EAAMb,IAHpC,SAKE,cAAC,KAAD,SAKT,I,OCEc8E,oBAPUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,QACjBy9B,aAAc3iC,EAAMw9B,YAAYqF,YAIrB9iC,EAhCf,SAAqBjE,GAOnB,OACE,mCACE,cAAC+G,EAAA,EAAD,CAASR,MAAM,UAAf,SACE,cAAC,KAAD,CACE,aAAW,UACXC,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KATf5F,EAAMmkB,UAAUnkB,EAAMua,OAAS,EAUT,EAJlB,SAOE,cAAC,KAAD,CAAUhV,MAAO,CAAEkB,SAAU,WAMtC,IChBD,MAsXMke,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEb1kB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAI7DhG,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,IAC/DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAnbIjE,IACjB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAI7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OAEbuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,cACpChR,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,SAErCpW,QAAQC,IAAI1B,EAAMkB,QAAQI,MAG7B,GACA,CAACtB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,SAChBjT,gBAAiBzR,EAAMwI,KAAK2pC,WAC5BvtB,WAAY,cACZO,aAAc,EACdC,aAAc,cACdC,eAAgB,EAChBC,eAAgB,cAChBC,WAAY,EACZC,WAAY,cACZC,IAAK,EACLZ,WAAY,GACZa,cAAe,EACf/B,SAAU,kBACVlX,KAAMzM,EAAMwI,KAAKA,MAGbmd,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,EACpBC,gBAAiB,EACjBC,kBAAmB,EACnBC,cAAe,IAIV3kB,EAAQ4kB,GAAazhB,mBAAS,IAAK0gB,KAGnCgB,EAAaC,GAAkB3hB,mBAAS,IAAKmhB,IAEpD/gB,qBAAU,KACRwhB,GAAiB,GAChB,CACD/kB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,SACPtiB,EAAO8jB,aACP9jB,EAAO+jB,aACP/jB,EAAOgkB,eACPhkB,EAAOikB,eACPjkB,EAAOkkB,WACPlkB,EAAOmkB,aAIT,MAAMa,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAIGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IA2BL,IAAK,aASL,QACEE,EAAM,QAlCR,IAAK,IACL,IAAK,KAkBL,IAAK,KACL,IAAK,MACHA,EAAM,KACN,MAlBF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAEF,IAAK,OACL,IAAK,QACHA,EAAM,IACN,MACF,IAAK,OACL,IAAK,QACHA,EAAM,KACN,MASF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIJ,EAAkB,KAYtB,IAAIX,EAAMmB,OACRvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KAG1DK,EAAU,IACL5kB,EACHokB,IAAKA,EACLC,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAoGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAIhC,cAAC5E,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WAeE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAKvD,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOjE,EAAOqkB,cACdsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMZ,EAAOsiB,SACbpgB,SAAU,CAACuN,EAAUvR,KACnBgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,aAAW,UAAW,wBAWlC,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,cAAC,GAAD,CACEhN,OAAQA,EACRyjB,sBApLoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAM9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,uBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMoR,oBAAoBnP,GAC1BjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,qCAC9Bqe,EAAUf,GACViB,EAAeR,EAAf,SAI0B,cAAC,IAAD,CAAU9gB,GAAG,UAKzC,IC5IaZ,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLoiC,oBAAsB7gC,GAASvB,EAASgI,GAAoBzG,IAC5DmwC,gBAAkBnwC,GAASvB,ExLgFCuB,IACvB,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACCzH,WAAW,eACXC,IAAIC,GACJF,WAAW,cACX2G,IAAIxF,EAAKZ,QACTD,MAAMsG,IAELa,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,cACXC,IAAI2G,EAAOvI,IACX8B,IAAI,CAAE9B,GAAIuI,EAAOvI,IAAM,CAAEgC,OAAO,IACnCT,EAAS,CAAEY,KAAM,oBAAqBW,QAAtC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAhBF,EwL/GoC4wC,CAAgBnwC,OAIzCgC,EA1Gf,SAA6BjE,GAE3B,MAAO0J,EAAWC,GAAWnF,oBAAS,GAsChCoF,GAnCUuF,cAmCI,IAAMxF,GAAQ,IAGlC,OACE,qCACE,cAAC5C,EAAA,EAAD,CAASR,MAAM,SAAf,SACE,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GAFZ,SASA,cAAC,KAAD,CAAQlE,QAAQ,WAAWH,MAAM,UAAUI,QAd9B,IAAM+D,GAAQ,GAc3B,mCAMF,eAACG,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACI,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,kCAEJ,eAAC+J,GAAA,EAAMI,KAAP,WACI,4BAAG,yCAAYlK,EAAMwI,KAAKU,SAAvB,IAAkClJ,EAAMwI,KAAKiD,QAA7C,OAA0DzL,EAAMwI,KAAKA,KAArE,4BACH,cAACq2B,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,uFAGA,cAAC,GAAD,CAAW6C,KAAMxI,EAAMwI,UAE3B,cAACsB,GAAA,EAAMK,OAAP,UACA,cAAC,KAAD,CAAQxE,QAAQ,YAChBC,QAAS,KA3COzG,KACpB,MAAM8C,EAAO,CACX9C,GAAIA,GAGNa,EAAM8iC,oBAAoB7gC,GAC1BjC,EAAMmkB,UAAUnkB,EAAMua,OAAS,EAA/B,EAuCM0nB,CAAajiC,EAAMb,IACnByK,GAAa,EAJf,yBAkBP,ICxFD,MAsXM+a,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEb1kB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAI7DhG,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL2Q,mBAAqBqJ,GAAYha,EAAS2Q,GAAmBqJ,IAC7DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAnbGjE,IAChB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAI7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OAEbuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,cACpChR,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,SAErCpW,QAAQC,IAAI1B,EAAMkB,QAAQI,MAG7B,GACA,CAACtB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,SAChBjT,gBAAiBzR,EAAMwI,KAAK2pC,WAC5BvtB,WAAY,cACZO,aAAc,EACdC,aAAc,cACdC,eAAgB,EAChBC,eAAgB,cAChBC,WAAY,EACZC,WAAY,cACZC,IAAK,EACLZ,WAAY,GACZa,cAAe,EACf/B,SAAU,kBACVlX,KAAMzM,EAAMwI,KAAKA,MAGbmd,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,EACpBC,gBAAiB,EACjBC,kBAAmB,EACnBC,cAAe,IAIV3kB,EAAQ4kB,GAAazhB,mBAAS,IAAK0gB,KAGnCgB,EAAaC,GAAkB3hB,mBAAS,IAAKmhB,IAEpD/gB,qBAAU,KACRwhB,GAAiB,GAChB,CACD/kB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,SACPtiB,EAAO8jB,aACP9jB,EAAO+jB,aACP/jB,EAAOgkB,eACPhkB,EAAOikB,eACPjkB,EAAOkkB,WACPlkB,EAAOmkB,aAIT,MAAMa,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAIGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IA2BL,IAAK,aASL,QACEE,EAAM,QAlCR,IAAK,IACL,IAAK,KAkBL,IAAK,KACL,IAAK,MACHA,EAAM,KACN,MAlBF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAEF,IAAK,OACL,IAAK,QACHA,EAAM,IACN,MACF,IAAK,OACL,IAAK,QACHA,EAAM,KACN,MASF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIJ,EAAkB,KAYtB,IAAIX,EAAMmB,OACRvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KAG1DK,EAAU,IACL5kB,EACHokB,IAAKA,EACLC,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAoGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAIhC,cAAC5E,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WAeR,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACY,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAKvD,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOjE,EAAOqkB,cACdsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMZ,EAAOsiB,SACbpgB,SAAU,CAACuN,EAAUvR,KACnBgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,aAAW,UAAW,wBAWlC,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,cAAC,GAAD,CACEhN,OAAQA,EACRyjB,sBApLoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAM9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,sBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMqR,mBAAmBpP,GACzBjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,6CAC9Bqe,EAAUf,GACViB,EAAeR,EAAf,SAI0B,cAAC,IAAD,CAAU9gB,GAAG,UAKzC,ICzIaZ,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLoiC,oBAAsB7gC,GAASvB,EAASgI,GAAoBzG,OAKjDgC,EA3Gf,SAAsBjE,GAEpB,MAAO0J,EAAWC,GAAWnF,oBAAS,GAuChCoF,GApCUuF,cAoCI,IAAMxF,GAAQ,IAGlC,OACE,qCACE,cAAC5C,EAAA,EAAD,CAASR,MAAM,SAAf,SACE,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GAFZ,SASA,cAAC,KAAD,CAAQlE,QAAQ,WAAWH,MAAM,UAAUI,QAd9B,IAAM+D,GAAQ,GAc3B,2BAKF,eAACG,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACI,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,6BAEJ,eAAC+J,GAAA,EAAMI,KAAP,WACA,4BAAG,yCAAYlK,EAAMwI,KAAKU,SAAvB,IAAkClJ,EAAMwI,KAAKiD,QAA7C,OAA0DzL,EAAMwI,KAAKA,KAArE,4BAEH,cAACq2B,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,uFAGI,cAAC,GAAD,CAAU6C,KAAMxI,EAAMwI,UAE1B,cAACsB,GAAA,EAAMK,OAAP,UACA,cAAC,KAAD,CAAQxE,QAAQ,YAChBC,QAAS,KA3COzG,KACpB,MAAM8C,EAAO,CACX9C,GAAIA,GAGNa,EAAM8iC,oBAAoB7gC,GAC1BjC,EAAMmkB,UAAUnkB,EAAMua,OAAS,EAA/B,EAuCM0nB,CAAajiC,EAAMb,IACnByK,GAAa,EAJf,yBAkBP,ICkBc3F,aAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLoiC,oBAAsB7gC,GAASvB,EAASgI,GAAoBzG,IAC5DwG,mBAAqBxG,GAASvB,EAAS+H,GAAmBxG,OAI/CgC,EA/Gf,SAAsBjE,GAEpB,MAAO0J,EAAWC,GAAWnF,oBAAS,GAgDhCoF,GA7CUuF,cA6CI,IAAMxF,GAAQ,IAGlC,OACE,qCACE,cAAC5C,EAAA,EAAD,CAASR,MAAM,SAAf,SACE,cAAC,KAAD,CACE,aAAW,SACXC,GAAI,CAAEqD,GAAI,GAFZ,SASA,cAAC,KAAD,CAAQlE,QAAQ,WAAWH,MAAM,UAAUI,QAd9B,IAAM+D,GAAQ,GAc3B,+BAKF,eAACG,GAAA,EAAD,CAAOC,KAAML,EAAWM,OAAQJ,EAAhC,UACI,cAACE,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,+BAEJ,cAAC+J,GAAA,EAAMI,KAAP,UACE,4BAAG,wCAAWlK,EAAMkB,QAAQgC,UAAzB,gCAAiElD,EAAMwI,KAAKU,SAA5E,IAAuFlJ,EAAMwI,KAAKiD,QAAlG,OAA+GzL,EAAMwI,KAAKA,KAA1H,kCAEL,eAACsB,GAAA,EAAMK,OAAP,WACA,cAAC,KAAD,CAAQxE,QAAQ,YAChBC,QAAS,KAvEM,MAEnB,MAAMysC,EAAUryC,EAAMwI,KAEhBvG,EAAO,CAEXZ,OAAQ,CACNlC,GAAIkzC,EAAQlzC,GACZsN,KAAM4lC,EAAQ5lC,KACdjE,KAAM6pC,EAAQ7pC,KACdiD,QAAS4mC,EAAQ5mC,QACjBvC,SAAUmpC,EAAQnpC,SAClBhI,QAASlB,EAAMkB,QAMfqI,OAAQ,YAOZvJ,EAAMyI,mBAAmBxG,GACzB2F,GAAmB,mBAAoB,kCAAvC,EA8CM0hC,GAEA1/B,GAAa,EAJf,mBASE,cAAC,KAAD,CAAQjE,QAAQ,YAChBC,QAASgE,EADT,4BAST,ICqFc3F,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACL4xC,kBAAoBrwC,GAASvB,E5LyJCuB,IACzB,CAACvB,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,aACXC,IAAIkB,EAAK9C,IACT8B,IAAIgB,EAAKZ,OAAQ,CAAEF,OAAO,IAC1BC,MAAK,IAAMV,EAAS,CAAEY,KAAM,YAAaW,WACzCV,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GATJ,E4LxLsC8wC,CAAkBrwC,IACxDmhB,cAAgBnhB,GAASvB,EAAS0iB,GAAcnhB,OAIrCgC,EAvLf,SAA2BjE,GACzB,MAAOyM,EAAM65B,GAAW9hC,mBAASxE,EAAMyM,OAChCvD,EAAUk8B,GAAe5gC,mBAASxE,EAAMkJ,WACxCipC,EAAYI,GAAiB/tC,mBAAS,KACtCguC,EAAgBC,GAAqBjuC,mBAAS,gBAC9CiH,EAAS45B,GAAc7gC,mBAASxE,EAAMyL,UACtCinC,EAAYhN,GAAiBlhC,mBAAS,KACtCmuC,EAAiBC,GAAsBpuC,mBAAS,KAChDqL,EAASgjC,GAAcruC,mBAAS,kBA8BvC,OACE,eAACM,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBA9Ba,MACnB,MAAM5D,EAAO,CAGX9C,GAAIa,EAAMb,GACVkC,OAAQ,CACNoL,KAAMA,EACNvD,SAAUA,EACVipC,WAAYA,EACZ1mC,QAASA,EACT+mC,eAAgBA,EAChBrzC,GAAIa,EAAMb,GACV0mC,OAAQjZ,KAAO8lB,GAAY7lB,OAAO,cAClC7I,SAAU2uB,EACV9iC,QAASA,IAIT7P,EAAMgiC,OACRhiC,EAAMojB,cAAcnhB,GACpBjC,EAAM6L,gBAEN7L,EAAMsyC,kBAAkBrwC,GACxBjC,EAAMmkB,UAAUnkB,EAAMua,OAAS,GAChC,EAOGzU,GACA9F,EAAMwjB,iBAAN,EAJJ,UAOE,eAAC1e,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,yBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACH8S,aAAcxF,EACdrH,SAAW7F,IACT+mC,EAAQ/mC,EAAE8F,OAAOC,MAAjB,OAiBN,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wCACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL7R,aAAc/I,EACd9D,SAAW7F,GAAM6lC,EAAY7lC,EAAE8F,OAAOC,SAExC,cAAC,GAAD,CACEnG,GAAG,UACH8G,QAAQ,sBACRhE,KAAMwJ,EACNmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,SAC/DrN,SAAWhE,IACT8lC,EAAW9lC,EAAX,UAQR,eAACuF,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,mDACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL7R,aAAckgC,EACd/sC,SAAW7F,GAAMgzC,EAAchzC,EAAE8F,OAAOC,SAE1C,cAAC,GAAD,CACEnG,GAAG,UACH8G,QAAQ,sBACRhE,KAAMuwC,EACN5hC,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,OAAQ,SAC/DrN,SAAWhE,IACTkzC,EAAkBlzC,EAAlB,UAQR,eAACuF,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,0BACA,cAAC,KAAD,CACE1D,KAAK,OACLnC,GAAG,SACHkjC,SAAUqQ,EACVttC,SAAW7F,GAAMmmC,EAAcnmC,GAC/BumC,WAAW,kBAIf,eAAChhC,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,gCACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACH8S,aAAc0gC,EACdvtC,SAAW7F,IACTqzC,EAAmBrzC,EAAE8F,OAAOC,MAA5B,OAKN,cAACR,EAAA,EAAKC,MAAN,UACE,cAAC,GAAD,CACI5F,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4N,EACNe,MAAO,CACL,iBACA,sBACA,SACA,UACA,UACArN,SAAWhE,IACXszC,EAAWtzC,EAAX,MAMR,qBAAKgG,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,WAAWoB,KAAK,SAAlC,sBAMP,IC/KM,SAASwxC,GAAT,GAYH,IAZ0B,KAC5BrmC,EAD4B,SAE5BvD,EAF4B,QAG5BuC,EAH4B,OAI5Bo6B,EAJ4B,GAK5B1mC,EAL4B,KAM5B4K,EAN4B,QAO5BJ,EAP4B,MAQ5BrE,EAR4B,OAS5BiV,EAT4B,UAU5B4J,EAV4B,MAW5B6d,GACC,EACD,MAAMxe,EAAkB,IAAM7Z,GAAQ,GAEtC,OACE,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,YAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAhB,yBAEF,cAAC2K,GAAA,EAAMI,KAAP,UAEE,cAAC,GAAD,CAEEuC,KAAMA,EACNhB,QAASA,EACTvC,SAAUA,EACV28B,OAAQA,EACR1mC,GAAIA,EACJob,OAAQA,EACR4J,UAAWA,EACX7e,MAAOA,EACPke,gBAAiBA,EACjBwe,MAAOA,QAKhB,CCHcG,OArCf,SAAcniC,GAEZ,MAAO+J,EAAMJ,GAAWnF,oBAAS,GAEjC,OACE,qCACE,cAACuC,EAAA,EAAD,CAASR,MAAM,OAAf,SACE,cAAC,KAAD,CACErG,UAAU,OACV,aAAW,OACXsG,GAAI,CAAEqD,GAAI,GACVjE,QAAS,KACP+D,GAAQ,EAAR,EALJ,SAQE,cAAC,KAAD,CAAUlD,SAAS,gBAGvB,cAACqsC,GAAD,CAEE/oC,KAAMA,EACNJ,QAASA,EAET8C,KAAMzM,EAAMyM,KACZhB,QAASzL,EAAMyL,QACfvC,SAAUlJ,EAAMkJ,SAChB28B,OAAQ7lC,EAAM6lC,OACd1mC,GAAIa,EAAMb,GACVob,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,cAMxB,ECiMclgB,oBAbUC,IAChB,CACLjC,KAAMiC,EAAMmD,SAASs7B,UACrBzhC,QAASgD,EAAM/B,SAASjB,YAIAR,IACnB,CACLmiC,aAAer6B,GAAS9H,G/LkBnB,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,aACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,gBAAiBmI,QAASxH,GAA3C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,sBAAuBE,OAAxC,GAbJ,O+L5CWyC,EAvNf,SAAwBjE,GAItB,MAAO4K,EAAMC,GAAWrG,mBAAS,KAC1BqgB,EAAY6gB,GAAiBlhC,mBAAS,cAE7C,IAAIuuC,EAAQnmB,KAAO,IAAIvF,MAAQwF,OAAO,cAGvC,MAAOtS,EAAQ4J,GAAa3f,mBAAS,GAE/BqH,EAAc,KAClBsY,EAAU5J,EAAS,EAAnB,EA+FD,OArEA3V,qBAAU,KACR5E,EAAM6iC,cAAN,GAEC,CAAC7iC,EAAMsF,MAAOtF,EAAMua,SAkDvB3V,qBAAU,KAhDkBwF,WAE1BS,EAAQ,IAGR7K,EAAMiC,KAAK+G,SAASjI,IAElB,IAAI5B,EAAK4B,EAAI5B,GACTsN,EAAO1L,EAAI+6B,YACXtzB,EAAOzH,EAAIyH,KACXiD,EAAU1K,EAAI0K,QACd+mC,EAAiBzxC,EAAIyxC,eACrBtpC,EAAWnI,EAAImI,SACfipC,EAAapxC,EAAIoxC,WACjBtM,EAAS9kC,EAAI8kC,OACb7hB,EAAWjjB,EAAIijB,SACfnU,EAAU9O,EAAI8O,QAEdmjC,GAAY,IAAIpmB,MAAS/nB,GAAG+nB,KAAOiZ,EAAQ,cAAchZ,OAAO,OAEpEhiB,GAASD,GAAS,IACbA,EACH,CACE6B,KAAMA,EAAO,IAAMvD,EAAW,IAAMuC,EACpCjD,KAAMA,EACNU,SAAUA,EACVipC,WAAYA,EACZ1mC,QAASA,EACT+mC,eAAgBA,EAChBxuB,SAAUA,EACVnU,QAASA,EACTg2B,OAAQjZ,KAAOiZ,EAAQ,cAAchZ,OAAO,MAC5C1tB,GAAIA,EACJ6zC,eAbJ,IAkBFnoC,GAASD,IACP,IAAI48B,EAAU,IAAI58B,GAKlB,OAJA48B,EAAQyL,MAAK,CAACnhC,EAAGohC,IACRphC,EAAEtJ,KAAO0qC,EAAE1qC,MAAQ,EAAIsJ,EAAEtJ,KAAO0qC,EAAE1qC,KAAO,EAAI,IAG/Cg/B,CAAP,GANF,EAWA2L,GACAtnC,GAAa,GACZ,CAAC7L,EAAMiC,OAcR,qCACA,cAAC,GAAD,CAAasY,OAAQva,EAAMua,OAAQ4J,UAAWnkB,EAAMmkB,YACjDvZ,EAAKI,OACJ,mCACE,cAACC,GAAA,EAAD,UACGL,EAAK5L,KAAI,CAACwJ,EAAM0C,IACf,eAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,UAKE,gCACE,4BAAI5C,EAAKA,KAAO,IAAMA,EAAKU,SAAW,IAAMV,EAAKiD,UACjD,8BAAG,6CAAqBjD,EAAK2pC,WAA7B,IAA0C3pC,EAAKgqC,kBAC/C,8BAAG,8CAAsBhqC,EAAKq9B,UAC9B,8BAAG,+CAAuBr9B,EAAKwqC,aAC/B,8BAAG,oDAA4BxqC,EAAKwb,YACpC,8BAAG,yCAAiBxb,EAAKqH,WAEvB,qCAOG,cAAC,GAAD,CACC1Q,GAAIqJ,EAAKrJ,GACTmG,MAAOtF,EAAMsF,MACbiV,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,UACjB3b,KAAMA,IAGR,cAAC,GAAD,CACErJ,GAAIqJ,EAAKrJ,GACTmG,MAAOtF,EAAMsF,MACbiV,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,UACjB3b,KAAMA,OAMNuqC,GAASnmB,KAAOpkB,EAAKq9B,QAAQhF,SAAS,EAAE,KAAKhU,OAAO,cAzD1E,SAAkBrkB,GAChB8E,KAAQ8lC,KAAK,kBAAkB,mBAAmB,CAChDC,UAAW,gBACXC,QAAStzC,EAAMkB,QAAQgC,UACvB2E,QAASW,EAAO,6DAChB+qC,SAAUvzC,EAAMkB,QAAQa,MACxByxC,SAAUxzC,EAAMkB,QAAQa,OAExB,oBACH,CAkDqB0xC,CAASjrC,EAAKiE,MAId,2BAOR,sBAAKvM,UAAU,QAAf,UACA,cAAC,GAAD,CAEMuM,KAAMjE,EAAKA,KACXiD,QAASjD,EAAKiD,QACdvC,SAAUV,EAAKU,SACfipC,WAAY3pC,EAAK2pC,WACjBK,eAAgBhqC,EAAKgqC,eACrB3M,OAAQr9B,EAAKq9B,OACb1mC,GAAIqJ,EAAKrJ,GACTob,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,YAIrB,cAAC,GAAD,CACEhlB,GAAIqJ,EAAKrJ,GACTmG,MAAOtF,EAAMsF,MACbiV,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,iBAtEf,OAAMjZ,WA8EpB,qBAAKhL,UAAU,yBAAf,SACE,uEAKT,ICpNM,MAAMwzC,GAAY,IAAgC,IAA/B,YAAC7nC,EAAD,MAAcvG,EAAd,IAAqB2sC,GAAS,EAEpD,MAAO13B,EAAQ4J,GAAa3f,mBAAS,IAC9BuF,EAAMJ,GAAWnF,oBAAS,GAEjC,OACI,gCACK,sBAAKtE,UAAU,MAAf,UACG,sBAAKA,UAAU,QAAQqF,MAAO,CAACiL,UAAW,QAA1C,UACI,6EACA,4BACA,cAACquB,GAAA,EAAD,CAAOl5B,QAAQ,UAAf,mJAKJ,qBAAKzF,UAAU,QAAQqF,MAAO,CAACiL,UAAW,SAA1C,SAAoD,cAAC0hC,GAAD,CAAqBnoC,KAAMA,EAAMJ,QAASA,EAAS4Q,OAAQA,EAAQ4J,UAAWA,SAEtI,8BACI,cAAC,GAAD,CAAgB7e,MAAOA,EAAO2sC,IAAKA,EAAK13B,OAAQA,EAAQ4J,UAAWA,QAd/E,ECMW,SAASwvB,KAEtB,MAAO34B,EAASC,GAAczW,oBAAS,IAChCgtC,EAAUC,GAAejtC,mBAAS,IACzCI,qBAAU,KACRsW,YAAW,IAAMD,GAAW,IAAQ,KAApC,IAGF,MAAO3V,EAAOg8B,GAAY98B,mBAASooB,QAEnC,OAAI5R,EACK,cAAC,GAAD,IAIP,cAAC,GAAD,CAAU5U,KAAK,WAAWgG,OAAO,kBAAjC,SAEE,eAACwnC,GAAA,EAAD,CACEC,iBAAiB,WACjB10C,GAAG,iBACHe,UAAU,4BACVsiB,MAAI,EAJN,UAME,cAACsxB,GAAA,EAAD,CAAKhjC,SAAS,WAAWvK,MAAM,aAAarG,UAAU,UAAtD,SAEE,cAAC8kC,GAAD,CAAU1/B,MAAOA,EAAOF,SAAUk8B,MAEpC,eAACwS,GAAA,EAAD,CAAKhjC,SAAS,UAAUvK,MAAM,UAAUrG,UAAU,UAAlD,UAEE,cAAC,GAAD,CAAYoF,MAAOA,EAAOF,SAAUk8B,IAEpC,cAAC,GAAD,CAAch8B,MAAOA,EAAOF,SAAUk8B,OAKxC,cAACwS,GAAA,EAAD,CAAKhjC,SAAS,WAAWvK,MAAM,gBAAgBrG,UAAU,UAAzD,SACA,cAAC0pC,GAAD,CAActkC,MAAOA,EAAOF,SAAUk8B,EAAUkQ,SAAUA,MAE1D,cAACsC,GAAA,EAAD,CAAKhjC,SAAS,YAAYvK,MAAM,YAAYrG,UAAU,UAAtD,SACE,cAAC,GAAD,CAAWoF,MAAOA,MAEpB,cAACwuC,GAAA,EAAD,CAAKhjC,SAAS,cAAcvK,MAAM,eAAerG,UAAU,UAA3D,SACE,cAAC4tC,GAAD,CAAcxoC,MAAOA,EAAOF,SAAUk8B,MAExC,cAACwS,GAAA,EAAD,CAAKhjC,SAAS,OAAOvK,MAAM,YAAYrG,UAAU,UAAjD,SACE,cAACqxC,GAAD,CAAiBjsC,MAAOA,EAAOksC,SAAUA,EAAUC,YAAaA,UAQzE,CCxEc,SAASsC,GAAT,GAAkD,IAAtB,MAAEzuC,EAAF,SAASg8B,GAAY,EAY9D,OACE,sBAAKphC,UAAU,SAASqF,MAAO,CAACwH,QAAS,OAAQF,eAAgB,UAAjE,UACE,qBAAK3M,UAAU,kBAAkB0F,QAAS,IAAM07B,EAT3Ch8B,EAAMm7B,QAAQI,SAAS,EAAG,SASuCt7B,MAAO,CAACgrB,YAAa,OAAQpkB,YAAa,QAAhH,SACGtF,OAAO26B,aAAa,OAEvB,sBAAKthC,UAAU,SAAf,yCAC+BoF,EAAMunB,OAAO,cAE5C,qBAAK3sB,UAAU,cAAc0F,QAAS,IAAM07B,EAXvCh8B,EAAMm7B,QAAQh5B,IAAI,EAAG,SAWuClC,MAAO,CAACqmB,WAAY,OAAQooB,aAAc,QAA3G,SACGntC,OAAO26B,aAAa,SAI5B,CCsNcv9B,oBAZUC,IAChB,CACLmD,SAAUnD,EAAMmD,SAAS08B,UAIDrjC,IACnB,CACLuzC,YAAcv5B,IAAYha,UrMnLFqjC,EqMmLuBrpB,ErMlL1C,CAACha,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAE9C,MAAMM,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB/C,IACGC,YACAC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIgjC,EAAMx8B,OACVzG,WAAWijC,EAAMv8B,KACjBqB,MACAzH,MAAMqJ,IACL,MAAMpD,EAAW,GACjBoD,EAASzB,SAASjI,IAChBsG,EAASsD,KAAK5J,EAAIkB,OAAlB,IAEFvB,EAAS,CAAEY,KAAM,YAAamI,QAASpC,GAAvC,IAED9F,OAAOC,IACNd,EAAS,CAAEY,KAAM,kBAAmBE,OAApC,GAhBJ,IA/BwBuiC,KqMkLnB,KAKM9/B,EA3OOjE,IACpB,MAAO+jC,EAAOW,GAAYlgC,mBAAS,KAC5B0vC,EAAWC,GAAgB3vC,oBAAS,GAG3CI,qBAAU,KACR,MAAM3C,EAAO,CAEXsF,MAAOvH,EAAMsF,MAAMunB,OAAO,UAC1BrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,OAI1B7sB,EAAMi0C,YAAYhyC,EAAlB,GAEC,CAACjC,EAAMsF,QA0CVV,qBAAU,KAxCUwF,WAElBs6B,EAAS,IAGT1kC,EAAMqH,SAAS2B,SAASjI,IACtB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GACTs8B,EAAW16B,EAAI06B,SACfta,EAAMpgB,EAAIogB,IACV+c,EAAiBn9B,EAAIm9B,eACrBF,EAAaj9B,EAAIi9B,WACjBI,EAAcr9B,EAAIq9B,YAClB6E,EAAQliC,EAAIkiC,MAChB,IAAIK,EAEFA,IADEviC,EAAIuhC,eACDvhC,EAAIuhC,cAKXoC,GAAUX,GAAU,IACfA,EACH,CACEpc,KAAM4T,EACNE,SAAUA,EACVK,YAAaA,EACb38B,GAAIA,EACJmkC,GAAIA,EACJniB,IAAKA,EACL+c,eAAgBA,EAChBF,WAAYA,EACZI,YAAaA,EACb6E,MAAOA,KAZX,GAjBF,EAqCE6B,EAAa,GAGd,CAAC9kC,EAAMqH,WAGV,MAAO+sC,EAAmBC,GAAwB7vC,mBAAS,KAEpD8vC,EAAeC,GAAoB/vC,mBAAS,IAMnDI,qBAAU,KACRyvC,EAAqB,IACrBA,GAAsBG,IACpB,IAAIC,EAAe,IAAID,GA0BvB,OAtBAzQ,EAAM/6B,SAASmvB,IACb12B,QAAQC,IAAI,gBAAiBy2B,EAAQ8K,OAChC9K,EAAQ+F,gBAAmB/F,EAAQ8K,OACxCtjC,OAAOD,KAAKy4B,EAAQ+F,gBAAgBl1B,SAAS0rC,IAC3C,IAAIC,EAAQF,EAAa19B,MACtB69B,GACCA,EAAc1tC,QAAUixB,EAAQ+F,eAAewW,GAAUxtC,QAE7D,GAAIytC,EACFlzC,QAAQC,IAAI,wBACZizC,EAAMzrC,UACJivB,EAAQ+F,eAAewW,GAAUxrC,SAAWivB,EAAQiG,gBACjD,CACL,IAAIyW,EAAc1c,EAAQ+F,eAAewW,GACzCG,EAAY3rC,UAAYivB,EAAQiG,YAChCqW,EAAa9pC,KAAKkqC,EACnB,IAbH,IAgBFJ,EAAaxB,MAAK,CAACnhC,EAAGohC,IACbphC,EAAE5K,MAAQgsC,EAAEhsC,OAAS,EAAI4K,EAAE5K,MAAQgsC,EAAEhsC,MAAQ,EAAI,IAEnDutC,CAAP,IAGFF,EAAiB,IACjBA,GAAkBC,IAChB,IAAIvF,EAAM,IAAIuF,GAsBd,OApBAzQ,EAAM/6B,SAASmvB,IACVA,EAAQ8K,OAAOkR,GAAa,GAC1Bhc,EAAQ+F,gBACbv+B,OAAOD,KAAKy4B,EAAQ6F,YAAYh1B,SAAS0rC,IACvC,IAAIC,EAAQ1F,EAAIl4B,MACb69B,GACCA,EAAc1tC,QAAUixB,EAAQ6F,WAAW0W,GAAUxtC,QAEzD,GAAIytC,EAEFA,EAAMzrC,UACJivB,EAAQ6F,WAAW0W,GAAUxrC,SAAWivB,EAAQiG,gBAC7C,CACL,IAAI0W,EAAW3c,EAAQ6F,WAAW0W,GAClCI,EAAS5rC,UAAYivB,EAAQiG,YAC7B6Q,EAAItkC,KAAKmqC,EAEV,IAdH,IAiBK7F,CAAP,GAvBF,GAyBC,CAAClL,IAUJ,OADAtiC,QAAQC,IAAI,kBAAmBqiC,GAE7B,8BACE,eAAC1f,GAAA,EAAD,CAAWwvB,iBAAiB,IAA5B,UAOE,cAACE,GAAD,CAAoBzuC,MAAOtF,EAAMsF,MAAOg8B,SAAUthC,EAAMshC,WASxD,eAACpzB,GAAA,EAAD,WACE,cAACA,GAAA,EAAKjE,OAAN,IACA,cAACoa,GAAA,EAAUE,SAAX,CAAoBzT,SAAS,IAA7B,SACE,cAAC5C,GAAA,EAAKhE,KAAN,UACI65B,EAAM/4B,QAAUkpC,EAChB,eAAC7oC,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,gCACE,+BACE,0CACA,mDACA,mEAGJ,uCACG4oC,QADH,IACGA,OADH,EACGA,EAAmBp1C,KAAK01C,IAAc,IAAD,EArC/BK,EAsCL,OACE,qBACExvC,MAAO,CACLkL,iBAzCDskC,EAyCiC,UAC9BT,EACGv9B,MACEohB,GAAYA,EAAQjxB,QAAUwtC,EAASxtC,eAHd,aAC9B,EAIIgC,SAAS2d,QAAQ,GA7CxCkuB,GAAY,GAAK,SAAWA,GAAY,GAAK,UAAY,OAsC5C,UAWE,6BAAKL,EAASxtC,QACd,+BACGwtC,EAASxrC,SAAS2d,QAAQ,GAD7B,IACkC6tB,EAASnhB,QAE3C,6BACG+gB,EAAcv9B,MACZohB,GAAYA,EAAQjxB,QAAUwtC,EAASxtC,QAErC,GAAEotC,EACAv9B,MACEohB,GACCA,EAAQjxB,QAAUwtC,EAASxtC,QAE9BgC,SAAS2d,QAAQ,OACpB,QA1BV,SAkCN,qBAAK3mB,UAAU,yBAAf,SACE,6IApEhB,IC3Ia,SAAS80C,KACtB,MAAOh6B,EAASC,GAAczW,oBAAS,GACvCI,qBAAU,KACRsW,YAAW,IAAMD,GAAW,IAAQ,KAApC,IAGF,MAAO3V,EAAOg8B,GAAY98B,mBAASooB,QAEnC,OAAI5R,EACK,cAAC,GAAD,IAIP,cAAC,GAAD,CAAU5U,KAAK,WAAWgG,OAAO,eAAjC,SACE,cAAC,GAAD,CAAc9G,MAAOA,EAAOg8B,SAAUA,KAG3C,C,WCzBc,OAA0B,2CCalC,SAAS2T,GAAYj1C,GAC1B,OACE,eAAC,KAAD,CAAeE,UAAU,UAAzB,UACE,qBAAKC,IAAK+0C,GAAS70C,IAAI,UAAUH,UAAU,kBAC3C,qBAAKA,UAAU,sBAAf,SAAsCF,EAAMO,aAFNP,EAAM2X,IAKjD,CC6Ec1T,oBAbUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMjC,KAAKmH,YAIO1I,IACnB,CACLgR,iBAAmBgJ,GAAYha,EAASgR,GAAiBgJ,OAI9CzW,EAxFR,SAAsBjE,GAC3B,MAAOm1C,EAAYC,GAAiB5wC,mBAAS,IAoD7C,OAvCAI,qBAAU,KACJ5E,EAAMiC,KAAK+I,QAAU,GAX3B,WACE,IAAI/I,EAAO,CACTe,iBAAkB,cAClBlC,WAAY,WACZE,IAAKhB,EAAM6B,KAAKb,KAElBhB,EAAM0R,iBAAiBzP,EACxB,CAI6BozC,EAAe,GAC1C,IAiCHzwC,qBAAU,KA/BWwF,WACnBpK,EAAMiC,KAAK+G,SAASjI,IAClB,IAAI5B,EAAK4B,EAAI5B,GACTsN,EAAO1L,EAAI0L,KACX2lB,EAAWrxB,EAAIqxB,SACfnQ,EAASlhB,EAAIkhB,OAAO,GACpBsR,EAAOxyB,EAAIkhB,OAAO,GAClBqzB,EAAkBv0C,EAAIu0C,gBACtB5pC,EAAQ3K,EAAI2K,MAAM,GAClBiY,EAAW5iB,EAAI2K,MAAM,GACrB6pC,EAAUx0C,EAAIw0C,QACdzgB,EAAU/zB,EAAI+zB,QAElBsgB,GAAeD,GAAe,IACzBA,EACH,CACEh2C,GAAIA,EACJsN,KAAMA,EACN2lB,SAAUA,EACVnQ,OAAQA,EACRsR,KAAMA,EACN+hB,gBAAiBA,EACjB5pC,MAAOA,EACPiY,SAAUA,EACV4xB,QAASA,EACTzgB,QAASA,KAZb,GAZF,EA+BA0gB,EAAc,GACb,CAACx1C,EAAMiC,OAGR,cAAC,GAAD,CAAUmE,KAAK,WAAWgG,OAAO,gBAAgB9L,SAAS,cAA1D,SACG60C,EAAWn2C,KAAK0b,GACf,eAACu6B,GAAD,CAAahvC,QAAQ,UAArB,UACE,+BACGyU,EAAQjO,KADX,KACmBiO,EAAQuH,OACxBvH,EAAQ6Y,QAEX,6BAAK7Y,EAAQ0X,WACb,+CAAkB1X,EAAQ66B,WAC1B,+BACG76B,EAAQiJ,SACRjJ,EAAQhP,SAGX,4BAAIgP,EAAQoa,YAZsBpa,EAAQvb,OAiBnD,ICnED,MAwTMslB,GAAkBzkB,GACc,WAAhCA,EAAMqB,OAAOqjB,eAEb,qCACE,eAAC3L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,yBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE9F,GAAG,aACH+F,YAAY,aACZE,SAAW7F,IACTS,EAAMqmB,iBAAiB9mB,EAAvB,EAEF+F,MAAOtF,EAAMqB,OAAOwjB,gBAGxB,eAAC9L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,kBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,gBACHmG,MAAOtF,EAAMqB,OAAOqkB,cACpBsB,UAAQ,IAEV,cAAC,GAAD,CACE7nB,GAAG,WACH8G,QAAQ,4BACRhE,KAAMjC,EAAMqB,OAAOsiB,SACnBpgB,SAAU,CAACuN,EAAUvR,KACnBS,EAAMumB,iBAAiBhnB,GACvBS,EAAMqmB,iBAAiB9mB,EAAvB,EAEFqR,MAAO,CAAC,aAAW,UAAW,2BAOjC,KAIL+T,GAAgB3kB,GACgB,WAAhCA,EAAMqB,OAAOqjB,eAEgB,KAA7B1kB,EAAMqB,OAAOimB,aACa,KAA1BtnB,EAAMqB,OAAOkmB,UACbvnB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,YACe,KAA5B5kB,EAAMqB,OAAOwjB,YACa,oBAA1B7kB,EAAMqB,OAAOsiB,SAGX,eAAC5K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAIhC,KAA7BhG,EAAMqB,OAAOimB,aACa,KAA1BtnB,EAAMqB,OAAOkmB,UACbvnB,EAAMqB,OAAOoQ,gBAAkB,GACH,gBAA5BzR,EAAMqB,OAAOujB,WAGX,eAAC7L,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAACoM,GAAA,EAAD,IACA,cAACvG,EAAD,CACEG,KAAK,SACLD,QAAQ,QACRL,QAAUrG,IACRS,EAAM8kB,uBAAN,OAMD,cAAC/e,EAAD,CAAeG,KAAK,SAASD,QAAQ,QAAQD,SAAS,SAoBpD/B,oBAfUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0Q,oBAAsBsJ,GAAYha,EAAS0Q,GAAoBsJ,IAC/DpJ,cAAgBoJ,GAAYha,EAAS4Q,GAAcoJ,OAIxCzW,EAraIjE,IACjB,MAAOglB,EAAYC,GAAiBzgB,oBAAS,GAE7CI,qBAAU,KACJ5E,EAAMkB,QAAQI,OACXuF,OAAO7G,EAAMkB,QAAQI,MAAMuW,SAAS,aACvCoN,GAAc,GAEjB,GACA,CAACjlB,EAAMkB,UAEV,MAAMgkB,EAAgB,CACpBR,eAAgB,SAChB4C,YAAa,GACbC,SAAU,GACV9V,gBAAiB,EACjBmT,WAAY,cACZC,WAAY,GACZY,IAAK,EACLC,cAAe,EACf/B,SAAU,kBACV8D,MAAO,IAGH9B,EAAqB,CACzBC,iBAAkB,EAClBC,mBAAoB,IAIfxkB,EAAQ4kB,GAAazhB,mBAAS0gB,IAG9BgB,EAAaC,GAAkB3hB,mBAASmhB,GAGzC+B,EAAWrY,iBAAO,MAGxBzK,qBAAU,KACR4iB,GAAqB,GACpB,CACDnmB,EAAOqjB,eACPrjB,EAAOoQ,gBACPpQ,EAAOujB,WACPvjB,EAAOsiB,WAGT,MAAM0C,EAAoB9mB,IACpBA,EAAE8F,OAAOihB,YACXL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE/CL,EAAU,IAAK5kB,EAAQ,CAAC9B,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAChD,EAGGihB,EAAoBhnB,IACxB,IAEIinB,EADAC,EADclnB,EAAE8F,OAAOlG,GAAGunB,WAAWC,MAAM,gBAClB,GAAK,aAElC,OAAQpnB,EAAE8F,OAAOihB,aAEf,IAAK,KACL,IAAK,IAcL,IAAK,aASL,QACEE,EAAM,QArBR,IAAK,IACL,IAAK,KACHA,EAAM,KACN,MACF,IAAK,KACHA,EAAM,KACN,MACF,IAAK,MACHA,EAAM,KACN,MAKF,IAAK,UACHA,EAAM,MACN,MACF,IAAK,eACHA,EAAM,MAKVL,EAAe,IAAKD,EAAa,CAACO,GAAaD,GAA/C,EAGIgB,EAAsB,KAC1BvB,EAAU,IACL5kB,EACHokB,IAAKmB,OAAOvlB,EAAOoQ,gBAAkByU,EAAYN,iBAAmB,KACpEF,eAEE,IADAkB,OAAOvlB,EAAOoQ,iBAEdyU,EAAYN,iBACZM,EAAYL,oBACZgB,QAAQ,IARZ,EAmGF,OAAK7mB,EAAM6B,KAAKb,IAGZgkB,EAAmB,cAAC,IAAD,CAAUngB,GAAG,aAGlC,cAAC,GAAD,CACEuH,OAAO,oBACP9L,SAAS,uCACT8F,KAAK,WAHP,SAKE,cAACnG,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,aAA3B,SACE,eAAC4E,EAAA,EAAD,WACE,eAACiU,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,0BAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,cACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOimB,iBAGlB,eAACvO,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,uBAGA,cAAC3L,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOkmB,cAGlB,eAACxO,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,+BAGA,cAAC,GAAD,CACEtR,GAAG,iBACH8G,QAAQ,sBACRhE,KAAMZ,EAAOqjB,eACbnhB,SAAU,CAACwjB,EAAMxnB,KACf8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,SAAU,iBAGtB,eAACmI,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,6BAGA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACHiG,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,EAEF+F,MAAOjE,EAAOoQ,kBAEhB,cAAC,GAAD,CACEtS,GAAG,aACH8G,QAAQ,4BACRhE,KAAMZ,EAAOujB,WACbrhB,SAAU,CAACwjB,EAAMxnB,KACfgnB,EAAiBhnB,GACjB8mB,EAAiB9mB,EAAjB,EAEFqR,MAAO,CAAC,KAAM,IAAK,IAAK,KAAM,MAAO,IAAK,IAAK,cAIrD,cAAC,GAAD,CACEvP,OAAQA,EACR6kB,YAAaA,EACbK,iBAAkBA,EAClBF,iBAAkBA,IAEpB,eAACtN,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,iBACA,eAACmT,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,MACLgE,MAAOjE,EAAOokB,IACdlf,MAAOlF,EAAOokB,IACduB,UAAQ,IAEV,cAACpD,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,6BAIN,eAAC0K,GAAA,EAAD,CAAW7Y,UAAU,OAArB,UACE,cAAC4E,EAAA,EAAKE,MAAN,CAAYO,MAAO,CAAEkL,gBAAiB,SAAtC,mBACA,cAAC3L,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN7O,GAAG,QACH8J,IAAKye,EACLtiB,SAAW7F,IACT8mB,EAAiB9mB,EAAjB,OAIN,cAAC,GAAD,CACE8B,OAAQA,EACRyjB,sBAvMoB,KAC5B,IAAIoC,EACJ,OAAQ7lB,EAAOujB,YACb,QACA,IAAK,KACL,IAAK,IACHsC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAIT,MAAM3H,EAAU,CACdvc,iBAAkB,UAClBhC,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACNoQ,gBAAiBpQ,EAAOoQ,gBAAkByV,IAI9C,IAAIlmB,EAAKgC,EACT,OAAQhD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAIrB,MAAMiB,EAAO,CACXjB,IAAKA,EACLgC,iBAAkBA,EAClBlC,WAAY,uBACZO,OAAQ,CACNud,KAAMhe,yBAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,SAClDhmB,IAIPrB,EAAMoR,oBAAoBnP,GAC1BjC,EAAMsR,cAAciO,GACpB3X,GAAmB,UAAW,qCAC9Bqe,EAAUf,GACViB,EAAeR,GACf+B,EAASlY,QAAQlK,MAAQ,EAAzB,WAI0B,cAAC,IAAD,CAAUT,GAAG,UAKzC,ICzKW+nB,OAASC,OAAO,2BAQ7B,MAAM4oB,WAAmBn3B,YAAW,cAAD,yBACjCpa,MAAQ,CACNjB,KAAMub,KAAKxe,MAAM+C,KAAKG,UACtBnB,MAAOyc,KAAKxe,MAAM6B,KAAKE,MACvBf,IAAKwd,KAAKxe,MAAM6B,KAAKb,IACrB00C,aAAc,GAEdlpB,UAAW,GACXmpB,WAAY,GAEZjpB,eAAgB,kBAEhB/E,KAAM,MAENJ,SAAU,GAIVquB,cAAe,MAEfnuB,MAAO,GAIPouB,WAAY,EACZjxB,WAAY,cACZgB,iBAAkB,EAUlB0vB,gBAAiB,4BAEjBhuB,YAAa,GAEbzC,WAAY,GAuBZixB,mBAAoBlpB,OAASC,OAAO,OACpCkpB,oBAAqBnpB,OAASC,OAAO,KACrCmpB,qBAAsBppB,OAASC,OAAO,OACtCopB,oBAAqBrpB,OAASC,OAAO,MACrCqpB,oBAAqBtpB,OAASC,OAAO,QACrCspB,wBAAyBvpB,OAASC,OAAO,oBApEV,KAqFjCupB,aAAe,KACb53B,KAAKC,SAAS,CAEZ6I,YAAa,GACbC,SAAU,GAIVE,MAAO,GAEPouB,WAAY,EACZjxB,WAAY,cACZ0wB,gBAAiB,4BACjBzwB,WAAY,GAWZ8wB,WAAY,SAvBd,EAtF+B,KAiHjCU,iBAAmB,KACjBvuC,KAAgB,CACdvB,MAAO,WACPsB,QAAS,oCAGTE,cAAe,UACfC,iBAAkB,UAClBG,YAAa,QACbC,SAAU,KARZ,EAlH+B,KAsJjCmW,aAAgBhf,IAEdif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAD1B,EAxJ+B,KA6JjCgxC,kCAAqC/2C,IAEnCif,KAAKC,SAAS,CAAE83B,sBAAuBh3C,GAAvC,EA/J+B,KA0MjCi3C,yBAA4Bj3C,IAE1Bif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,MACxBmgB,IAA8B,IAAzBmB,OAAOrnB,EAAE8F,OAAOC,QAFvB,EA5M+B,KA0NjCmxC,qBAAwBl3C,IAEtBif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,MACxBogB,eAAyC,IAAzBkB,OAAOrnB,EAAE8F,OAAOC,QAAeuhB,QAAQ,IAFzD,EA5N+B,KAkOjC6vB,6BAAgCn3C,IAE9Bif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,MACxBqxC,yBAAmD,IAAzB/vB,OAAOrnB,EAAE8F,OAAOC,QAAeuhB,QAAQ,IAFnE,EApO+B,KAuPjC+vB,YAAer3C,IACbA,EAAEsG,iBACF2Y,KAAKxe,MAAMmR,UAAUqN,KAAKta,MAA1B,EAzP+B,KAmQjC0jB,uBAA0BroB,IACxBA,EAAEsG,iBACF2Y,KAAKC,SAAS,CAAC,GACfD,KAAKxe,MAAM62C,6BAA6Br4B,KAAKta,MAA7C,CAtQ+B,CA8HjC4yC,WAAW5wC,GACTsY,KAAKC,SAAS,CAAEkJ,KAAMzhB,GACvB,CAED6wC,eAAe7wC,GACbsY,KAAKC,SAAS,CAAEkF,SAAUzd,GAC3B,CAMD8wC,yBAAyB1xC,GACvBkZ,KAAKC,SAAS,CAAEoH,mBAAoBvgB,GACrC,CAMD2xC,uBAAuB3xC,GACrBkZ,KAAKC,SAAS,CAAEmH,iBAAkBtgB,GACnC,CAcD4xC,4BAA4BhxC,GAC1BsY,KAAKC,SAAS,CAAE62B,gBAAiBpvC,GAClC,CAEDyoB,uBAAuBzoB,GACrBsY,KAAKC,SAAS,CAAEmG,WAAY1e,GAC7B,CAmJD8oB,oBACMC,YACFzQ,KAAKC,SAAS,CAAE+N,UAAW,OAAQmpB,WAAY,UACtCzmB,cACT1Q,KAAKC,SAAS,CAAE+N,UAAW,QAASmpB,WAAY,SAEnD,CAEDj3B,SACE,MAAM,KAAEzc,EAAF,KAAQJ,GAAS2c,KAAKxe,OAItB,UAAEm3C,EAAF,YAAaC,GAAgB54B,KAAKta,MACxC,IAAKrC,EAAKb,IAAK,OAAO,cAAC,IAAD,CAAU6D,GAAG,WACnC,GAAI5C,EAAM,CACR,MAAMyzC,EACJzzC,GAAQA,EAAKyrB,QAAQ2pB,GAAUA,EAAMt1C,QAAUF,EAAKE,QAMtD,OACE,sBAEEwD,MAAO,CAAE2G,MAAO,OAAQoD,OAAQ,QAFlC,UAIE,cAAC,cAAD,UACE,oBACE/J,MAAO,CACLwkB,WAAY,MACZvkB,MAAO,QACPqH,eAAgB,SAChBE,QAAS,QALb,2BAWF,cAAC,eAAD,UACE,oBACExH,MAAO,CACLwkB,WAAY,MACZvkB,MAAO,QACPqH,eAAgB,SAChBE,QAAS,QALb,2BAYF,qBACExH,MAAO,CACLwH,QAAS,OACTF,eAAgB,SAChBzB,WAAY,SACZ+jB,SAAU,OACVjjB,MAAO,QANX,SASE,cAACzG,EAAA,EAAD,CACEF,MAAO,CAAE2G,MAAOsS,KAAKta,MAAMsoB,UAAW4C,YAAa,WACnDlvB,UAAU,eACV6N,GAAIshB,IACJxqB,GAAG,WAJL,oBAUuB,IAAxB6wC,EAAa1qC,OACZ,eAAC4B,GAAA,EAAD,CAAK1M,UAAU,iGAAf,UACE,cAAC4M,GAAA,EAAD,CACE5M,UAAU,sCACVie,GAAI,KAEN,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC/B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,GAAGie,GAAI,GAAIC,GAAI,IAC9B,cAACtR,GAAA,EAAD,CACE5M,UAAU,+EACVie,GAAI,GACJC,GAAI,EAHN,SAKE,cAAC,GAAD,UACE,cAAClQ,GAAA,EAAD,UACE,cAACA,GAAA,EAAKhE,KAAN,UACE,eAACgE,GAAA,EAAKG,KAAN,CAAWnO,UAAU,cAArB,UACE,oBACEqF,MAAO,CACLkB,SAAU,OACVf,WAAY,MACZF,MAAO,mBAJX,iDASA,wBACEI,QAAS4Y,KAAKo4B,YACdrxC,MAAO,CAAE+xC,QAAS,OAAQC,OAAQ,QAFpC,kCAWV,cAACzqC,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,GAAIC,GAAI,IACvC,cAACtR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC/B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,QAGjC,qBACE5Y,MAAO,CACLwH,QAAS,OACTF,eAAgB,SAChBzB,WAAY,SACZ+jB,SAAU,OACVjjB,MAAO,OACPoD,OAAQ,QAPZ,SAYE,cAACpB,GAAA,EAAD,CACE3I,MAAO,CAEL2G,MAAOsS,KAAKta,MAAMsoB,UAElBld,OAAQkP,KAAKta,MAAMyxC,WACnB5qB,aAAc,QANlB,SAWE,eAACjmB,EAAA,EAAD,CAAM5E,UAAU,cAAcqF,MAAO,CAAEoK,QAAS,QAAhD,UACE,oBACEzP,UAAU,cACVqF,MAAO,CACL+pB,OAAQ,OACR7oB,SAAU,OACVf,WAAY,OALhB,yBAWA,gCA6CE,qBAAKH,MAAO,CAAEoK,QAAS,eAAvB,0BACA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,cAAC+W,GAAA,EAAD,UACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,cACH+F,YAAY,qBACZE,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAMojB,kBAKxB,qBAAK/hB,MAAO,CAAEoK,QAAS,eAAvB,uBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CAAEoK,QAAS,cAAe5C,QAAS,QAD5C,SAGE,cAACwiB,GAAA,EAAD,CAEEpwB,GAAG,WACHuiB,QAAS+N,GAAYzwB,KAAK0wB,GAAWA,EAAOnpB,QAC5CipB,UAAQ,EAGRjqB,MAAO,CAAE2G,MAAO,QAChBJ,KAAK,QACL1G,SAAW7F,GACTif,KAAKC,SAAS,CAAE8I,SAAUhoB,EAAE8F,OAAOihB,cAErCqJ,cAAgBpwB,GAAMif,KAAKD,aAAahf,GAOxCqwB,YAAcC,GACZ,cAACC,GAAA,EAAD,IACMD,EACJ3oB,MAAM,kBACNvB,QAAQ,iBAMhB,qBAAKJ,MAAO,CAAEoK,QAAS,eAAvB,6BAGA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,eAAC+W,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,aACH+F,YAAY,6BACZE,SAAW7F,IACTif,KAAKg4B,yBAAyBj3C,GAC9Bif,KAAKi4B,qBAAqBl3C,EAA1B,EAEF2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAM2xC,aAGpB,eAAC9lB,GAAA,EAAD,CACEhiB,GAAI6V,KAAWqD,OACfthB,QAAQ,oBACRY,MAAOiY,KAAKta,MAAM0gB,WAClBzlB,GAAG,OAJL,UAME,cAAC,KAAS8K,OAAV,8BAGA,cAAC+lB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,EAA5B,EALJ,kBAaF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,iBAaF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,kBAaF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,mBAYF,cAAC,KAAS3qC,QAAV,IAEA,cAAC,KAASrC,OAAV,+BAEA,cAAC+lB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,EAA5B,EALJ,iBAYF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,0BAeR,qBAAK1xC,MAAO,CAAEoK,QAAS,eAAvB,yBACA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,cAAC+W,GAAA,EAAD,UACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,aACHmC,KAAK,OACL4D,YAAY,aACZE,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAM2gB,iBAkCxB,qBAAKtf,MAAO,CAAEoK,QAAS,eAAvB,iCAGA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CACLoK,QAAS,cACT5C,QAAS,QAHb,SAME,cAAC6W,GAAA,EAAD,UACE,cAAC,GAAD,UACE,eAAC,KAAD,WACE,cAACyM,GAAA,EAAD,CACE1qB,QAAQ,YACRJ,MAAO,CAAE2G,MAAO,SAChBhM,UAAU,KAHZ,SAKGse,KAAKta,MAAMoxC,kBAEd,eAAChlB,GAAA,EAAD,WACE,cAACN,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAK04B,4BACH33C,EAAE8F,OAAOihB,aAHf,6BAWF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAK04B,4BACH33C,EAAE8F,OAAOihB,aAHf,6CA6BZ,qBAAK/gB,MAAO,CAAEoK,QAAS,eAAvB,8BAGA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,cAAC/H,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN7O,GAAG,QACHoG,MAAO,CAAEiyC,OAAQ,OAAQtrC,MAAO,QAChC9G,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC+F,MAAOkZ,KAAKta,MAAMujB,UAItB,cAAC,KAAD,IAMA,8BAC2B,KAAxBjJ,KAAKta,MAAMqjB,UACe,KAA3B/I,KAAKta,MAAMojB,aACe,IAA1B9I,KAAKta,MAAM2xC,YAET,8BADFr3B,KAAKta,MAAMoxC,gBAET,cAAC7vC,EAAA,EAAD,CACEF,MAAO,CACL+pB,OAAQ,cACR7e,gBAAiB,UACjBvE,MAAO,MACPqD,UAAW,QAEb3J,QAAUrG,IACRif,KAAKoJ,uBAAuBroB,GAC5Bif,KAAK43B,eACL53B,KAAK63B,kBAAL,EAEF1wC,QAAQ,YACRrE,KAAK,SAbP,oBAkBA,cAACmE,EAAA,EAAD,CACEF,MAAO,CACL+pB,OAAQ,cACRpjB,MAAO,MACPqD,UAAW,QAEb5J,QAAQ,YACRK,UAAQ,EAPV,kCAsBnB,CACC,OAAO,uBAEV,EAGH,MAAMypB,GAAc,CAClB,CAAElpB,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,eACT,CAAEA,MAAO,YACT,CAAEA,MAAO,WACT,CAAEA,MAAO,QACT,CAAEA,MAAO,WACT,CAAEA,MAAO,QACT,CAAEA,MAAO,SACT,CAAEA,MAAO,UACT,CAAEA,MAAO,UACT,CAAEA,MAAO,QACT,CAAEA,MAAO,UACT,CAAEA,MAAO,aACT,CAAEA,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,aACT,CAAEA,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,QACT,CAAEA,MAAO,eACT,CAAEA,MAAO,UAqBLyG,GAAYC,KAAOC,GAAI;;;;;;;;;;;;EAcvBkjB,GAAcnjB,KAAOC,GAAI;;;;;;EAQhBC,oBACblJ,aAzCuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACLyQ,UAAYuJ,GAAYha,EAASyQ,GAAUuJ,IAG3Cm8B,6BAA+Bn8B,IAC7Bha,UnLrjBuCuB,EmLqjBDyY,EnLpjBnC,CAACha,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9BD,IAAWwB,SAASjB,QAApC,MACMW,EAAOlB,IAAWwB,SAASN,KAE3BksB,EAAiB9rB,EAAKyqB,eAEtB+qB,EAAcx1C,EAAKqlB,YACnBowB,EAAWz1C,EAAKslB,SAEhBowB,EAAa11C,EAAK2iB,WAElBgzB,EAAa31C,EAAKqzC,gBAClBuC,EAAQ51C,EAAKwlB,MAEb+I,EAAOvuB,EAAK6zC,mBACZrlB,EAAOxuB,EAAK8zC,oBACZrlB,EAAQzuB,EAAK+zC,qBACbrlB,EAAQ1uB,EAAKg0C,oBACbrlB,EAAO3uB,EAAKi0C,oBACZrlB,EAAW5uB,EAAKk0C,wBAEhBrlB,GAAO,IAAIzJ,MAAO0J,WACxB,IAAIC,EAAI,GAENA,EADEF,GAAQ,GAAKA,EAAO,EAClB,KACKA,GAAQ,GAAKA,EAAO,GACzB,KACKA,GAAQ,IAAMA,EAAO,GAC1B,KAEA,KAGNlwB,IACGC,YACAC,WAAW,QACXC,IAAIc,EAAKb,KACTF,WAAW,iCACX2G,IAAI,CACHmX,KAAMhe,IAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,MACrD/lB,KAAM0vB,EAENymB,YAAaA,EACbC,SAAUA,EAEVz1B,OAAQ2E,OAAO3kB,EAAK4zC,YACpB8B,WAAYA,EAEZC,WAAYA,EAEZC,MAAOA,EAEPrnB,KAAMA,EACNC,KAAMA,EACNC,MAAOA,EACPC,MAAOA,EACPC,KAAMA,EACNC,SAAUA,EAEV9C,eAAgBA,IAEjB3sB,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAhCJ,IAlCyCS,KmLgjBpC,MAiCP4Y,6BAAkB7a,GACXA,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAY,OACZC,IAAKf,EAAM6B,KAAKb,MAJQ,KAHjBmM,CAWbsoC,ICh8BW7oB,OAASC,OAAO,2BAERD,OAASC,OAAO,mBASrC,MAAMirB,WAAoBx5B,YAAW,cAAD,yBAClCpa,MAAQ,CACNjB,KAAMub,KAAKxe,MAAM+C,KAAKG,UACtBnB,MAAOyc,KAAKxe,MAAM6B,KAAKE,MACvBf,IAAKwd,KAAKxe,MAAM6B,KAAKb,IACrB00C,aAAc,GAEdlpB,UAAW,GACXmpB,WAAY,GAEZjpB,eAAgB,mBAIhBnF,SAAU,GACVwwB,aAAc,kBAQdC,kBAAmB,EACnBpzB,WAAY,cACZgB,iBAAkB,EAUlB0vB,gBAAiB,6BAEjBzwB,WAAY,GASZY,IAAK,EAELgC,MAAO,GAKPwwB,gBAAiB,EACjBt0B,SAAU,kBACVkC,mBAAoB,EAOpBiwB,mBAAoBlpB,OAASC,OAAO,OACpCkpB,oBAAqBnpB,OAASC,OAAO,KACrCmpB,qBAAsBppB,OAASC,OAAO,OACtCopB,oBAAqBrpB,OAASC,OAAO,MACrCqpB,oBAAqBtpB,OAASC,OAAO,QACrCspB,wBAAyBvpB,OAASC,OAAO,oBAnET,KAgGlCupB,aAAe,KACb53B,KAAKC,SAAS,CAEZ8I,SAAU,GACVwwB,aAAc,kBAKdC,kBAAmB,EACnBpzB,WAAY,cACZ0wB,gBAAiB,6BACjBzwB,WAAY,GAOZY,IAAK,EACLwyB,gBAAiB,EACjBt0B,SAAU,kBACVkC,mBAAoB,EACpB4B,MAAO,GACPkuB,WAAY,UAvBd,EAjGgC,KA4HlCU,iBAAmB,KACjBvuC,KAAgB,CACdvB,MAAO,WACPsB,QAAS,qCAGTE,cAAe,UACfC,iBAAkB,UAClBG,YAAa,QACbC,SAAU,KARZ,EA7HgC,KAiKlCmW,aAAgBhf,IAEdif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAD1B,EAnKgC,KAwKlC4yC,yBAA4BhyC,IAC1BsY,KAAKC,SAAS,CAAEs5B,aAAc7xC,GAA9B,EAzKgC,KA4KlCowC,kCAAqC/2C,IAEnCif,KAAKC,SAAS,CAAE83B,sBAAuBh3C,GAAvC,EA9KgC,KAyNlCi3C,yBAA4Bj3C,IAE1Bif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,MACxBmgB,IAA8B,IAAzBmB,OAAOrnB,EAAE8F,OAAOC,QAFvB,EA3NgC,KAyOlCmxC,qBAAwBl3C,IAEtBif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,MACxB2yC,iBAA2C,IAAzBrxB,OAAOrnB,EAAE8F,OAAOC,QAAeuhB,QAAQ,IAF3D,EA3OgC,KAiPlC6vB,6BAAgCn3C,IAE9Bif,KAAKC,SAAS,CACZ,CAAClf,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,MACxBqxC,yBAAmD,IAAzB/vB,OAAOrnB,EAAE8F,OAAOC,QAAeuhB,QAAQ,IAFnE,EAnPgC,KAsQlC+vB,YAAer3C,IACbA,EAAEsG,iBACF2Y,KAAKxe,MAAMmR,UAAUqN,KAAKta,MAA1B,EAxQgC,KA2QlCi0C,wBAA2B54C,IACzBA,EAAEsG,iBACF2Y,KAAKC,SAAS,CAAC,GACfD,KAAKxe,MAAMo4C,sBAAsB55B,KAAKta,MAAtC,CA9QgC,CA6IlC6yC,eAAe7wC,GACbsY,KAAKC,SAAS,CAAEkF,SAAUzd,GAC3B,CAMD8wC,yBAAyB1xC,GACvBkZ,KAAKC,SAAS,CAAEoH,mBAAoBvgB,GACrC,CAMD2xC,uBAAuB3xC,GACrBkZ,KAAKC,SAAS,CAAEmH,iBAAkBtgB,GACnC,CAkBD4xC,4BAA4BhxC,GAC1BsY,KAAKC,SAAS,CAAE62B,gBAAiBpvC,GAClC,CAEDyoB,uBAAuBzoB,GACrBsY,KAAKC,SAAS,CAAEmG,WAAY1e,GAC7B,CAmND8oB,oBACMC,YACFzQ,KAAKC,SAAS,CAAE+N,UAAW,OAAQmpB,WAAY,WACtCzmB,cACT1Q,KAAKC,SAAS,CAAE+N,UAAW,QAASmpB,WAAY,UAEnD,CAEDj3B,SACE,MAAM,KAAEzc,EAAF,KAAQJ,GAAS2c,KAAKxe,OAItB,UAAEm3C,EAAF,YAAaC,GAAgB54B,KAAKta,MACxC,IAAKrC,EAAKb,IAAK,OAAO,cAAC,IAAD,CAAU6D,GAAG,WACnC,GAAI5C,EAAM,CACR,MAAMyzC,EACJzzC,GAAQA,EAAKyrB,QAAQ2pB,GAAUA,EAAMt1C,QAAUF,EAAKE,QAMtD,OACE,sBAEEwD,MAAO,CAAE2G,MAAO,OAAQoD,OAAQ,QAFlC,UAIE,cAAC,cAAD,UACE,oBACE/J,MAAO,CACLwkB,WAAY,MACZvkB,MAAO,QACPqH,eAAgB,SAChBE,QAAS,QALb,mCAWF,cAAC,eAAD,UACE,oBACExH,MAAO,CACLwkB,WAAY,MACZvkB,MAAO,QACPqH,eAAgB,SAChBE,QAAS,QALb,2BAYF,qBACExH,MAAO,CACLwH,QAAS,OACTF,eAAgB,SAChBzB,WAAY,SACZ+jB,SAAU,OACVjjB,MAAO,QANX,SASE,cAACzG,EAAA,EAAD,CACEF,MAAO,CAAE2G,MAAOsS,KAAKta,MAAMsoB,UAAW4C,YAAa,WACnDlvB,UAAU,eACV6N,GAAIshB,IACJxqB,GAAG,WAJL,oBAUuB,IAAxB6wC,EAAa1qC,OACZ,eAAC4B,GAAA,EAAD,CAAK1M,UAAU,iGAAf,UACE,cAAC4M,GAAA,EAAD,CACE5M,UAAU,sCACVie,GAAI,KAEN,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC/B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,GAAGie,GAAI,GAAIC,GAAI,IAC9B,cAACtR,GAAA,EAAD,CACE5M,UAAU,+EACVie,GAAI,GACJC,GAAI,EAHN,SAKE,cAAC,GAAD,UACE,cAAClQ,GAAA,EAAD,UACE,cAACA,GAAA,EAAKhE,KAAN,UACE,eAACgE,GAAA,EAAKG,KAAN,CAAWnO,UAAU,cAArB,UACE,oBACEqF,MAAO,CACLkB,SAAU,OACVf,WAAY,MACZF,MAAO,mBAJX,iEASA,wBACEI,QAAS4Y,KAAKo4B,YACdrxC,MAAO,CAAE+xC,QAAS,OAAQC,OAAQ,QAFpC,kCAWV,cAACzqC,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,GAAIC,GAAI,IACvC,cAACtR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,KAC/B,cAACrR,GAAA,EAAD,CAAK5M,UAAU,YAAYie,GAAI,QAGjC,qBACE5Y,MAAO,CACLwH,QAAS,OACTF,eAAgB,SAChBzB,WAAY,SACZ+jB,SAAU,OACVjjB,MAAO,OACPoD,OAAQ,QAPZ,SAYE,cAACpB,GAAA,EAAD,CACE3I,MAAO,CAEL2G,MAAOsS,KAAKta,MAAMsoB,UAElBld,OAAQ,QACRyb,aAAc,QANlB,SAWE,eAACjmB,EAAA,EAAD,CAAM5E,UAAU,cAAcqF,MAAO,CAAEoK,QAAS,QAAhD,UACE,oBACEzP,UAAU,cACVqF,MAAO,CACL+pB,OAAQ,OACR7oB,SAAU,OACVf,WAAY,OALhB,yBAWA,gCA6CE,qBAAKH,MAAO,CAAEoK,QAAS,eAAvB,uBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CAAEoK,QAAS,cAAe5C,QAAS,QAD5C,SAGE,cAACwiB,GAAA,EAAD,CAEEpwB,GAAG,WACHuiB,QAAS+N,GAAYzwB,KAAK0wB,GAAWA,EAAOnpB,QAC5CipB,UAAQ,EAGRjqB,MAAO,CAAE2G,MAAO,QAChBJ,KAAK,QACL1G,SAAW7F,GACTif,KAAKC,SAAS,CAAE8I,SAAUhoB,EAAE8F,OAAOihB,cAErCqJ,cAAgBpwB,GAAMif,KAAKD,aAAahf,GAOxCqwB,YAAcC,GACZ,cAACC,GAAA,EAAD,IACMD,EACJ3oB,MAAM,kBACNvB,QAAQ,iBAMhB,qBAAKJ,MAAO,CAAEoK,QAAS,eAAvB,2BACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CACLoK,QAAS,cACT5C,QAAS,QAHb,SAME,cAAC6W,GAAA,EAAD,UACE,cAAC,GAAD,UACE,eAAC,KAAD,WACE,cAACyM,GAAA,EAAD,CACE1qB,QAAQ,YACRJ,MAAO,CAAE2G,MAAO,SAChBhM,UAAU,KAHZ,SAKGse,KAAKta,MAAM6zC,eAEd,eAACznB,GAAA,EAAD,WAEE,cAACN,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,oBAYF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,sBAWF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,0BAWF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,qBAWF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,oBAWF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,sBAUF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAK05B,yBACH34C,EAAE8F,OAAOihB,YADX,EAFJ,kCAgBZ,qBAAK/gB,MAAO,CAAEoK,QAAS,eAAvB,6BAGA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,eAAC+W,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,oBACH+F,YAAY,6BACZE,SAAW7F,IACTif,KAAKg4B,yBAAyBj3C,GAC9Bif,KAAKi4B,qBAAqBl3C,EAA1B,EAEF2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAM8zC,oBAOpB,eAACjoB,GAAA,EAAD,CACEhiB,GAAI6V,KAAWqD,OACfthB,QAAQ,oBACRY,MAAOiY,KAAKta,MAAM0gB,WAClBzlB,GAAG,OAJL,UAME,cAAC,KAAS8K,OAAV,8BAGA,cAAC+lB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,EAA5B,EALJ,kBAaF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,iBAaF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,kBAaF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,mBAYF,cAAC,KAAS3qC,QAAV,IAEA,cAAC,KAASrC,OAAV,+BAEA,cAAC+lB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,EAA5B,EALJ,iBAYF,cAACjnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKmQ,uBACHpvB,EAAE8F,OAAOihB,aAEX9H,KAAKy4B,uBAAuB,KAA5B,EALJ,0BA6CR,qBAAK1xC,MAAO,CAAEoK,QAAS,eAAvB,yBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CACLoK,QAAS,cACT5C,QAAS,QAHb,SAME,cAAC6W,GAAA,EAAD,UACE,cAAC,GAAD,UACE,eAAC,KAAD,WACE,cAACyM,GAAA,EAAD,CACE1qB,QAAQ,YACRJ,MAAO,CAAE2G,MAAO,SAChBhM,UAAU,KAHZ,SAKGse,KAAKta,MAAMoxC,kBAEd,eAAChlB,GAAA,EAAD,WACE,cAACN,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAK04B,4BACH33C,EAAE8F,OAAOihB,aAHf,6BAWF,cAAC0J,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,GACRif,KAAK04B,4BACH33C,EAAE8F,OAAOihB,aAHf,mCAgBZ,qBAAK/gB,MAAO,CAAEoK,QAAS,eAAvB,yBACA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,cAAC+W,GAAA,EAAD,UACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,aACH+F,YAAY,aACZE,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC2M,MAAM,OACN5G,MAAOkZ,KAAKta,MAAM2gB,iBAkBxB,qBAAKtf,MAAO,CAAEoK,QAAS,eAAvB,iBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CACLoK,QAAS,cACT5C,QAAS,QAHb,SAME,eAAC6W,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,MACH+F,YAAY,kBACZI,OACEkZ,KAAKta,MAAMuhB,IAAMjH,KAAKta,MAAM0hB,kBAC5BiB,QAAQ,GACV3a,MAAM,SAGR,cAAC0X,GAAA,EAAWqD,OAAZ,UACE,cAACrD,GAAA,EAAWvV,KAAZ,4BAKN,qBAAK9I,MAAO,CAAEoK,QAAS,eAAvB,kBACA,cAAC7K,EAAA,EAAKC,MAAN,CACEQ,MAAO,CAAEoK,QAAS,cAAe5C,QAAS,QAD5C,SAGE,eAAC6W,GAAA,EAAD,WAKE,eAACmM,GAAA,EAAD,CACEhiB,GAAI6V,KAAWy0B,QACf1yC,QAAQ,oBACRY,MAAOiY,KAAKta,MAAMyf,SAClBxkB,GAAG,yBAJL,UAQE,cAAC6wB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKu4B,eAAex3C,EAAE8F,OAAOihB,aAC7B9H,KAAKw4B,yBAAyB,EAA9B,EAHJ,0BAWF,cAAChnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKu4B,eAAex3C,EAAE8F,OAAOihB,aAC7B9H,KAAKw4B,yBAAyB,MAA9B,EAHJ,uBAWF,cAAChnB,GAAA,EAAD,CAAcjiB,GAAG,SAASzM,KAAK,SAA/B,SACE,qBACEsE,QAAUrG,IACRif,KAAKu4B,eAAex3C,EAAE8F,OAAOihB,aAC7B9H,KAAKw4B,yBAAyB,MAA9B,EAHJ,+BAWJ,cAAClyC,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,kBACH+F,YAAY,6BACZI,OACEkZ,KAAKta,MAAM+zC,gBACXz5B,KAAKta,MAAM2hB,mBACXrH,KAAKta,MAAM0hB,kBACXiB,QAAQ,UAMhB,qBAAKthB,MAAO,CAAEoK,QAAS,eAAvB,8BAGA,cAAC7K,EAAA,EAAKC,MAAN,CACE7E,UAAU,cACVqF,MAAO,CACLoK,QAAS,cACT5C,QAAS,OACTF,eAAgB,gBALpB,SAQE,cAAC/H,EAAA,EAAKG,QAAN,CACE8I,GAAG,WACHC,KAAM,EACN7O,GAAG,QACHoG,MAAO,CAAEiyC,OAAQ,OAAQtrC,MAAO,QAChC9G,SAAW7F,GAAMif,KAAKD,aAAahf,GACnC+F,MAAOkZ,KAAKta,MAAMujB,UAQtB,8BAC2B,KAAxBjJ,KAAKta,MAAMqjB,UACqB,IAAjC/I,KAAKta,MAAM8zC,mBACe,gBAA1Bx5B,KAAKta,MAAM0gB,YAET,+BADFpG,KAAKta,MAAMoxC,iBAEe,KAA1B92B,KAAKta,MAAM2gB,YACa,oBAAxBrG,KAAKta,MAAMyf,SACT,cAACle,EAAA,EAAD,CACEF,MAAO,CACL+pB,OAAQ,cACR7e,gBAAiB,UACjBvE,MAAO,MACPqD,UAAW,OAEb3J,QAAUrG,IACRif,KAAK25B,wBAAwB54C,GAC7Bif,KAAK63B,mBACL73B,KAAK43B,cAAL,EAEFzwC,QAAQ,YACRrE,KAAK,SAbP,oBAkBA,cAACmE,EAAA,EAAD,CACEF,MAAO,CACL+pB,OAAQ,cACRpjB,MAAO,MACPqD,UAAW,OAEb5J,QAAQ,YACRK,UAAQ,EAPV,kCAoBnB,CACC,OAAO,uBAEV,EAGH,MAAMypB,GAAc,CAClB,CAAElpB,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,eACT,CAAEA,MAAO,YACT,CAAEA,MAAO,WACT,CAAEA,MAAO,QACT,CAAEA,MAAO,WACT,CAAEA,MAAO,QACT,CAAEA,MAAO,SACT,CAAEA,MAAO,UACT,CAAEA,MAAO,UACT,CAAEA,MAAO,QACT,CAAEA,MAAO,UACT,CAAEA,MAAO,aACT,CAAEA,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,aACT,CAAEA,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,QACT,CAAEA,MAAO,eACT,CAAEA,MAAO,UAoBLyG,GAAYC,KAAOC,GAAI;;;;;;;;;;;;EA+BvBkjB,IAjBYnjB,KAAOC,GAAI;;;;;;;EASVD,KAAOC,GAAI;;;;;;EAQVD,KAAOC,GAAI;;;;;;GAQhBC,oBACblJ,aAzDuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBI,KAAMiC,EAAMrD,UAAUkkB,QAAQ9iB,KAC9Bc,KAAMmB,EAAM/B,SAASjB,QACrBA,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACLyQ,UAAYuJ,GAAYha,EAASyQ,GAAUuJ,IAE3C09B,sBAAwB19B,IACtBha,UpLj+BgCuB,EoLi+BDyY,EpLh+B5B,CAACha,EAAUC,EAAX,KAA0C,IAArB,YAAEC,GAAkB,EAC9BD,IAAWwB,SAASjB,QAApC,MACMW,EAAOlB,IAAWwB,SAASN,KAE3BksB,EAAiB9rB,EAAKyqB,eAEtBgrB,EAAWz1C,EAAKslB,SAChB+wB,EAAer2C,EAAK81C,aACpBH,EAAa31C,EAAKqzC,gBAClBiD,EAAat2C,EAAK4iB,WAClB2zB,EAAMv2C,EAAKwjB,IAAMxjB,EAAK2jB,iBACtB6yB,GACJx2C,EAAKg2C,gBACLh2C,EAAK2jB,iBACL3jB,EAAK4jB,oBACLgB,QAAQ,GACJ6xB,EAAWz2C,EAAK0hB,SAChBg0B,EAAa11C,EAAK2iB,WAElBizB,EAAQ51C,EAAKwlB,MAEb+I,EAAOvuB,EAAK6zC,mBACZrlB,EAAOxuB,EAAK8zC,oBACZrlB,EAAQzuB,EAAK+zC,qBACbrlB,EAAQ1uB,EAAKg0C,oBACbrlB,EAAO3uB,EAAKi0C,oBACZrlB,EAAW5uB,EAAKk0C,wBAEhBwC,EAAQ12C,EAAKyJ,MACbktC,EAAW32C,EAAKkV,SAEhB0hC,EAAe52C,EAAKkjB,aACpB2zB,EAAiB72C,EAAKojB,eACtB0zB,EAAe92C,EAAK+2C,aACpBC,EAAah3C,EAAKsjB,WAElBuL,GAAO,IAAIzJ,MAAO0J,WACxB,IAAIC,EAAI,GAENA,EADEF,GAAQ,GAAKA,EAAO,EAClB,KACKA,GAAQ,GAAKA,EAAO,GACzB,KACKA,GAAQ,IAAMA,EAAO,GAC1B,KAEA,KAGNlwB,IACGC,YACAC,WAAW,QACXC,IAAIc,EAAKb,KACTF,WAAW,0BACX2G,IAAI,CACHmX,KAAMhe,IAAcC,UAAUsmB,UAAUC,SAAS,IAAIC,MAIrDpF,OAAQ2E,OAAO3kB,EAAK+1C,mBAEpB12C,KAAM0vB,EAENjD,eAAgBA,EAEhB2pB,SAAUA,EACVY,aAAcA,EACdV,WAAYA,EACZW,WAAYA,EACZC,IAAKA,EACLC,KAAM7xB,OAAO6xB,GACbC,SAAUA,EACVf,WAAYA,EAEZE,MAAOA,EAEPrnB,KAAMA,EACNC,KAAMA,EACNC,MAAOA,EACPC,MAAOA,EACPC,KAAMA,EACNC,SAAUA,EAEV8nB,MAAOA,EACPC,SAAUA,EAEVC,aAAcA,EACdC,eAAgBA,EAChBC,aAAcA,EACdE,WAAYA,IAEb73C,MAAK,KACJV,EAAS,CAAEY,KAAM,eAAjB,IAEDC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GA9CJ,IAjDkCS,KoL69B7B,MAiDP4Y,6BAAkB7a,GACXA,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAY,OACZC,IAAKf,EAAM6B,KAAKb,MAJQ,KAHjBmM,CAWb2qC,IC9jCa7zC,oBAbUC,IAChB,CACLhD,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACL0G,mBAAqBnF,GAASvB,EAAS0G,GAAmBnF,IAC1DihB,aAAejhB,GAASvB,EAASwiB,GAAajhB,IAC9C84B,kBAAoB94B,GAASvB,EAASq6B,GAAkB94B,OAI7CgC,EA7Kf,SAAqBjE,GAGnB,MAAO87B,EAAaC,GAAkBv3B,mBAAS,KACxCk3B,EAAMC,GAAWn3B,oBAAS,GAE3Bo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,MAEJoc,EAAOgU,GAAYr3B,mBAASo3B,GAC7BO,EAAe58B,IACfA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE7CuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAC9C,EAGG02B,EAAkBF,EAAY98B,KAAI,CAACi9B,EAAY/wB,IAEjD,+BACG+wB,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,UAFLP,KAwCb,OACE,eAACpG,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBAnCa,MACnB,MAAM5D,EAAO,CAEXupB,KAAMxrB,EAAMsF,MAAMunB,OAAO,QACzBtlB,MAAOvH,EAAMsF,MAAMunB,OAAO,UAE1BmO,KAAMh7B,EAAMsF,MAAMunB,OAAO,KAAO,EAChCrlB,IAAKxH,EAAMsF,MAAMunB,OAAO,MACxBxrB,OAAQ,CAGNy6B,YAAaA,IAIjB97B,EAAMoH,mBAAmBnF,GACzBjC,EAAM+6B,kBAAkB94B,GACxBjC,EAAM6L,cAEF6vB,GACF17B,EAAMkjB,aAAajhB,EACpB,EAeG6D,GACA9F,EAAMwjB,iBAAN,EAJJ,UAqBE,qBAAKje,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAKqsB,MAGP,eAACl3B,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,sBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,OACHiG,SAAW7F,GAAM48B,EAAY58B,GAC7B+F,MAAOuiB,EAAMpb,UAIjB,eAAC3H,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,uBACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,IACL1e,SAAW7F,GAAM48B,EAAY58B,GAC7B+F,MAAOuiB,EAAM3e,WAEf,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4lB,EAAMpc,QACZmF,MAAO,CACL,IACA,KACA,IACA,KACA,IACA,IACA,OAEFrN,SAAWhE,IACTs8B,EAAS,IAAKhU,EAAOpc,QAASlM,GAA9B,UAMR,cAACuF,EAAA,EAAKC,MAAN,UACE,cAACU,EAAA,EAAD,CACEvF,UAAU,wBACVf,GAAG,cACHyG,QAAUrG,IACRw8B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,EALJ,2BAqBF,qBAAKr2B,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAA9C,8BAMP,ICvEkB43C,OA5FmB,KAElC,MAAO5T,EAAWC,GAAgB/gC,mBAAS,KACpC20C,EAASC,GAAc50C,mBAAS,KAChC60C,EAAaC,GAAkB90C,mBAAS,KACxCkW,EAAS6+B,GAAc/0C,mBAAS,KAChC0E,EAAUk8B,GAAe5gC,mBAAS,KAClC+uB,EAAMiB,GAAWhwB,mBAAS,IAiB7B,OACI,cAAC,GAAD,CAAU4B,KAAK,WAAWgG,OAAO,mBAAjC,SACA,sBAAKlM,UAAY,SAAjB,UACI,gDACA,4EACA,uBAAMmN,SAnBI9N,IAClBA,EAAEsG,iBACF,MAAM2zC,EAAQ,CAAC9+B,UAASxR,WAAUqqB,QAClC9xB,QAAQC,IAAI83C,GACZ/wB,MAAM,8BAA+B,CACjCC,OAAQ,OACRE,QAAS,CAAC,eAAgB,oBAC1BC,KAAM4wB,KAAKC,UAAUF,KACtBp4C,MAAK,KACJK,QAAQC,IAAI,kBAAZ,GALJ,EAeQ,UAEI,eAACoD,EAAA,EAAKC,MAAN,WACA,cAACD,EAAA,EAAKE,MAAN,0BAUA,cAACF,EAAA,EAAKG,QAAN,CACQ3D,KAAK,OACLnC,GAAG,YACHiG,SAAW7F,GAAMgmC,EAAahmC,EAAE8F,OAAOC,OACvCA,MAAOggC,OAId,qBAAK//B,MAAO,CAAEoK,QAAS,cAGxB,eAAC7K,EAAA,EAAKC,MAAN,WACA,+CACA,cAACD,EAAA,EAAKG,QAAN,CACQ3D,KAAK,OACLnC,GAAG,UACHiG,SAAW7F,GAAM65C,EAAW75C,EAAE8F,OAAOC,OACrCA,MAAO6zC,OAKf,qBAAK5zC,MAAO,CAAEoK,QAAS,cAGvB,4DACA,yBACArK,MAAS+zC,EACTj0C,SAAW7F,GAAK+5C,EAAe/5C,EAAE8F,OAAOC,OAFxC,UAGI,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,SAAd,uBAMJ,cAAC,GAAD,IAtDJ,cALR,ECnBWq0C,OAbS,IAGhB,cAAC,GAAD,CAAUvzC,KAAK,WAAWgG,OAAO,mBAAjC,SACA,sBAAKlM,UAAY,SAAjB,UACI,4CACA,wRACA,cAAC,GAAD,SCkHD+D,oBAXUC,IAChB,CACLhD,QAASgD,EAAM/B,SAASjB,YAGAR,IACnB,CACLk5C,4BAA8B33C,GAASvB,ECzHCuB,IACjC,CAACvB,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB,MAAMshC,EAAOhjC,EAAKZ,OAAOy6B,YAEnBj7B,EAAY0H,IACZ6+B,EAAQvmC,EAAUumC,QAGxBnC,EAAKj8B,SAASmvB,IACZ,IAAIzwB,EAAS7G,EACVC,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACXC,IAAIkB,EAAKupB,MACT1qB,WAAWmB,EAAK+4B,MAChBj6B,MACHqmC,EAAMnmC,IAAIyG,EAAQ,CAAEvI,GAAIuI,EAAOvI,GAAI88B,WAAY9D,GAA/C,IAEFiP,EACGC,SACAjmC,MAAK,KACJV,EAAS,CAAEY,KAAM,cAAe2jC,QAAhC,IAED1jC,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GANJ,ED0E8Co4C,CAA4B33C,OAIjEgC,EAtHOjE,IACpB,MAAOklC,EAAUC,GAAe3gC,mBAAS,KAClCq1C,EAASC,GAAct1C,mBAAS,KAChCu1C,EAAaC,GAAkBx1C,mBAAS,KAExC86B,EAAMC,GAAW/6B,oBAAS,IAC1Bg7B,EAAQC,GAAaj7B,mBAAS,uBAuCrC,OAJAI,qBAAU,KACRnD,QAAQC,IAAI,QAASwjC,EAAU,YAAa2U,EAAS,UAAWE,EAAhE,GACC,CAAC7U,IAGF,gCACE,wBACEhlC,UAAU,qCACV0F,QAAS,KAxBb25B,GAASD,QAEPG,EADEH,EACQ,sBAEA,qBAkBV,SAIGE,IAEFF,EACC,cAAC,GAAD,IAEA,eAACx6B,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBAjDS,MACnB,MAAM5D,EAAO,CACXZ,OAAQ,CACNmH,KAAM08B,EACNh8B,SAAU2wC,EACVpuC,QAASsuC,IAKb/5C,EAAM45C,4BAA4B33C,EAAlC,EAwCQ6D,GACA9F,EAAMmkB,UAAUnkB,EAAMua,OAAS,GAC/Bva,EAAMwjB,iBAAN,EALJ,UAmBE,cAACkX,GAAD,CAAgBC,iBA1CEp7B,IACpBA,EAAE8F,OAAOihB,YACX6e,EAAY5lC,EAAE8F,OAAOihB,aAErB6e,EAAY5lC,EAAE8F,OAAOC,MACtB,IAuCK,uBAAOrC,KAAQ,WACd3B,KAAO,SACPgE,MAASu0C,EACT3yC,MAAM,WACN9B,SAAa7F,GAAMu6C,EAAWv6C,EAAE8F,OAAOC,OACvCkB,GAAI,CAAE0F,MAAO,OAAQ2uB,WAAY,gCA1BpC,KA6BG,uBAAO53B,KAAQ,UACf3B,KAAO,OACPgE,MAAOy0C,EACP7yC,MAAQ,OACR9B,SAAW7F,GAAMy6C,EAAez6C,EAAE8F,OAAOC,OACzCkB,GAAI,CAAE0F,MAAO,OAAQ2uB,WAAY,gCAlCpC,KAqCE,qBAAKt1B,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,4BAA4BoB,KAAK,SAAnD,yBAjDV,IE9CK,MAAM24C,GAAgB,IAA2C,IAA1C,KAAElwC,EAAF,QAAQJ,EAAR,OAAiB4Q,EAAjB,UAAyB4J,GAAgB,EACrE,MACMX,EAAkB,IAAM7Z,GAAQ,GAEtC,OACE,gCACE,cAAC5C,EAAA,EAAD,CAASR,MAAM,MAAMU,OAAK,EAA1B,SACE,qBAAK/G,UAAU,SAAf,SACE,cAACoG,GAAD,CAAWV,QAPA,IAAM+D,GAAQ,SAU7B,eAACG,GAAA,EAAD,CACEC,KAAMA,EACNC,OAAQwZ,EACR1X,KAAK,KACL,kBAAgB,WAChBC,UAAQ,EALV,UAOE,cAACjC,GAAA,EAAMG,OAAP,CAAc9B,aAAW,EAAzB,SACE,cAAC2B,GAAA,EAAM/J,MAAP,CAAaZ,GAAG,WAAWe,UAAU,4BAArC,oDAIF,cAAC4J,GAAA,EAAMI,KAAP,UACE,cAAC,GAAD,CACEsZ,gBAAiBA,EACjBjJ,OAAQA,EACR4J,UAAWA,WAvBrB,ECmGalgB,oBAZUC,IAChB,CACLjC,KAAMiC,EAAMmD,SAAS6yC,gCAIGx5C,IACnB,CACLy5C,0BAA4B3xC,GAAS9H,GF9C9B,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBAGX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,oBAAqBmI,QAASxH,GAA/C,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,0BAA2BE,OAA5C,GAfJ,OEoBSyC,EAhGf,SAAqCjE,GACnC,MAAO4K,EAAMC,GAAWrG,mBAAS,IA8CjC,OA3CAI,qBAAU,KACR5E,EAAMm6C,2BAAN,GAEC,CAACn6C,EAAMsF,MAAMtF,EAAMkJ,SAASlJ,EAAMyL,QAAQzL,EAAMua,SAoCnD3V,qBAAU,KAlC2BwF,WAEnCS,EAAQ,IAGR7K,EAAMiC,KAAK+G,SAASjI,IAElB,IAAI5B,EAAK4B,EAAI5B,GACTqJ,EAAOzH,EAAIyH,KACXU,EAAWnI,EAAImI,SACfuC,EAAU1K,EAAI0K,QAGlBZ,GAASD,GAAS,IACbA,EACH,CACEpC,KAAMA,EACNrJ,GAAIA,EACJsM,QAASA,EACTvC,SAAUA,KANd,IAWF2B,GAASD,IACP,IAAI48B,EAAU,IAAI58B,GAKlB,OAJA48B,EAAQyL,MAAK,CAACnhC,EAAGohC,IACRphC,EAAEtJ,KAAO0qC,EAAE1qC,MAAQ,EAAIsJ,EAAEtJ,KAAO0qC,EAAE1qC,KAAO,EAAI,IAG/Cg/B,CAAP,GANF,EAWA4S,EAA8B,GAC7B,CAACp6C,EAAMiC,OAGR,mCACG2I,EAAKI,OACJ,mCACE,cAACC,GAAA,EAAD,UACGL,EAAK5L,KAAI,CAACwJ,EAAM0C,IAEf,eAACC,GAAA,EAAD,CAEEjL,UAAU,OACVqF,MAAO,CAAE6F,WAAY,YAHvB,UAME,8BAAI5C,EAAKU,SAAT,IAAoBV,EAAKiD,QAAzB,IAAmCjD,EAAKA,QAN1C,UASE,qBAAKtI,UAAU,QAAf,SACE,cAAC,GAAD,CACEf,GAAIqJ,EAAKrJ,GACTmG,MAAOtF,EAAMsF,MACbiV,OAAQva,EAAMua,OACd4J,UAAWnkB,EAAMmkB,gBAbf,OAAMjZ,WAqBpB,qBAAKhL,UAAU,yBAAf,SACE,oEAKT,ICxFM,MAAMm6C,GAAyB,IAAgC,IAA/B,YAACxuC,EAAD,MAAcvG,EAAd,IAAqB2sC,GAAS,EAEjE,MAAO13B,EAAQ4J,GAAa3f,mBAAS,IAC9BuF,EAAMJ,GAAWnF,oBAAS,GAEjC,OACI,sBAAKtE,UAAU,yBAAf,UACI,cAAC,GAAD,CAA6BoF,MAAOA,EAAO2sC,IAAKA,EAAK13B,OAAQA,EAAQ4J,UAAWA,IAChF,cAAC81B,GAAD,CACAlwC,KAAMA,EACNJ,QAASA,EACT4Q,OAAQA,EACR4J,UAAWA,MAPnB,ECqBem2B,OA5BS,IAGhB,eAAC,GAAD,CAAUl0C,KAAK,WAAWgG,OAAO,mBAAjC,UACA,sBAAKlM,UAAY,YAAjB,UACI,4CACA,wRACA,cAAC,GAAD,OAGJ,sBAAKA,UAAY,eAAjB,UAQI,gDAEA,cAACm6C,GAAD,UClBD,SAASE,GAAT,GAAqD,IAAhC,eAAEC,EAAF,UAAkBte,GAAa,EACjE,MAAO7B,EAASC,GAAc91B,mBAAS,OA6EvCI,qBAAU,KA1Ea,MACrB,GAAIs3B,EACF,OAAQ7B,GACN,QACA,IAAK,MACHmgB,EAAe,IACf,MACF,IAAK,YACHA,EAAe,aACf,MACF,IAAK,QACHA,EAAe,SACf,MACF,IAAK,SACHA,EAAe,UACf,MACF,IAAK,QACHA,EAAe,SACf,MACF,IAAK,SACHA,EAAe,UACf,MACF,IAAK,eACDA,EAAe,gBACf,MACJ,IAAK,eACDA,EAAe,gBACf,MACJ,IAAK,QACDA,EAAe,SACf,MACJ,IAAK,UACDA,EAAe,gBAMrB,OAAQngB,GACN,QACA,IAAK,MACHmgB,EAAe,IACf,MACF,IAAK,YACHA,EAAe,0BACf,MACF,IAAK,QACHA,EAAe,sBACf,MACF,IAAK,SACHA,EAAe,uBACf,MACF,IAAK,QACHA,EAAe,sBACf,MACF,IAAK,SACHA,EAAe,uBACf,MACF,IAAK,eACDA,EAAe,6BACf,MACJ,IAAK,eACHA,EAAe,6BACf,MACF,IAAK,QACDA,EAAe,sBACf,MACJ,IAAK,UACDA,EAAe,wBAGtB,EAIDjgB,EAAgB,GACf,CAACF,IAIJ,OACE,cAAC,GAAD,CACEl7B,GAAG,eACH8G,QAAQ,uBACRhE,KAAMo4B,EACNzpB,MAPiB,CAAC,MAAO,YAAa,QAAS,SAAU,QAAS,SAAU,eAAgB,eAAgB,QAAS,WAQrHrN,SAAWhE,GAAM+6B,EAAW/6B,IAGjC,CC8Ic0E,mBAAQ,MARKvD,IACnB,CACL0G,mBAAqBC,GAAa3G,EAAS0G,GAAmBC,IAC9D6b,aAAejhB,GAASvB,EAASwiB,GAAajhB,IAC9C84B,kBAAoB94B,GAASvB,EAASq6B,GAAkB94B,OAI7CgC,EAnOf,SAAgCjE,GAC9B,MAAOu7B,EAAUC,GAAeh3B,mBAAS,KAClCi2C,EAAiBC,GAAsBl2C,mBAAS,KAChDm2C,EAAWC,GAAgBp2C,mBAAS,KACpCq2C,EAAaL,GAAkBh2C,mBAAS,KAExChD,EAAKqV,GAAUrS,mBAAS,KAGxBk3B,EAAMC,GAAWn3B,oBAAS,GAO3Bo3B,EAAe,CACnBnvB,KAAM,GACNvD,SAAU,EACVuC,QAAS,IACT6vB,OAAQ,KAEHzT,EAAOgU,GAAYr3B,mBAASo3B,GAkB7BR,EAAaE,IACjBO,EAAS,IAAKhU,EAAOyT,OAAQA,GAA7B,GAGKQ,EAAaC,GAAkBv3B,mBAAS,IAW/CI,qBAAU,KACRnD,QAAQC,IAAI,cAAeo6B,EAA3B,GACC,CAACA,IAEJ,MAAME,EAAkBF,EAAY98B,KAAI,CAACi9B,EAAY/wB,IAEjD,+BACG+wB,EAAWxvB,KADd,KACsBwvB,EAAW/yB,SAC9B+yB,EAAWxwB,UAFLP,MAQNqP,EAAQ4J,GAAa3f,mBAAS,GAgCrC,OACE,eAACM,EAAA,EAAD,CACEuI,SAAW9N,IACTA,EAAEsG,iBA7Ba,MACnB,MAAM5D,EAAO,CAMXZ,OAAQ,CACNsmB,KAAM4T,EACNkf,gBAAiBA,EACjBE,UAAWA,EACXE,YAAaA,EAEb/e,YAAaA,IAObJ,GACF17B,EAAMkjB,aAAajhB,EACpB,EAQG6D,EAAc,EAHlB,UAcE,cAACy0C,GAAD,CAAaC,eAAgBA,EAAgBte,WAAW,IAExD,eAACp3B,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,wBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,WACHiG,SAAW7F,IACTi8B,EAAYj8B,EAAE8F,OAAOC,MAArB,EAEFH,UAAQ,IAGZ,cAACL,EAAA,EAAKE,MAAN,+BACE,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACLnC,GAAG,kBACHiG,SAAW7F,IACTm7C,EAAmBn7C,EAAE8F,OAAOC,MAA5B,IAIJ,cAACR,EAAA,EAAKE,MAAN,yBACA,cAACF,EAAA,EAAKG,QAAN,CACE3D,KAAK,SACLnC,GAAG,YACHiG,SAAW7F,IACTq7C,EAAar7C,EAAE8F,OAAOC,MAAtB,OAON,qBAAKC,MAAO,CAAEoK,QAAS,YAAvB,SACE,6BAAKqsB,MAGP,cAACl3B,EAAA,EAAKC,MAAN,UAQE,cAAC21B,GAAD,CAAgBC,iBApIIp7B,IACpBA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOihB,cAEpCuV,EAAS,IAAKhU,EAAOpb,KAAMlN,EAAE8F,OAAOC,OACrC,MAiIC,eAACR,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,4BACA,eAAC4e,GAAA,EAAD,WACE,cAAC9e,EAAA,EAAKG,QAAN,CACE9F,GAAG,WACHmC,KAAK,SACLuiB,IAAI,IACJC,KAAK,KACL1e,SAAW7F,GArJAA,KACfA,EAAE8F,OAAOihB,YACXuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOihB,cAE7CuV,EAAS,IAAKhU,EAAO,CAACtoB,EAAE8F,OAAOlG,IAAKI,EAAE8F,OAAOC,OAC9C,EAgJwB62B,CAAY58B,GAC7B+F,MAAOuiB,EAAM3e,WAEf,cAAC,GAAD,CACE/J,GAAG,UACH8G,QAAQ,sBACRhE,KAAM4lB,EAAMpc,QACZmF,MAAO,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,MAAO,OAAQ,QACvDrN,SAAWhE,IACTs8B,EAAS,IAAKhU,EAAOpc,QAASlM,GAA9B,UAMR,cAACuF,EAAA,EAAKC,MAAN,UACE,cAACU,EAAA,EAAD,CACEvF,UAAU,wBACVf,GAAG,iBACHyG,QAAS,KAlJQwE,WACJ,KAAfyd,EAAMpb,KACR0uB,GAAUtT,EAAMpb,KAAM2uB,GAAWh6B,MAAK,KACpC26B,GAAgBD,GAAgB,IAAIA,EAAajU,KACjDgU,EAASD,EAAT,IAGF/kB,EAAO,qCACR,EA2IOulB,EAAkB,EAJtB,8BAqBF,qBAAK72B,MAAO,CAAE6F,WAAY,UAA1B,SACE,cAAC3F,EAAA,EAAD,CAAQvF,UAAU,uBAAuBoB,KAAK,SAASsE,QAAS,KAvMpE+1B,GAASD,EAuML,wBAOP,ICzNc,SAASof,GAAS96C,GAC/B,OACE,mCACGA,EAAM+jC,MAAM/kC,KAAI,CAACilC,EAAS/4B,IACzB,qBAAKhL,UAAU,YAAf,SAEE,qBAAKA,UAAU,cAAf,SAEE,eAAC+K,GAAA,EAAD,WAIE,eAACk5B,GAAA,EAAD,CAAejkC,UAAU,UAAzB,UACE,qBAAKA,UAAU,YAAf,SAA4B+jC,EAAQtc,OAMnCsc,EAAQ4W,YACP,qBAAK36C,UAAU,eAAf,SAA+B+jC,EAAQ4W,cACrC,KAEH5W,EAAQwW,gBACP,qBAAKv6C,UAAU,mBAAf,SAAmC+jC,EAAQwW,kBACzC,KAEHxW,EAAQ0W,UACP,qBAAKz6C,UAAU,aAAf,SAA6B+jC,EAAQ0W,YACnC,QAKN,cAACxvC,GAAA,EAAD,UACG84B,EAAQ9iB,IAAM,mBAAGhb,KAAM89B,EAAQ9iB,IAAjB,SAAuB8iB,EAAQ9iB,MAAW,aA/BhC,YAAWjW,QAuCnD,C,yBCgEcjH,oBAZUC,IAChB,CACLmD,SAAUnD,EAAMmD,SAASklC,eAID7rC,IACnB,CACL8rC,WAAaxK,GAAUthC,G3K/DlB,CAACA,EAAUC,EAAX,KAA2C,IAAtB,aAAE4H,GAAmB,EAE/C,MAAMrH,EAAUP,IAAWwB,SAASjB,QAC9BoG,EAAU3G,IAAWwB,SAASN,KAAKb,IAEzC,IAAIA,EACJ,OAAQE,EAAQI,MACd,IAAK,iBAML,IAAK,iBAML,IAAK,kBAML,QACEN,EAAMsG,EACN,MAjBF,IAAK,eAML,IAAK,eAML,IAAK,gBACHtG,EAAME,EAAQyC,MAOlB4E,IACGzH,WAAW,eACXC,IAAIC,GACJF,WAAW,gBACX+H,MACAzH,MAAMqJ,IACL,MAAMxI,EAAO,GACbwI,EAASzB,SAASjI,IAChBkB,EAAK0I,KAAK5J,EAAIkB,OAAd,IAEFvB,EAAS,CAAEY,KAAM,cAAemI,QAASxH,GAAzC,IAEDV,OAAOC,IACNd,EAAS,CAAEY,KAAM,oBAAqBE,OAAtC,GAbJ,O2KqCWyC,EA3GMjE,IACnB,MAAOysC,EAAQC,GAAaloC,mBAAS,KAG9B+V,EAAQ4J,GAAa3f,mBAAS,GAMrCI,qBAAU,KACR5E,EAAMwsC,YAAN,GACC,CAACjyB,IA8DJ,OAVA3V,qBAAU,KAlDWwF,WAEnBsiC,EAAU,IAGV1sC,EAAMqH,SAAS2B,SAASjI,IACtB,IAAIw6B,EAAWx6B,EAAI4mB,KACfmU,EAAc/6B,EAAI+6B,YAClB38B,EAAK4B,EAAI5B,GACTs8B,EAAW16B,EAAI06B,SACfof,EAAc95C,EAAI85C,YAClBvY,EAAgBvhC,EAAIuhC,cACpBtE,EAAaj9B,EAAIi9B,WACjBE,EAAiBn9B,EAAIm9B,eACrB/c,EAAMpgB,EAAIogB,IACVid,EAAcr9B,EAAIi+B,MAIpB0N,EADCpK,EACUmK,GAAW,IACjBA,EACH,CACE9kB,KAAM4T,EACNE,SAAUA,EACVof,YAAaA,EACb/e,YAAaA,EACb38B,GAAIA,EACJmjC,cAAeA,EACftE,WAAYA,EACZE,eAAgBA,EAChB/c,IAAKA,EACLid,YAAaA,IAKNqO,GAAW,IACjBA,EACH,CACE9kB,KAAM4T,EACNE,SAAUA,EACVof,YAAaA,EACb/e,YAAaA,EACb38B,GAAIA,IAGV,GAzCF,EA+CAwtC,EAAc,GAIb,CAAC3sC,EAAMqH,WAEV5F,QAAQC,IAAI+qC,GAGV,qCACE,qBAAKvsC,UAAU,wBAAf,0BACA,qBAAKA,UAAU,cAAf,SACE,qBAAKA,UAAU,OAAf,SAGA,cAAC46C,GAAD,CACEjvC,YA7EY,KAClBsY,EAAU5J,EAAS,EAAnB,EA6EMnV,SAAUpF,EAAMoF,SAChB2+B,MAAOgX,KAAOtO,EAAQ,CAAC,gBACvBzK,OAAO,EACP18B,MAAOtF,EAAMsF,cAZrB,ICxEa,SAAS01C,KACtB,MAAOhgC,EAASC,GAAczW,oBAAS,GACvCI,qBAAU,KACRsW,YAAW,IAAMD,GAAW,IAAQ,KAApC,IAGF,MAAO3V,EAAOg8B,GAAY98B,mBAASooB,QAMnC,OACE,cAAC,GAAD,CAAUxmB,KAAK,WAAWgG,OAAO,kBAAjC,SAEE,eAACwnC,GAAA,EAAD,CACEC,iBAAiB,WACjB10C,GAAG,iBACHe,UAAU,4BAHZ,UAKE,cAAC4zC,GAAA,EAAD,CAAKhjC,SAAS,WAAWvK,MAAM,YAAYrG,UAAU,UAArD,SAEE,cAAC8kC,GAAD,CAAU1/B,MAAOA,EAAOF,SAAUk8B,MAEpC,eAACwS,GAAA,EAAD,CAAKhjC,SAAS,UAAUvK,MAAM,cAAcrG,UAAU,UAAtD,UAEE,cAAC,GAAD,CAAYoF,MAAOA,EAAOF,SAAUk8B,IAGpC,cAAC,GAAD,IAEA,cAAC,GAAD,OAOF,cAACwS,GAAA,EAAD,CAAKhjC,SAAS,gBAAgBvK,MAAM,gBAAgBrG,UAAU,UAA9D,SACE,cAAC,GAAD,CAAcoF,MAAOA,MAEvB,cAACwuC,GAAA,EAAD,CAAKhjC,SAAS,YAAYvK,MAAM,YAAYrG,UAAU,UAAtD,SACE,cAAC,GAAD,CAAWoF,MAAOA,UAQ3B,C,yBCxDM,SAAS21C,GAAQj7C,GACtB,MAAoC,eAAhCA,EAAMkB,QAAQoC,iBAEhB,eAACrD,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,UAA3B,UAaE,cAAC,GAAD,CACEqW,SAAS,IACTrQ,KAAMlG,EAAMkB,QAAQgC,UAAY,IAAMlD,EAAMkB,QAAQiC,WAEtD,cAAC,GAAD,CAASoT,SAAS,IAAIrQ,KAAMlG,EAAMkB,QAAQa,QAC1C,8BAAI/B,EAAMkB,QAAQoC,iBAAlB,cACA,cAACyD,EAAA,EAAD,CAASR,MAAM,WAAf,SACE,cAAC,KAAD,CAAYJ,KAAK,YAAY2R,UAAU,IAAIvS,MAAO,CAAE21C,MAAO,SAA3D,SACE,cAAC,KAAD,YAONz5C,QAAQC,IAAI1B,GAEZ,eAACC,EAAA,EAAD,CAAW6mB,OAAK,EAAC5mB,UAAU,UAA3B,UAEE,cAAC,GAAD,CACEqW,SAAS,IACTrQ,KAAMlG,EAAMkB,QAAQgC,UAAY,IAAMlD,EAAMkB,QAAQiC,SAAW,KAAMnD,EAAMkB,QAAQ0C,iBAErF,cAAC,GAAD,CAAS2S,SAAS,IAAIrQ,KAAMlG,EAAMkB,QAAQa,QAC1C,8BAAI/B,EAAMkB,QAAQoC,iBAAlB,cACA,cAACyD,EAAA,EAAD,CAASR,MAAM,WAAf,SACE,cAAC,KAAD,CAAYJ,KAAK,YAAY2R,UAAU,IAAIvS,MAAO,CAAE21C,MAAO,SAA3D,SACE,cAAC,KAAD,WAQT,C,8EC9DM,MAAMC,GACC,UADDA,GAGE,UAHFA,GAII,UCKV,SAASC,GAAT,GAA4C,IAA9B,QAAEzxC,EAAF,eAAW0xC,GAAkB,EAEhD,OACE,qCACE,cAAC30C,GAAD,CACEH,MAAM,gEACNK,KAAK,QACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,eAGP,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,OACLM,MAAM,eACN1B,MAAM,SACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASC,GAAT,GAA8C,IAA9B,QAAE3xC,EAAF,eAAW0xC,GAAkB,EAClD,OACE,qCACE,cAAC30C,GAAD,CACEE,KAAK,QACLM,MAAM,eACN1B,MAAM,SACNY,KAAK,kBAGP,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,OACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,IAIJ,cAAC30C,GAAD,CACEE,KAAK,QACLM,MAAM,cACN1B,MAAM,QACNY,KAAK,4BA+BZ,CAEM,SAASm1C,KACd,OACE,qCACE,cAAC70C,GAAD,CACEH,MAAM,0BACNK,KAAK,QACLM,MAAM,aACN1B,MAAM,YACNY,KAAK,gBAEP,cAACM,GAAD,CACEH,MAAM,6BACNK,KAAK,QACLM,MAAM,cACN1B,MAAM,SACNY,KAAK,WAEP,cAACM,GAAD,CACEH,MAAM,oBACNK,KAAK,OACLM,MAAM,qBACN1B,MAAM,YACNY,KAAK,eAEN,cAACM,GAAD,CACCH,MAAM,8BACNK,KAAK,QACLM,MAAM,oBACN1B,MAAM,SACNY,KAAK,gBAEP,cAACM,GAAD,CACEH,MAAM,mCACNK,KAAK,QACLM,MAAM,YACN1B,MAAM,SACNY,KAAK,cAEP,cAACM,GAAD,CACEH,MAAM,wDACNK,KAAK,OACLM,MAAM,aACN1B,MAAM,QACNY,KAAK,sBAIZ,CCvIM,SAASg1C,GAAT,GAA6B,IAAf,SAAEv/B,GAAY,EACjC,OACE,qCACGA,EACC,cAACnV,GAAD,CACEH,MAAM,yGACNK,KAAK,QACLM,MAAM,eACN1B,MAAM,YACNY,KAAK,eAGP,cAACM,GAAD,CACEH,MAAM,yGACNK,KAAK,QACLM,MAAM,eACN1B,MAAM,YACNY,KAAK,eAGT,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,OACLM,MAAM,eACN1B,MAAM,SACNY,KAAK,SASP,cAACM,GAAD,CACEE,KAAK,cACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,iBACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,gBACN1B,MAAM,SACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,WACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,SACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,MAIf,CAEM,SAASu1C,KACd,OACE,qCACE,cAAC70C,GAAD,CACEH,MAAM,yBACNK,KAAK,QACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,eAEP,cAACM,GAAD,CACEH,MAAM,4BACNK,KAAK,QACLM,MAAM,cACN1B,MAAM,SACNY,KAAK,WAEP,cAACM,GAAD,CACEH,MAAM,wDACNK,KAAK,OACLM,MAAM,4BACN1B,MAAM,QACNY,KAAK,oBAEP,cAACM,GAAD,CACEH,MAAM,mCACNK,KAAK,QACLM,MAAM,YACN1B,MAAM,SACNY,KAAK,cAEP,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,OACLM,MAAM,eACN1B,MAAM,SACNY,KAAK,WAIZ,CAEM,SAASo1C,KACd,OACE,qCACE,cAAC90C,GAAD,CACEH,MAAM,mDACNK,KAAK,QACLM,MAAM,wBACN1B,MAAM,YACNY,KAAK,6FAEP,cAACM,GAAD,CACEH,MAAM,6EACNK,KAAK,OACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,sDAEP,cAACM,GAAD,CACEH,MAAM,4EACNK,KAAK,OACLM,MAAM,OACN1B,MAAM,QACNY,KAAK,sGAEP,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,OACLM,MAAM,eACN1B,MAAM,SACNY,KAAK,WAIZ,CC9IM,SAASg1C,GAAT,GAA4C,IAA9B,QAAEzxC,EAAF,eAAW0xC,GAAkB,EAChD,OACE,qCACE,cAAC30C,GAAD,CACEE,KAAK,QACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,cACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,cACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,aACN1B,MAAM,SACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,WACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,SACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEH,MAAM,8EACNK,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASE,GAAT,GAAmD,IAA9B,QAAE5xC,EAAF,eAAW0xC,GAAkB,EACvD,OACE,qCACE,cAAC30C,GAAD,CACEH,MAAM,0BACNK,KAAK,QACLM,MAAM,aACN1B,MAAM,YACNY,KAAK,wBAEP,cAACM,GAAD,CACEH,MAAM,6BACNK,KAAK,QACLM,MAAM,cACN1B,MAAM,SACNY,KAAK,WAEP,cAACM,GAAD,CACEH,MAAM,wDACNK,KAAK,OACLM,MAAM,4BACN1B,MAAM,QACNY,KAAK,oBAEP,cAACM,GAAD,CACEH,MAAM,mCACNK,KAAK,QACLM,MAAM,YACN1B,MAAM,SACNY,KAAK,cAEP,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASG,KACd,OACE,qCACE,cAAC90C,GAAD,CACEH,MAAM,mDACNK,KAAK,QACLM,MAAM,wBACN1B,MAAM,YACNY,KAAK,6FAEP,cAACM,GAAD,CACEH,MAAM,6EACNK,KAAK,OACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,sDAEP,cAACM,GAAD,CACEH,MAAM,4EACNK,KAAK,OACLM,MAAM,OACN1B,MAAM,QACNY,KAAK,wGAIZ,CCjIM,SAASg1C,GAAT,GAA4C,IAA9B,QAAEzxC,EAAF,eAAW0xC,GAAkB,EAChD,OACE,qCACE,cAAC30C,GAAD,CACEE,KAAK,QACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,eAEP,cAACM,GAAD,CACEE,KAAK,cACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,mBAEP,cAACM,GAAD,CACEE,KAAK,cACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,iBACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,aACN1B,MAAM,SACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,WACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,SACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASI,GAAT,GAAgD,IAA9B,QAAE9xC,EAAF,eAAW0xC,GAAkB,EACpD,OACE,qCACE,cAAC30C,GAAD,CACEE,KAAK,QACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,cACLM,MAAM,kBACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,cACLM,MAAM,sBACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CAAYE,KAAK,QAAQM,MAAM,QAAQ1B,MAAM,SAASY,KAAK,IAAIJ,UAAQ,IACvE,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASE,GAAT,GAAmD,IAA9B,QAAE5xC,EAAF,eAAW0xC,GAAkB,EACvD,OACE,qCACE,cAAC30C,GAAD,CACEE,KAAK,QACLM,MAAM,aACN1B,MAAM,YACNY,KAAK,wBAEP,cAACM,GAAD,CACEE,KAAK,QACLM,MAAM,cACN1B,MAAM,SACNY,KAAK,WAEP,cAACM,GAAD,CACEE,KAAK,OACLM,MAAM,4BACN1B,MAAM,QACNY,KAAK,oBAEP,cAACM,GAAD,CACEE,KAAK,QACLM,MAAM,YACN1B,MAAM,SACNY,KAAK,cAEP,cAACM,GAAD,CACEE,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASG,KACd,OACE,qCACE,cAAC90C,GAAD,CACEE,KAAK,QACLM,MAAM,wBACN1B,MAAM,YACNY,KAAK,6FAEP,cAACM,GAAD,CACEE,KAAK,OACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,sDAEP,cAACM,GAAD,CACEE,KAAK,OACLM,MAAM,OACN1B,MAAM,QACNY,KAAK,wGAIZ,CCrKM,SAASg1C,GAAT,GAA4C,IAA9B,QAAEzxC,EAAF,eAAW0xC,GAAkB,EAChD,OACE,qCAEC,cAAC30C,GAAD,CACGE,KAAK,QACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,0BAGP,cAACM,GAAD,CACEE,KAAK,QACLM,MAAM,qBACN1B,MAAM,YACNY,KAAK,0BAyBP,cAACM,GAAD,CACEE,KAAK,cACLM,MAAM,YACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,cACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,aACN1B,MAAM,SACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,WACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEE,KAAK,QACLM,MAAM,SACN1B,MAAM,YACNY,KAAK,IACLJ,UAAQ,IAEV,cAACU,GAAD,CACEH,MAAM,8EACNK,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASE,GAAT,GAAmD,IAA9B,QAAE5xC,EAAF,eAAW0xC,GAAkB,EACvD,OACE,qCACE,cAAC30C,GAAD,CACEH,MAAM,0BACNK,KAAK,QACLM,MAAM,aACN1B,MAAM,YACNY,KAAK,wBAEP,cAACM,GAAD,CACEH,MAAM,6BACNK,KAAK,QACLM,MAAM,cACN1B,MAAM,SACNY,KAAK,WAEP,cAACM,GAAD,CACEH,MAAM,wDACNK,KAAK,OACLM,MAAM,4BACN1B,MAAM,QACNY,KAAK,oBAEP,cAACM,GAAD,CACEH,MAAM,mCACNK,KAAK,QACLM,MAAM,YACN1B,MAAM,SACNY,KAAK,cAEP,cAACM,GAAD,CACEH,MAAM,8EACNK,KAAK,UACLM,MAAM,eACN1B,MAAM,YACNI,QAAS,KACP+D,GAAQ,GACR0xC,GAAe,EAAf,MAKT,CAEM,SAASG,KACd,OACE,qCACE,cAAC90C,GAAD,CACEH,MAAM,mDACNK,KAAK,QACLM,MAAM,wBACN1B,MAAM,YACNY,KAAK,6FAEP,cAACM,GAAD,CACEH,MAAM,6EACNK,KAAK,OACLM,MAAM,gBACN1B,MAAM,YACNY,KAAK,sDAEP,cAACM,GAAD,CACEH,MAAM,4EACNK,KAAK,OACLM,MAAM,OACN1B,MAAM,QACNY,KAAK,wGAIZ,C,sBCpKM,MAAMs1C,GAAa,IAAM,IAAMvwB,KAAKC,SAAS1E,SAAS,IAAIi1B,OAAO,EAAG,GCerEC,GAAiB57C,GACrB,qBAAKE,UAAY,GAAEF,EAAME,YAAzB,SACGF,EAAMiC,KAAKjD,KAAK68C,IACfC,OAbkB75C,EAaH45C,EAbSE,EAaK/7C,EAAM+7C,cAbIC,EAaWh8C,EAAMg8C,eAZ5D,cAACC,GAAD,CACEh5C,KAAMhB,EAAKgB,KACXi5C,QAASH,EAETI,YAAWH,EAAe/5C,EAAKgB,MAC/BiD,KAAMjE,EAAKiE,MAFNjE,EAAKgB,MAJS,IAAChB,EAAM85C,EAAeC,CAYxC,MAMCC,GAAYj8C,IAChB,MAAM,KAAEiD,EAAF,KAAQiD,EAAR,UAAci2C,EAAd,QAAyBD,GAAYl8C,EACrCb,EAAKu8C,KACX,OACE,qBAAKx7C,UAAU,WAAf,SACE,wBAAOg0B,QAAS/0B,EAAIe,UAAY,mBAAkBF,EAAME,YAAxD,UACE,uBACEf,GAAIA,EACJ8D,KAAMA,EACN3B,KAAK,WACL2nB,QAASkzB,EACT/2C,SAAU,KACR82C,EAAQj5C,EAAR,IAGHiD,MAZP,ECtBa,MAAMk2C,WAAmB99B,YAAW,cAAD,yBAChD+9B,oBAAsB,KACpB,MAAM,SAAE97C,EAAF,aAAYge,EAAZ,YAA0B+9B,GAAgB99B,KAAKxe,MACrD,OAAO44B,IAAM2jB,SAASv9C,IAAIuB,GAAU,CAACihB,EAAOtW,IAC1C0tB,IAAM4jB,aAAah7B,EAAO,CACxBtW,MAAOA,EACP9F,SAAUmZ,EACV0K,QAAS/d,IAAUoxC,KAJvB,CAH8C,CAWhD59B,SACE,OACE,qBAAKxe,UAAY,cAAase,KAAKxe,MAAME,YAAzC,SACGse,KAAK69B,uBAGX,EAEI,MAAMI,GAASz8C,IACpB,MAAMb,EAAKu8C,KACX,OACE,gCACE,uBACEx7C,UAAU,QACVoB,KAAK,QACL2nB,QAASjpB,EAAMipB,QACfhmB,KAAMjD,EAAMiD,KACZ9D,GAAIA,EACJiG,SAAU,KACRpF,EAAMoF,SAASpF,EAAMkL,MAArB,IAGJ,uBAAOgpB,QAAS/0B,EAAIe,UAAWF,EAAME,UAArC,SACGF,EAAMO,aAbb,ECAa0Q,OArBCjR,GACd,wBACEsF,MAAOtF,EAAMsF,MACbF,SAAUpF,EAAMk8C,QAChBj5C,KAAMjD,EAAMiD,KAHd,SAMGjD,EAAM0hB,QAAQ1iB,KAAK09C,GAClB,wBAAQp3C,MAAOo3C,EAAIl2B,IAAnB,SACGk2B,EAAIx2C,MADsBw2C,EAAIl2B,SCVvC,MAAMm2B,GAAa,CACjBC,UAAW,CACTC,UAAW,CACT,CAAEr2B,IAAK,EAAGtgB,KAAM,SAChB,CAAEsgB,IAAK,EAAGtgB,KAAM,QAChB,CAAEsgB,IAAK,EAAGtgB,KAAM,QAElB42C,SAAU,CACR,CAAEt2B,IAAK,EAAGtgB,KAAM,UAChB,CAAEsgB,IAAK,EAAGtgB,KAAM,WAGpB62C,SAAU,CACR,CAAE95C,KAAM,WAAYiD,KAAM,+BAC1B,CACEjD,KAAM,WACNiD,KAAM,yDAER,CACEjD,KAAM,UACNiD,KAAM,uDAGV82C,WAAY,CACV,CACE/5C,KAAM,QACNiD,KAAM,wDAER,CACEjD,KAAM,aACNiD,KAAM,iDAER,CACEjD,KAAM,eACNiD,KAAM,+CAER,CACEjD,KAAM,cACNiD,KAAM,4DAGV+2C,UAAW,CACT,EAAG,CAAC,YAAa,QAAS,UAC1B,EAAG,CAAC,kBAAmB,YAAa,QAAS,kBAAmB,UAChE,EAAG,CAAC,SAAU,WAEhBC,SAAU,CACRr5B,IAAK,KACLmH,IAAK,OAGHmyB,GAAM,CACVC,GAAI,WACJC,IAAK,mCACLC,IAAK,kDCtDDC,GAAgB,IAAMC,GCkCtBC,GAAa,CAACx7C,EAAMm7C,EAAIC,KAC5B,IAAKp7C,EAAK4/B,OAAS5/B,EAAK8hC,QAAU9hC,EAAKi7C,WAAaj7C,EAAKy7C,KACvD,OAAO,EAET,MAAMp8C,EAAOq8C,SAAS17C,EAAK4/B,KAAM,IAC3BqO,EAAQjuC,EAAK8hC,MAAM/4B,OACnBkyC,EACC/xB,KAAK0L,MAAM8mB,SAAS17C,EAAKi7C,SAASr5B,IAAK,IAAMqsB,GAD9CgN,EAEC/xB,KAAK0L,MAAM8mB,SAAS17C,EAAKi7C,SAASlyB,IAAK,IAAMklB,GAEpD,IAAIxjC,EAAS,GACTzK,EAAKyK,SACPA,EAASkxC,GAAO37C,EAAKyK,OAAQ,WAE/B,IAAImxC,EAAW57C,EAAK8hC,MAChB+Z,EAAU,CAAC,EACf,IAAK,IAAIr6B,EAAI,EAAGA,EAAIysB,EAAOzsB,IAAK,CAC9B,IAAIs6B,EAAMF,EAASp6B,GACf+E,EAAS,KAAIu1B,YAAcX,aAAcC,QAAU/7C,UAAaW,EAAKy7C,OAAOhxC,cAAmBwwC,KAAgBA,IACnHY,EAAQC,GAAOv1B,CAChB,CACD,OAAOs1B,CAAP,EAGIF,GAAS,CAACI,EAAI92C,KAClB,IAAI6hB,EAAM,IACV,IAAK,IAAItF,KAAKu6B,EACa,SAArBA,EAAGv6B,GAAGiD,aACRqC,GAAQ,GAAE7hB,KAASuc,MAIvB,OAAOsF,EAAIrF,MAAM,GAAI,EAArB,EAGa6sB,OAhDCnmC,MAAOnI,EAAM4/B,EAAMoc,KACjC,MAAM,GAAEb,EAAF,IAAMC,EAAN,IAAWC,GDrBMH,GCsBvB,IAAIe,EAAWT,GAAWx7C,EAAMm7C,EAAIC,GACpC,IAAK,IAAI1lC,KAAOumC,EAAU,CACxBz8C,QAAQC,IAAIiW,GACZ,IAAIomC,EAAMI,UAAUb,EAAMY,EAASvmC,IACnC,MAAM7U,QAAa2lB,MAAMs1B,GAEzBE,EAAQ,IAAKpc,EAAM,CAAClqB,UADD7U,EAAKgmB,QACO8V,MAChC,GCrBY,SAAS4e,KACtB,MAAO3pC,EAAOzB,GAAY5N,mBAAS,IAE5BvC,EAAM2vC,GAAWptC,mBAAS+4C,OAC1B1b,EAAMoc,GAAWz5C,mBAAS,KAE1Bq4C,EAAWuB,GAAgB55C,mBAASvC,EAAK26C,UAAUC,UAAU,GAAGr2B,MAChEs2B,EAAUuB,GAAe75C,mBAASvC,EAAK26C,UAAUE,SAAS,GAAGt2B,MAC7D9Z,EAAQ4xC,GAAa95C,mBAAS,CAAC,IAC/B04C,EAAUqB,GAAe/5C,mBAAS,CACvC83C,YAAa,EACbja,SAAU,MACVxe,IAAK,KACLmH,IAAK,QAEA0yB,EAAMc,GAAWh6C,mBAAS,CAC/B83C,YAAa,EACbr5C,KAAMhB,EAAK86C,SAAS,GAAG95C,QAElB+X,EAASC,GAAczW,oBAAS,IAChCi6C,EAAUC,GAAel6C,oBAAS,GAEzCI,qBAAU,KACRnD,QAAQC,IAAI,sBAAuBmgC,EAAnC,GACC,CAACA,IAEJ,MAAM8c,EAAgB17C,IACpBq7C,GAAU,KACR,IAAIh5C,GAAQoH,EAAOzJ,KAASyJ,EAAOzJ,GACnC,MAAO,IAAKyJ,EAAQ,CAACzJ,GAAOqC,EAA5B,GAFF,EAMIs5C,EAAwB1zC,IAC5B,IAAIm3B,EAAmC,IAAxBsb,SAASzyC,EAAO,IAAY,SAAW,MACtDqzC,EAAY,IAAKrB,EAAUZ,YAAapxC,EAAOm3B,SAAUA,GAAzD,EAGIwc,EAAkBt/C,IACtB,MAAM8F,EAAS9F,EAAE8F,OACjB,GAAIA,EAAOC,MAAO,CAChB,IAAIA,EAAQq4C,SAASt4C,EAAOC,MAAO,IAC/Bw5C,MAAMx5C,KACRA,EAAQ,GAEVi5C,EAAY,IAAKrB,EAAU,CAAC73C,EAAOpC,MAAOqC,GAC3C,GAGGy5C,EAAc7zC,IAClB,MAAMjI,EAAOhB,EAAK86C,SAAS7xC,GAAOjI,KAClCu7C,EAAQ,CACNlC,YAAapxC,EACbjI,KAAMA,GAFR,EAMI+7C,EAAez/C,IACnBA,EAAEsG,iBACF,MAAMk+B,EAAQ9hC,EAAKg7C,UAAUJ,GACvB9zB,EAAM,CACV8Y,KAAMib,EACNpwC,OAAQA,EACRwwC,SAAU,CAAEr5B,IAAKq5B,EAASr5B,IAAKmH,IAAKkyB,EAASlyB,KAC7C0yB,KAAMA,EAAKz6C,KACX8gC,MAAOA,GAGT9oB,GAAW,GACXs1B,GAAQxnB,EAAK8Y,EAAMoc,GAAS78C,MAAMa,IAChC,IAAIg9C,EAAM,CAAEC,IAAKpC,EAAU76C,KAAMA,GAEjCgZ,GAAW,GACXyjC,GAAY,GACZ9M,EAAQqN,EAAR,GALF,EASIE,EAAa,KACjB/sC,EAASyB,EAAQ,EAAjB,EAEIurC,EAAa,KACjBhtC,EAASyB,EAAQ,EAAjB,GAGI,UAAE+oC,EAAF,SAAaG,EAAb,WAAuBC,GAAe/6C,EAE5C,OAAQ4R,GACN,QACA,KAAK,EACH,OACE,qCACE,oFACA,cAAC,GAAD,CACE5Q,KAAK,YACLqC,MAAOu3C,EACPX,QAAU38C,GAAM6+C,EAAaT,SAASp+C,EAAE8F,OAAOC,MAAO,KACtDoc,QAASk7B,EAAUC,YAErB,wBAAQj3C,QAASu5C,EAAjB,qBAGN,KAAK,EACH,OACE,qCACE,mDACA,cAAC,GAAD,CACEl8C,KAAK,WACLqC,MAAOw3C,EACPZ,QAAU38C,GAAM8+C,EAAYV,SAASp+C,EAAE8F,OAAOC,MAAO,KACrDoc,QAASk7B,EAAUE,WAErB,wBAAQl3C,QAASw5C,EAAjB,kBACA,wBAAQx5C,QAASu5C,EAAjB,qBAGN,KAAK,EACH,OACE,qCACE,yDACA,cAAC,GAAD,CAAY5gC,aAAcwgC,EAAYzC,YAAaoB,EAAKpB,YAAxD,SACGS,EAAS/9C,KAAK0+C,GACb,cAACjB,GAAD,UAAwBiB,EAAKx3C,MAAjBw3C,EAAKz6C,UAGrB,wBAAQ2C,QAASw5C,EAAjB,kBACA,wBAAQx5C,QAASu5C,EAAjB,qBAGN,KAAK,EACH,OACE,qCACE,wDACA,cAACvD,GAAD,CACE35C,KAAM+6C,EACNjB,cAAe4C,EACf3C,eAAgBtvC,IAElB,wBAAQ9G,QAASw5C,EAAjB,kBACA,wBAAQx5C,QAASu5C,EAAjB,qBAGN,KAAK,EACH,OACE,qCACE,+CACA,eAAC,GAAD,CACE5gC,aAAcqgC,EACdtC,YAAaY,EAASZ,YAFxB,UAIE,cAACG,GAAD,kCACA,cAACA,GAAD,sCAEqB,WAAtBS,EAAS7a,SACR,sBAAKniC,UAAU,wBAAf,UACE,uBACEgF,YAAY,MACZ5D,KAAK,SACL2B,KAAK,MACLmC,SAAUy5C,EACVv5C,MAAO43C,EAASr5B,MAElB,uBACE3e,YAAY,MACZ5D,KAAK,SACL2B,KAAK,MACLmC,SAAUy5C,EACVv5C,MAAO43C,EAASlyB,SAGlB,KACJ,wBAAQplB,QAASw5C,EAAjB,kBACA,wBAAQx5C,QAASo5C,EAAjB,0BAQT,CCuCc/6C,oBAZUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,SAIGnB,IACnB,CACLF,eAAiBC,GAAaC,EAASF,EAAeC,OAI3CwD,EArNf,SAAiBjE,GACf,MAAOq/C,EAAWC,GAAgB96C,oBAAS,IACpCf,EAAS+O,GAAchO,mBAAS,KAChCmS,EAAaC,GAAkBpS,mBAAS,KACxC2S,EAAUG,GAAe9S,mBAAS,KAClChD,EAAKqV,GAAUrS,oBAAS,GAE/BI,qBAAU,KACR,GAAInB,EAAS,CACX,IAAIqT,EAAKnF,GAAUoF,MAAMC,GAAMA,EAAE/T,OAASQ,IAC1CmT,EAAeE,EAAGrX,KACnB,IACA,CAACgE,IAEJmB,qBAAU,KACJqS,aAAkCN,GAEhCO,aAAkBC,EAASC,OAAQT,IACrC2oC,GAAa,GAEbzoC,GAAO,KAEPyoC,GAAa,GACbzoC,GAAO,IAITyoC,GAAa,EACd,GACA,CAACnoC,IAMJ,MAcMooC,EAAe,KACnB,IAAIt9C,EAAO,CACTjB,IAAKhB,EAAM6B,KAAKb,IAChBK,OAAQ,CACN8V,SAAUA,GAEZjW,QAAS,CAAEoa,YAAY,IAEzBtb,EAAMQ,eAAeyB,GACrB2F,GACE,UACA,6GAEF5H,EAAMw/C,WAAW,UACjBx/C,EAAM4J,aAAN,EAKF,OAFAhF,qBAAU,QAAU,CAAC5E,EAAMy/C,UAEnBz/C,EAAMy/C,SACZ,QACA,IAAK,QACH,OACE,qCACE,qBAAKv/C,UAAU,QAAf,oCACA,sBAAKA,UAAU,OAAf,UACE,gFACA,gJAIA,sVAaA,cAACmG,EAAD,CACEH,KAAK,aACLE,KAAK,aACLH,QAAQ,gBAKlB,IAAK,SACH,OACE,qCACE,qBAAK/F,UAAU,QAAQqF,MAAO,CAAEgK,UAAW,OAA3C,oCAGA,sBAAKrP,UAAU,OAAf,UACE,2EACA,eAAC0M,GAAA,EAAD,CAAK1M,UAAU,OAAf,UACE,cAAC4M,GAAA,EAAD,UACE,cAACzG,EAAD,CACEH,KAAK,MACLD,QAAQ,QACRL,QAAS,IAAM5F,EAAMw/C,WAAW,gBAGpC,cAAC1yC,GAAA,EAAD,UACE,cAACzG,EAAD,CACEH,KAAK,KACLD,QAAQ,QACRL,QAAS,IAAM5F,EAAMw/C,WAAW,uBAO9C,IAAK,SACH,OACE,qBAAKt/C,UAAU,OAAf,SAiBE,cAACs9C,GAAD,MAGN,IAAK,SACH,OACE,qBAAKt9C,UAAU,OAAf,SACE,uEAGN,IAAK,WACH,OACE,qCACE,qBAAKA,UAAU,QAAQqF,MAAO,CAAEgK,UAAW,OAA3C,oCAGA,qBAAKrP,UAAU,OAAf,SACE,eAAC4E,EAAA,EAAD,CACEuI,SAAW9N,IAjIDA,KAGfiC,GAKHjC,EAAEsG,iBACFpE,QAAQC,IAAI,aACZnC,EAAEmgD,oBANFngD,EAAEsG,iBACF05C,IAMD,EAuHWz5C,CAAavG,EAAb,EAFJ,UAKE,eAACuF,EAAA,EAAKC,MAAN,WACE,6CACA,cAACkM,GAAD,CACE9R,GAAG,UACHoE,SAAWhE,IACTiT,EAAWjT,EAAE8F,OAAOC,MAApB,EAEFA,MAAO7B,EACPyB,YAAY,UACZ0L,MAAOiB,QAGX,eAAC/M,EAAA,EAAKC,MAAN,CAAYkJ,UAAU,WAAtB,UACE,8CACA,cAACnJ,EAAA,EAAKG,QAAN,CACE3D,KAAK,OACL8D,SAAW7F,GAAM+X,EAAY/X,EAAE8F,OAAOC,OACtCH,UAAQ,IAET3D,GACC,qBAAKtB,UAAU,MAAf,+CAGJ,cAACuF,EAAA,EAAD,CAAQnE,KAAK,SAASpB,UAAU,gCAAhC,SACE,qBAAKA,UAAU,cAAf,8BAOf,ICxNc,OAA0B,wCCA1B,OAA0B,oDCUlC,SAASy/C,GAAT,GAAsC,IAApB,KAAE51C,EAAF,QAAQJ,GAAW,EAC1C,MAAO81C,EAASD,GAAch7C,mBAAS,SAEjCoF,EAAc,KAClBD,GAAQ,GACR61C,EAAW,QAAX,EAGF,OACE,cAAC,KAAD,CACEpxC,KAAMrE,EACNsL,QAASzL,EACT,kBAAgB,qBAChBpE,MAAM,UAJR,SAME,sBAAKtF,UAAU,YAAf,UACGgvB,aACC,qBAAK/uB,IAAKy/C,GAAav/C,IAAI,uBAAuB6L,MAAM,SAExD,qBAAK/L,IAAK0/C,GAAUx/C,IAAI,uBAAuB6L,MAAM,SAGvD,wBAAQhM,UAAU,QAAQ0F,QAASgE,EAAnC,eAIA,cAAC,GAAD,CACE61C,QAASA,EACTD,WAAYA,EACZ51C,YAAaA,QAKtB,CCfD,MAsFMk2C,GAAe9/C,IACnB,OAAQA,EAAMsB,MACZ,IAAK,aACL,IAAK,WACH,OACE,qCACE,eAACy+C,GAAA,EAAD,CACEC,kBAAmB,CACjBz6C,MAAO,CACLkL,gBAAiB0qC,KAGrBx1C,QAAQ,WACRP,SAAUpF,EAAMue,aAChBxS,UAAQ,EARV,UAUE,cAAC,KAAD,CAAKk0C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,MACtC,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,cAAc5B,MAAM,MAC7C,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,SAExC,eAAC,KAAD,CACE46C,KAAgC,QAA1BlgD,EAAM8V,MAAMuzB,UAAsB,YAAc,IACtDn+B,MAAOyyC,SAAS39C,EAAMsF,OACtB66C,cAAengD,EAAMogD,kBAHvB,UAKE,cAACC,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CAAWxtB,SAAU7b,EAAMkB,QAAQ2a,aAErC,cAACwkC,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,MAEF,cAACgX,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,YAKV,IAAK,iBACL,IAAK,eACH,OACE,qCACE,eAAC0W,GAAA,EAAD,CACEC,kBAAmB,CACjBz6C,MAAO,CACLkL,gBAAiB0qC,KAGrBx1C,QAAQ,WACRP,SAAUpF,EAAMue,aAChBxS,UAAQ,EARV,UAUE,cAAC,KAAD,CAAKk0C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,MACtC,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,cAAc5B,MAAM,MAC7C,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,SAExC,eAAC,KAAD,CACE46C,KAAgC,QAA1BlgD,EAAM8V,MAAMuzB,UAAsB,YAAc,IACtDn+B,MAAOyyC,SAAS39C,EAAMsF,OACtB66C,cAAengD,EAAMogD,kBAHvB,UAKE,cAACC,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,YAOR,IAAK,mBACL,IAAK,iBACL,OACE,qCACE,eAAC0W,GAAA,EAAD,CACEC,kBAAmB,CACjBz6C,MAAO,CACLkL,gBAAiB0qC,KAGrBx1C,QAAQ,WACRP,SAAUpF,EAAMue,aAChBxS,UAAQ,EARV,UAUE,cAAC,KAAD,CAAKk0C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,MACtC,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,cAAc5B,MAAM,MAC7C,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,SAExC,eAAC,KAAD,CACE46C,KAAgC,QAA1BlgD,EAAM8V,MAAMuzB,UAAsB,YAAc,IACtDn+B,MAAOyyC,SAAS39C,EAAMsF,OACtB66C,cAAengD,EAAMogD,kBAHvB,UAKE,cAACC,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,YAMV,IAAK,iBACL,IAAK,eACH,OACE,qCACE,eAAC0W,GAAA,EAAD,CACEC,kBAAmB,CACjBz6C,MAAO,CACLkL,gBAAiB0qC,KAGrBx1C,QAAQ,WACRP,SAAUpF,EAAMue,aAChBxS,UAAQ,EARV,UAUE,cAAC,KAAD,CAAKk0C,eAAa,EAAC/4C,MAAM,gBAAgB5B,MAAM,MAC/C,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,WAAW5B,MAAM,MAC1C,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,cAAc5B,MAAM,MAC7C,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,SAExC,eAAC,KAAD,CACE46C,KAAgC,QAA1BlgD,EAAM8V,MAAMuzB,UAAsB,YAAc,IACtDn+B,MAAOyyC,SAAS39C,EAAMsF,OACtB66C,cAAengD,EAAMogD,kBAHvB,UAKE,cAACC,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,YAOV,QACE,OACE,qCACE,eAAC0W,GAAA,EAAD,CACEC,kBAAmB,CACjBz6C,MAAO,CACLkL,gBAAiB0qC,KAGrBx1C,QAAQ,YACRP,SAAUpF,EAAMue,aAChBxS,UAAQ,EARV,UAUE,cAAC,KAAD,CAAKk0C,eAAa,EAAC/4C,MAAM,OAAO5B,MAAM,MACtC,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,SAAS5B,MAAM,MACxC,cAAC,KAAD,CAAK26C,eAAa,EAAC/4C,MAAM,cAAc5B,MAAM,SAE/C,eAAC,KAAD,CACE46C,KAAgC,QAA1BlgD,EAAM8V,MAAMuzB,UAAsB,YAAc,IACtDn+B,MAAOyyC,SAAS39C,EAAMsF,OACtB66C,cAAengD,EAAMogD,kBAHvB,UAKE,cAACC,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,CACE1/B,QAAS3J,EAAM2J,QACf0xC,eAAgBr7C,EAAMq7C,mBAG1B,cAACgF,GAAA,EAAD,CAAU/6C,MAAOtF,EAAMsF,MAAO4F,MAAO,EAAGo1C,IAAKtgD,EAAM8V,MAAMuzB,UAAzD,SACE,cAAC,GAAD,YA9MZ,EAmOaplC,oBAbUC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,YAIAR,IACnB,CACLsB,iBAAmB0Y,GAAYha,EAASsB,EAAiB0Y,OAI9CzW,EA1TKjE,IAElB,MAAOgb,EAASC,GAAczW,oBAAS,GACvCI,qBAAU,KACRsW,YAAW,IAAMD,GAAW,IAAQ,KAApC,IAIF,MAAO3Z,EAAMi/C,GAAW/7C,mBAASxE,EAAMkB,QAAQI,OAExCyI,EAAMJ,GAAWnF,oBAAS,IAC1Bg8C,EAAOC,GAAYj8C,oBAAS,IAC5Bk8C,EAAarF,GAAkB72C,oBAAS,GAE/CI,qBAAU,KACR27C,EAAQvgD,EAAMkB,QAAQI,KAAtB,GACC,CAACtB,EAAMkB,QAAQI,OAGlBsD,qBAAU,KACR,MAAM8E,EAAYwR,YAAW,KACY,SAAnClb,EAAMkB,QAAQoC,kBAA6Bm9C,GAAS,EAAT,GAC9C,KACH,MAAO,IAAME,aAAaj3C,EAA1B,IAGF9E,qBAAU,QAAU,CAACtD,IAGrB,MAAMwU,EAAQ8qC,gBACPt7C,EAAOg8B,GAAY98B,mBAAS,KAWnC,OAAKxE,EAAM6B,KAAKb,IAGZga,EACK,cAAC,GAAD,IAIP,qCACGwlC,IAAUxgD,EAAMkB,QAAQoa,WACvB,cAACqkC,GAAD,CAAU51C,KAAMA,EAAMJ,QAASA,IAC7B,KACH+2C,EAAc,cAACf,GAAD,CAAU51C,KAAMA,EAAMJ,QAASA,IAAc,KAC5D,cAAC4C,GAAD,UACE,eAACtM,EAAA,EAAD,CAAWC,UAAU,aAArB,UACE,sBAAKA,UAAU,OAAf,UACE,qBACEC,IAAKC,EACLC,IAAI,4DACJH,UAAU,mCACVqF,MAAO,CAAEiQ,SAAU,SAErB,cAACylC,GAAD,CAAS/5C,QAASlB,EAAMkB,QAASI,KAAMA,OAGzC,qBAAKpB,UAAU,OAAf,SACE,cAAC2gD,GAAA,EAAD,CAAYv7C,MAAOA,EAAnB,SACE,cAACw6C,GAAD,CACE5+C,QAASlB,EAAMkB,QACfI,KAAMA,EACNgE,MAAOA,EACPwQ,MAAOA,EACPyI,aAzCO,CAACoM,EAAOm2B,KAC3Bxf,EAASwf,EAAT,EAyCYV,kBAtCal1C,IACzBo2B,EAASz6B,OAAOqE,GAAhB,EAsCYvB,QAASA,EACT0xC,eAAgBA,gBAlCrB,cAAC,IAAD,CAAUx2C,GAAG,UAMtB,I,+BChEF,MAAMk8C,GAAc,IAAI15B,KACxB,IAAI25B,GAAS,IAAI35B,KAAK05B,GAAYt1B,cAAe,EAAG,GAChDw1B,GAAe91B,KAAK+1B,OAAOH,GAAcC,IAAf,OAC1BG,GAAch2B,KAAKi2B,MAAML,GAAYM,SAAW,EAAIJ,IAAgB,GAcxE,SAASK,GAAQthD,GACf,OACE,cAAC,KAAD,CACEuhD,UAAU,cACVt/C,KAAMjC,EAAMiC,KACZqN,OAAO,QACPkyC,OAAQ,gDACR9/B,QAAS1hB,EAAM0hB,SAGpB,CAED,MAAM+/B,GAAgBzhD,GAElB,cAACshD,GAAD,CACEr/C,KAAMjC,EAAMuhD,UACZ7/B,QAAS,CACPnb,MAAQ,GAAEvG,EAAMuG,+BAChBm7C,OAAQ,CAAE/rC,SAAU,MAAOgsC,SAAU,GACrCC,OAAQ,CAACzG,GAAsBA,GAAoBA,IACnD0G,MAAO,CAAEt7C,MAAOvG,EAAMuG,MAAOu7C,SAAU,GACvCC,MAAO,CAAEx7C,MAAO,mBA+lBT4G,oBACblJ,aAhBuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,QACxBe,KAAMiC,EAAMrD,UAAUoB,KAAK+/C,aAKHthD,IACnB,CACLgR,iBAAmBgJ,GAAYha,EAASgR,GAAiBgJ,QAM3DG,6BAAkB7a,IAChB,IAAIgB,EACFgC,EACAi/C,EAAe,uBACjB,OAAQjiD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBi/C,EAAe,sBACfjhD,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBi/C,EAAe,sBACfjhD,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAGrB,OAAKhB,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAYkC,EACZjC,IAAKC,EACL8Z,eAAgB,CAAC,CAAEha,WAAYmhD,IAC/BlnC,QAAS,aANe,EAC5B,IA/CW5N,EAzlBf,SAAmBnN,GAMjB,MAAM6L,EALN,WACE,MAAOvG,EAAOg8B,GAAY98B,mBAAS,GACnC,MAAO,IAAM88B,GAAUh8B,GAAUA,EAAQ,GAC1C,CAEmB48C,IAKbC,EAAKC,GAAU59C,mBAAS,IACxB69C,EAAKC,GAAU99C,mBAAS,IACxB+9C,EAAKC,GAAUh+C,mBAAS,IACxBi+C,EAAMC,GAAWl+C,mBAAS,IAC1Bm+C,EAAKC,GAAUp+C,mBAAS,IACxBq+C,EAAKC,GAAUt+C,mBAAS,IACxBu+C,EAAKC,GAAUx+C,mBAAS,IACxBy+C,EAAQC,GAAa1+C,mBAAS,IAC9B2+C,EAAQC,GAAa5+C,mBAAS,IAC9B6+C,EAAQC,GAAa9+C,mBAAS,IAC9B++C,EAASC,GAAch/C,mBAAS,IAChCi/C,EAAQC,GAAal/C,mBAAS,IAC9Bm/C,EAAQC,GAAap/C,mBAAS,IAC9Bq/C,EAAQC,GAAat/C,mBAAS,IAC9Bu/C,EAASC,GAAcx/C,mBAAS,IAChCy/C,EAASC,GAAc1/C,mBAAS,IAChC2/C,EAASC,GAAc5/C,mBAAS,IAChC6/C,EAAUC,GAAe9/C,mBAAS,IAClC+/C,EAASC,GAAchgD,mBAAS,IAChCigD,EAASC,GAAclgD,mBAAS,IAChCmgD,EAASC,GAAcpgD,mBAAS,IAsBhCqgD,EAAOC,GAAYtgD,mBAAS,IAC5BugD,EAAQC,GAAaxgD,mBAAS,IAC9BygD,EAAOC,GAAY1gD,mBAAS,IAC5B2gD,EAAQC,GAAa5gD,mBAAS,IAC9B6gD,GAAUC,IAAe9gD,mBAAS,IAClC+gD,GAAWC,IAAgBhhD,mBAAS,IACpCihD,GAAUC,IAAelhD,mBAAS,IAClCmhD,GAAWC,IAAgBphD,mBAAS,IACpCqhD,GAAWC,IAAgBthD,mBAAS,IACpCuhD,GAAYC,IAAiBxhD,mBAAS,IACtCyhD,GAAWC,IAAgB1hD,mBAAS,IACpC2hD,GAAYC,IAAiB5hD,mBAAS,IAGtC6hD,GAAKC,IAAU9hD,mBAAS,IACxB+hD,GAAKC,IAAUhiD,mBAAS,IACxBiiD,GAAKC,IAAUliD,mBAAS,IACxBmiD,GAAKC,IAAUpiD,mBAAS,IACxBqiD,GAAKC,IAAUtiD,mBAAS,IACxBuiD,GAAKC,IAAUxiD,mBAAS,IACxByiD,GAAKC,IAAU1iD,mBAAS,IACxB2iD,GAAKC,IAAU5iD,mBAAS,IACxB6iD,GAAKC,IAAU9iD,mBAAS,IACxB+iD,GAAKC,IAAUhjD,mBAAS,IACxBijD,GAAKC,IAAUljD,mBAAS,IACxBmjD,GAAKC,IAAUpjD,mBAAS,IACxBqjD,GAAQC,IAAatjD,mBAAS,IAC9BujD,GAAQC,IAAaxjD,mBAAS,IAC9ByjD,GAAQC,IAAa1jD,mBAAS,IAC9B2jD,GAAQC,IAAa5jD,mBAAS,IAC9B6jD,GAAQC,IAAa9jD,mBAAS,IAC9B+jD,GAAQC,IAAahkD,mBAAS,IAC9BikD,GAAQC,IAAalkD,mBAAS,IAC9BmkD,GAAQC,IAAapkD,mBAAS,IAC9BqkD,GAAQC,IAAatkD,mBAAS,IAC9BukD,GAAQC,IAAaxkD,mBAAS,IAC9BykD,GAAQC,IAAa1kD,mBAAS,IAC9B2kD,GAAQC,IAAa5kD,mBAAS,IAC9B6kD,GAASC,IAAc9kD,mBAAS,IAChC+kD,GAASC,IAAchlD,mBAAS,IAChCilD,GAASC,IAAcllD,mBAAS,IAChCmlD,GAASC,IAAcplD,mBAAS,IAChCqlD,GAASC,IAActlD,mBAAS,IAChCulD,GAASC,IAAcxlD,mBAAS,IAChCylD,GAASC,IAAc1lD,mBAAS,IAChC2lD,GAASC,IAAc5lD,mBAAS,IAChC6lD,GAASC,IAAc9lD,mBAAS,IAChC+lD,GAASC,IAAchmD,mBAAS,IAChCimD,GAASC,IAAclmD,mBAAS,IAChCmmD,GAASC,IAAcpmD,mBAAS,GA8FvCI,qBAAU,KA1FRw9C,EAAO,GACPE,EAAO,GACPE,EAAO,GACPE,EAAQ,GACRE,EAAO,GACPE,EAAO,GACPE,EAAO,GACPE,EAAU,GACVE,EAAU,GACVE,EAAU,GACVE,EAAW,GACXE,EAAU,GACVE,EAAU,GACVE,EAAU,GACVE,EAAW,GACXE,EAAW,GACXE,EAAW,GACXE,EAAY,GACZE,EAAW,GACXE,EAAW,GACXE,EAAW,GAEXE,EAAS,GACTE,EAAU,GACVE,EAAS,GACTE,EAAU,GACVE,GAAY,GACZE,GAAa,GACbE,GAAY,GACZE,GAAa,GACbE,GAAa,GACbE,GAAc,GACdE,GAAa,GACbE,GAAc,GAGdE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,QAqBQhyC,IAAf5Y,EAAMiC,MAAqC,OAAfjC,EAAMiC,MACpC4oD,IACD,GAEA,CAAC7qD,EAAMiC,OAEV,MAAM4oD,GAAezgD,UACRzK,OAAOmZ,OAAO9Y,EAAMiC,MAC1B+G,SAASjI,IACZ,IACE,IAAI6d,EAAO,IAAIyI,KAAwB,IAAnBtmB,EAAI6d,KAAKksC,SACzBt/B,EAAO5M,EAAK6M,cACZlkB,EAAQqX,EAAKiwB,WACbkc,EAAansC,EAAKuwB,UAClB3nC,EAAMoX,EAAKyiC,SACXrmB,EAvPZ,SAAuBpc,EAAM4M,EAAMhkB,GACjC,IAAIw5C,EAAS,IAAI35B,KAAKmE,EAAM,EAAG,GAC3By1B,EAAe91B,KAAK+1B,OAAOtiC,EAAOoiC,GAAR,OAE9B,OADW71B,KAAKi2B,MAAM55C,EAAM,EAAIy5C,GAAgB,EAEjD,CAkPkB+J,CAAcpsC,EAAM4M,EAAMhkB,EAItC,CAHC,MAAOhG,GAEP,YADAC,QAAQ0H,MAAM3H,EAEf,CAED,IAoBIypD,EAEAC,EAtBAjpC,EAASlhB,EAAI0Q,gBACb05C,EAAKpqD,EAAI6jB,WACTsC,EAAK,EAELkkC,EAAiBrqD,EAAIqqD,eAErBC,EAAMtqD,EAAIqkB,aACVtO,EAAK/V,EAAIokB,aACTmmC,EAAK,EACLC,EAAMxqD,EAAIykB,WACVgmC,EAAKzqD,EAAIwkB,WACTkmC,EAAK,EACLC,EAAM3qD,EAAIukB,eACVqmC,EAAK5qD,EAAIskB,eACTumC,EAAK,EAELC,EAAO9qD,EAAI2kB,cACX/B,EAAW5iB,EAAI4iB,SACfmoC,EAAO,EAGPC,EAAS,EAIb,OAAQZ,GACN,QACA,IAAK,KACL,IAAK,IACHjkC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAGT,OAAQmkC,GACN,QACA,IAAK,OACL,IAAK,QACHC,EAAK,IACL,MACF,IAAK,OACL,IAAK,QACHA,EAAK,KACL,MACF,IAAK,KACL,IAAK,MACHA,EAAK,KAGT,OAAQC,GACN,QACA,IAAK,OACL,IAAK,QACHE,EAAK,IACL,MACF,IAAK,OACL,IAAK,QACHA,EAAK,KACL,MACF,IAAK,KACL,IAAK,MACHA,EAAK,KAGT,OAAQC,GACN,QACA,IAAK,OACL,IAAK,QACHE,EAAK,IACL,MACF,IAAK,OACL,IAAK,QACHA,EAAK,KACL,MACF,IAAK,KACL,IAAK,MACHA,EAAK,KAGT,OAAQjoC,GACN,IAAK,aASL,QACEmoC,EAAO,QAPT,IAAK,UACHA,EAAO,MACP,MACF,IAAK,eACHA,EAAO,MAsBX,GAfAb,EAAYrkC,QAAQ3E,EAASiF,GAAIL,QAAQ,IAEvCklC,EAASnlC,OADY,WAAnBwkC,EAEA,QAEElkC,EACAjF,GACC,OAAUqpC,EAAKx0C,EAAK,OAAU80C,EAAKD,EAAK,OAAUF,EAAKD,GAG5CvpC,EAASiF,EAAK,KAEhCgkC,EAAUtkC,OAAOilC,EAAOC,EAAO5kC,GAG3BsE,IAASu1B,GAAYt1B,cACvB,OAAQlkB,GACN,KAAK,EACH++C,IAAQD,GAAQA,EAAM4E,IACtBnD,IAAWD,GAAWA,EAASkE,IAC/BzC,IAAYD,GAAYA,EAAU6B,IAClC,MACF,KAAK,EACH1E,IAAQD,GAAQA,EAAM0E,IACtBjD,IAAWD,GAAWA,EAASgE,IAC/BvC,IAAYD,GAAYA,EAAU2B,IAClC,MACF,KAAK,EACHxE,IAAQD,GAAQA,EAAMwE,IACtB/C,IAAWD,GAAWA,EAAS8D,IAC/BrC,IAAYD,GAAYA,EAAUyB,IAClC,MACF,KAAK,EACHtE,IAAQD,GAAQA,EAAMsE,IACtB7C,IAAWD,GAAWA,EAAS4D,IAC/BnC,IAAYD,GAAYA,EAAUuB,IAClC,MACF,KAAK,EACHpE,IAAQD,GAAQA,EAAMoE,IACtB3C,IAAWD,GAAWA,EAAS0D,IAC/BjC,IAAYD,GAAYA,EAAUqB,IAClC,MACF,KAAK,EACHlE,IAAQD,GAAQA,EAAMkE,IACtBzC,IAAWD,GAAWA,EAASwD,IAC/B/B,IAAYD,GAAYA,EAAUmB,IAClC,MACF,KAAK,EACHhE,IAAQD,GAAQA,EAAMgE,IACtBvC,IAAWD,GAAWA,EAASsD,IAC/B7B,IAAYD,GAAYA,EAAUiB,IAClC,MACF,KAAK,EACH9D,IAAQD,GAAQA,EAAM8D,IACtBrC,IAAWD,GAAWA,EAASoD,IAC/B3B,IAAYD,GAAYA,EAAUe,IAClC,MACF,KAAK,EACH5D,IAAQD,GAAQA,EAAM4D,IACtBnC,IAAWD,GAAWA,EAASkD,IAC/BzB,IAAYD,GAAYA,EAAUa,IAClC,MACF,KAAK,EACH1D,IAAQD,GAAQA,EAAM0D,IACtBjC,IAAWD,GAAWA,EAASgD,IAC/BvB,IAAYD,GAAYA,EAAUW,IAClC,MACF,KAAK,GACHxD,IAAQD,GAAQA,EAAMwD,IACtB/B,IAAWD,GAAWA,EAAS8C,IAC/BrB,IAAYD,GAAYA,EAAUS,IAClC,MACF,KAAK,GACHtD,IAAQD,GAAQA,EAAMsD,IACtB7B,IAAWD,GAAWA,EAAS4C,IAC/BnB,IAAYD,GAAYA,EAAUO,IA+BxC,GAvBE1/B,IAASu1B,GAAYt1B,eACrBlkB,IAAUw5C,GAAYlS,aAElBkc,GAAc,GAAKA,GAAc,GACnCjG,GAAUD,GAAUA,EAAQoG,IAC5B3F,IAAaD,GAAaA,EAAW0G,IACrCjG,IAAcD,GAAcA,EAAYqF,KAC/BH,GAAc,GAAKA,GAAc,IAC1C/F,GAAWD,GAAWA,EAASkG,IAC/BzF,IAAcD,GAAcA,EAAYwG,IACxC/F,IAAeD,GAAeA,EAAamF,KAClCH,GAAc,IAAMA,GAAc,IAC3C7F,GAAUD,GAAUA,EAAQgG,IAC5BvF,IAAaD,GAAaA,EAAWsG,IACrC7F,IAAcD,GAAcA,EAAYiF,MAExC9F,GAAWD,GAAWA,EAAS8F,IAC/BrF,IAAcD,GAAcA,EAAYoG,IACxC3F,IAAeD,GAAeA,EAAa+E,MAK3C1/B,IAASu1B,GAAYt1B,eAAiB01B,KAAgBnmB,EAExD,OADAv5B,QAAQC,IAAIy/C,GAAc,IAAMnmB,GACxBxzB,GACN,KAAK,EACHw7C,GAAQD,GAAQA,EAAMkI,IACtBnH,GAAWD,GAAWA,EAASkI,IAC/BnH,GAAYD,GAAYA,EAAUuG,IAClC,MACF,KAAK,EACH9I,GAAQD,GAAQA,EAAM8I,IACtB/H,GAAWD,GAAWA,EAAS8I,IAC/B/H,GAAYD,GAAYA,EAAUmH,IAClC,MACF,KAAK,EACH5I,GAAQD,GAAQA,EAAM4I,IACtB7H,GAAWD,GAAWA,EAAS4I,IAC/B7H,GAAYD,GAAYA,EAAUiH,IAClC,MACF,KAAK,EACH1I,GAAQD,GAAQA,EAAM0I,IACtB3H,GAAWD,GAAWA,EAAS0I,IAC/B3H,GAAYD,GAAYA,EAAU+G,IAClC,MACF,KAAK,EACHxI,GAASD,GAASA,EAAOwI,IACzBzH,GAAYD,GAAYA,EAAUwI,IAClCzH,GAAaD,GAAaA,EAAW6G,IACrC,MACF,KAAK,EACHtI,GAAQD,GAAQA,EAAMsI,IACtBvH,GAAWD,GAAWA,EAASsI,IAC/BvH,GAAYD,GAAYA,EAAU2G,IAClC,MACF,KAAK,EACHpI,GAAQD,GAAQA,EAAMoI,IACtBrH,GAAWD,GAAWA,EAASoI,IAC/BrH,GAAYD,GAAYA,EAAUyG,IAKvC,GAtQH,EA2QIc,GAAa,CACjB,CAAC,MAAO,cAAe,eAAgB,eACvC,CAAC,MAAO7J,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAMc,EAASc,GACvB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,IAIjBsH,GAAc,CAClB,CAAC,OAAQ,cAAe,eAAgB,eACxC,CAAC,UAAWpH,EAAOQ,GAAUQ,IAC7B,CAAC,WAAYd,EAAQQ,GAAWQ,IAChC,CAAC,YAAad,EAAOQ,GAAUQ,IAC/B,CAAC,YAAad,EAAQQ,GAAWQ,KAI7B+F,GAAe,CACnB,CAAC,QAAS,cAAe,eAAgB,eACzC,CAAC,MAAO7F,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,KAGvB,SAASpJ,GAAUh7C,GACjB,OAAQA,GACN,IAAK,QAML,QACE,OAAOylD,GALT,IAAK,SACH,OAAOC,GACT,IAAK,UACH,OAAOC,GAIZ,CAED,OAEE,aADA,CACC,GAAD,CACE9/C,OAAO,wBACP9L,SAAS,uBACT8F,KAAK,WAHP,SAKE,eAAC0tC,GAAA,EAAI7zC,UAAL,CAAe4zC,iBAAiB,QAAhC,UACE,cAACC,GAAA,EAAIqY,QAAL,UACE,cAACrY,GAAA,EAAIsY,KAAL,CAAUt7C,SAAS,QAAQvK,MAAM,QAAjC,SACE,cAACk7C,GAAD,CACEl7C,MAAM,QACNg7C,UAAWA,GAAU,YACjBvhD,QAIV,cAAC8zC,GAAA,EAAIqY,QAAL,UACE,cAACrY,GAAA,EAAIsY,KAAL,CAAUt7C,SAAS,SAASvK,MAAM,SAAlC,SACE,cAACk7C,GAAD,CACEl7C,MAAM,SACNg7C,UAAWA,GAAU,aACjBvhD,QAIV,cAAC8zC,GAAA,EAAIqY,QAAL,UACE,cAACrY,GAAA,EAAIsY,KAAL,CAAUt7C,SAAS,UAAUvK,MAAM,UAAnC,SACE,cAACk7C,GAAD,CACEl7C,MAAM,UACNg7C,UAAWA,GAAU,cACjBvhD,QAIV,eAACqsD,GAAA,EAAD,CAAKC,SAAO,EAAC3mD,QAAQ,QAArB,UACE,cAAC0mD,GAAA,EAAIx7C,KAAL,UACE,cAACw7C,GAAA,EAAIh9B,KAAL,CAAUve,SAAS,QAAQlL,QAASiG,EAApC,qBAIF,cAACwgD,GAAA,EAAIx7C,KAAL,UACE,cAACw7C,GAAA,EAAIh9B,KAAL,CAAUve,SAAS,SAASlL,QAASiG,EAArC,sBAIF,cAACwgD,GAAA,EAAIx7C,KAAL,UACE,cAACw7C,GAAA,EAAIh9B,KAAL,CAAUve,SAAS,UAAUlL,QAASiG,EAAtC,8BAQX,IC9mBD,MAAMk1C,GAAc,IAAI15B,KACxB,IAAI25B,GAAS,IAAI35B,KAAK05B,GAAYt1B,cAAe,EAAG,GAChDw1B,GAAe91B,KAAK+1B,OAAOH,GAAcC,IAAf,OAC1BG,GAAch2B,KAAKi2B,MAAML,GAAYM,SAAW,EAAIJ,IAAgB,GAcxE,SAASK,GAAQthD,GACf,OACE,cAAC,KAAD,CACEuhD,UAAU,cACVt/C,KAAMjC,EAAMiC,KACZqN,OAAO,QACPkyC,OAAQ,gDACR9/B,QAAS1hB,EAAM0hB,SAGpB,CAED,MAAM+/B,GAAgBzhD,GAElB,cAAC,GAAD,CACEiC,KAAMjC,EAAMuhD,UACZ7/B,QAAS,CACPnb,MAAQ,GAAEvG,EAAMuG,+BAChBm7C,OAAQ,CAAE/rC,SAAU,MAAOgsC,SAAU,GACrCC,OAAQ,CAACzG,GAAsBA,GAAoBA,IACnD0G,MAAO,CAAEt7C,MAAOvG,EAAMuG,MAAOu7C,SAAU,GACvCC,MAAO,CAAEx7C,MAAO,mBA+lBT4G,oBACblJ,aAhBuBC,IAChB,CACLrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,QACxBe,KAAMiC,EAAMrD,UAAUoB,KAAK+/C,aAKHthD,IACnB,CACLgR,iBAAmBgJ,GAAYha,EAASgR,GAAiBgJ,QAM3DG,6BAAkB7a,IAChB,IAAIgB,EACFgC,EACAi/C,EAAe,sBACjB,OAAQjiD,EAAMkB,QAAQI,MACpB,IAAK,iBACH0B,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,iBACHX,EAAmB,iBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,eACHgC,EAAmB,iBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,aACHX,EAAmB,aACnBi/C,EAAe,sBACfjhD,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,WACHgC,EAAmB,aACnBi/C,EAAe,sBACfjhD,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,IAAK,kBACHX,EAAmB,kBACnBhC,EAAMhB,EAAM6B,KAAKb,IACjB,MACF,IAAK,gBACHgC,EAAmB,kBACnBhC,EAAMhB,EAAMkB,QAAQyC,MACpB,MACF,QACEX,EAAmB,OACnBhC,EAAMhB,EAAM6B,KAAKb,IAGrB,OAAKhB,EAAM6B,KAAKb,IACT,CACL,CACEF,WAAYkC,EACZjC,IAAKC,EACL8Z,eAAgB,CAAC,CAAEha,WAAYmhD,IAC/BlnC,QAAS,aANe,EAC5B,IA/CW5N,EAzlBf,SAAmBnN,GAMjB,MAAM6L,EALN,WACE,MAAOvG,EAAOg8B,GAAY98B,mBAAS,GACnC,MAAO,IAAM88B,GAAUh8B,GAAUA,EAAQ,GAC1C,CAEmB48C,IAKbC,EAAKC,GAAU59C,mBAAS,IACxB69C,EAAKC,GAAU99C,mBAAS,IACxB+9C,EAAKC,GAAUh+C,mBAAS,IACxBi+C,EAAMC,GAAWl+C,mBAAS,IAC1Bm+C,EAAKC,GAAUp+C,mBAAS,IACxBq+C,EAAKC,GAAUt+C,mBAAS,IACxBu+C,EAAKC,GAAUx+C,mBAAS,IACxBy+C,EAAQC,GAAa1+C,mBAAS,IAC9B2+C,EAAQC,GAAa5+C,mBAAS,IAC9B6+C,EAAQC,GAAa9+C,mBAAS,IAC9B++C,EAASC,GAAch/C,mBAAS,IAChCi/C,EAAQC,GAAal/C,mBAAS,IAC9Bm/C,EAAQC,GAAap/C,mBAAS,IAC9Bq/C,EAAQC,GAAat/C,mBAAS,IAC9Bu/C,EAASC,GAAcx/C,mBAAS,IAChCy/C,EAASC,GAAc1/C,mBAAS,IAChC2/C,EAASC,GAAc5/C,mBAAS,IAChC6/C,EAAUC,GAAe9/C,mBAAS,IAClC+/C,EAASC,GAAchgD,mBAAS,IAChCigD,EAASC,GAAclgD,mBAAS,IAChCmgD,EAASC,GAAcpgD,mBAAS,IAsBhCqgD,EAAOC,GAAYtgD,mBAAS,IAC5BugD,EAAQC,GAAaxgD,mBAAS,IAC9BygD,EAAOC,GAAY1gD,mBAAS,IAC5B2gD,EAAQC,GAAa5gD,mBAAS,IAC9B6gD,GAAUC,IAAe9gD,mBAAS,IAClC+gD,GAAWC,IAAgBhhD,mBAAS,IACpCihD,GAAUC,IAAelhD,mBAAS,IAClCmhD,GAAWC,IAAgBphD,mBAAS,IACpCqhD,GAAWC,IAAgBthD,mBAAS,IACpCuhD,GAAYC,IAAiBxhD,mBAAS,IACtCyhD,GAAWC,IAAgB1hD,mBAAS,IACpC2hD,GAAYC,IAAiB5hD,mBAAS,IAGtC6hD,GAAKC,IAAU9hD,mBAAS,IACxB+hD,GAAKC,IAAUhiD,mBAAS,IACxBiiD,GAAKC,IAAUliD,mBAAS,IACxBmiD,GAAKC,IAAUpiD,mBAAS,IACxBqiD,GAAKC,IAAUtiD,mBAAS,IACxBuiD,GAAKC,IAAUxiD,mBAAS,IACxByiD,GAAKC,IAAU1iD,mBAAS,IACxB2iD,GAAKC,IAAU5iD,mBAAS,IACxB6iD,GAAKC,IAAU9iD,mBAAS,IACxB+iD,GAAKC,IAAUhjD,mBAAS,IACxBijD,GAAKC,IAAUljD,mBAAS,IACxBmjD,GAAKC,IAAUpjD,mBAAS,IACxBqjD,GAAQC,IAAatjD,mBAAS,IAC9BujD,GAAQC,IAAaxjD,mBAAS,IAC9ByjD,GAAQC,IAAa1jD,mBAAS,IAC9B2jD,GAAQC,IAAa5jD,mBAAS,IAC9B6jD,GAAQC,IAAa9jD,mBAAS,IAC9B+jD,GAAQC,IAAahkD,mBAAS,IAC9BikD,GAAQC,IAAalkD,mBAAS,IAC9BmkD,GAAQC,IAAapkD,mBAAS,IAC9BqkD,GAAQC,IAAatkD,mBAAS,IAC9BukD,GAAQC,IAAaxkD,mBAAS,IAC9BykD,GAAQC,IAAa1kD,mBAAS,IAC9B2kD,GAAQC,IAAa5kD,mBAAS,IAC9B6kD,GAASC,IAAc9kD,mBAAS,IAChC+kD,GAASC,IAAchlD,mBAAS,IAChCilD,GAASC,IAAcllD,mBAAS,IAChCmlD,GAASC,IAAcplD,mBAAS,IAChCqlD,GAASC,IAActlD,mBAAS,IAChCulD,GAASC,IAAcxlD,mBAAS,IAChCylD,GAASC,IAAc1lD,mBAAS,IAChC2lD,GAASC,IAAc5lD,mBAAS,IAChC6lD,GAASC,IAAc9lD,mBAAS,IAChC+lD,GAASC,IAAchmD,mBAAS,IAChCimD,GAASC,IAAclmD,mBAAS,IAChCmmD,GAASC,IAAcpmD,mBAAS,GA8FvCI,qBAAU,KA1FRw9C,EAAO,GACPE,EAAO,GACPE,EAAO,GACPE,EAAQ,GACRE,EAAO,GACPE,EAAO,GACPE,EAAO,GACPE,EAAU,GACVE,EAAU,GACVE,EAAU,GACVE,EAAW,GACXE,EAAU,GACVE,EAAU,GACVE,EAAU,GACVE,EAAW,GACXE,EAAW,GACXE,EAAW,GACXE,EAAY,GACZE,EAAW,GACXE,EAAW,GACXE,EAAW,GAEXE,EAAS,GACTE,EAAU,GACVE,EAAS,GACTE,EAAU,GACVE,GAAY,GACZE,GAAa,GACbE,GAAY,GACZE,GAAa,GACbE,GAAa,GACbE,GAAc,GACdE,GAAa,GACbE,GAAc,GAGdE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAO,GACPE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAU,GACVE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,GACXE,GAAW,QAqBQhyC,IAAf5Y,EAAMiC,MAAqC,OAAfjC,EAAMiC,MACpC4oD,IACD,GAEA,CAAC7qD,EAAMiC,OAEV,MAAM4oD,GAAezgD,UACRzK,OAAOmZ,OAAO9Y,EAAMiC,MAC1B+G,SAASjI,IACZ,IACE,IAAI6d,EAAO,IAAIyI,KAAwB,IAAnBtmB,EAAI6d,KAAKksC,SACzBt/B,EAAO5M,EAAK6M,cACZlkB,EAAQqX,EAAKiwB,WACbkc,EAAansC,EAAKuwB,UAClB3nC,EAAMoX,EAAKyiC,SACXrmB,EAvPZ,SAAuBpc,EAAM4M,EAAMhkB,GACjC,IAAIw5C,EAAS,IAAI35B,KAAKmE,EAAM,EAAG,GAC3By1B,EAAe91B,KAAK+1B,OAAOtiC,EAAOoiC,GAAR,OAE9B,OADW71B,KAAKi2B,MAAM55C,EAAM,EAAIy5C,GAAgB,EAEjD,CAkPkB+J,CAAcpsC,EAAM4M,EAAMhkB,EAItC,CAHC,MAAOhG,GAEP,YADAC,QAAQ0H,MAAM3H,EAEf,CAED,IAoBIypD,EAEAC,EAtBAjpC,EAASlhB,EAAI0Q,gBACb05C,EAAKpqD,EAAI6jB,WACTsC,EAAK,EAELkkC,EAAiBrqD,EAAIqqD,eAErBC,EAAMtqD,EAAIqkB,aACVtO,EAAK/V,EAAIokB,aACTmmC,EAAK,EACLC,EAAMxqD,EAAIykB,WACVgmC,EAAKzqD,EAAIwkB,WACTkmC,EAAK,EACLC,EAAM3qD,EAAIukB,eACVqmC,EAAK5qD,EAAIskB,eACTumC,EAAK,EAELC,EAAO9qD,EAAI2kB,cACX/B,EAAW5iB,EAAI4iB,SACfmoC,EAAO,EAGPC,EAAS,EAIb,OAAQZ,GACN,QACA,IAAK,KACL,IAAK,IACHjkC,EAAK,EACL,MACF,IAAK,IACL,IAAK,KACHA,EAAK,KACL,MACF,IAAK,KACHA,EAAK,KACL,MACF,IAAK,MACHA,EAAK,KAGT,OAAQmkC,GACN,QACA,IAAK,OACL,IAAK,QACHC,EAAK,IACL,MACF,IAAK,OACL,IAAK,QACHA,EAAK,KACL,MACF,IAAK,KACL,IAAK,MACHA,EAAK,KAGT,OAAQC,GACN,QACA,IAAK,OACL,IAAK,QACHE,EAAK,IACL,MACF,IAAK,OACL,IAAK,QACHA,EAAK,KACL,MACF,IAAK,KACL,IAAK,MACHA,EAAK,KAGT,OAAQC,GACN,QACA,IAAK,OACL,IAAK,QACHE,EAAK,IACL,MACF,IAAK,OACL,IAAK,QACHA,EAAK,KACL,MACF,IAAK,KACL,IAAK,MACHA,EAAK,KAGT,OAAQjoC,GACN,IAAK,aASL,QACEmoC,EAAO,QAPT,IAAK,UACHA,EAAO,MACP,MACF,IAAK,eACHA,EAAO,MAsBX,GAfAb,EAAYrkC,QAAQ3E,EAASiF,GAAIL,QAAQ,IAEvCklC,EAASnlC,OADY,WAAnBwkC,EAEA,QAEElkC,EACAjF,GACC,OAAUqpC,EAAKx0C,EAAK,OAAU80C,EAAKD,EAAK,OAAUF,EAAKD,GAG5CvpC,EAASiF,EAAK,KAEhCgkC,EAAUtkC,OAAOilC,EAAOC,EAAO5kC,GAG3BsE,IAASu1B,GAAYt1B,cACvB,OAAQlkB,GACN,KAAK,EACH++C,IAAQD,GAAQA,EAAM4E,IACtBnD,IAAWD,GAAWA,EAASkE,IAC/BzC,IAAYD,GAAYA,EAAU6B,IAClC,MACF,KAAK,EACH1E,IAAQD,GAAQA,EAAM0E,IACtBjD,IAAWD,GAAWA,EAASgE,IAC/BvC,IAAYD,GAAYA,EAAU2B,IAClC,MACF,KAAK,EACHxE,IAAQD,GAAQA,EAAMwE,IACtB/C,IAAWD,GAAWA,EAAS8D,IAC/BrC,IAAYD,GAAYA,EAAUyB,IAClC,MACF,KAAK,EACHtE,IAAQD,GAAQA,EAAMsE,IACtB7C,IAAWD,GAAWA,EAAS4D,IAC/BnC,IAAYD,GAAYA,EAAUuB,IAClC,MACF,KAAK,EACHpE,IAAQD,GAAQA,EAAMoE,IACtB3C,IAAWD,GAAWA,EAAS0D,IAC/BjC,IAAYD,GAAYA,EAAUqB,IAClC,MACF,KAAK,EACHlE,IAAQD,GAAQA,EAAMkE,IACtBzC,IAAWD,GAAWA,EAASwD,IAC/B/B,IAAYD,GAAYA,EAAUmB,IAClC,MACF,KAAK,EACHhE,IAAQD,GAAQA,EAAMgE,IACtBvC,IAAWD,GAAWA,EAASsD,IAC/B7B,IAAYD,GAAYA,EAAUiB,IAClC,MACF,KAAK,EACH9D,IAAQD,GAAQA,EAAM8D,IACtBrC,IAAWD,GAAWA,EAASoD,IAC/B3B,IAAYD,GAAYA,EAAUe,IAClC,MACF,KAAK,EACH5D,IAAQD,GAAQA,EAAM4D,IACtBnC,IAAWD,GAAWA,EAASkD,IAC/BzB,IAAYD,GAAYA,EAAUa,IAClC,MACF,KAAK,EACH1D,IAAQD,GAAQA,EAAM0D,IACtBjC,IAAWD,GAAWA,EAASgD,IAC/BvB,IAAYD,GAAYA,EAAUW,IAClC,MACF,KAAK,GACHxD,IAAQD,GAAQA,EAAMwD,IACtB/B,IAAWD,GAAWA,EAAS8C,IAC/BrB,IAAYD,GAAYA,EAAUS,IAClC,MACF,KAAK,GACHtD,IAAQD,GAAQA,EAAMsD,IACtB7B,IAAWD,GAAWA,EAAS4C,IAC/BnB,IAAYD,GAAYA,EAAUO,IA+BxC,GAvBE1/B,IAASu1B,GAAYt1B,eACrBlkB,IAAUw5C,GAAYlS,aAElBkc,GAAc,GAAKA,GAAc,GACnCjG,GAAUD,GAAUA,EAAQoG,IAC5B3F,IAAaD,GAAaA,EAAW0G,IACrCjG,IAAcD,GAAcA,EAAYqF,KAC/BH,GAAc,GAAKA,GAAc,IAC1C/F,GAAWD,GAAWA,EAASkG,IAC/BzF,IAAcD,GAAcA,EAAYwG,IACxC/F,IAAeD,GAAeA,EAAamF,KAClCH,GAAc,IAAMA,GAAc,IAC3C7F,GAAUD,GAAUA,EAAQgG,IAC5BvF,IAAaD,GAAaA,EAAWsG,IACrC7F,IAAcD,GAAcA,EAAYiF,MAExC9F,GAAWD,GAAWA,EAAS8F,IAC/BrF,IAAcD,GAAcA,EAAYoG,IACxC3F,IAAeD,GAAeA,EAAa+E,MAK3C1/B,IAASu1B,GAAYt1B,eAAiB01B,KAAgBnmB,EAExD,OADAv5B,QAAQC,IAAIy/C,GAAc,IAAMnmB,GACxBxzB,GACN,KAAK,EACHw7C,GAAQD,GAAQA,EAAMkI,IACtBnH,GAAWD,GAAWA,EAASkI,IAC/BnH,GAAYD,GAAYA,EAAUuG,IAClC,MACF,KAAK,EACH9I,GAAQD,GAAQA,EAAM8I,IACtB/H,GAAWD,GAAWA,EAAS8I,IAC/B/H,GAAYD,GAAYA,EAAUmH,IAClC,MACF,KAAK,EACH5I,GAAQD,GAAQA,EAAM4I,IACtB7H,GAAWD,GAAWA,EAAS4I,IAC/B7H,GAAYD,GAAYA,EAAUiH,IAClC,MACF,KAAK,EACH1I,GAAQD,GAAQA,EAAM0I,IACtB3H,GAAWD,GAAWA,EAAS0I,IAC/B3H,GAAYD,GAAYA,EAAU+G,IAClC,MACF,KAAK,EACHxI,GAASD,GAASA,EAAOwI,IACzBzH,GAAYD,GAAYA,EAAUwI,IAClCzH,GAAaD,GAAaA,EAAW6G,IACrC,MACF,KAAK,EACHtI,GAAQD,GAAQA,EAAMsI,IACtBvH,GAAWD,GAAWA,EAASsI,IAC/BvH,GAAYD,GAAYA,EAAU2G,IAClC,MACF,KAAK,EACHpI,GAAQD,GAAQA,EAAMoI,IACtBrH,GAAWD,GAAWA,EAASoI,IAC/BrH,GAAYD,GAAYA,EAAUyG,IAKvC,GAtQH,EA2QIc,GAAa,CACjB,CAAC,MAAO,cAAe,eAAgB,eACvC,CAAC,MAAO7J,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAMc,EAASc,GACvB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,GACrB,CAAC,MAAO1B,EAAKc,EAAQc,IAIjBsH,GAAc,CAClB,CAAC,OAAQ,cAAe,eAAgB,eACxC,CAAC,UAAWpH,EAAOQ,GAAUQ,IAC7B,CAAC,WAAYd,EAAQQ,GAAWQ,IAChC,CAAC,YAAad,EAAOQ,GAAUQ,IAC/B,CAAC,YAAad,EAAQQ,GAAWQ,KAI7B+F,GAAe,CACnB,CAAC,QAAS,cAAe,eAAgB,eACzC,CAAC,MAAO7F,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,IACrB,CAAC,MAAO9C,GAAKwB,GAAQwB,KAGvB,SAASpJ,GAAUh7C,GACjB,OAAQA,GACN,IAAK,QAML,QACE,OAAOylD,GALT,IAAK,SACH,OAAOC,GACT,IAAK,UACH,OAAOC,GAIZ,CAED,OAEE,aADA,CACC,GAAD,CACE9/C,OAAO,oBACP9L,SAAS,oBACT8F,KAAK,WAHP,SAKE,eAAC0tC,GAAA,EAAI7zC,UAAL,CAAe4zC,iBAAiB,QAAhC,UACE,cAACC,GAAA,EAAIqY,QAAL,UACE,cAACrY,GAAA,EAAIsY,KAAL,CAAUt7C,SAAS,QAAQvK,MAAM,QAAjC,SACE,cAAC,GAAD,CACEA,MAAM,QACNg7C,UAAWA,GAAU,YACjBvhD,QAIV,cAAC8zC,GAAA,EAAIqY,QAAL,UACE,cAACrY,GAAA,EAAIsY,KAAL,CAAUt7C,SAAS,SAASvK,MAAM,SAAlC,SACE,cAAC,GAAD,CACEA,MAAM,SACNg7C,UAAWA,GAAU,aACjBvhD,QAIV,cAAC8zC,GAAA,EAAIqY,QAAL,UACE,cAACrY,GAAA,EAAIsY,KAAL,CAAUt7C,SAAS,UAAUvK,MAAM,UAAnC,SACE,cAAC,GAAD,CACEA,MAAM,UACNg7C,UAAWA,GAAU,cACjBvhD,QAIV,eAACqsD,GAAA,EAAD,CAAKC,SAAO,EAAC3mD,QAAQ,QAArB,UACE,cAAC0mD,GAAA,EAAIx7C,KAAL,UACE,cAACw7C,GAAA,EAAIh9B,KAAL,CAAUve,SAAS,QAAQlL,QAASiG,EAApC,qBAIF,cAACwgD,GAAA,EAAIx7C,KAAL,UACE,cAACw7C,GAAA,EAAIh9B,KAAL,CAAUve,SAAS,SAASlL,QAASiG,EAArC,sBAIF,cAACwgD,GAAA,EAAIx7C,KAAL,UACE,cAACw7C,GAAA,EAAIh9B,KAAL,CAAUve,SAAS,UAAUlL,QAASiG,EAAtC,8BAQX,ICnWc5H,oBAPUC,IACjB,CACNrC,KAAMqC,EAAM/B,SAASN,KACrBX,QAASgD,EAAM/B,SAASjB,WAIc,KAAzB+C,EA/LFjE,IACZ,MAAOgB,EAAKurD,GAAU/nD,mBAASxE,EAAM6B,KAAKb,MACnC0D,EAAYC,GAAiBH,oBAAS,GAE7CI,qBAAU,KAET,GADI5E,EAAM6B,KAAKb,KAAK2D,GAAc,IAC7B3E,EAAM6B,KAAKb,IAAK,OAAO,cAAC,IAAD,CAAU6D,GAAG,YAApB,GACnB,CAAC7E,EAAM6B,KAAKb,MAIf,MAAO+I,EAAMJ,GAAWnF,oBAAS,IAC1BgoD,EAAcC,GAAmBjoD,mBAAS,CAChD+B,MAAO,GACPsiB,KAAM,GACN2hB,MAAO,MAEDkiB,EAAcC,GAAiBnoD,oBAAS,GAc/C,M9N9EwBmoD,KACvB,GAAiB,MAAb78C,GACF,OAAOA,GACJ88C,WACAxrD,MAAMyrD,IACDA,EAEFF,GAAc,IAIdlrD,QAAQC,IACN,wEAEFirD,GAAc,GAEf,IAEFprD,OAAOC,IACNC,QAAQC,IAAI,6CAA8CF,EAA1D,IAIJC,QAAQC,IAAI,oBACb,E8NyCFkrD,CAASD,G9NrCR,IAAIG,SAASltD,IACM,MAAbkQ,IACFA,GAAUi9C,WAAWtjD,IACnB7J,EAAQ6J,EAAR,GAEH,I8NmCFrI,MAAMqI,IACNE,GAAQ,GACR8iD,EAAgB,CACfjiB,MAAO/gC,EAAQ+iD,aAAahiB,MAC5BjkC,MAAOkD,EAAQ+iD,aAAajmD,MAC5BsiB,KAAMpf,EAAQ+iD,aAAa3jC,MAH5B,IAMAtnB,OAAOC,GAAQC,QAAQC,IAAI,WAAYF,KAGxC,eAAC,IAAM0c,SAAP,WACC,cAAC,iBAAD,CAAevI,SAAS,cAExB,eAAC,IAAD,WACC,eAACq3C,GAAA,EAAD,CACC33C,QAAS,IAAM1L,GAAQ,GACvBI,KAAMA,EACNkjD,MAAO,IACPC,UAAQ,EACRC,WAAS,EACT5nD,MAAO,CACNoQ,SAAU,WACVE,IAAK,GACLD,MAAO,GACP1J,MAAO,IACPkhD,OAAQ,GAXV,UAcC,eAACJ,GAAA,EAAM/iD,OAAP,WACC,qBACC9J,IAAKqsD,EAAahiB,MAClBtqC,UAAU,eACVG,IAAI,GACJkF,MAAO,CAAE2G,MAAO,GAAIoD,OAAQ,GAAIggB,OAAQ,MAEzC,wBAAQpvB,UAAU,UAAlB,SAA6BssD,EAAajmD,QAC1C,gDAED,cAACymD,GAAA,EAAM9iD,KAAP,CAAY3E,MAAO,CAAEkL,gBAAiB,SAAtC,SACE+7C,EAAa3jC,UAGhB,gCACC,cAAC,cAAD,UACC,cAAC,IAAD,CACCwkC,OAAK,EACLC,KAAK,IACL5uC,OAAQ,IACPha,EACC,cAAC,IAAD,CAAUG,GAAG,aAEb,cAAC,IAAD,CAAUA,GAAG,iBAMjB,cAAC,eAAD,UACC,cAAC,IAAD,CAAOwoD,OAAK,EAACC,KAAK,IAAI5uC,OAAQ,IAAM,cAAC,IAAD,CAAU7Z,GAAG,iBAGlD,eAAC,IAAD,WAEC,cAAC,IAAD,CAAOyoD,KAAK,SAASD,OAAK,EAACv1C,UAAWy1C,IACtC,cAAC,IAAD,CAAOD,KAAK,SAASD,OAAK,EAACv1C,UAAW01C,KACtC,cAAC,IAAD,CAAOF,KAAK,WAAWD,OAAK,EAACv1C,UAAW21C,KACxC,cAAC,IAAD,CAAOH,KAAK,YAAYD,OAAK,EAACv1C,UAAWtL,KACzC,cAAC,IAAD,CAAO8gD,KAAK,UAAUD,OAAK,EAACv1C,UAAW41C,KACvC,cAAC,IAAD,CAAOJ,KAAK,YAAYD,OAAK,EAACv1C,UAAW61C,KACzC,cAAC,IAAD,CAAOL,KAAK,iBAAiBD,OAAK,EAACv1C,UAAW81C,KAC9C,cAAC,IAAD,CAAON,KAAK,WAAWD,OAAK,EAACv1C,UAAW+1C,KACxC,cAAC,IAAD,CAAOP,KAAK,mBAAmBD,OAAK,EAACv1C,UAAWuG,KAEhD,cAAC,IAAD,CAAOgvC,OAAK,EAACC,KAAK,eAAex1C,UAAWxJ,KAC5C,cAAC,IAAD,CAAOg/C,KAAK,yBAAyBD,OAAK,EAACv1C,UAAWg2C,KACtD,cAAC,IAAD,CACCR,KAAK,uBACLD,OAAK,EACLv1C,UAAWpI,KAEZ,cAAC,IAAD,CAAO49C,KAAK,oBAAoBD,OAAK,EAACv1C,UAAWi2C,KACjD,cAAC,IAAD,CACCT,KAAK,sBACLD,OAAK,EACLv1C,UAAWk2C,KAEZ,cAAC,IAAD,CACCV,KAAK,uBACLD,OAAK,EACLv1C,UAAW5H,KAGZ,cAAC,IAAD,CAAOo9C,KAAK,WAAWD,OAAK,EAACv1C,UAAWm2C,KACxC,cAAC,IAAD,CAAOX,KAAK,OAAOD,OAAK,EAACv1C,UAAWo2C,KACpC,cAAC,IAAD,CAAOZ,KAAK,mBAAmBD,OAAK,EAACv1C,UAAWuH,KAChD,cAAC,IAAD,CAAOiuC,KAAK,YAAYD,OAAK,EAACv1C,UAAWq2C,KAEzC,cAAC,IAAD,CAAOb,KAAK,cAAcD,OAAK,EAACv1C,UAAWs2C,KAC3C,cAAC,IAAD,CAAOd,KAAK,aAAaD,OAAK,EAACv1C,UAAWu2C,KAC1C,cAAC,IAAD,CAAOf,KAAK,aAAaD,OAAK,EAACv1C,UAAWw2C,KAC1C,cAAC,IAAD,CACChB,KAAK,sBACLD,OAAK,EACLv1C,UAAWy2C,KAEZ,cAAC,IAAD,CAAOjB,KAAK,eAAeD,OAAK,EAACv1C,UAAW29B,KAC5C,cAAC,IAAD,CAAO6X,KAAK,SAASx1C,UAAW2R,KAEhC,cAAC,IAAD,CAAO6jC,KAAK,SAASD,OAAK,EAACv1C,UAAW02C,KAEtC,cAAC,IAAD,CAAOlB,KAAK,cAAcD,OAAK,EAACv1C,UAAW22C,KAE3C,cAAC,IAAD,CAAOnB,KAAK,kBAAkBx1C,UAAWqR,KAEzC,cAAC,IAAD,CAAOmkC,KAAK,mBAAmBx1C,UAAWkU,KAE1C,cAAC,IAAD,CAAOshC,KAAK,iBAAiBx1C,UAAWsU,KAExC,cAAC,IAAD,CAAOkhC,KAAK,aAAax1C,UAAW42C,GAApC,UACG1uD,EAAMkB,QAAQ2a,UAAY,cAAC,IAAD,CAAUhX,GAAG,iBAE1C,cAAC,IAAD,CAAOyoD,KAAK,aAAax1C,UAAWshB,GAApC,SACEp5B,EAAMkB,QAAQ2a,UAAY,cAAC,IAAD,CAAUhX,GAAG,iBAEzC,cAAC,IAAD,CAAOyoD,KAAK,aAAax1C,UAAW62C,KACpC,cAAC,IAAD,CAAOrB,KAAK,aAAax1C,UAAW67B,KACpC,cAAC,IAAD,CAAO2Z,KAAK,gBAAgBx1C,UAAWk9B,KACvC,cAAC,IAAD,CAAOsY,KAAK,iBAAiBx1C,UAAW82C,KAExC,cAAC,IAAD,CAAOtB,KAAK,sBAAsBx1C,UAAW+2C,KAC7C,cAAC,IAAD,CAAOvB,KAAK,uBAAuBx1C,UAAWg3C,KAC9C,cAAC,IAAD,CACCxB,KAAK,wBACLx1C,UAAWi3C,KAGZ,cAAC,IAAD,CACCzB,KAAK,4BACLx1C,UAAWohC,KAEZ,cAAC,IAAD,CACCoU,KAAK,wBACLx1C,UAAW6hC,KAEZ,cAAC,IAAD,CACC2T,KAAK,wBACLx1C,UAAWwiC,KAEZ,cAAC,IAAD,CACCgT,KAAK,wBACLx1C,UAAWkjC,KAGZ,cAAC,IAAD,CAAOljC,UAAWmG,gBAhJvB,IC5Gc+wC,OAZSC,IAClBA,GAAeA,aAAuBC,UACxC,+BAAqB9tD,MAAK,IAAkD,IAAjD,OAAE+tD,EAAF,OAAUC,EAAV,OAAkBC,EAAlB,OAA0BC,EAA1B,QAAkCC,GAAc,EACzEJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,EAAR,GAEH,E,UCTH,MAAMO,GAAY,CAChBrrD,UAAW,MAkIEsrD,OA/HK,WAAgC,IAA/BvrD,EAA8B,uDAAtBsrD,GAAWv2C,EAAW,uCACjD,OAAQA,EAAO3X,MACb,IAAK,cAEH,OADAG,QAAQC,IAAI,eACL,IACFwC,EACHC,UAAW,gBAEf,IAAK,gBAEH,OADA1C,QAAQC,IAAI,iBACL,IACFwC,EACHC,UAAW,MAEf,IAAK,kBAEH,OADA1C,QAAQC,IAAI,mBACLwC,EACT,IAAK,iBAEH,OADAzC,QAAQC,IAAI,kBACL,IACFwC,EACHC,UAAW,MAEf,IAAK,eAWL,IAAK,0BAWL,IAAK,0BACH,MAAO,IACFD,EACHC,UAAW8U,EAAOzX,IAAIqG,SApB1B,IAAK,oBAEH,OADApG,QAAQC,IAAI,sBACL,IACFwC,EACHC,UAAW,MAOf,IAAK,oBAEH,OADA1C,QAAQC,IAAI,6BACL,IACFwC,EACHC,UAAW,MAOf,IAAK,eAEH,OADA1C,QAAQC,IAAI,yBACL,IACFwC,EACHC,UAAW,4BAEf,IAAK,iBAEH,OADA1C,QAAQC,IAAI,2BACL,IACFwC,EACHC,UAAW,MAEf,IAAK,qBAEH,OADA1C,QAAQC,IAAI,sBACL,IACFwC,EACHC,UAAW,yBAEf,IAAK,uBAEH,OADA1C,QAAQC,IAAI,wBACL,IACFwC,EACHC,UAAW,MAEf,IAAK,uBAEH,OADA1C,QAAQC,IAAI,sBACL,IACFwC,EACHC,UAAW,2BAEf,IAAK,yBAEH,OADA1C,QAAQC,IAAI,0BACL,IACFwC,EACHC,UAAW,MAEf,IAAK,cAEH,OADA1C,QAAQC,IAAI,wBACL,IACFwC,EACHC,UAAW,6BAEf,IAAK,gBAEH,OADA1C,QAAQC,IAAI,0BACL,IACFwC,EACHC,UAAW,MAEf,IAAK,eAEH,OADA1C,QAAQC,IAAI,uBACL,IACFwC,EACHC,UAAW,wBAEf,IAAK,iBAEH,OADA1C,QAAQC,IAAI,iCACL,IACFwC,EACHC,UAAW,MAEf,IAAK,iBAEH,OADA1C,QAAQC,IAAI,yBACL,IACFwC,EACHC,UAAW,0CAEf,IAAK,mBAEH,OADA1C,QAAQC,IAAI,mCACL,IACFwC,EACHC,UAAW,MAEf,QACE,OAAOD,EAEZ,ECjID,MAAMsrD,GAAY,CAAC,EAMJE,OAJI,WACf,OAD8C,uDAAtBF,EAE3B,ECJD,MAAMA,GAAY,CAChBrrD,UAAW,KACXiF,QAAS,GACT6a,aAAc,IAuFD0rC,OApFK,WAAgC,IAA/BzrD,EAA8B,uDAAtBsrD,GAAWv2C,EAAW,uCACjD,OAAQA,EAAO3X,MACb,IAAK,oBAEH,OADAG,QAAQC,IAAI,qBAAuBuX,EAAOzX,IAAIqG,SACvC,IACF3D,EACHC,UAAW,iBAEf,IAAK,cAEH,OADA1C,QAAQC,IAAI,uBACL,IACFwC,EACHC,UAAW,MAEf,IAAK,iBAEH,OADA1C,QAAQC,IAAI,kBAAoBuX,EAAOzX,IAAIqG,SACpC,IACF3D,EACHC,UAAW,cAEf,IAAK,WAEH,OADA1C,QAAQC,IAAI,oBACL,IACFwC,EACHkF,QAAS6P,EAAOxP,QAChBtF,UAAW,MAEb,IAAK,0BAEL,OADA1C,QAAQC,IAAI,sBAAwBuX,EAAOzX,IAAIqG,SACxC,IACF3D,EACHC,UAAW,cAEf,IAAK,oBAEH,OADA1C,QAAQC,IAAI,uBAAwBuX,EAAOxP,SACpC,IACFvF,EACH+f,aAAchL,EAAOxP,QACrBtF,UAAW,MAEf,IAAK,kBAEH,OADA1C,QAAQC,IAAI,mBACLwC,EACT,IAAK,iBAEH,OADAzC,QAAQC,IAAI,kBACL,IACFwC,EACHC,UAAW,MAEf,IAAK,eAEH,OADA1C,QAAQC,IAAI,gBACL,IACFwC,EACHC,UAAW8U,EAAOzX,IAAIqG,SAE1B,IAAK,eAEH,OADApG,QAAQC,IAAI,yBACL,IACFwC,EACHC,UAAW,4BAEf,IAAK,iBAEH,OADA1C,QAAQC,IAAI,2BACL,IACFwC,EACHC,UAAW,MAEf,IAAK,cAEH,OADA1C,QAAQC,IAAI,wBACL,IACFwC,EACHC,UAAW,6BAEf,IAAK,gBAEH,OADA1C,QAAQC,IAAI,0BACL,IACFwC,EACHC,UAAW,MAEf,QACE,OAAOD,EAEZ,ECxFD,MAAMsrD,GAAY,CAChBrrD,UAAW,KACX4/B,MAAO,GACPM,UAAW,GACXzB,gBAAiB,GACjB2J,WAAY,GACZ1F,aAAc,GACdC,gBAAiB,GACjB8oB,UAAW,GACXjtB,UAAW,GACXktB,WAAY,GACZtlD,aAAc,IAkaDulD,OA/ZS,WAAgC,IAA/B5rD,EAA8B,uDAAtBsrD,GAAWv2C,EAAW,uCACrD,OAAQA,EAAO3X,MAEb,IAAK,cAEH,OADAG,QAAQC,IAAI,eAAgBuX,EAAO5R,UAC5B,IACFnD,EACHC,UAAW,MAEf,IAAK,oBAEH,OADA1C,QAAQC,IAAI,0BAA2BuX,EAAOzX,KACvC,IACF0C,EACHC,UAAW,sBAEf,IAAK,YAEH,OADA1C,QAAQC,IAAI,oBAAqBuX,EAAOxP,SACjC,IACFvF,EACH6/B,MAAO9qB,EAAOxP,QACdtF,UAAW,MAEf,IAAK,kBAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,oBAEb,IAAK,iBAEH,OADA1C,QAAQC,IAAI,yBAA0BuX,EAAOxP,SACtC,IACFvF,EACHmgC,UAAWprB,EAAOxP,QAClBtF,UAAW,MAEf,IAAK,uBAEH,OADA1C,QAAQC,IAAI,oCAAqCuX,EAAOzX,KACjD,IACF0C,EACHC,UAAW,yBAGb,IAAK,wBAEL,OADA1C,QAAQC,IAAI,gCAAiCuX,EAAOxP,SAC7C,IACFvF,EACH0+B,gBAAiB3pB,EAAOxP,QACxBtF,UAAW,MAEf,IAAK,8BAEH,OADA1C,QAAQC,IAAI,2CAA4CuX,EAAOzX,KACxD,IACF0C,EACHC,UAAW,gCAGjB,IAAK,YAEH,OADA1C,QAAQC,IAAI,sBAAuBuX,EAAO5R,UACnC,IACFnD,EACHC,UAAW,MAEf,IAAK,kBAEH,OADA1C,QAAQC,IAAI,4BAA6BuX,EAAOzX,KACzC,IACF0C,EACHC,UAAW,oBAEb,IAAK,kBAEL,OADA1C,QAAQC,IAAI,iCAAkCuX,EAAO5R,UAC9C,IACFnD,EACHC,UAAW,MAEf,IAAK,wBAEH,OADA1C,QAAQC,IAAI,kCAAmCuX,EAAOzX,KAC/C,IACF0C,EACHC,UAAW,0BAEf,IAAK,cAiTL,IAAK,wBAEH,OADA1C,QAAQC,IAAI,uBAAwBuX,EAAO5R,UACpC,IACFnD,EACHC,UAAW,MA/Sf,IAAK,oBAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,sBAMf,IAAK,gBAEH,OADA1C,QAAQC,IAAI,eAAgBuX,EAAOkK,QAC5B,IACFjf,EACHC,UAAW,MAEf,IAAK,sBAEH,OADA1C,QAAQC,IAAI,0BAA2BuX,EAAOzX,KACvC,IACF0C,EACHC,UAAW,wBAEf,IAAK,cAEH,OADA1C,QAAQC,IAAI,oBAAqBuX,EAAOxP,SACjC,IACFvF,EACHqoC,WAAYtzB,EAAOxP,QACnBtF,UAAW,MAEf,IAAK,oBAEH,OADA1C,QAAQC,IAAI,gCAAiCuX,EAAOzX,KAC7C,IACF0C,EACHC,UAAW,qBAEf,IAAK,gBAEH,OADA1C,QAAQC,IAAI,uBAAwBuX,EAAOkK,QACpC,IACFjf,EACHC,UAAW,MAEf,IAAK,sBAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,wBAKf,IAAK,oBA+JL,IAAK,+BAEH,OADA1C,QAAQC,IAAI,4BAA6BuX,EAAOxP,SACzC,IACFvF,EACH2iC,aAAc5tB,EAAOxP,QACrBtF,UAAW,MA7Jf,IAAK,0BAaL,IAAK,8BAkJL,IAAK,qCAEH,OADA1C,QAAQC,IAAI,oCAAqCuX,EAAOzX,KACjD,IACF0C,EACHC,UAAW,6BA7Jb,IAAK,wBAEL,OADA1C,QAAQC,IAAI,4BAA6BuX,EAAOxP,SACzC,IACFvF,EACH4iC,gBAAiB7tB,EAAOxP,QACxBtF,UAAW,MAQf,IAAK,cAYH,IAAK,kBAsDL,IAAK,oBAgFP,IAAK,yBAEH,OADA1C,QAAQC,IAAI,gBAAiBuX,EAAOgsB,MAC7B,IACF/gC,EACHC,UAAW,MAhJf,IAAK,oBAYL,IAAK,wBAsDL,IAAK,0BAgFL,IAAK,+BAEH,OADA1C,QAAQC,IAAI,uCAAwCuX,EAAOzX,KACpD,IACF0C,EACHC,UAAW,sBAnIb,IAAK,oBAEL,OADA1C,QAAQC,IAAI,qBAAsBuX,EAAOhX,MAClC,IACFiC,EACHC,UAAW,MAEf,IAAK,0BAEH,OADA1C,QAAQC,IAAI,uCAAwCuX,EAAOzX,KACpD,IACF0C,EACHC,UAAW,0BAGb,IAAK,eAEH,MAAO,IACFD,EACHC,UAAW,MAEf,IAAK,qBAEH,OADA1C,QAAQC,IAAI,0CAA2CuX,EAAOzX,KACvD,IACF0C,EACHC,UAAW,uBAGb,IAAK,oBAEH,OADA1C,QAAQC,IAAI,eAAgBuX,EAAOxP,SAC5B,IACFvF,EACHqG,aAAc0O,EAAOxP,QACrBtF,UAAW,MAEf,IAAK,0BAEH,OADA1C,QAAQC,IAAI,oCAAqCuX,EAAOzX,KACjD,IACF0C,EACHC,UAAW,8BAgBjB,IAAK,qBAEH,OADA1C,QAAQC,IAAI,mCAAoCuX,EAAOxP,SAChD,IACFvF,EACHC,UAAW,MAEf,IAAK,2BAEH,OADA1C,QAAQC,IAAI,qCAAsCuX,EAAOzX,KAClD,IACF0C,EACHC,UAAW,sBAGb,IAAK,uBAEL,OADA1C,QAAQC,IAAI,6BAA8BuX,EAAOxP,SAC1C,IACFvF,EACHC,UAAW,MAEf,IAAK,6BAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,sBAGjB,IAAK,cAYH,IAAK,kBA0CP,IAAK,yBAEH,OADA1C,QAAQC,IAAI,6BACL,IACFwC,EACHC,UAAW,MApDf,IAAK,oBAYL,IAAK,wBA0CL,IAAK,+BAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,sBAMf,IAAK,gBAEH,OADA1C,QAAQC,IAAI,wBAAyBuX,EAAOxP,SACrC,IACFvF,EACHy+B,UAAW1pB,EAAOxP,QAClBtF,UAAW,MAEf,IAAK,sBAEH,OADA1C,QAAQC,IAAI,kCAAmCuX,EAAOzX,KAC/C,IACF0C,EACHC,UAAW,wBAEf,IAAK,wBAEH,OADA1C,QAAQC,IAAI,yBAA0BuX,EAAO5R,UACtC,IACFnD,EACHC,UAAW,MAEf,IAAK,8BAEH,OADA1C,QAAQC,IAAI,oCAAqCuX,EAAOzX,KACjD,IACF0C,EACHC,UAAW,gCAEb,IAAK,mBAEL,OADA1C,QAAQC,IAAI,sBAAuBuX,EAAOhX,MACnC,IACFiC,EACHC,UAAW,MAEf,IAAK,yBAEH,OADA1C,QAAQC,IAAI,iCAAkCuX,EAAOzX,KAC9C,IACF0C,EACHC,UAAW,gCAEb,IAAK,oBAEH,OADA1C,QAAQC,IAAI,mBAAoBuX,EAAOhX,MAChC,IACFiC,EACHC,UAAW,MAEf,IAAK,0BAEH,OADA1C,QAAQC,IAAI,gCAAiCuX,EAAOzX,KAC7C,IACF0C,EACHC,UAAW,gCAQjB,IAAK,8BAEH,OADA1C,QAAQC,IAAI,wCAAyCuX,EAAOzX,KACrD,IACF0C,EACHC,UAAW,8BAEb,IAAK,iBAEL,OADA1C,QAAQC,IAAI,yBAA0BuX,EAAOxP,SACtC,IACFvF,EACHC,UAAW,MAEf,IAAK,uBAEH,OADA1C,QAAQC,IAAI,iCAAkCuX,EAAOzX,KAC9C,IACF0C,EACHC,UAAW,wBAGf,QACE,OAAOD,EAEZ,EC3aD,MAAMsrD,GAAY,CAChBrrD,UAAW,KACX4/B,MAAO,GACPwI,WAAY,GACZ1F,aAAc,GACdlE,UAAW,GACX2B,MAAO,GACP1zB,MAAO,GACPo2B,SAAU,GACVzC,UAAW,GACXwC,SAAS,GACTtD,eAAe,IAoJFssB,OA/IY,WAAgC,IAA/B7rD,EAA8B,uDAAtBsrD,GAAWv2C,EAAW,uCACxD,OAAQA,EAAO3X,MAEb,IAAK,mBAEH,OADAG,QAAQC,IAAI,uBAAwBuX,EAAOyoB,aACpC,IACFx9B,EACHC,UAAW,MAEf,IAAK,4BAEH,OADA1C,QAAQC,IAAI,+BAAgCuX,EAAOzX,KAC5C,IACF0C,EACHC,UAAW,sBAEb,IAAK,qBAEL,OADA1C,QAAQC,IAAI,yBAA0BuX,EAAO4oB,MACtC,IACF39B,EACHC,UAAW,MAEf,IAAK,8BAEH,OADA1C,QAAQC,IAAI,iCAAkCuX,EAAOzX,KAC9C,IACF0C,EACHC,UAAW,sBAEb,IAAK,sBAEL,OADA1C,QAAQC,IAAI,qCAAsCuX,EAAO5R,UAClD,IACFnD,EACHC,UAAW,MAEf,IAAK,6BAEH,OADA1C,QAAQC,IAAI,uCAAwCuX,EAAOzX,KACpD,IACF0C,EACHC,UAAW,sBAEb,IAAK,iBAEH,OADA1C,QAAQC,IAAI,0BAA2BuX,EAAOxP,SACvC,IACFvF,EACHogC,MAAOrrB,EAAOxP,QACdtF,UAAW,MAEf,IAAK,uBAaL,IAAK,uBAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,oBAXb,IAAK,iBAEL,OADA1C,QAAQC,IAAI,yBAA0BuX,EAAOxP,SACtC,IACFvF,EACHqgC,UAAWtrB,EAAOxP,QAClBtF,UAAW,MAQf,IAAK,gBAEL,OADA1C,QAAQC,IAAI,4BAA6BuX,EAAOxP,SACzC,IACFvF,EACH8iC,SAAU/tB,EAAOxP,QACjBtF,UAAW,MAEf,IAAK,sBAEH,OADA1C,QAAQC,IAAI,iCAAkCuX,EAAOzX,KAC9C,IACF0C,EACHC,UAAW,oBAGb,IAAK,uBAEH,OADA1C,QAAQC,IAAI,oCAAqCuX,EAAOxP,SACjD,IACFvF,EACHu/B,eAAgBxqB,EAAOxP,QACvBtF,UAAW,MAEf,IAAK,6BAEH,OADA1C,QAAQC,IAAI,gDAAiDuX,EAAOzX,KAC7D,IACF0C,EACHC,UAAW,+BAGf,IAAK,gBAgCH,IAAK,iBAEP,OADA1C,QAAQC,IAAI,sBAAuBuX,EAAOhX,MACnC,IACFiC,EACHC,UAAW,MA9Bf,IAAK,sBAEH,OADA1C,QAAQC,IAAI,4BAA6BuX,EAAOzX,KACzC,IACF0C,EACHC,UAAW,oBAGX,IAAK,mBAEH,OADA1C,QAAQC,IAAI,6BACL,IACFwC,EACHC,UAAW,MAEf,IAAK,yBAEH,OADA1C,QAAQC,IAAI,8BAA+BuX,EAAOzX,KAC3C,IACF0C,EACHC,UAAW,sBAEf,IAAK,oBAEL,OADA1C,QAAQC,IAAI,gCAAiCuX,EAAO4oB,MAC7C,IACF39B,EACH6iC,SAAU9tB,EAAO4oB,KACjB19B,UAAW,MAQjB,IAAK,uBAEH,OADA1C,QAAQC,IAAI,sCAAuCuX,EAAOzX,KACnD,IACF0C,EACHC,UAAW,8BAGf,QACE,OAAOD,EAEZ,ECvIc8rD,OAVKC,aAAgB,CAClCpuD,KAAM4tD,GACNzwD,IAAK0wD,GACLztD,KAAM0tD,GACNtoD,SAAUyoD,GACVpuB,YAAaquB,GACb5tD,SAAU+tD,mBACVrvD,UAAWsvD,sB,UCCb,MAGMC,GAAmBjiD,OAAOkiD,sCAAwCljD,KAElEmjD,GAAQC,aACZP,GANmB,CAAC,EAQpBI,GACEI,aAAgBC,KAAMC,kBAAkB,CAAE9vD,2BAAa2H,kCAarDooD,GAAU,CACdxuD,aACAq6B,OARgB,CAChBo0B,YAAa,QACbC,wBAAwB,GAOxBnwD,SAAU4vD,GAAM5vD,SAChBowD,mDACAC,WAAYnhD,IAIRohD,GAAe,IAAmB,IAAlB,SAAEzwD,GAAe,EACrC,MAAMsB,EAAOovD,aAAa/sD,GAAUA,EAAM/B,SAASN,OACnD,OAAKqvD,oBAASrvD,GAGPtB,EAFE,uBAET,EAGF4wD,IAASzyC,OACP,cAAC,IAAD,CAAU4xC,MAAOA,GAAjB,SACE,cAAC,8BAAD,IAAgCK,GAAhC,SACE,cAACK,GAAD,UACE,cAAC,GAAD,UAKNI,SAASC,eAAe,SAM1BrC,I","file":"static/js/main.823ed577.chunk.js","sourcesContent":["var map = {\n\t\"./Grains-01.png\": 832,\n\t\"./Oil-01.png\": 833,\n\t\"./Other-01.png\": 834,\n\t\"./Root vegetables-01.png\": 835,\n\t\"./Soft fruits-01.png\": 836,\n\t\"./Vegetables-01.png\": 837\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 831;","export default __webpack_public_path__ + \"static/media/Grains-01.6d747af3.png\";","export default __webpack_public_path__ + \"static/media/Oil-01.bf2d671a.png\";","export default __webpack_public_path__ + \"static/media/Other-01.d0da66c7.png\";","export default __webpack_public_path__ + \"static/media/Root vegetables-01.8390b8aa.png\";","export default __webpack_public_path__ + \"static/media/Soft fruits-01.ab2cfac3.png\";","export default __webpack_public_path__ + \"static/media/Vegetables-01.387314a6.png\";","export default __webpack_public_path__ + \"static/media/WFTLogo.5d4e2951.png\";","import React from \"react\";\n\nimport \"../../SubComponents/PageWrap.css\";\nimport logo from \"../../../images/WFTLogo.png\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Title = (props) => {\n  return (\n    <Container className=\"mobile-style\">\n      <div className=\"top\">\n        <img className=\"logo\" src={logo} alt=\"IntelliDigest\" />\n      </div>\n      <div className=\"titles\">\n        {/*<Row className=\"center\">\n            <h1 style={{ color: \"#afba15\" }}>Intelli</h1>\n            <h1 style={{ color: \"#0c0847\" }}>Digest</h1>\n           </Row> */}\n        <h2>{props.subtitle}</h2>\n      </div>\n      {props.children}\n    </Container>\n  );\n};\n","import firebase from \"firebase/app\";\n\nexport const signIn = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(credentials.email, credentials.password)\n      .then(() => {\n        dispatch({ type: \"LOGIN_SUCCESS\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"LOGIN_ERROR\", err });\n      });\n  };\n};\n\nexport const signOut = () => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        dispatch({ type: \"SIGNOUT_SUCCESS\" });\n      });\n  };\n};\n\nexport const updatePassword = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .currentUser.updatePassword(credentials.password)\n      .then(() => {\n        dispatch({ type: \"CHANGE_SUCCESS\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CHANGE_ERROR\", err });\n      });\n  };\n};\n\nexport const updateEmail = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n    const firestore = getFirebase().firestore();\n\n    const creds = firebase.auth.EmailAuthProvider.credential(\n      credentials.email,\n      credentials.password\n    );\n\n    firebase\n      .auth()\n      .currentUser.reauthenticateWithCredential(creds)\n      .then(() => {\n        firebase\n          .auth()\n          .currentUser.verifyBeforeUpdateEmail(credentials.newEmail)\n          .then(() => {\n            return firestore.collection(\"users\").doc(credentials.uid).update({\n              email: credentials.newEmail,\n            });\n          })\n          .then(() => {\n            dispatch({ type: \"CHANGE_EMAIL_SUCCESS\" });\n          })\n          .catch((err) => {\n           dispatch({ type: \"CHANGE_EMAIL_ERROR\", err });\n          });\n      });\n  };\n};\n\nexport const updateProfile = (users) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firestore = getFirebase().firestore();\n\n    firestore\n      .collection(\"users\")\n      .doc(users.uid)\n      .set({ ...users.profile }, { merge: true })\n      .then(() => {\n        dispatch({ type: \"CHANGE_PROFILE_SUCCESS\" });\n      })\n      .catch((err) => {\n        console.log(\"err\");\n        dispatch({ type: \"CHANGE_PROFILE_ERROR\", err });\n      });\n  };\n};\n\n//sets isSeller in \"users\" and the profile in \"marketplace\"\nexport const becomeSeller = (seller) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"farm_admin\":\n        uid = authUID;\n        break;\n      case \"farm_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    const firestore = getFirebase().firestore();\n\n    firestore\n      .collection(\"users\")\n      .doc(uid)\n      .set({ ...seller.profile }, { merge: true })\n      .then(() => {\n        return firestore\n          .collection(\"marketplace\")\n          .doc(uid)\n          .set({ ...seller.info }, { merge: true });\n      })\n      .then(() => {\n        dispatch({ type: \"SELLER_SUCCESS\" });\n      })\n      .catch((err) => {\n        console.log(\"err\");\n        dispatch({ type: \"SELLER_ERROR\", err });\n      });\n  };\n};\n\n//sets isConsumer in \"users\" and the profile in \"marketplace\"\nexport const becomeConsumer = (consumer) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firestore = getFirebase().firestore();\n\n    firestore\n      .collection(\"users\")\n      .doc(consumer.uid)\n      .set({ ...consumer.profile }, { merge: true })\n      .then(() => {\n        return firestore\n          .collection(\"marketplace\")\n          .doc(consumer.uid)\n          .set({ ...consumer.upload }, { merge: true });\n      })\n      .then(() => {\n        dispatch({ type: \"CONSUMER_SUCCESS\" });\n      })\n      .catch((err) => {\n        console.log(\"err\");\n        dispatch({ type: \"CONSUMER_ERROR\", err });\n      });\n  };\n};\n\n//not currently working\nexport const resetPassword = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .sendPasswordResetEmail(credentials.email)\n      .then(() => {\n        dispatch({ type: \"RESET_SUCCESS\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"RESET_ERROR\", err });\n      });\n  };\n};\n\nexport const signUp = (newUser) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //Determine account type\n    var type;\n    switch (newUser.function) {\n      case \"Hospitals\":\n      case \"Hotels\":\n      case \"Offices\":\n      case \"Shop/Supermarket\":\n      case \"Recreational Centers\":\n      case \"Business\":\n        type = \"business_admin\";\n        break;\n      case \"Restaurants\":\n        type = \"restaurant_admin\";\n        break\n      case \"Schools\":\n        type = \"academic_admin\";\n        break;\n      case \"Farm\":\n        type = \"farm_admin\";\n        break;\n      case \"Households\":\n      case \"Personal\":\n        type = \"household_admin\";\n        break;\n      default:\n        type = \"user\";\n        break;\n    }\n\n    const firestore = getFirebase().firestore();\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(newUser.email, newUser.password)\n      .then((resp) => {\n        firestore\n          .collection(\"users\")\n          .doc(resp.user.uid)\n          .set({\n            // ...newUser,\n            firstName: newUser.firstName,\n            lastName: newUser.lastName,\n            initials: newUser.firstName[0] + newUser.lastName[0],\n            email: newUser.email,\n            buildingFunction: newUser.function,\n            city: newUser.city,\n            country: newUser.country,\n            region: newUser.region,\n            //restaurant-specific user data:\n            restaurantName: newUser.restaurantName,\n            regulatoryBody: newUser.regulatoryBody,\n            regulatoryBodyID: newUser.regulatoryBodyID,\n            cuisine: newUser.cuisine,\n            restaurantDescription: newUser.restaurantDescription,\n            type: type,\n          });\n\n        //Setup Admin account in relevent users collection\n        var adminCollection;\n        if (type === \"business_admin\") {\n          adminCollection = \"business_users\";\n        } else if (type === \"academic_admin\") {\n          adminCollection = \"academic_users\";\n        } else if (type === \"farm_admin\") {\n          adminCollection = \"farm_users\";\n        } else if (type === \"household_admin\") {\n          adminCollection = \"household_users\";\n        } else {\n          adminCollection = \"user\";\n        }\n\n        if (adminCollection !== \"user\") {\n          firestore\n            .collection(adminCollection)\n            .doc(resp.user.uid)\n            .set({\n              name: newUser.firstName + \" \" + newUser.lastName,\n              email: newUser.email,\n            });\n        }\n      })\n      .then(() => {\n        firebase.auth().currentUser.sendEmailVerification();\n      })\n      .then(() => {\n        dispatch({ type: \"SIGNUP_SUCCESS\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"SIGNUP_ERROR\", err });\n      });\n  };\n};\n\nexport const getUserData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(data.collection)\n      .doc(data.uid)\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_DATA\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n\n//Admin and Sub Account Auth Actions\nexport const createSubAccount = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    /* \n    Initialize a secondary firebase app instance\n    in order to create a new user account without\n    automatically signing in as the new user.\n\n    Then complete all actions to add data to\n    firebase collections before deleting the secondary\n    firebase app instance.\n\n    This solution was found @:\n    https://stackoverflow.com/questions/37517208/firebase-kicks-out-current-user/38013551#38013551\n    */\n    var config = {\n      apiKey: \"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w\",\n      authDomain: \"itracker-development.firebaseapp.com\",\n      projectId: \"itracker-development\",\n      storageBucket: \"itracker-development.appspot.com\",\n      messagingSenderId: \"57163396396\",\n      appId: \"1:57163396396:web:dd800621173f5733a4a889\",\n    };\n\n    let secondaryApp = firebase.initializeApp(config, \"second\");\n\n    var subUid;\n\n    secondaryApp\n      .auth()\n      .createUserWithEmailAndPassword(data.email, data.password)\n      .then((resp) => {\n        subUid = resp.user.uid;\n        //Create user document inside Admin's 'sub_accounts' collection\n        getFirebase()\n          .firestore()\n          .collection(data.masterCollection)\n          .doc(data.uid)\n          .collection(\"sub_accounts\")\n          .doc(subUid)\n          .set({\n            email: data.email,\n            name: data.firstName + \" \" + data.lastName,\n            role: data.role,\n          });\n      })\n      .then(() => {\n        //Create user document inside 'users' base collection\n        getFirebase()\n          .firestore()\n          .collection(\"users\")\n          .doc(subUid)\n          .set({\n            firstName: data.firstName,\n            lastName: data.lastName,\n            initials: data.firstName[0] + data.lastName[0],\n            email: data.email,\n            buildingFunction: data.function,\n            city: data.city,\n            country: data.country,\n            region: data.region,\n            admin: data.uid,\n            type: data.type,\n            restaurantName: data.restaurantName,\n          });\n      })\n      .then(() => {\n        secondaryApp.auth().currentUser.sendEmailVerification();\n      })\n      .then(() => {\n        secondaryApp.auth().signOut();\n      })\n      .then(() => {\n        secondaryApp.delete();\n      })\n      .then(() => {\n        dispatch({ type: \"CREATE_SUBACCOUNT\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_SUBACCOUNT_ERROR\", err });\n      });\n  };\n};\n\nexport const deleteSubAccount = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    /* \n    Initialize a secondary firebase app instance\n    in order to delete a sub account without\n    automatically signing in as the sub account\n    before deletion.\n\n    Then complete all actions to remove data from\n    firebase collections before deleting the account \n    and then deleting the secondary firebase app \n    instance.\n\n    This solution was found @:\n    https://stackoverflow.com/questions/38800414/delete-a-specific-user-from-firebase\n    */\n\n    var config = {\n      apiKey: \"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w\",\n      authDomain: \"itracker-development.firebaseapp.com\",\n      projectId: \"itracker-development\",\n      storageBucket: \"itracker-development.appspot.com\",\n      messagingSenderId: \"57163396396\",\n      appId: \"1:57163396396:web:dd800621173f5733a4a889\",\n    };\n\n    let secondaryApp = firebase.initializeApp(config, \"second\");\n\n    var subUid;\n\n    secondaryApp\n      .auth()\n      .signInWithEmailAndPassword(data.email, data.password)\n      .then(() => {\n        subUid = secondaryApp.auth().currentUser.uid;\n\n        //Delete user document inside Admin's 'sub_accounts' collection\n        getFirebase()\n          .firestore()\n          .collection(data.masterCollection)\n          .doc(data.uid)\n          .collection(\"sub_accounts\")\n          .doc(subUid)\n          .delete();\n\n        //Delete sub accounts user document\n        getFirebase().firestore().collection(\"users\").doc(subUid).delete();\n      })\n      .then(() => {\n        secondaryApp.auth().currentUser.delete();\n      })\n      .then(() => {\n        secondaryApp.auth().signOut();\n      })\n      .then(() => {\n        secondaryApp.delete();\n      })\n      .then(() => {\n        dispatch({ type: \"DELETE_SUBACCOUNT\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"DELETE_SUBACCOUNT_ERROR\", err });\n      });\n  };\n};\n\nexport const changeConsumerPostcode = (consumer) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firestore = getFirebase().firestore();\n\n      firestore\n      .collection(\"marketplace\")\n      .doc(consumer.uid)\n      .set({ ...consumer.upload }, { merge: true })\n      .then(() => {\n        dispatch({ type: \"CONSUMER_SUCCESS\" });\n      })\n      .catch((err) => {\n        console.log(\"err\");\n        dispatch({ type: \"CONSUMER_ERROR\", err });\n      });\n  };\n};\n\nexport const getConsumerPostcode = (uid) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firestore = getFirebase().firestore();\n\n      firestore\n      .collection(\"marketplace\")\n      .doc(uid)\n      .get()\n      .then((snapshot) => {\n        dispatch({ type: \"GET_DATA\", payload: snapshot.data() });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n","import React, { useState, useEffect } from 'react';\n\nimport '../Account/UserAccount.css';\nimport './Mob.css';\nimport { Title } from './MobComponents';\n\nimport { Form, Button } from 'react-bootstrap';\n\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport { signIn } from '../../../store/actions/authActions';\n\nfunction Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleSubmit() {\n    var data = {\n      email: email,\n      password: password,\n    };\n    props.signIn(data);\n  }\n\n  const { authError } = props;\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  //make sure the user isn't already logged in\n  useEffect(() => {\n    if (props.auth.uid) setIsLoggedIn(true);\n  }, [props.auth.uid]);\n\n  if (isLoggedIn) {\n    return <Redirect to='/account' />;\n  }\n\n  return (\n    <Title subtitle='Log In'>\n      <Form>\n        <Form.Group className='mb-3'>\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            type='email'\n            placeholder='Enter email'\n            required\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n\n        <Form.Group className='mb-3'>\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Password'\n            required\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <div className='signup-center subtitles row'>\n          <p>Don't have an account? </p>\n          <Link style={{ color: '#AFBA15' }} to='/signup'>\n            {'  '}\n            Sign up\n          </Link>\n        </div>\n        <div className='signup-center subtitles row'>\n          <Link to='/forgot-password' style={{ color: '#AFBA15' }}>\n            Forgot your password?\n          </Link>\n        </div>\n      </Form>\n      <div className='auth-error'>{authError ? <p> {authError}</p> : null}</div>\n      <Button\n        style={{ fontWeight: '700' }}\n        variant='default'\n        className='signup-confirm'\n        onClick={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        Confirm\n      </Button>\n    </Title>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    authError: state.auth.authError,\n    auth: state.firebase.auth,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signIn: (creds) => dispatch(signIn(creds)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React from \"react\";\nimport \"./Button.css\";\nimport { Button as BootstrapButton } from \"react-bootstrap\";\n// import { Colors } from \"../../lib/Colors\";\n\nimport DeleteIconOutlined from \"@mui/icons-material/DeleteOutlined\";\nimport BarChartOutlined from \"@mui/icons-material/BarChartOutlined\";\nimport RestaurantOutlined from \"@mui/icons-material/RestaurantOutlined\";\nimport ShoppingBasketOutlined from \"@mui/icons-material/ShoppingBasketOutlined\";\nimport InfoOutlined from \"@mui/icons-material/InfoOutlined\";\nimport PublicOutlined from \"@mui/icons-material/PublicOutlined\";\nimport MenuBookOutlined from \"@mui/icons-material/MenuBookOutlined\";\nimport SpaOutlined from \"@mui/icons-material/SpaOutlined\";\nimport KitchenOutlined from \"@mui/icons-material/KitchenOutlined\";\nimport ShoppingBagOutlined from \"@mui/icons-material/ShoppingBagOutlined\";\nimport CategoryIcon from \"@mui/icons-material/Category\";\nimport CalendarTodayIcon from \"@mui/icons-material/CalendarToday\";\nimport DescriptionOutlined from \"@mui/icons-material/DescriptionOutlined\";\nimport CardGiftcardOutlined from \"@mui/icons-material/CardGiftcardOutlined\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\n//when using component, styling=\"[colour]\" colour choices are turquoise, green, yellow and blue. (styles are in Button.css)\n\n// TODO sort out hover and selected colours (defaults to bootstrap primary)\n\nexport function DefaultButton(props) {\n  if (props.disabled) {\n    return (\n      <BootstrapButton\n        variant=\"default\"\n        className={[\"default-btn\", `${props.styling}-btn`, \"shadow-none\"]}\n        disabled\n      >\n        <div className=\"basic-title\">{props.text}</div>\n      </BootstrapButton>\n    );\n  } else {\n    return (\n      <BootstrapButton\n        variant=\"default\"\n        className={[\"default-btn\", `${props.styling}-btn`, \"shadow-none\"]}\n        href={props.goTo}\n        onClick={props.onClick}\n      >\n        <div className=\"basic-title\">{props.text}</div>\n      </BootstrapButton>\n    );\n  }\n}\n\nexport function SubButton(props) {\n  return (\n    <BootstrapButton\n      variant=\"default\"\n      className={[\"sub-btn\", `${props.styling}-btn`, \"shadow-none\"]}\n      href={props.goTo}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      <div className=\"basic-title\" style={{color: 'white'}}>{props.text}</div>\n    </BootstrapButton>\n  );\n}\n\nexport function SubButtonInventory(props) {\n  return (\n    <BootstrapButton\n      variant=\"default\"\n      className={[\"sub-btn\", `${props.styling}-btn`, \"shadow-none\"]}\n      href={props.goTo}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      <div className=\"basic-title\" style={{color: 'white'}}>{props.text}</div>\n    </BootstrapButton>\n  );\n}\n\n\nexport function AddButton({ onClick, title }) {\n  return (\n    <BootstrapButton\n      variant=\"default\"\n      className={[\"add-btn\", \"green-btn\", \"shadow-none\"]}\n      onClick={onClick}\n    >\n      <div>\n        <AddIcon sx={{ fontSize: 30 }} />\n      </div>\n    </BootstrapButton>\n  );\n}\n\nexport function IconButton(props) {\n  function IconType() {\n    switch (props.icon) {\n      default:\n      case \"waste\":\n        return <DeleteIconOutlined sx={{ fontSize: 90 }} />;\n      case \"chart\":\n        return <BarChartOutlined sx={{ fontSize: 90 }} />;\n      case \"gift\":\n        return <CardGiftcardOutlined sx={{ fontSize: 90 }} />;\n      case \"food\":\n        return <RestaurantOutlined sx={{ fontSize: 90 }} />;\n      case \"surplus\":\n        return <CalendarTodayIcon sx={{ fontSize: 90 }} />;\n      case \"buy\":\n        return <ShoppingBasketOutlined sx={{ fontSize: 90 }} />;\n      case \"info\":\n        return <InfoOutlined sx={{ fontSize: 90 }} />;\n      case \"world\":\n        return <PublicOutlined sx={{ fontSize: 90 }} />;\n      case \"book\":\n        return <MenuBookOutlined sx={{ fontSize: 90 }} />;\n      case \"plant\":\n        return <SpaOutlined sx={{ fontSize: 90 }} />;\n      case \"kitchen\":\n        return <KitchenOutlined sx={{ fontSize: 90 }} />;\n      case \"product\":\n        return <ShoppingBagOutlined sx={{ fontSize: 90 }} />;\n      case \"my-products\":\n        return <CategoryIcon sx={{ fontSize: 90 }} />;\n      case \"notes\":\n        return <DescriptionOutlined sx={{ fontSize: 90 }} />;\n    }\n  }\n\n  var target;\n  if (String(props.goTo).startsWith(\"/\")) {\n    target = \"_self\";\n  } else {\n    target = \"_blank\";\n  }\n\n  return (\n    <>\n      {props.title ? (\n        <Tooltip placement=\"bottom\" arrow title={props.title}>\n          <BootstrapButton\n            variant=\"default\"\n            className={[\"icon-btn\", `${props.color}-btn`, \"shadow-none\"]}\n            href={props.goTo}\n            onClick={props.onClick}\n            target={target}\n            disabled={props.disabled}\n          >\n            <div>\n              <IconType />\n              {props.label}\n            </div>\n          </BootstrapButton>\n        </Tooltip>\n      ) : (\n        <BootstrapButton\n          variant=\"default\"\n          className={[\"icon-btn\", `${props.color}-btn`]}\n          href={props.goTo}\n          target={target}\n          disabled={props.disabled}\n        >\n          <div>\n            <IconType />\n            {props.label}\n          </div>\n        </BootstrapButton>\n      )}\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/peppers.65825e19.jpg\";","import { React } from \"react\";\nimport \"./Landing.css\";\n\nimport { SubButton } from \"../../SubComponents/Button\";\n\nimport { connect } from \"react-redux\";\n\nimport peppers from \"../../../images/peppers.jpg\";\nimport logo from \"../../../images/WFTLogo.png\";\n\nfunction LandingPage(props) {\n  return (\n    <div>\n      <img\n        className=\"landing\"\n        src={peppers}\n        alt=\"Four brightly coloured bell peppers arranged in a square.\"\n      />\n      <div className=\"title\">\n        <img\n          src={logo}\n          alt=\"World Food Tracker, empowering global food sustainability\"\n        />\n      </div>\n      <div className=\"buttons\">\n        <SubButton styling=\"blue\" goTo=\"/login\" text=\"Log In\" />\n        <SubButton styling=\"blue\" goTo=\"/signup\" text=\"Sign Up\" />\n        <SubButton styling=\"green\" goTo=\"/about-us\" text=\"About Us\" />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n  };\n};\n\nexport default connect(mapStateToProps, null)(LandingPage);\n","export const createMealPlanData = (mealPlan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealDiary\")\n      .doc(mealPlan.month)\n      .collection(mealPlan.day)\n      .add(mealPlan.upload)\n      .then((docRef) => {\n        // make the docId easily accessible so that we can delete it later if we want.\n        getFirebase()\n          .firestore()\n          .collection(\"marketplace\")\n          .doc(uid)\n          .collection(\"mealDiary\")\n          .doc(mealPlan.month)\n          .collection(mealPlan.day)\n          .doc(docRef.id)\n          .set({ id: docRef.id }, { merge: true });\n        dispatch({ type: \"CREATE_MEAL\", mealPlan });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_MEAL_ERROR\", err });\n      });\n  };\n};\n\nexport const getMealData = (meals) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlanData\")\n      .doc(meals.month)\n      .collection(meals.day)\n      .get()\n      .then((snapshot) => {\n        const mealPlan = [];\n        snapshot.forEach((doc) => {\n          mealPlan.push(doc.data());\n        });\n        dispatch({ type: \"GET_MEALS\", payload: mealPlan });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_MEALS_ERROR\", err });\n      });\n  };\n};\n\nexport const getMealDiary = (meals) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealDiary\")\n      .doc(meals.month)\n      .collection(meals.day)\n      .get()\n      .then((snapshot) => {\n        const mealPlan = [];\n        snapshot.forEach((doc) => {\n          mealPlan.push(doc.data());\n        });\n        dispatch({ type: \"GET_MEAL_DIARY\", payload: mealPlan });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_MEAL_DIARY_ERROR\", err });\n      });\n  };\n};\n\nexport const getSingleMealDiary = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealDiary\")\n      .doc(data.month)\n      .collection(data.day).where('id', '==', data.id)\n      .get()\n      .then((snapshot) => {\n        let meal\n        snapshot.forEach(doc => meal = doc.data());\n        dispatch({ type: \"GET_SINGLE_MEAL_DIARY\", payload: meal });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_SINGLE_MEAL_DIARY_ERROR\", err });\n      });\n  };\n};\n\n\n\nexport const editMealData = (mealPlan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    //console.log(\"check:\", mealPlan)\n    \n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlanData\")\n      .doc(mealPlan.month)\n      .collection(mealPlan.day)\n      .doc(mealPlan.id)\n      .set(mealPlan.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_MEAL\", mealPlan }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_MEAL_ERROR\", err });\n      });\n  };\n};\n\nexport const editDiaryData = (mealPlan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    \n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealDiary\")\n      .doc(mealPlan.month)\n      .collection(mealPlan.day)\n      .doc(mealPlan.id)\n      .set(mealPlan.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_DIARY_MEAL\", mealPlan }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_DIARY_MEAL_ERROR\", err });\n      });\n  };\n};\n\n\nexport const deleteMealData = (mealPlan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealDiary\")\n      .doc(mealPlan.month)\n      .collection(mealPlan.day)\n      .doc(mealPlan.id)\n      .delete()\n      .then(() => dispatch({ type: \"DELETE_MEAL\", mealPlan }))\n      .catch((err) => {\n        dispatch({ type: \"DELETE_MEAL_ERROR\", err });\n      });\n  };\n};\n\nexport const recommend = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(\"recommendations\")\n      .add(data)\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const getAllMarketplaceUsers = () => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .get()\n      .then((snapshot) => {\n        const userList = [];\n        snapshot.forEach((doc) => {\n          userList.push(doc.id);\n        });\n        dispatch({ type: \"GET_DATA\", payload: userList });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const getMealDataForUID = (uid, meals) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlanData\")\n      .doc(meals.month)\n      .collection(meals.day)\n      .get()\n      .then((snapshot) => {\n        const mealPlan = [];\n        snapshot.forEach((doc) => {\n          mealPlan.push(doc.data());\n        });\n        dispatch({ type: \"GET_MEALS\", payload: mealPlan });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_MEALS_ERROR\", err });\n      });\n  };\n};\n\nexport const getPurchaseInfo = (info) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"messages\")\n      .get()\n      .then((snapshot) => {\n        const orderInfo = [];\n        snapshot.forEach((doc) => {\n          orderInfo.push(doc.data());\n        });\n        dispatch({ type: \"GET_PURCHASE_INFO\", payload: orderInfo });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_PURCHASE_INFO_ERROR\", err });\n      });\n  };\n};\n","import addNotification from \"react-push-notification\";\n\nconst submitNotification = (title, message) => {\n  addNotification({\n    title: title,\n    message: message,\n    backgroundTop: \"white\", //optional, background color of top container.\n    backgroundBottom: \"white\", //optional, background color of bottom container.\n    colorTop: \"black\", //optional, font color of top container.\n    colorBottom: \"black\",\n    closeButton: \"X\",\n    duration: 10000,\n  });\n};\n\nconst submitNotificationPlan = (title, message) => {\n  addNotification({\n    title: title,\n    message: message,\n    backgroundTop: \"white\", //optional, background color of top container.\n    backgroundBottom: \"white\", //optional, background color of bottom container.\n    colorTop: \"black\", //optional, font color of top container.\n    colorBottom: \"black\",\n    closeButton: \"X\",\n    duration: 30000,\n  });\n};\n\nexport { submitNotification, submitNotificationPlan };\n","import { submitNotificationPlan } from '../../../components/lib/Notifications'\n\nexport const addToInventory = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    const item = data.upload.item;\n\n    getFirestore()\n    .collection(\"marketplace\")\n    .doc(uid)\n    .collection(\"inventory\")\n    .add(data.upload)\n    .then((docRef) => {\n      // make the docId easily accessible so that we can delete it later if we want.\n      getFirestore()\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"inventory\")\n        .doc(docRef.id)\n        .set({ id: docRef.id }, { merge: true });\n      dispatch({ type: \"CREATE_INVENTORY_ITEM\" });\n    })\n    .catch((err) => {\n      dispatch({ type: \"CREATE_INVENTORY_ITEM_ERROR\", err });\n    });\n  };\n};\n\nexport const addToPurchaseItems = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n   \n    getFirestore()\n    .collection(\"purchases\")\n    .add(data.upload)\n    .then((docRef) => {\n\n      // make the docId easily accessible so that we can delete it later if we want.\n      getFirestore()\n        .collection(\"purchases\")\n        .doc(docRef.id)\n        .set({ id: docRef.id, uid: uid }, { merge: true })\n      dispatch({ type: \"ADD_PURCHASE_ITEM\", data });\n    })\n    .catch((err) => {\n      dispatch({ type: \"ADD_PURCHASE_ITEM_ERROR\", err });\n    });\n  };\n};\n\nexport const editPurchaseStatus = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n\n    getFirestore()\n    .collection(\"purchases\")\n    .doc(data.refID)\n    .set({status: data.status}, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_PURCHASE\", data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_PURCHASE_ERROR\", err });\n      });\n  };\n};\n\nexport const editPurchaseStatusFromUser = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n\n    getFirestore()\n    .collection(\"purchases\")\n    .doc(data.refID)\n    .set({status: data.status}, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_PURCHASE\", data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_PURCHASE_ERROR\", err });\n      });\n  };\n};\n\nexport const editPurchaseStatusOnUser = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n //make async call to database\n const profile = getState().firebase.profile;\n const authUID = getState().firebase.auth.uid;\n\n var uid;\n switch (profile.type) {\n   case \"business_admin\":\n     uid = authUID;\n     break;\n   case \"business_sub\":\n     uid = profile.admin;\n     break;\n   case \"academic_admin\":\n     uid = authUID;\n     break;\n   case \"academic_sub\":\n     uid = profile.admin;\n     break;\n   case \"household_admin\":\n     uid = authUID;\n     break;\n   case \"household_sub\":\n     uid = profile.admin;\n     break;\n   default:\n     uid = authUID;\n     break;\n }\n\n    getFirestore()\n    .collection(\"marketplace\")\n    .doc(uid)\n    .collection(\"messages\")\n    .doc(data.id)\n    .set({status: data.status}, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_PURCHASE_STATUS\", payload: data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_PURCHASE_STATUS_ERROR\", err });\n      });\n  };\n};\n\nexport const editPurchaseItem = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n\n    //console.log(\"check:\", mealPlan)\n    \n    getFirebase()\n      .firestore()\n      .collection(\"purchases\")\n      .doc(data.id)\n      .set(data.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_MEAL\", data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_MEAL_ERROR\", err });\n      });\n  };\n};\n\nexport const addToWasteItems = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirestore()\n    .collection(\"marketplace\")\n    .doc(uid)\n    .collection(\"wasteItems\")\n    .add(data.upload)\n    .then((docRef) => {\n      // make the docId easily accessible so that we can delete it later if we want.\n      getFirestore()\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"wasteItems\")\n        .doc(docRef.id)\n        .set({ id: docRef.id }, { merge: true });\n      dispatch({ type: \"CREATE_WASTE_ITEM\", data });\n    })\n    .catch((err) => {\n      dispatch({ type: \"CREATE_WASTE_ITEM_ERROR\", err });\n    });\n  };\n};\n\n\n\n\nexport const getInventory = () => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"inventory\")\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_INVENTORY\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_INVENTORY_ERROR\", err });\n      });\n  };\n};\n\nexport const RemoveFromInventory = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"inventory\")\n      .doc(data.id)\n      .delete()\n      .then(() => console.log(\"successfully deleted! \"))\n      .catch((err) => {\n        dispatch(console.log(\"Error removing document:\", err));\n      });\n  };\n};\n\nexport const editInventoryData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"inventory\")\n      .doc(data.id)\n      .set(data.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_PLAN\", data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_PLAN_ERROR\", err });\n      });\n  };\n};\n\n  export const updateQuantity = (data) => {\n    return (dispatch, getState, { getFirebase }) => {\n      //make async call to database\n      const profile = getState().firebase.profile;\n      const authUID = getState().firebase.auth.uid;\n  \n      var uid;\n      switch (profile.type) {\n        case \"business_admin\":\n          uid = authUID;\n          break;\n        case \"business_sub\":\n          uid = profile.admin;\n          break;\n        case \"academic_admin\":\n          uid = authUID;\n          break;\n        case \"academic_sub\":\n          uid = profile.admin;\n          break;\n        case \"household_admin\":\n          uid = authUID;\n          break;\n        case \"household_sub\":\n          uid = profile.admin;\n          break;\n        default:\n          uid = authUID;\n          break;\n      }\n  \n      getFirebase()\n        .firestore()\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"inventory\")\n        .where(\"item\", \"==\", data.id)\n\n        .get().then((results) => {\n          if(results.empty) {\n            submitNotificationPlan(\"Success..\", \"Some Items in this meal was not found in inventory\");\n          } else {\n            // go through all results\n            results.forEach((doc) => {\n              console.log(\"Document data:\", doc.data().item);\n              doc.ref.set(\n                {\n                  quantity: doc.data().quantity - data.quantity,\n                },\n                { merge: true}\n              ) \n            });\n          }\n        }).catch((error) => {\n            console.log(\"Error getting documents:\", error);\n        });\n        //.doc(data.id)\n        // .then(() => dispatch({ type: \"EDIT_INVENTORY\", data }))\n        // .catch((err) => {\n        //   dispatch({ type: \"EDIT_INVENTORY_ERROR\", err });\n        // });\n    };\n  };","import React, {useState} from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport { Modal, Alert, Button } from \"react-bootstrap\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ThumbUpAltIcon from '@mui/icons-material/ThumbUpAlt';\nimport { editPurchaseStatusFromUser, editPurchaseStatusOnUser } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\n\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction ConfirmItemIcon(props) {\n\n  const [showModal, setShow] = useState(false);\n\n // console.log(\"to inventory ==> \", props.food)\n  const handleSelect = async () => {\n    const data = {\n      //need to send shopping list data to be bough the previous week from the day it is made\n      refID: props.refID,\n      id: props.id,\n      status: \"CONFIRMED\",\n    };\n    props.editPurchaseStatusFromUser(data);\n    props.editPurchaseStatusOnUser(data);\n    console.log(\"what id\", data.id)\n\n    submitNotification(\"Success\", \"You will be contacted shortly\");\n  };\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n\n  return (\n    <>\n      <Tooltip title=\"Bought Item\">\n        <IconButton\n          aria-label=\"Bought Item\"\n          sx={{ ml: 2 }}\n        >\n          <Button variant=\"outlined\" color=\"success\" onClick={handleShow}>\n            Confirm\n          </Button> \n        </IconButton>\n      </Tooltip>\n\n      <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Confirm</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n            <p><h5>Accept and Process this Order?</h5></p>\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\"\n        onClick={() => {\n          handleSelect()\n          handleClose()\n        }}>\n            Yes\n          </Button>\n          <Button variant=\"secondary\" \n            onClick={handleClose}\n          >\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editPurchaseStatusFromUser: (data) => dispatch(editPurchaseStatusFromUser(data)),\n    editPurchaseStatusOnUser: (data) => dispatch(editPurchaseStatusOnUser(data)),\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfirmItemIcon);\n","import React, { useState, useEffect } from \"react\";\nimport { Table } from 'react-bootstrap';\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { getPurchaseInfo } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport ConfirmItemIcon from \"../Icons/ConfirmItemIcon\"\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n\nfunction ViewPurchaseInfo(props) {\n\n  const [list, setList] = useState([]);\n\n  \n//this sends data request\nuseEffect(() => {\n  props.getPurchaseInfo();\n  //console.log(\"getting inv ==>\", props.data)\n}, [props.info]);\n\nconst getPurchaseInfoList = async () => {\n  //clears the items array before each update- IMPORTANT\n  setList([]);\n\n  //sets a new item object in the array for every document\n  props.info.forEach((doc) => {\n    // id is the docref for deletion\n    var id = doc.id;\n    var cart = doc.cart;\n    var refID = doc.refID;\n    var status = doc.status;\n\n\n    setList((list) => [\n      ...list,\n      {\n        cart: cart,\n        id: id,\n        refID: refID,\n        status: status,\n      },\n    ]);\n  });\n};\n\n//this sends data request\nuseEffect(() => {\n  getPurchaseInfoList();\n  //console.log(\"getting inv ==>\", props.data)\n}, [props.info]);\n\n  \n\n  return (\n    <>\n      {list.length ? (\n        <>\n          <List>\n            {list.map((item, index) => (\n              <ListItem\n                key={`item${index}`}\n                // className=\"list\"\n                style={{ alignItems: \"flex-end\" }}\n              >\n                \n                <Table striped bordered hover>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<thead >\n                  <tr>\n                  <h6><b>Order ID: </b>{item.refID}</h6>\n                  <h6><b>Status: </b>{item.status}</h6>\n\n                  </tr>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"table-header\">Product</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"table-header\">Quantity</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"table-header\">Measure</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"table-header\">Price</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"table-header\">Supplier</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{item.cart.map((cart) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={`cart${index}`}>\n\t\t\t\t\t\t\t\t\t\t<td>{cart.data}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{cart.quantity}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{cart.measure}</td>\n\t\t\t\t\t\t\t\t\t\t{ cart.price ? (<td>{cart.price}</td>):(<td>0</td>)}\n\t\t\t\t\t\t\t\t\t\t{ cart.supplier ? (<td>{cart.supplier}</td>):(<td></td>)}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</tbody>\n                <div className=\"table-header\">\n                      <ConfirmItemIcon\n                        //value={props.value}\n                        refID={item.refID}\n                        id={item.id}\n                      />\n                  </div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Table>\n              </ListItem>\n            ))}\n          </List>\n        </>\n      ) : (\n        <div className=\"empty basic-title-left\">\n          <p>You dont have any Notifications :( </p>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    info: state.mealPlan.purchaseInfo,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getPurchaseInfo: (data) => dispatch(getPurchaseInfo(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewPurchaseInfo);\n","import React from \"react\";\nimport { useId } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport ViewPurchaseInfo from \"./ViewPurchaseInfo\";\n\nexport function ViewPurchase({\n  show,\n  setShow,\n  forceUpdate,\n}) {\n  const handleFormClose = () => setShow(false);\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Orders</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <ViewPurchaseInfo />\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport NotificationIcon from '@mui/icons-material/Notifications';\nimport { ViewPurchase } from \"./ViewPurchase\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction EditPurchaseIcon(props) {\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"View Orders\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <NotificationIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <ViewPurchase\n        show={show}\n        setShow={setShow}\n        cart={props.cart}\n        id={props.id}\n        uid={props.uid}\n        forceUpdate={props.forceUpdate}\n      />\n    </>\n  );\n}\n\nexport default EditPurchaseIcon;\n","import React from \"react\";\n\nimport \"./PageWrap.css\";\n\nimport { SubButton } from \"./Button\";\nimport Divider from \"@mui/material/Divider\";\nimport { Container } from \"react-bootstrap\";\nimport NotificationIcon from \"../Pages/Account/Personal/Marketplace/MealPlanComp/Icons/NotificationIcon\"\n\nexport const PageWrap = (props) => {\n  return (\n    <>\n      <div>\n        <div className=\"top\">\n          <div style={{ width: \"50%\", paddingLeft: \"1rem\" }}>\n            <SubButton styling=\"green\" goTo={props.goTo} text=\"Back\" />\n          </div>\n          <div className=\"basic-title basic-lg\">{props.header}</div>\n          <NotificationIcon />\n        </div>\n        <Divider />\n      </div>\n      <Container className=\"mobile-style\">\n        {/* <div className=\"center\">\n          <h2 style={{ color: \"#0c0847\" }}>{props.subtitle}</h2>\n        </div>\n        <Divider variant=\"middle\" /> */}\n        {props.children}\n        {/* <Divider variant=\"middle\" /> */}\n      </Container>\n    </>\n  );\n};\n\nexport const PageWrapTop = (props) => {\n  return (\n    <div>\n      <div className=\"top\">\n        <div style={{ width: \"50%\", paddingLeft: \"1rem\" }}>\n          <SubButton styling=\"green\" goTo={props.goTo} text=\"Back\" />\n        </div>\n        <div className=\"basic-title basic-lg\">{props.header}</div>\n      </div>\n      <Divider />\n      {props.children}\n    </div>\n  );\n};\n\nexport const PageWrapMini = (props) => {\n  return <Container className=\"account-style\">{props.children}</Container>;\n};\n","export default __webpack_public_path__ + \"static/media/Food.69fcbfbd.jpg\";","export default __webpack_public_path__ + \"static/media/Health.7cbca934.jpg\";","export default __webpack_public_path__ + \"static/media/Environment.3a48bc88.jpg\";","import React from \"react\";\nimport { PageWrap } from \"../SubComponents/PageWrap\";\nimport \"./Pages.css\";\nimport Divider from \"@mui/material/Divider\";\nimport food from \"../../images/Food.jpg\";\nimport health from \"../../images/Health.jpg\";\nimport environment from \"../../images/Environment.jpg\";\n// import logo from \"../../images/WFTLogo.png\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { SubButton } from \"../SubComponents/Button\";\n\nexport default function AboutUs() {\n  return (\n    <PageWrap header=\"About Us\" goTo=\"/landing\">\n      <div className=\"no-contrast\">\n        <h1 className=\"mt-2\">About the World Food Tracker</h1>\n        <h5 style={{ fontWeight: \"600\" }}>\n          END FOOD WASTE | END HUNGER | END MALNUTRITION | IMPROVE LOCAL FOOD\n          PRODUCTION\n        </h5>\n        <p>\n          The World Food Tracker is a comprehensive application designed with\n          the food system as a whole in mind, from farm to fork.\n        </p>\n        <p>\n          As a circular food platform, the World Food Tracker is supporting\n          individuals, households and businesses to develop a more sustainable\n          relationship with food through a practical insight on the impact of\n          food on health and environment.\n        </p>\n        <p>\n          Let's help you plan to save our food, save our health, save our wealth\n          and save our earth.\n        </p>\n      </div>\n      {/* <div className=\"contrast mb-3\">\n        <Row>\n          <Col>\n            <img src={food} alt={\"Food\"} className=\"image\" />\n          </Col>\n          <Col>\n            <img src={health} alt={\"Health\"} className=\"image\" />\n          </Col>\n          <Col>\n            <img src={environment} alt={\"Environment\"} className=\"image\" />\n          </Col>\n        </Row>\n      </div> */}\n      {/* <Divider /> */}\n      <div className=\"breaker\">\n        <img src={food} alt=\"\" />\n      </div>\n      <div className=\"no-contrast\">\n        <h5 style={{ fontWeight: \"600\" }} className=\"mt-3\">\n          FOOD\n        </h5>\n        <p>\n          <b>Want to keep a detailed meal plan?</b> The World Food Tracker is\n          designed for you to get your meal planning to the next level.\n        </p>\n        <p>\n          With detailed information about every meal and its nutritional\n          content, there is no better solution to meal planning than the World\n          Food Tracker.\n        </p>\n        <p>\n          Through the Plan to Save campaign, the platform also connects you with\n          local farmers so you can source common ingredients directly.\n        </p>\n        <p>\n          Keeping a long-term meal plan also helps the farmers with planning\n          their production, which reduces the food that is wasted after harvest.\n        </p>\n      </div>\n\n      <div className=\"breaker\">\n        <img src={health} alt=\"\" />\n      </div>\n\n      <div className=\"no-contrast\">\n        <h5 style={{ fontWeight: \"600\" }} className=\"mt-3\">\n          Health\n        </h5>\n        <p>\n          The World Food Tracker helps individuals and households to live a\n          healthier lifeand transition towards a healthier diet through support\n          with meal planning.\n        </p>\n        <p>\n          <b>Want to plan and keep track of your nutritional intake?</b> Keeping\n          track of your nutritional intake and seeing what you are lacking in\n          your diet will help you make the changes you need to stay healthy.\n        </p>\n        <p>\n          <b>Eating in or eating out?</b> No worries. We have sustainable\n          restaurants that source their food ingredients only from sustainable\n          farmers to meet your needs and seamlessly update your meal plan.\n        </p>\n        <p>\n          <b>\n            Are you an organisation recognised for leading the way in\n            sustainable farming and food production practices?\n          </b>{\" \"}\n          Let us help you connect to the right customers.\n        </p>\n      </div>\n\n      <div className=\"breaker\">\n        <img src={environment} alt=\"\" />\n      </div>\n\n      <div className=\"no-contrast\">\n        <h5 style={{ fontWeight: \"600\" }} className=\"mt-3\">\n          Environment\n        </h5>\n        <p>The World Food Tracker helps you keep track of your food waste.</p>\n        <p>\n          <b>Curious about how much food is being wasted?</b> The World Food\n          Tracker is designed to track waste such that the insight given to you\n          or your organisation will help you to eliminate edible food waste and\n          reduce inedible food waste. The World Food Tracker will also provide\n          extra information about the greenhouse gas emissions of yor waste.\n        </p>\n        <p>\n          <b>Are you a food producer?</b> Sign up to the World Food Tracker\n          today to help plan your food production with sustainability in mind\n          while tracking and reducing your avoidable food loss.\n        </p>\n      </div>\n\n      <div className=\"no-contrast\">\n        <h1 className=\"mt-3\">About IntelliDigest Ltd</h1>\n        <p>\n          Drawing on cutting edge research, training and consulting, our mission\n          at IntelliDigest is to develop new, sustainable technologies, and\n          create innovative solutions to address the sustainability challenges\n          faced by food producers and governments globally.\n        </p>\n        <p>\n          Eliminating edible food waste and repurposing inedible waste to\n          climate friendly chemicals is at the core of everything we do. We\n          believe that reducing food waste at food production, retail, and\n          household level can provide numerous benefits for both the planet and\n          our communities.\n        </p>\n        <p>\n          Through our research and consulting facilities, IntelliDigest is\n          continuously working on helping governments and the public understand\n          the true scale of the food waste issue and the consequences of\n          inadequate food waste handling. Advocating for increased awareness\n          about measuring food waste inspired our Global Food Loss & Waste\n          Tracker system, designed to allow households to monitor their efforts\n          and save money through reducing food waste.\n        </p>\n      </div>\n      {/* <div className=\"contrast\"> */}\n      <Row style={{ justifyContent: \"center\" }} className=\"mt-3\">\n        <Col\n          style={{ width: \"50%\", justifyContent: \"center\", display: \"flex\" }}\n        >\n          <SubButton styling=\"blue\" goTo=\"/login\" text=\"Log In\" />\n        </Col>\n        <Col\n          style={{ width: \"50%\", justifyContent: \"center\", display: \"flex\" }}\n        >\n          <SubButton styling=\"blue\" goTo=\"/signup\" text=\"Sign Up\" />\n        </Col>\n      </Row>\n      {/* </div> */}\n    </PageWrap>\n  );\n}\n","import React, { useState } from \"react\";\r\nimport \"./Pages.css\";\r\nimport { PageWrap } from \"../SubComponents/PageWrap\";\r\nimport styled from \"styled-components\";\r\nimport { Row, Col, Form, Button, Card } from \"react-bootstrap\";\r\nimport emailjs from \"emailjs-com\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\n\r\nfunction Contact(props) {\r\n  const { profile } = props;\r\n  const [email, setEmail] = useState(props.auth.email);\r\n  const [name, setName] = useState(profile.firstName + \" \" + profile.lastName);\r\n\r\n  function SendEmail(e) {\r\n    e.preventDefault();\r\n    emailjs\r\n      .sendForm(\r\n        process.env.REACT_APP_EMAIL_SERVICE,\r\n        process.env.REACT_APP_EMAIL_TEMPLATE,\r\n        e.target,\r\n        process.env.REACT_APP_EMAIL_ID\r\n      )\r\n      .then(\r\n        (result) => {\r\n          // console.log(result.text);\r\n          alert(\"Your Message has been sent successfully!\");\r\n        },\r\n        (error) => {\r\n          // console.log(error.text);\r\n          alert(\r\n            \"There has been an error while sending your message. Please refresh the page and try again.\"\r\n          );\r\n        }\r\n      );\r\n    e.target.reset();\r\n  }\r\n\r\n  function OpenEmail() {\r\n    // console.log(\"Email card clicked\");\r\n    window.open(\r\n      \"mailto:m.driscoll@intellidigest.com?subject=Subject&body=Body%20goes%20here\"\r\n    );\r\n  }\r\n\r\n  function OpenTel() {\r\n    // console.log(\"Tel card clicked\");\r\n    window.open(\"tel:03332420822\");\r\n  }\r\n\r\n  return (\r\n    <PageWrap header=\"Contact Us\" goTo=\"/settings\">\r\n      <div className=\"contact\">\r\n        <i className=\"fa fa-group contact-logo\"></i>\r\n        <div className=\"contact-text-layout\">\r\n          <h1>\r\n            If you have any questions regarding your experience of using the\r\n            Global Food Loss & Waste Tracker, please complete the contact form\r\n            below. We aim to respond to you via e-mail as soon as possible.\r\n          </h1>\r\n        </div>\r\n      </div>\r\n      <Form onSubmit={SendEmail}>\r\n        <Form.Row>\r\n          <Form.Group as={Col}>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n              value={name}\r\n              required\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group as={Col}>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              value={email}\r\n              required\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n        <Form.Group>\r\n          <Form.Control\r\n            placeholder=\"Subject\"\r\n            id=\"subject\"\r\n            name=\"subject\"\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={6}\r\n            placeholder=\"Message\"\r\n            id=\"message\"\r\n            name=\"message\"\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formActions\">\r\n          <Button variant=\"dark\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form.Group>\r\n      </Form>\r\n\r\n      <div className=\"details\">\r\n        <h1 className=\"more-details-header\">More Contact Details</h1>\r\n      </div>\r\n\r\n      <Row>\r\n        <Col>\r\n          <CardStyle>\r\n            <Card onClick={() => OpenTel()}>\r\n              <Card.Body>\r\n                <Card.Title>Telephone</Card.Title>\r\n                <Card.Text>\r\n                  <i className=\"fa fa-phone contact-footer-icon\"></i>\r\n                  <p>0333 242 0822</p>\r\n                </Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </CardStyle>\r\n        </Col>\r\n        <Col>\r\n          <CardStyle>\r\n            <Card onClick={() => OpenEmail()}>\r\n              <Card.Body>\r\n                <Card.Title>Email</Card.Title>\r\n                <Card.Text>\r\n                  <i className=\"fa fa-envelope-o contact-footer-icon\"></i>\r\n                  <p>INFO@INTELLIDIGEST.COM</p>\r\n                </Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </CardStyle>\r\n        </Col>\r\n        <Col>\r\n          <CardStyle>\r\n            <Card>\r\n              <Card.Body>\r\n                <Card.Title>Address</Card.Title>\r\n                <Card.Text>\r\n                  <i className=\"fa fa-location-arrow contact-footer-icon\"></i>\r\n                  <p>\r\n                    Edinburgh Business School, Heriot Watt University, Currie,\r\n                    EH14 4AS\r\n                  </p>\r\n                </Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </CardStyle>\r\n        </Col>\r\n      </Row>\r\n    </PageWrap>\r\n  );\r\n}\r\n\r\nconst CardStyle = styled.div`\r\n  .card {\r\n    margin-top: 5px;\r\n    color: rgb(59, 59, 59);\r\n    background-color: rgb(238, 238, 238);\r\n    border: 1px solid rgb(77, 109, 77);\r\n\r\n    &:hover {\r\n      background-color: rgb(207, 207, 207);\r\n    }\r\n  }\r\n\r\n  .card-body {\r\n  }\r\n\r\n  @media (max-width: 1400px) {\r\n    .details p {\r\n      font-size: 11px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst mapStateToProps = (state) => {\r\n  // console.log(state);\r\n  return {\r\n    auth: state.firebase.auth,\r\n    user: state.firebase.profile,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps))(Contact);\r\n","import React from 'react'\nimport \"./Homepage.css\"\nimport {Link} from \"react-router-dom\"\nconst Homepage = () => {\n  return (\n    <div>\n        <div className='homepage-contanier'>\n            <div className='homepage-main'>\n                <img src='Green.png' alt='logo' className='logo-btn'/>\n                \n                <h1>Welcome to Intellidigest Consulting</h1>\n                <p>Together we would deliver a more suitable food system</p>\n\n                <div className='home-btn'>\n                    <button><Link style={{color:\"white\", textDecoration:\"none\"}}to =\"/consultants/question2\">Register</Link></button>\n                    <button ><Link style={{color:\"white\", textDecoration:\"none\"}}to =\"/consultant-login\">Login</Link></button>\n                \n                </div>\n            </div>\n        </div>\n    </div>\n  )\n}\n\n\nexport default Homepage;","import React, { useState, useRef } from \"react\";\nimport \"./Question.css\";\nimport { useHistory } from \"react-router-dom\";\nimport Form from \"react-bootstrap/Form\";\nimport { connect } from \"react-redux\";\nimport { BsEyeSlash, BsEye } from \"react-icons/bs\";\nimport { createExample } from \"../../../../../store/actions/consultingActions/consultingActions\";\nimport { FormControl } from \"react-bootstrap\";\nimport emailjs from \"@emailjs/browser\";\n\nconst Question2 = (props) => {\n  const [completed, setCompleted] = useState(false);\n  const [show, setShow] = useState(\"password\");\n  const [user, setUser] = useState({\n    fullName: \"\",\n    email: \"\",\n    urlLink: \"\",\n    experience: \"\",\n    expertise: \"\",\n    password: \"\",\n    consultantVisit: \"\",\n    summary: \"\",\n  });\n  const history = useHistory();\n  const form = useRef();\n\n  // for the email\n  const sendEmail = () => {\n    emailjs\n      .sendForm(\n        \"service_id\",\n        \"template_q2mtocl\",\n        form.current,\n        \"user_Yh6fJKoLLp3ZNYYieHO3r\"\n      )\n      .then(\n        (result) => {\n          console.log(result.text);\n        },\n        (error) => {\n          console.log(error.text);\n        }\n      );\n  };\n\n  // for the form\n  function handleSubmit() {\n    var data = { ...user };\n    props.createExample(data);\n    setCompleted(true);\n  }\n  // for the next button\n  function handleNext() {\n    if (!completed) {\n      history.push(`/consultants/onboard`);\n    } else {\n      history.push(``);\n    }\n  }\n\n  return (\n    <div className=\"question-contanier\">\n      <section style={{ height: \"auto\" }} className=\"question-main\">\n        <header className=\"logo-header\">\n          <img src=\"/green.png\" alt=\"logo\" className=\"logo1-btn\" />\n          <p>Become a Consultant with us.</p>\n        </header>\n        {/* bootstrap form */}\n        <Form\n          ref={form}\n          style={{ marginTop: \"180px\" }}\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            handleNext();\n            sendEmail();\n          }}\n        >\n          <Form.Group controlId=\"formBasicName\" className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              1. Full Name<span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"name\"\n              onChange={(e) => setUser({ ...user, fullName: e.target.value })}\n              className=\"form-control\"\n              required\n            ></Form.Control>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicEmail\" className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              2. Email<span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              type=\"email\"\n              name=\"email\"\n              className=\"form-control\"\n              onChange={(e) => setUser({ ...user, email: e.target.value })}\n              required\n            ></Form.Control>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicPassword\" className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              3. Password<span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              type={show}\n              className=\"form-control\"\n              onChange={(e) => setUser({ ...user, password: e.target.value })}\n              required\n            ></Form.Control>\n            {/*for the show/hide password  */}\n            {show == \"password\" ? (\n              <BsEyeSlash\n                className=\"eye-style\"\n                onClick={() => setShow(\"text\")}\n              />\n            ) : (\n              <BsEye\n                className=\"eye-style\"\n                onClick={() => setShow(\"password\")}\n              />\n            )}\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicUrl\" className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              4. Website Url(social media link)\n              <span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              className=\"form-control\"\n              onChange={(e) => setUser({ ...user, urlLink: e.target.value })}\n              required\n            ></Form.Control>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicText\" className=\"form-group\">\n            <Form.Label className=\"form-label1\">\n              {\" \"}\n              5. How Long have you been in business?\n              <span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              className=\"form-control\"\n              onChange={(e) => setUser({ ...user, experience: e.target.value })}\n              required\n            ></Form.Control>\n          </Form.Group>\n\n          <Form.Group className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              6. Field of Expertise<span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              as=\"select\"\n              className=\"form-control\"\n              onChange={(e) => setUser({ ...user, expertise: e.target.value })}\n              required\n            >\n              <option>Select</option>\n              <option>Dietician</option>\n              <option>Nutrition</option>\n              <option>Food and Beverage</option>\n              <option>Food Safety</option>\n              <option>Sustainable Food Packaging</option>\n              <option>Aquaculture</option>\n              <option>Horticulture</option>\n              <option>Agro-Feed</option>\n              <option>Account and Legal</option>\n              <option>Supply Chain</option>\n            </Form.Control>\n          </Form.Group>\n\n          <Form.Group className=\"form-group  different\">\n            <Form.Label>\n              6. Service Charge (hourly rate)\n              <span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <FormControl\n              className=\"form-control  different\"\n              type=\"text\"\n              placeholder=\"Phone Call\"\n              disabled\n            ></FormControl>\n            <span className=\"fixed-service-money\">$100</span>\n            <FormControl\n              className=\"form-control  different\"\n              type=\"text\"\n              placeholder=\"Written Feedback\"\n              disabled\n            ></FormControl>\n            <span className=\"fixed-service-money\">$60</span>\n            <FormControl\n              className=\"form-control  different\"\n              type=\"text\"\n              placeholder=\"Online Meeting\"\n              disabled\n            ></FormControl>\n            <span className=\"fixed-service-money\">$100</span>\n            <FormControl\n              className=\"form-control  different\"\n              type=\"text\"\n              placeholder=\"In-person visit to Consultant\"\n              disabled\n            ></FormControl>\n            <span className=\"fixed-service-money\">$100</span>\n            <FormControl\n              type=\"text\"\n              placeholder=\"Consultant Visit to Client hourly charge\"\n              className=\"form-control\"\n              onChange={(e) =>\n                setUser({ ...user, consultantVisit: e.target.value })\n              }\n              required\n            ></FormControl>\n          </Form.Group>\n          <Form.Group controlId=\"formBasicSummary\" className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              8. Brief Summary of your Expertise/Key areas in the Food System.\n              <span style={{ color: \"red\" }}>*</span>\n            </Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={4}\n              type=\"text\"\n              onChange={(e) => setUser({ ...user, summary: e.target.value })}\n              required\n            ></Form.Control>\n          </Form.Group>\n\n          <Form.Group controlId=\"formBasicOptional\" className=\"form-group\">\n            <Form.Label className=\"form-label\">\n              9. Any other thing you would like to share with us ?(optional)\n            </Form.Label>\n            <Form.Control as=\"textarea\" rows={4} type=\"text\"></Form.Control>\n          </Form.Group>\n\n          <button className=\"question2-btn\" type=\"submit\" value=\"submit\">\n            Submit\n          </button>\n        </Form>\n      </section>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createExample: (data) => dispatch(createExample(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Question2);\n","import firebase from \"firebase/app\";\n\n\n\n// exporting consultant form details to firebase\nexport const createExample = (data) =>\n{\n    return (dispatch, getState, {getFirestore},{getFirebase}) =>{\n        //async call\n        const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"farm_admin\":\n        uid = authUID;\n        break;\n      case \"farm_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n       getFirestore()\n        .collection(\"consultants\")\n        .add(data)\n        .then(()=> {\n            dispatch ({type: 'CREATE-DATA'});\n        }).catch((err)=>{\n             dispatch({type: 'CREATE-DATA-ERROR'});\n        })\n        \n    \n\n    const firestore = getFirebase().firestore();\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(data.email, data.password)\n      .then((resp) => {\n        firestore\n          .collection(\"consultants\")\n          .doc(resp.user.uid)\n          .set({\n            fullName: data.fullName,\n            email:data.email,\n            password:data.password\n           \n          });\n        })\n      }}\n\n\n // Fetching consultant data\n export const getUserData = () => {\n  return (dispatch, getState, { getFirebase,getFirestore }) => {\n    getFirestore()\n      .collection(\"consultants\")\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_DATA\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n\n\n\n\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport \"./Question.css\"\n\n\n\n\nconst OnboardMessage = () => {\n  const history = useHistory();\n  return (\n    <div className='question-contanier'>\n        <section  className='question-subcontanier'>\n            <header className='logo-header'>\n            <img src='/green.png' alt='logo' className='logo1-btn'/>\n             <p>Become a Consultant with us.</p>\n            </header>\n\n        <div className='onboard-message'>\n        <h4 style={{padding:\"50px\"}}>Congrats. You have successfully signed up as a consultant with us. You will be hearing from us soon.</h4>\n        <button style={{width:\"240px\"}} className='question2-btn' onClick={()=> history.push(\"/consultants\")}>Go back to Home page</button>\n        </div>\n            \n      </section>\n</div>\n  )\n}\n\nexport default OnboardMessage","import React, { useState, useEffect } from \"react\";\n\nimport \"../../../Account/UserAccount.css\";\nimport \"../../../Auth/Mob.css\";\nimport { Title } from \"../../../Auth/MobComponents\";\n\nimport { Form, Button } from \"react-bootstrap\";\n\nimport { connect } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { signIn } from \"../../../../../store/actions/consultingActions/consultantAuthActions\";\n\nconst ConsultantLogin = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleSubmit() {\n    var data = {\n      email: email,\n      password: password,\n    };\n    props.signIn(data);\n  }\n  const { authError } = props;\n  return (\n    <Title subtitle=\"Log In to your Consultant Account\">\n      <Form>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            required\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <div className=\"signup-center subtitles row\">\n          <Link to=\"/forgot-password\" style={{ color: \"#AFBA15\" }}>\n            Forgot your password?\n          </Link>\n        </div>\n      </Form>\n      <div className=\"auth-error\">{authError ? <p> {authError}</p> : null}</div>\n      <Button\n        style={{ fontWeight: \"700\" }}\n        variant=\"default\"\n        className=\"signup-confirm\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        Confirm\n      </Button>\n    </Title>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    authError: state.auth.authError,\n    auth: state.firebase.auth,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signIn: (creds) => dispatch(signIn(creds)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConsultantLogin);\n","// AUTH ACTION\nimport firebase from \"firebase/app\";\n\nexport const signIn = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(credentials.email, credentials.password)\n      .then(() => {\n        dispatch({ type: \"LOGIN_CONSULTANT_SUCCESS\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"LOGIN_CONSULTANT_ERROR\", err });\n      });\n  };\n};\n"," import firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/messaging\";\n\nvar fbConfig = {\n  apiKey: \"AIzaSyDuu8Fpwa2gYlCKcL-LlN-uqH5seEJpk9w\",\n  authDomain: \"itracker-development.firebaseapp.com\",\n  projectId: \"itracker-development\",\n  storageBucket: \"itracker-development.appspot.com\",\n  messagingSenderId: \"57163396396\",\n  appId: \"1:57163396396:web:dd800621173f5733a4a889\",\n};\n\n// Initialize Firebase\n//var app = firebase.initializeApp(fbConfig);\n\nfirebase.initializeApp(fbConfig);\n// firebase.firestore;\n\n// if (window.location.hostname === \"localhost\") {\n//   app.auth().useEmulator(\"http://localhost:9099\");\n//   app.firestore().settings({\n//     host: \"localhost:8080\",\n//     ssl: false,\n//   });\n// }\n\n\n//for uploading documents to fb storage\nexport const storage = firebase.storage();\n\n//Check browser compatability (FCM will not work on mobile)\nconst messaging = firebase.messaging.isSupported()\n  ? firebase.messaging()\n  : null;\n\n// Pretty sure this is not necessary.\n// const { REACT_APP_VAPID_KEY } = process.env;\n// const publicKey = REACT_APP_VAPID_KEY;\n\nexport const getToken = (setTokenFound) => {\n  if (messaging != null) {\n    return messaging\n      .getToken()\n      .then((currentToken) => {\n        if (currentToken) {\n          //console.log(\"current token for client: \", currentToken);\n          setTokenFound(true);\n          // Track the token -> client mapping, by sending to backend server\n          // show on the UI that permission is secured\n        } else {\n          console.log(\n            \"No registration token available. Request permission to generate one.\"\n          );\n          setTokenFound(false);\n          // shows on the UI that permission is required\n        }\n      })\n      .catch((err) => {\n        console.log(\"An error occurred while retrieving token. \", err);\n        // catch error while creating client token\n      });\n  } else {\n    console.log(\"FCM Not supported\");\n  }\n};\n\nexport const onMessageListener = () =>\n  new Promise((resolve) => {\n    if (messaging != null) {\n      messaging.onMessage((payload) => {\n        resolve(payload);\n      });\n    }\n  });\n\nexport default fbConfig;\n\nexport const auth = firebase.auth;\n\nexport const fs = firebase.firestore();\n","import React, {useState} from 'react'\n\nimport {AiOutlineCamera,AiOutlinePicture } from \"react-icons/ai\";\n\nimport \"./login.css\"\nimport { storage } from \"../../../../../config/fbConfig\";\n\nconst ImageProfile = ({setShow}) => {\n      //  const[profile, setProfile] =useState(\"\")\n      //  const [current,setCurrent] = useState(\"https://thumbs.dreamstime.com/b/default-avatar-profile-trendy-style-social-media-user-icon-187599373.jpg\")\n    \n     \n      \n\n  return (\n          <>\n          {/* <input \n          // style={{display:\"none\"}}\n          type='file' \n          accept='image/*'\n          onChange={handleChange} \n           /> */}\n\n           {/* <div className='profile-main'>\n           <img  className='profile-contanier'  src ={current} />\n           </div>\n           <div  className='profile-update'>\n            <AiOutlineCamera  style={{marginTop:\"10px\",textAlign:\"center\"}}\n              />\n            </div>  */}\n\n            {/* the contanier displays on clicking the camera button */}\n            <div className=\"overlay-contanier\" onClick={() => setShow(false)}></div>\n\n            <section className='modal-contanier' onClick={() => setShow(false)}>\n            <h4>Profile photo</h4>\n            <div className='modal-icons-contanier'>\n              <div className =\"bottom-icon1\"> \n              <AiOutlineCamera style={{fontSize: \"20px\" ,color:\"#0c0847\",marginTop:\"10px\"}}/>\n              <p style={{marginTop:\"20px\"}}>Camera</p>\n              </div>\n              <div className =\"bottom-icon1\"> \n              <AiOutlinePicture style={{fontSize: \"20px\" ,color:\"#0c0847\",marginTop:\"10px\"}}/>\n             <p style={{marginTop:\"20px\"}}>Gallery</p>\n             </div>\n             \n              \n            </div> \n           \n            </section>\n        </>\n        )}\n\n  export default ImageProfile;\n\n\n{/* <Form.Group className='form-group'>\n           <Form.Label className='form-label1'> 7. Upload Profile Photo <span style={{color:\"red\"}}>*</span></Form.Label>\n          <div >\n            <img src ={current} style={{objectFit:\"contain\",height:}}></img>\n            </div>\n          <Form.Control type=\"file\"  \n             id=\"profileImage\"\n             accept='image/*'\n             onChange ={handleChange} required>\n             </Form.Control>\n          <button style={{ width: \"20%\" ,outline:\"none\"}} onClick={imageChange}>upload</button>\n           <p>{success}</p>\n            </Form.Group> */}\n\n            // for image profile\n// const uploadFiles = (profile) => {\n  //uploads document to firebase storage and gives feedback to the user\n  // const uploadTask = storage.ref(`consultant/${profile.name}`).put(profile);\n  \n  //    uploadTask.on(\n  //     \"state_changed\",\n  //     (error) => console.log(error),\n  //      () => {\n  //     storage\n  //       .ref(\"consultant\")\n  //       .child(profile.name)\n  //       .getDownloadURL()\n  //       .then((url) => console.log(url))\n  //       .catch ((err)=>console.log(err));\n  //   }\n  // )}\n  // updates images and send them to the store\n  // const  imageChange = (e) =>{\n  //   if(profile){\n  //     e.preventDefault();\n  //     uploadFiles(profile);\n  //     setSuccess(\"image successfully uploaded\")\n  //   }\n  //   else{\n  //     e.preventDefault();\n  //     setSuccess(\"oops,there has been an error,try uploading again\")\n  //   };\n  // };\n\n  // display th image in our form for preview\n  // function handleChange(e){\n  //   const file = e.target.files[0]\n  //   if(file){\n  //     setProfile(file)\n  //     let reader = new FileReader()\n  //     reader.readAsDataURL(file)\n  //     reader.onload=(e) => {\n  //       const data = e.target.result\n  //       setCurrent(data)\n  //     }\n  //   }\n  //    }","import React from 'react'\n\nconst ConsultantSetting = ({setSetting}) => {\n\n\n    function onBack(){\n    setSetting(false)\n    }\n  return (\n    <div style={{height: \"400px\",width:\"400px\" ,transition:\"2s ease in all\"}}>\n      <h1>ConsultantSetting </h1>\n       <button onClick={onBack}>hello</button>\n    </div>\n  )\n}\n\nexport default ConsultantSetting","import React,{useState} from 'react'\nimport \"./login.css\"\nimport {AiOutlineCamera, AiOutlineSetting} from \"react-icons/ai\";\n// import ImageProfile from './ImageProfile';\nimport {BsPeople,BsChatDots} from \"react-icons/bs\"\nimport {FaRegAddressBook} from \"react-icons/fa\"\nimport {AiOutlineCalendar} from \"react-icons/ai\"\nimport ImageProfile from './ImageProfile';\nimport ConsultantSetting from './ConsultantSetting';\n\n\nconst SecondPage = () => {\n      const [current,setCurrent] = useState(\"https://thumbs.dreamstime.com/b/default-avatar-profile-trendy-style-social-media-user-icon-187599373.jpg\")\n      const [show,setShow] = useState(false)\n      const[setting,setSetting] = useState(false)\n  \n  \n  return (\n    <div className='login-contanier'>\n      \n        <main className=\"login-main\"  >\n          \n        <div className='profile-main'>\n          <div className='settings-icon-contanier'>\n           <AiOutlineSetting className='settings-icon' />\n           </div>\n           <img  className='profile-contanier'  src ={current} />\n           </div>\n           <div  className='profile-update'>\n            <AiOutlineCamera  style={{marginTop:\"10px\",textAlign:\"center\"}}\n             onClick={()=> setShow(true)} />\n            </div> \n        \n\n        <section className='login-text'>\n        <h3>Dorathy Williams</h3>\n        <p>Nutritionist</p>\n        </section>\n       \n        <section className='feature-buttons'>\n            <div style={{backgroundColor:\"#afba15\"}}>\n              <BsPeople className =\"icons-style\"/>\n            <p style={{padding:\"9px\"}}>Potential Customers</p></div>\n\n            <div style={{backgroundColor:\"#0c0847\"}}><AiOutlineCalendar className =\"icons-style\"/>\n            <p style={{padding:\"9px\"}}>Confirm Meetings</p>\n            </div>\n\n            <div style={{backgroundColor:\"#afba15\"}}><FaRegAddressBook className =\"icons-style\"/>\n              <p style={{padding:\"9px\"}}>Customer Records</p>\n              </div>\n\n            <div style={{backgroundColor:\"#0c0847\"}}><BsChatDots className =\"icons-style\"/>\n            <p style={{padding:\"9px\"}}>Connect</p>\n            </div>\n        \n        </section>\n        {show && <ImageProfile setShow={setShow}/>}\n        {setting && <ConsultantSetting setting={setSetting} />}\n        </main>\n       \n        </div>\n  )\n}\n\nexport default SecondPage\n\n","import React from \"react\"\nimport \"./Dropdown.css\"\nimport {\n  DropdownButton as BootstrapDropdownButton,\n  Form,\n} from \"react-bootstrap\"\nimport { Dropdown as BootstrapDropdown } from \"react-bootstrap\"\n\nfunction Dropdown(props) {\n  let comp\n  comp = props.items.map((item, index) => {\n    if (item === \"/\") {\n      return <BootstrapDropdown.Divider key={index} />\n    } else {\n      return (\n        <BootstrapDropdown.Item id={props.id} eventKey={item} key={index}>\n          {item}\n        </BootstrapDropdown.Item>\n      )\n    }\n  })\n\n  if (props.disabled) {\n    return (\n      <BootstrapDropdownButton\n        title={props.data}\n        onSelect={props.function}\n        className={[\"dropdown center\", props.styling]}\n        variant=\"default\"\n        disabled\n        drop=\"down\"\n      >\n        {comp}\n      </BootstrapDropdownButton>\n    )\n  }\n\n  return (\n    <BootstrapDropdownButton\n      title={props.data}\n      onSelect={props.function}\n      className={[\"dropdown center\", props.styling]}\n      variant=\"default\"\n      drop=\"down\"\n    >\n      {comp}\n    </BootstrapDropdownButton>\n  )\n}\n\nfunction Select(props) {\n  let comp\n  comp = props.items.map((item, index) => {\n    if (item === \"/\") {\n      return <option disabled>──────────</option>\n    } else {\n      return (\n        <option id={props.id} key={index}>\n          {item}\n        </option>\n      )\n    }\n  })\n\n  return (\n    <Form.Control\n      id={props.id}\n      disabled={props.disabled}\n      onChange={props.function}\n      as=\"select\"\n      value={props.value}\n    >\n      <option\n        key=\"blankChoice\"\n        hidden\n        value\n        style={{ color: \"rgba(0, 0, 0, 0.5)\" }}\n      >\n        {props.placeholder}\n      </option>\n      {comp}\n    </Form.Control>\n  )\n}\n\nexport { Dropdown, Select }\n","//startData has been moved to happen within authActions/signup but has been left here for now as some accounts still need to use it currently.\n//Feel free to delete in the future\nexport const startData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(data.uid)\n      .set({\n        user: data.name,\n        email: data.email,\n      })\n      .then(() => {\n        dispatch({ type: \"START_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"START_DATA_ERROR\", err });\n      });\n  };\n};\n\n//Works for new Admin/Sub acount structure\nexport const createFoodWasteData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(data.masterCollection)\n      .doc(data.uid)\n      .collection(data.collection)\n      .add(data.upload)\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n}; \n\n//Works for new Admin/Sub acount structure\nexport const createGiftFoodData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(data.masterCollection)\n      .doc(data.uid)\n      .collection(data.collection)\n      .add(data.upload)\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n}; \n\nexport const createMarketplaceData = (product) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(product.uid)\n      .collection(\"farmPlanData\")\n      .add(product.upload)\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const createResearchData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(data.uid)\n      .collection(\"researchData\")\n      .add(data.upload)\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const createMapData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const increment = getFirebase().firestore.FieldValue.increment(\n      data.upload.foodWasteWeight\n    );\n    console.log(\"catch\");\n    getFirebase()\n      .firestore()\n      .collection(data.masterCollection)\n      .doc(data.uid)\n      .set({ ...data.upload, foodWasteWeight: increment }, { merge: true })\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const getMapData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(data.masterCollection)\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_DATA\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n\n//Works for new Admin/Sub acount structure\nexport const getFirestoreData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    getFirebase()\n      .firestore()\n      .collection(data.masterCollection)\n      .doc(data.uid)\n      .collection(data.collection)\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_DATA\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const createFoodLossData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const auth = getState().firebase.auth;\n\n    // const costInDollars = Number(data.weightOfFoodSurplus) * 0.85;\n    // const costInPounds = Number(data.weightOfFoodSurplus) * 0.62;\n\n    const FOODNAME = data.foodName;\n    const EDIBLEORINEDIBLE = data.edibleOrInedible;\n    const GHG = data.ghg * data.weightMultiplier;\n\n    const WDAY = data.chartSubmissionDay;\n    const WEEK = data.chartSubmissionWeek;\n    const MONTH = data.chartSubmissionMonth;\n    const MDATE = data.chartSubmissionDate;\n    const YEAR = data.chartSubmissionYear;\n    const FULLDATE = data.chartSubmissionFullDate;\n\n    const EXPIRYDATE = data.expiryDate;\n    const CURRENCY = data.currency;\n    const COST = (\n      data.foodLossCost *\n      data.weightMultiplier *\n      data.currencyMultiplier\n    ).toFixed(2);\n    const WEIGHTUNIT = data.weightType;\n\n    const DATE = new Date().getHours();\n    let t = \"\";\n    if (DATE >= 0 && DATE < 6) {\n      t = \"T1\";\n    } else if (DATE >= 6 && DATE < 12) {\n      t = \"T2\";\n    } else if (DATE >= 12 && DATE < 18) {\n      t = \"T3\";\n    } else {\n      t = \"T4\";\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(auth.uid)\n      .collection(\"writtenFoodSurplusData\")\n      .add({\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        // costInDollars: costInDollars,\n        // costInPounds: costInPounds,\n        weight: Number(data.foodLossWeight),\n        type: t,\n\n        GHG: GHG,\n        FOODNAME: FOODNAME,\n        EDIBLEORINEDIBLE: EDIBLEORINEDIBLE,\n\n        WDAY: WDAY,\n        WEEK: WEEK,\n        MONTH: MONTH,\n        MDATE: MDATE,\n        YEAR: YEAR,\n        FULLDATE: FULLDATE,\n\n        EXPIRYDATE: EXPIRYDATE,\n        CURRENCY: CURRENCY,\n        COST: Number(COST),\n        WEIGHTUNIT: WEIGHTUNIT,\n      })\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const createFoodSurplusData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const auth = getState().firebase.auth;\n\n    const SUBMISSIONTYPE = data.submissionType;\n\n    const FOODNAME = data.foodName;\n    const FOODCATEGORY = data.foodCategory;\n    const LOCALORNOT = data.producedLocally;\n    const EXPIRYDATE = data.expiryDate;\n    const GHG = data.ghg * data.weightMultiplier;\n    const COST = (\n      data.foodSurplusCost *\n      data.weightMultiplier *\n      data.currencyMultiplier\n    ).toFixed(2);\n    const CURRENCY = data.currency;\n    const WEIGHTUNIT = data.weightType;\n\n    const NOTES = data.notes;\n\n    const WDAY = data.chartSubmissionDay;\n    const WEEK = data.chartSubmissionWeek;\n    const MONTH = data.chartSubmissionMonth;\n    const MDATE = data.chartSubmissionDate;\n    const YEAR = data.chartSubmissionYear;\n    const FULLDATE = data.chartSubmissionFullDate;\n\n    const PRICE = data.price;\n    const POSTCODE = data.postcode;\n\n    const CARBSCONTENT = data.carbsContent;\n    const PROTEINCONTENT = data.proteinContent;\n    const FIBRECONTENT = data.fibreContent;\n    const FATCONTENT = data.fatContent;\n\n    const DATE = new Date().getHours();\n    let t = \"\";\n    if (DATE >= 0 && DATE < 6) {\n      t = \"T1\";\n    } else if (DATE >= 6 && DATE < 12) {\n      t = \"T2\";\n    } else if (DATE >= 12 && DATE < 18) {\n      t = \"T3\";\n    } else {\n      t = \"T4\";\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(auth.uid)\n      .collection(\"writtenFoodSurplusData\")\n      .add({\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        // costInDollars: costInDollars,\n        // costInPounds: costInPounds,\n\n        weight: Number(data.foodSurplusWeight),\n\n        type: t,\n\n        SUBMISSIONTYPE: SUBMISSIONTYPE,\n\n        FOODNAME: FOODNAME,\n        FOODCATEGORY: FOODCATEGORY,\n        LOCALORNOT: LOCALORNOT,\n        EXPIRYDATE: EXPIRYDATE,\n        GHG: GHG,\n        COST: Number(COST),\n        CURRENCY: CURRENCY,\n        WEIGHTUNIT: WEIGHTUNIT,\n\n        NOTES: NOTES,\n\n        WDAY: WDAY,\n        WEEK: WEEK,\n        MONTH: MONTH,\n        MDATE: MDATE,\n        YEAR: YEAR,\n        FULLDATE: FULLDATE,\n\n        PRICE: PRICE,\n        POSTCODE: POSTCODE,\n\n        CARBSCONTENT: CARBSCONTENT,\n        PROTEINCONTENT: PROTEINCONTENT,\n        FIBRECONTENT: FIBRECONTENT,\n        FATCONTENT: FATCONTENT,\n      })\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\n// TODO Fix this\nexport const createFoodIntakeData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const auth = getState().firebase.auth;\n\n    const SUBMISSIONTYPE = data.submissionType;\n\n    const MEAL = data.meal;\n    const FOODNAME = data.foodName;\n    const EATINGINOROUT = data.eatingInOrOut;\n\n    const LOCALORNOT = data.producedLocally;\n\n    const NOTES = data.notes;\n\n    const WDAY = data.chartSubmissionDay;\n    const WEEK = data.chartSubmissionWeek;\n    const MONTH = data.chartSubmissionMonth;\n    const MDATE = data.chartSubmissionDate;\n    const YEAR = data.chartSubmissionYear;\n    const FULLDATE = data.chartSubmissionFullDate;\n\n    const DATE = new Date().getHours();\n    let t = \"\";\n    if (DATE >= 0 && DATE < 6) {\n      t = \"T1\";\n    } else if (DATE >= 6 && DATE < 12) {\n      t = \"T2\";\n    } else if (DATE >= 12 && DATE < 18) {\n      t = \"T3\";\n    } else {\n      t = \"T4\";\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(auth.uid)\n      .collection(\"writtenFoodIntakeData\")\n      .add({\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        type: t,\n\n        MEAL: MEAL,\n        FOODNAME: FOODNAME,\n        EATINGINOROUT: EATINGINOROUT,\n\n        LOCALORNOT: LOCALORNOT,\n\n        NOTES: NOTES,\n\n        WDAY: WDAY,\n        WEEK: WEEK,\n        MONTH: MONTH,\n        MDATE: MDATE,\n        YEAR: YEAR,\n        FULLDATE: FULLDATE,\n\n        SUBMISSIONTYPE: SUBMISSIONTYPE,\n      })\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const createFoodIntakeResearchData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const auth = getState().firebase.auth;\n\n    const SUBMISSIONTYPE = data.submissionType;\n\n    const PROJECTNAME = data.projectName;\n    const FOODNAME = data.foodName;\n\n    const WEIGHTUNIT = data.weightType;\n\n    const LOCALORNOT = data.producedLocally;\n    const NOTES = data.notes;\n\n    const WDAY = data.chartSubmissionDay;\n    const WEEK = data.chartSubmissionWeek;\n    const MONTH = data.chartSubmissionMonth;\n    const MDATE = data.chartSubmissionDate;\n    const YEAR = data.chartSubmissionYear;\n    const FULLDATE = data.chartSubmissionFullDate;\n\n    const DATE = new Date().getHours();\n    let t = \"\";\n    if (DATE >= 0 && DATE < 6) {\n      t = \"T1\";\n    } else if (DATE >= 6 && DATE < 12) {\n      t = \"T2\";\n    } else if (DATE >= 12 && DATE < 18) {\n      t = \"T3\";\n    } else {\n      t = \"T4\";\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(auth.uid)\n      .collection(\"writtenFoodIntakeAcademicData\")\n      .add({\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        type: t,\n\n        PROJECTNAME: PROJECTNAME,\n        FOODNAME: FOODNAME,\n\n        weight: Number(data.foodWeight),\n        WEIGHTUNIT: WEIGHTUNIT,\n\n        LOCALORNOT: LOCALORNOT,\n\n        NOTES: NOTES,\n\n        WDAY: WDAY,\n        WEEK: WEEK,\n        MONTH: MONTH,\n        MDATE: MDATE,\n        YEAR: YEAR,\n        FULLDATE: FULLDATE,\n\n        SUBMISSIONTYPE: SUBMISSIONTYPE,\n      })\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\nexport const createReserveItemsData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const auth = getState().firebase.auth;\n\n    const SUBMISSIONTYPE = data.submissionType;\n\n    const ITEMLIST = data.items;\n    const FROMDATE = data.fromDate;\n    const TODATE = data.toDate;\n    const FREQUENCY = data.frequency;\n\n    const WDAY = data.submissionDay;\n    const WEEK = data.submissionWeek;\n    const MONTH = data.submissionMonth;\n    const MDATE = data.submissionDate;\n    const YEAR = data.submissionYear;\n    const FULLDATE = data.submissionFullDate;\n\n    const DATE = new Date().getHours();\n    let t = \"\";\n    if (DATE >= 0 && DATE < 6) {\n      t = \"T1\";\n    } else if (DATE >= 6 && DATE < 12) {\n      t = \"T2\";\n    } else if (DATE >= 12 && DATE < 18) {\n      t = \"T3\";\n    } else {\n      t = \"T4\";\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"data\")\n      .doc(auth.uid)\n      .collection(\"writtenReserveFoodData\")\n      .add({\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        type: t,\n\n        SUBMISSIONTYPE: SUBMISSIONTYPE,\n\n        ITEMLIST: ITEMLIST,\n        FROMDATE: FROMDATE,\n        TODATE: TODATE,\n        FREQUENCY: FREQUENCY,\n\n        WDAY: WDAY,\n        WEEK: WEEK,\n        MONTH: MONTH,\n        MDATE: MDATE,\n        YEAR: YEAR,\n        FULLDATE: FULLDATE,\n      })\n      .then(() => {\n        dispatch({ type: \"CREATE_DATA\" });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_DATA_ERROR\", err });\n      });\n  };\n};\n\n\nexport const getPurchaseData = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    \n    getFirestore()\n      .collection(\"purchases\")\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_PURCHASE_DATA\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_PURCHASE_DATA_ERROR\", err });\n      });\n  };\n};\n \nexport const sendToUser = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n\n    \n    getFirestore()\n    .collection(\"marketplace\")\n    .doc(data.uid)\n    .collection(\"messages\")\n    .add(data.upload)\n    .then((docRef) => {\n      // make the docId easily accessible so that we can delete it later if we want.\n      getFirestore()\n        .collection(\"marketplace\")\n        .doc(data.uid)\n        .collection(\"messages\")\n        .doc(docRef.id)\n        .set({ id: docRef.id }, { merge: true });\n      dispatch({ type: \"SEND_TO_USER\" });\n    })\n    .catch((err) => {\n      dispatch({ type: \"SEND_TO_USER_ERROR\", err });\n    });\n  };\n};\n\n","// From https://bitbucket.org/atlassian/atlaskit-mk-2/raw/4ad0e56649c3e6c973e226b7efaeb28cb240ccb0/packages/core/select/src/data/countries.js\nexport const countries = [\n  { name: \"Afghanistan\", code: \"AF\" },\n  { name: \"Alland Islands\", code: \"AX\" },\n  { name: \"Albania\", code: \"AL\" },\n  { name: \"Algeria\", code: \"DZ\" },\n  { name: \"American Samoa\", code: \"AS\" },\n  { name: \"Andorra\", code: \"AD\" },\n  { name: \"Angola\", code: \"AO\" },\n  { name: \"Anguilla\", code: \"AI\" },\n  { name: \"Antarctica\", code: \"AQ\" },\n  { name: \"Antigua and Barbuda\", code: \"AG\" },\n  { name: \"Argentina\", code: \"AR\" },\n  { name: \"Armenia\", code: \"AM\" },\n  { name: \"Aruba\", code: \"AW\" },\n  { name: \"Australia\", code: \"AU\" },\n  { name: \"Austria\", code: \"AT\" },\n  { name: \"Azerbaijan\", code: \"AZ\" },\n  { name: \"Bahamas\", code: \"BS\" },\n  { name: \"Bahrain\", code: \"BH\" },\n  { name: \"Bangladesh\", code: \"BD\" },\n  { name: \"Barbados\", code: \"BB\" },\n  { name: \"Belarus\", code: \"BY\" },\n  { name: \"Belgium\", code: \"BE\" },\n  { name: \"Belize\", code: \"BZ\" },\n  { name: \"Benin\", code: \"BJ\" },\n  { name: \"Bermuda\", code: \"BM\" },\n  { name: \"Bhutan\", code: \"BT\" },\n  { name: \"Bolivia\", code: \"BO\" },\n  { name: \"Bosnia and Herzegovina\", code: \"BA\" },\n  { name: \"Botswana\", code: \"BW\" },\n  { name: \"Bouvet Island\", code: \"BV\" },\n  { name: \"Brazil\", code: \"BR\" },\n  {\n    name: \"British Indian Ocean Territory\",\n    code: \"IO\",\n  },\n  {\n    name: \"British Virgin Islands\",\n    code: \"VG\",\n  },\n  { name: \"Brunei Darussalam\", code: \"BN\" },\n  { name: \"Bulgaria\", code: \"BG\" },\n  { name: \"Burkina Faso\", code: \"BF\" },\n  { name: \"Burundi\", code: \"BI\" },\n  { name: \"Cambodia\", code: \"KH\" },\n  { name: \"Cameroon\", code: \"CM\" },\n  { name: \"Canada\", code: \"CA\" },\n  { name: \"Cape Verde\", code: \"CV\" },\n  { name: \"Cayman Islands\", code: \"KY\" },\n  {\n    name: \"Central African Republic\",\n    code: \"CF\",\n  },\n  { name: \"Chad\", code: \"TD\" },\n  { name: \"Chile\", code: \"CL\" },\n  { name: \"China\", code: \"CN\" },\n  { name: \"Christmas Island\", code: \"CX\" },\n  { name: \"Cocos (Keeling) Islands\", code: \"CC\" },\n  { name: \"Colombia\", code: \"CO\" },\n  { name: \"Comoros\", code: \"KM\" },\n  {\n    name: \"Congo, Democratic Republic of the\",\n    code: \"CG\",\n  },\n  {\n    name: \"Congo, Republic of the\",\n    code: \"CD\",\n  },\n  { name: \"Cook Islands\", code: \"CK\" },\n  { name: \"Costa Rica\", code: \"CR\" },\n  { name: \"Cote d'Ivoire\", code: \"CI\" },\n  { name: \"Croatia\", code: \"HR\" },\n  { name: \"Cuba\", code: \"CU\" },\n  { name: \"Curacao\", code: \"CW\" },\n  { name: \"Cyprus\", code: \"CY\" },\n  { name: \"Czech Republic\", code: \"CZ\" },\n  { name: \"Denmark\", code: \"DK\" },\n  { name: \"Djibouti\", code: \"DJ\" },\n  { name: \"Dominica\", code: \"DM\" },\n  { name: \"Dominican Republic\", code: \"DO\" },\n  { name: \"Ecuador\", code: \"EC\" },\n  { name: \"Egypt\", code: \"EG\" },\n  { name: \"El Salvador\", code: \"SV\" },\n  { name: \"Equatorial Guinea\", code: \"GQ\" },\n  { name: \"Eritrea\", code: \"ER\" },\n  { name: \"Estonia\", code: \"EE\" },\n  { name: \"Ethiopia\", code: \"ET\" },\n  {\n    name: \"Falkland Islands (Malvinas)\",\n    code: \"FK\",\n  },\n  { name: \"Faroe Islands\", code: \"FO\" },\n  { name: \"Fiji\", code: \"FJ\" },\n  { name: \"Finland\", code: \"FI\" },\n  { name: \"France\", code: \"FR\" },\n  { name: \"French Guiana\", code: \"GF\" },\n  { name: \"French Polynesia\", code: \"PF\" },\n  {\n    name: \"French Southern Territories\",\n    code: \"TF\",\n  },\n  { name: \"Gabon\", code: \"GA\" },\n  { name: \"Gambia\", code: \"GM\" },\n  { name: \"Georgia\", code: \"GE\" },\n  {\n    name: \"Germany\",\n    code: \"DE\",\n  },\n  { name: \"Ghana\", code: \"GH\" },\n  { name: \"Gibraltar\", code: \"GI\" },\n  { name: \"Greece\", code: \"GR\" },\n  { name: \"Greenland\", code: \"GL\" },\n  { name: \"Grenada\", code: \"GD\" },\n  { name: \"Guadeloupe\", code: \"GP\" },\n  { name: \"Guam\", code: \"GU\" },\n  { name: \"Guatemala\", code: \"GT\" },\n  { name: \"Guernsey\", code: \"GG\" },\n  { name: \"Guinea-Bissau\", code: \"GW\" },\n  { name: \"Guinea\", code: \"GN\" },\n  { name: \"Guyana\", code: \"GY\" },\n  { name: \"Haiti\", code: \"HT\" },\n  {\n    name: \"Heard Island and McDonald Islands\",\n    code: \"HM\",\n  },\n  {\n    name: \"Holy See (Vatican City State)\",\n    code: \"VA\",\n  },\n  { name: \"Honduras\", code: \"HN\" },\n  { name: \"Hong Kong\", code: \"HK\" },\n  { name: \"Hungary\", code: \"HU\" },\n  { name: \"Iceland\", code: \"IS\" },\n  { name: \"India\", code: \"IN\" },\n  { name: \"Indonesia\", code: \"ID\" },\n  {\n    name: \"Iran, Islamic Republic of\",\n    code: \"IR\",\n  },\n  { name: \"Iraq\", code: \"IQ\" },\n  { name: \"Ireland\", code: \"IE\" },\n  { name: \"Isle of Man\", code: \"IM\" },\n  { name: \"Israel\", code: \"IL\" },\n  { name: \"Italy\", code: \"IT\" },\n  { name: \"Jamaica\", code: \"JM\" },\n  { name: \"Japan\", code: \"JP\" },\n  { name: \"Jersey\", code: \"JE\" },\n  { name: \"Jordan\", code: \"JO\" },\n  { name: \"Kazakhstan\", code: \"KZ\" },\n  { name: \"Kenya\", code: \"KE\" },\n  { name: \"Kiribati\", code: \"KI\" },\n  {\n    name: \"Korea, Democratic People's Republic of\",\n    code: \"KP\",\n  },\n  { name: \"Korea, Republic of\", code: \"KR\" },\n  { name: \"Kosovo\", code: \"XK\" },\n  { name: \"Kuwait\", code: \"KW\" },\n  { name: \"Kyrgyzstan\", code: \"KG\" },\n  {\n    name: \"Lao People's Democratic Republic\",\n    code: \"LA\",\n  },\n  { name: \"Latvia\", code: \"LV\" },\n  { name: \"Lebanon\", code: \"LB\" },\n  { name: \"Lesotho\", code: \"LS\" },\n  { name: \"Liberia\", code: \"LR\" },\n  { name: \"Libya\", code: \"LY\" },\n  { name: \"Liechtenstein\", code: \"LI\" },\n  { name: \"Lithuania\", code: \"LT\" },\n  { name: \"Luxembourg\", code: \"LU\" },\n  { name: \"Macao\", code: \"MO\" },\n  {\n    name: \"Macedonia, the Former Yugoslav Republic of\",\n    code: \"MK\",\n  },\n  { name: \"Madagascar\", code: \"MG\" },\n  { name: \"Malawi\", code: \"MW\" },\n  { name: \"Malaysia\", code: \"MY\" },\n  { name: \"Maldives\", code: \"MV\" },\n  { name: \"Mali\", code: \"ML\" },\n  { name: \"Malta\", code: \"MT\" },\n  { name: \"Marshall Islands\", code: \"MH\" },\n  { name: \"Martinique\", code: \"MQ\" },\n  { name: \"Mauritania\", code: \"MR\" },\n  { name: \"Mauritius\", code: \"MU\" },\n  { name: \"Mayotte\", code: \"YT\" },\n  { name: \"Mexico\", code: \"MX\" },\n  {\n    name: \"Micronesia, Federated States of\",\n    code: \"FM\",\n  },\n  { name: \"Moldova, Republic of\", code: \"MD\" },\n  { name: \"Monaco\", code: \"MC\" },\n  { name: \"Mongolia\", code: \"MN\" },\n  { name: \"Montenegro\", code: \"ME\" },\n  { name: \"Montserrat\", code: \"MS\" },\n  { name: \"Morocco\", code: \"MA\" },\n  { name: \"Mozambique\", code: \"MZ\" },\n  { name: \"Myanmar\", code: \"MM\" },\n  { name: \"Namibia\", code: \"NA\" },\n  { name: \"Nauru\", code: \"NR\" },\n  { name: \"Nepal\", code: \"NP\" },\n  { name: \"Netherlands\", code: \"NL\" },\n  { name: \"New Caledonia\", code: \"NC\" },\n  { name: \"New Zealand\", code: \"NZ\" },\n  { name: \"Nicaragua\", code: \"NI\" },\n  { name: \"Niger\", code: \"NE\" },\n  { name: \"Nigeria\", code: \"NG\" },\n  { name: \"Niue\", code: \"NU\" },\n  { name: \"Norfolk Island\", code: \"NF\" },\n  {\n    name: \"Northern Mariana Islands\",\n    code: \"MP\",\n  },\n  { name: \"Norway\", code: \"NO\" },\n  { name: \"Oman\", code: \"OM\" },\n  { name: \"Pakistan\", code: \"PK\" },\n  { name: \"Palau\", code: \"PW\" },\n  { name: \"Palestine, State of\", code: \"PS\" },\n  { name: \"Panama\", code: \"PA\" },\n  { name: \"Papua New Guinea\", code: \"PG\" },\n  { name: \"Paraguay\", code: \"PY\" },\n  { name: \"Peru\", code: \"PE\" },\n  { name: \"Philippines\", code: \"PH\" },\n  { name: \"Pitcairn\", code: \"PN\" },\n  { name: \"Poland\", code: \"PL\" },\n  { name: \"Portugal\", code: \"PT\" },\n  { name: \"Puerto Rico\", code: \"PR\" },\n  { name: \"Qatar\", code: \"QA\" },\n  { name: \"Reunion\", code: \"RE\" },\n  { name: \"Romania\", code: \"RO\" },\n  { name: \"Russian Federation\", code: \"RU\" },\n  { name: \"Rwanda\", code: \"RW\" },\n  { name: \"Saint Barthelemy\", code: \"BL\" },\n  { name: \"Saint Helena\", code: \"SH\" },\n  {\n    name: \"Saint Kitts and Nevis\",\n    code: \"KN\",\n  },\n  { name: \"Saint Lucia\", code: \"LC\" },\n  {\n    name: \"Saint Martin (French part)\",\n    code: \"MF\",\n  },\n  {\n    name: \"Saint Pierre and Miquelon\",\n    code: \"PM\",\n  },\n  {\n    name: \"Saint Vincent and the Grenadines\",\n    code: \"VC\",\n  },\n  { name: \"Samoa\", code: \"WS\" },\n  { name: \"San Marino\", code: \"SM\" },\n  { name: \"Sao Tome and Principe\", code: \"ST\" },\n  { name: \"Saudi Arabia\", code: \"SA\" },\n  { name: \"Senegal\", code: \"SN\" },\n  { name: \"Serbia\", code: \"RS\" },\n  { name: \"Seychelles\", code: \"SC\" },\n  { name: \"Sierra Leone\", code: \"SL\" },\n  { name: \"Singapore\", code: \"SG\" },\n  {\n    name: \"Sint Maarten (Dutch part)\",\n    code: \"SX\",\n  },\n  { name: \"Slovakia\", code: \"SK\" },\n  { name: \"Slovenia\", code: \"SI\" },\n  { name: \"Solomon Islands\", code: \"SB\" },\n  { name: \"Somalia\", code: \"SO\" },\n  { name: \"South Africa\", code: \"ZA\" },\n  {\n    name: \"South Georgia and the South Sandwich Islands\",\n    code: \"GS\",\n  },\n  { name: \"South Sudan\", code: \"SS\" },\n  { name: \"Spain\", code: \"ES\" },\n  { name: \"Sri Lanka\", code: \"LK\" },\n  { name: \"Sudan\", code: \"SD\" },\n  { name: \"Suriname\", code: \"SR\" },\n  { name: \"Svalbard and Jan Mayen\", code: \"SJ\" },\n  { name: \"Swaziland\", code: \"SZ\" },\n  { name: \"Sweden\", code: \"SE\" },\n  { name: \"Switzerland\", code: \"CH\" },\n  { name: \"Syrian Arab Republic\", code: \"SY\" },\n  {\n    name: \"Taiwan, Province of China\",\n    code: \"TW\",\n  },\n  { name: \"Tajikistan\", code: \"TJ\" },\n  { name: \"Thailand\", code: \"TH\" },\n  { name: \"Timor-Leste\", code: \"TL\" },\n  { name: \"Togo\", code: \"TG\" },\n  { name: \"Tokelau\", code: \"TK\" },\n  { name: \"Tonga\", code: \"TO\" },\n  { name: \"Trinidad and Tobago\", code: \"TT\" },\n  { name: \"Tunisia\", code: \"TN\" },\n  { name: \"Turkey\", code: \"TR\" },\n  { name: \"Turkmenistan\", code: \"TM\" },\n  {\n    name: \"Turks and Caicos Islands\",\n    code: \"TC\",\n  },\n  { name: \"Tuvalu\", code: \"TV\" },\n  { name: \"Uganda\", code: \"UG\" },\n  { name: \"Ukraine\", code: \"UA\" },\n  { name: \"United Arab Emirates\", code: \"AE\" },\n  { name: \"United Kingdom\", code: \"GB\" },\n  {\n    name: \"United Republic of Tanzania\",\n    code: \"TZ\",\n  },\n  {\n    name: \"United States\",\n    code: \"US\",\n  },\n  { name: \"Uruguay\", code: \"UY\" },\n  { name: \"US Virgin Islands\", code: \"VI\" },\n  { name: \"Uzbekistan\", code: \"UZ\" },\n  { name: \"Vanuatu\", code: \"VU\" },\n  { name: \"Venezuela\", code: \"VE\" },\n  { name: \"Vietnam\", code: \"VN\" },\n  { name: \"Wallis and Futuna\", code: \"WF\" },\n  { name: \"Western Sahara\", code: \"EH\" },\n  { name: \"Yemen\", code: \"YE\" },\n  { name: \"Zambia\", code: \"ZM\" },\n  { name: \"Zimbabwe\", code: \"ZW\" },\n];\n\nexport const regionNames = [\n  \"Asia\",\n  \"Africa\",\n  \"Australia\",\n  \"Europe\",\n  \"North America\",\n  \"South America\",\n];\n\nexport const countryNames = countries.map((a) => a.name);\n","import React, { useState, useEffect } from \"react\";\n\nimport \"../Account/UserAccount.css\";\nimport \"./Mob.css\";\nimport { Select } from \"../../SubComponents/Dropdown\";\nimport { Title } from \"./MobComponents\";\n\nimport { Form, Col, Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport DriveFileRenameOutlineIcon from \"@mui/icons-material/DriveFileRenameOutline\";\nimport EmailIcon from \"@mui/icons-material/Email\";\nimport EditLocationAltIcon from \"@mui/icons-material/EditLocationAlt\";\nimport HomeWorkIcon from \"@mui/icons-material/HomeWork\";\n\nimport { connect } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { signUp } from \"../../../store/actions/authActions\";\n\nimport { createMapData } from \"../../../store/actions/dataActions\";\nimport Geocode from \"react-geocode\";\nimport { countryNames, regionNames } from \"../../lib/Countries\";\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\nimport { submitNotification } from \"../../lib/Notifications\";\n//import TermsAndCons from \"../../SubComponents/TermsAndConditions\";\n\nconst SignUp = (props) => {\n  //Stage1\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  //Stage2\n  const [town, setTown] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [region, setRegion] = useState(\"\");\n  const [buildingFunction, setBuildingFunction] = useState(\"\");\n\n  //Stage4\n  const [restaurantName, setRestaurantName] = useState(\"\");\n  const [regulatoryBody, setRegulatoryBody] = useState(\"\");\n  const [regulatoryBodyID, setRegulatoryBodyID] = useState(\"\");\n\n  //Stage5\n  const [cuisine, setCuisine] = useState(\"\");\n  const [restaurantDescription, setRestaurantDescription] = useState(\"\");\n\n\n\n  const [stage, setStage] = useState(1);\n\n  const [errorNotification, setErrorNotification] = useState();\n\n  function handleSubmit() {\n    let data = {\n      firstName: firstName,\n      lastName: lastName,\n      initials: firstName[0] + lastName[0],\n      email: email,\n      password: password,\n      function: buildingFunction,\n      city: town,\n      country: country,\n      region: region,\n      restaurantName: restaurantName, \n      regulatoryBody: regulatoryBody,\n      regulatoryBodyID: regulatoryBodyID,\n      cuisine: cuisine,\n      restaurantDescription: restaurantDescription,\n      type: \"user\",\n    };\n    if (validation()) {\n      console.log(\"signup\");\n      props.signUp(data);\n    } else {\n      console.log(\"error\");\n    }\n  }\n\n  //If error, send notification\n  useEffect(() => {\n    if (errorNotification) {\n      submitNotification(\"Error\", errorNotification);\n      setErrorNotification();\n    }\n  }, [errorNotification]);\n\n  //Form validation (Preferably change this to use bootstrap validation)\n  const validation = () => {\n    //no regex\n    const no = /^[0-9\\b]+$/;\n    //Email regex\n    const em =\n      /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n    var s1 =\n      firstName !== \"\" && lastName !== \"\" && email !== \"\" && password !== \"\";\n\n    var s2 =\n      town !== \"\" && country !== \"\" && region !== \"\" && buildingFunction !== \"\";\n\n    var s3 = em.test(email);\n\n    var s4 = !no.test(lastName) && !no.test(firstName);\n\n    var s5 = !no.test(town);\n\n    if (s1 && s2 && s3 && s4 && s5) {\n      return true;\n    } else {\n      if (!s1) {\n        setErrorNotification(\"Please enter a valid name, email, and password.\");\n      } else if (!s2) {\n        setErrorNotification(\n          \"Please enter a valid town, country, region, and account type.\"\n        );\n      } else if (!s3) {\n        setErrorNotification(\"Please enter a valid email address.\");\n      } else if (!s4) {\n        setErrorNotification(\"Please enter a valid name.\");\n      } else if (!s5) {\n        setErrorNotification(\"Please enter a valid town.\");\n      } else {\n        setErrorNotification(\"Please enter valid information.\");\n      }\n      return false;\n    }\n  };\n\n  const { authError } = props;\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  //Setup geocode for getting coords when changing location\n  useEffect(() => {\n    Geocode.setApiKey(\"AIzaSyA7vyoyDlw8wHqveKrfkkeku_46bdR_aPk\");\n    Geocode.setLocationType(\"ROOFTOP\");\n  }, []);\n\n  //make sure the user isn't already logged in and if they are a new account, createMapData document for them.\n  useEffect(() => {\n    if (props.auth.uid) {\n      setIsLoggedIn(true);\n      if (town !== \"\" && country !== \"\") {\n        Geocode.fromAddress(town + \" \" + country).then((response) => {\n          var upload = {\n            masterCollection: \"mapData\",\n            uid: props.auth.uid,\n            upload: {\n              foodWasteWeight: 0,\n              location: response.results[0].address_components[0].long_name,\n              coords: [\n                response.results[0].geometry.location.lat,\n                response.results[0].geometry.location.lng,\n              ],\n            },\n          };\n          props.createMapData(upload);\n        });\n      }\n    }\n  }, [props.auth.uid]);\n\n  //rerender every time the stage changes\n  useEffect(() => {}, [stage]);\n\n  if (isLoggedIn) {\n    return <Redirect to=\"/account\" />;\n  }\n\n  switch (stage) {\n    default:\n    case 1:\n      return (\n        <Title subtitle=\"Sign Up\">\n          <div className=\"signup-center subtitles\">\n            <p>First, create your account.</p>\n          </div>\n          <Stage1\n            setFirstName={setFirstName}\n            firstName={firstName}\n            setLastName={setLastName}\n            lastName={lastName}\n            setEmail={setEmail}\n            email={email}\n            setPassword={setPassword}\n            password={password}\n            setStage={setStage}\n          />\n          <div className=\"signup-center subtitles row\">\n            <p>Already have an account? </p>\n            <Link style={{ color: \"#AFBA15\" }} to=\"/login\">\n              {\"  \"}\n              Log In\n            </Link>\n          </div>\n        </Title>\n      );\n    case 2:\n      return (\n        <Title subtitle=\"Sign Up\">\n          <div className=\"signup-center subtitles\">\n            <p>First, create your account.</p>\n          </div>\n          <Stage2\n            setTown={setTown}\n            town={town}\n            setCountry={setCountry}\n            country={country}\n            setRegion={setRegion}\n            region={region}\n            setBuildingFunction={setBuildingFunction}\n            buildingFunction={buildingFunction}\n            setStage={setStage}\n            countries={countryNames}\n          />\n        </Title>\n      );\n    case 3:\n      return (\n        <Title subtitle=\"Sign Up\">\n          <div className=\"signup-center subtitles\">\n            <h5>Confirmation</h5>\n          </div>\n          <Stage3\n            setStage={setStage}\n            firstName={firstName}\n            lastName={lastName}\n            email={email}\n            town={town}\n            region={region}\n            country={country}\n            buildingFunction={buildingFunction}\n            setRestaurantName={setRestaurantName}\n            restaurantName={restaurantName}\n            setCuisine={setCuisine}\n            cuisine={cuisine}\n            setRegulatoryBody={setRegulatoryBody}\n            regulatoryBody={regulatoryBody}\n            setRegulatoryBodyID={setRegulatoryBodyID}\n            regulatoryBodyID={regulatoryBodyID}\n            setRestaurantDescription={setRestaurantDescription}\n            restaurantDescription={restaurantDescription}\n\n          />\n          <div className=\"signup-center\">\n            <div className=\"auth-error\">\n              {authError ? <p> {authError}</p> : null}\n            </div>\n            <div>\n              <Button\n                style={{ width: \"30%\" }}\n                variant=\"default\"\n                className=\"signup-btn\"\n                onClick={(e) => setStage(1)}\n              >\n                Change\n              </Button>\n            </div>\n            <div className=\"row\">\n              <Button\n                style={{ fontWeight: \"700\" }}\n                variant=\"default\"\n                className=\"signup-confirm\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  handleSubmit();\n                }}\n              >\n                Confirm\n              </Button>\n            </div>\n          </div>\n        </Title>\n      );\n      //Restaurant-specific\n      case 4:\n        return (\n          <Title subtitle=\"Sign Up\">\n            <div className=\"signup-center subtitles\">\n              <p>First, create your account.</p>\n            </div>\n            <Stage4\n              setTown={setTown}\n              town={town}\n              setCountry={setCountry}\n              country={country}\n              setRegion={setRegion}\n              region={region}\n              setBuildingFunction={setBuildingFunction}\n              buildingFunction={buildingFunction}\n              setStage={setStage}\n              countries={countryNames}\n              setRestaurantName={setRestaurantName}\n              restaurantName = {restaurantName}\n              setRegulatoryBody={setRegulatoryBody}\n              regulatoryBody = {regulatoryBody}\n              setRegulatoryBodyID={setRegulatoryBodyID}\n              regulatoryBodyID = {regulatoryBodyID}\n            />\n          </Title>\n        );\n\n        case 5:\n          return (\n            <Title subtitle=\"Sign Up\">\n              <div className=\"signup-center subtitles\">\n                <p>First, create your account.</p>\n              </div>\n              <Stage5\n                setTown={setTown}\n                town={town}\n                setCountry={setCountry}\n                country={country}\n                setRegion={setRegion}\n                region={region}\n                setBuildingFunction={setBuildingFunction}\n                buildingFunction={buildingFunction}\n                setStage={setStage}\n                countries={countryNames}\n                restaurantName = {restaurantName}\n                regulatoryBody = {regulatoryBody}\n                regulatoryBodyID = {regulatoryBodyID}\n                setCuisine={setCuisine}\n                cuisine = {cuisine}\n                setRestaurantDescription={setRestaurantDescription}\n                restaurantDescription = {restaurantDescription}\n              />\n            </Title>\n          );\n  }\n};\n\nconst Stage1 = (props) => {\n  return (\n    <div>\n      <FormStyle>\n        <Form>\n          <Form.Row>\n            <Form.Group\n              className=\"mb-3\"\n              style={{ backgroundColor: \"white\" }}\n              as={Col}\n            >\n              <Form.Label style={{ backgroundColor: \"white\" }}>Name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter name\"\n                defaultValue={props.firstName}\n                required\n                onChange={(e) => props.setFirstName(e.target.value)}\n              />\n            </Form.Group>\n            <Form.Group\n              className=\"mb-3\"\n              style={{ backgroundColor: \"white\" }}\n              as={Col}\n            >\n              <Form.Label style={{ backgroundColor: \"white\" }}>\n                Surname\n              </Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter surname\"\n                defaultValue={props.lastName}\n                required\n                onChange={(e) => props.setLastName(e.target.value)}\n              />\n            </Form.Group>\n          </Form.Row>\n\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              type=\"email\"\n              placeholder=\"Enter email\"\n              defaultValue={props.email}\n              required\n              onChange={(e) => props.setEmail(e.target.value)}\n            />\n            <Form.Text className=\"text-muted\">\n              We'll never share your email with anyone else.\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Password\"\n              defaultValue={props.password}\n              required\n              onChange={(e) => props.setPassword(e.target.value)}\n            />\n          </Form.Group>\n          {/*Confirm Password*/}\n          <div className=\"center\">\n            <Button\n              type=\"submit\"\n              variant=\"default\"\n              className=\"signup-btn\"\n              onClick={(e) => {\n                e.preventDefault();\n                //Next Stage\n                props.setStage(2);\n              }}\n            >\n              Next\n            </Button>\n          </div>\n        </Form>\n      </FormStyle>\n    </div>\n  );\n};\n\nconst Stage2 = (props) => {\n  return (\n    <div>\n      <FormStyle>\n        <Form>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Town</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Town\"\n              defaultValue={props.town}\n              required\n              onChange={(e) => {\n                props.setTown(e.target.value);\n              }}\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Country</Form.Label>\n            <Select\n              id=\"country\"\n              function={(e) => {\n                props.setCountry(e.target.value);\n              }}\n              value={props.country}\n              placeholder=\"Please Select a Country\"\n              items={countryNames}\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\">\n            <Form.Label>Region</Form.Label>\n            <Select\n              id=\"region\"\n              function={(e) => {\n                props.setRegion(e.target.value);\n              }}\n              value={props.region}\n              placeholder=\"Please Select a Region\"\n              items={regionNames}\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\">\n            <Form.Label>What kind of account are you creating?</Form.Label>\n            <Select\n              id=\"buildingFunction\"\n              function={(e) => {\n                props.setBuildingFunction(e.target.value);\n              }}\n              value={props.buildingFunction}\n              placeholder=\"Please Select an Account Type\"\n              items={[\n                \"Households\",\n                \"Personal\",\n                \"Hospitals\",\n                \"Schools\",\n                \"Hotels\",\n                \"Offices\",\n                \"Restaurants\",\n                \"Shop/Supermarket\",\n                \"Farm\",\n                \"Recreational Centers\",\n                \"Other\",\n              ]}\n            />\n          </Form.Group>\n        </Form>\n      </FormStyle>\n\n\n      <div className=\"signup-center\">\n        <div className=\"row\">\n          <Button\n            variant=\"default\"\n            className=\"signup-btn\"\n            onClick={(e) => {\n              e.preventDefault();\n              //Previous Stage\n              props.setStage(1);\n            }}\n          >\n            Back\n          </Button>\n\n          <Button\n            variant=\"default\"\n            className=\"signup-btn\"\n\n            onClick={(e) => {\n              e.preventDefault();\n              //Next Stage\n\n              if (props.buildingFunction==\"Restaurants\") {\n                props.setStage(4) //stage for restaurant-specific questions\n              } else {\n              props.setStage(3);}\n            }}\n          >\n            Next\n          </Button>\n\n        </div>\n      </div>\n    </div>\n  );\n};\n\n//If account type == restaurant, this routes \nconst Stage4 = (props) => {\n  return(\n  <div>\n    <FormStyle>\n      <Form>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Restaurant name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Restaurant name\"\n            defaultValue={props.restaurantName}\n            required\n            onChange={(e) => {\n              props.setRestaurantName(e.target.value);\n            }}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n        <Form.Label>Please input the local authority which verifies your restuarant's health and safety status (e.g. the Food Standards Agency for Scotland).</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Regulatory body\"\n            defaultValue={props.regulatoryBody}\n            required\n            onChange={(e) => {\n              props.setRegulatoryBody(e.target.value);\n            }}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n        <Form.Label>Please input the ID this regulatory body has provided you with. </Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"ID\"\n            defaultValue={props.regulatoryBodyID}\n            required\n            onChange={(e) => {\n              props.setRegulatoryBodyID(e.target.value);\n            }}\n          />\n        </Form.Group>\n\n        <div className=\"signup-center\">\n        <div className=\"row\">\n          <Button\n            variant=\"default\"\n            className=\"signup-btn\"\n            onClick={(e) => {\n              e.preventDefault();\n              //Previous Stage\n              props.setStage(2);\n            }}\n          >\n            Back\n          </Button>\n\n          <Button\n            variant=\"default\"\n            className=\"signup-btn\"\n\n            onClick={(e) => {\n              e.preventDefault();\n              //Next Stage\n\n              if (props.buildingFunction==\"Restaurants\") {\n                props.setStage(5) //stage for restaurant-specific questions\n              } else {\n              props.setStage(2);}\n            }}\n          >\n            Next\n          </Button>\n\n        </div>\n      </div>\n      </Form>\n    </FormStyle>\n  </div>\n\n  );\n};\n\n\nconst Stage5 = (props) => {\n  return(\n  <div>\n    <FormStyle>\n      <Form>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>What cuisine does your kitchen offer?</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Cuisine\"\n            defaultValue={props.cuisine}\n            required\n            onChange={(e) => {\n              props.setCuisine(e.target.value);\n            }}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\">\n        <Form.Label>Please provide a brief description of your restaurant for customers to see.</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Description\"\n            defaultValue={props.restaurantDescription}\n            required\n            onChange={(e) => {\n              props.setRestaurantDescription(e.target.value);\n            }}\n          />\n        </Form.Group>\n\n        <div className=\"signup-center\">\n        <div className=\"row\">\n          <Button\n            variant=\"default\"\n            className=\"signup-btn\"\n            onClick={(e) => {\n              e.preventDefault();\n              //Previous Stage\n              props.setStage(4);\n            }}\n          >\n            Back\n          </Button>\n\n          <Button\n            variant=\"default\"\n            className=\"signup-btn\"\n\n            onClick={(e) => {\n              e.preventDefault();\n              //Next Stage\n\n              if (props.buildingFunction==\"Restaurants\") {\n                props.setStage(3) //stage for restaurant-specific questions\n              } else {\n              props.setStage(3);}\n            }}\n          >\n            Next\n          </Button>\n\n        </div>\n      </div>\n      </Form>\n    </FormStyle>\n  </div>\n\n  );\n}\n\nconst Stage3 = (props) => {\n  if (props.buildingFunction==\"Restaurants\"){\n  return (\n    <div>\n      <List>\n        <ListItem>\n          <ListItemIcon>\n            <DriveFileRenameOutlineIcon />\n          </ListItemIcon>\n          <ListItemText>\n            {props.firstName} {props.lastName}\n          </ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <EmailIcon />\n          </ListItemIcon>\n          <ListItemText>{props.email}</ListItemText>\n        </ListItem>\n        <ListItem className=\"space-between\">\n          <ListItemIcon>\n            <EditLocationAltIcon />\n          </ListItemIcon>\n          <ListItemText>\n            {props.town}, {props.country}, {props.region}\n          </ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.buildingFunction}</ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.restaurantName}</ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.regulatoryBody}</ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.regulatoryBodyID}</ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.cuisine}</ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.restaurantDescription}</ListItemText>\n        </ListItem>\n\n      </List>\n    </div>\n  );\n} else {\n  return (\n    <div>\n      <List>\n        <ListItem>\n          <ListItemIcon>\n            <DriveFileRenameOutlineIcon />\n          </ListItemIcon>\n          <ListItemText>\n            {props.firstName} {props.lastName}\n          </ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <EmailIcon />\n          </ListItemIcon>\n          <ListItemText>{props.email}</ListItemText>\n        </ListItem>\n        <ListItem className=\"space-between\">\n          <ListItemIcon>\n            <EditLocationAltIcon />\n          </ListItemIcon>\n          <ListItemText>\n            {props.town}, {props.country}, {props.region}\n          </ListItemText>\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <HomeWorkIcon />\n          </ListItemIcon>\n          <ListItemText>{props.buildingFunction}</ListItemText>\n        </ListItem>\n      </List>\n    </div>\n  );\n\n\n}\n}\n\nconst FormStyle = styled.div`\n  form {\n    width: 80%;\n    margin: auto;\n    padding: 10px;\n  }\n\n  input {\n    border: 1px solid #62680a;\n  }\n\n  .btn-dark {\n    background-color: #071850;\n    color: whitesmoke;\n    border: 1px solid #03091d;\n    float: right;\n\n    &:hover {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n\n    &:active {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n  }\n`;\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    authError: state.auth.authError,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signUp: (newUser) => dispatch(signUp(newUser)),  //r: cmd+click on signUp takes you to where the signUp event's props are defined\n    createMapData: (mapdata) => dispatch(createMapData(mapdata)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n","import React, { useState } from \"react\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport { SubButton } from \"./Button\";\n\nexport function PopUp(props) {\n  const { open, onClose, handleButtonClick, to, text } = props;\n\n  return (\n    <Dialog open={open} maxWidth=\"xs\" fullWidth>\n      <DialogTitle>\n        {props.children}\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: \"absolute\",\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n      <SubButton\n        styling=\"blue\"\n        text={text}\n        onClick={handleButtonClick}\n        goTo={to}\n      />\n    </Dialog>\n  );\n}\n\nexport function LogOutPopUp(props) {\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <List>\n        <ListItem className=\"space-between\">\n          <ListItemButton onClick={handleClickOpen}>\n            <ListItemIcon>\n              <LogoutIcon />\n            </ListItemIcon>\n            <ListItemText>Logout</ListItemText>\n          </ListItemButton>\n        </ListItem>\n      </List>\n      <PopUp\n        open={open}\n        onClose={handleClose}\n        text=\"Log Out\"\n        handleButtonClick={props.handleSignOut}\n        to={props.to}\n      >\n        Are you sure you want to log out?\n      </PopUp>\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./Heading.css\";\n\nfunction Heading(props) {\n  const CustomTag = `h${props.priority}`;\n  return (\n    <CustomTag className={[\"heading\", props.styling]}>{props.text}</CustomTag>\n  );\n}\n\nexport { Heading };\n","export default __webpack_public_path__ + \"static/media/WheatIcon.1a8e8f19.png\";","import React from \"react\";\nimport WheatIcon from \"../../../images/WheatIcon.png\";\nimport \"./LoadingScreen.css\";\n\nexport default function LoadingScreen() {\n  return (\n    <div className=\"loading\">\n      <div className=\"icon\">\n        <img src={WheatIcon} alt=\"loading\" className=\"wheat\" />\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { countryNames, countries } from \"../../lib/Countries\";\nimport {\n  postcodeValidator,\n  postcodeValidatorExistsForCountry,\n} from \"postcode-validator\";\n\n\n\nexport default function PostcodeValidatorFormGroup(props) {\n\n    // const [validated, setValidated] = useState(false);\n    const [countryCode, setCountryCode] = useState(\"\");\n    const [err, setErr] = useState(false);\n  \n    useEffect(() => {\n      if (props.country) {\n        let cc = countries.find((c) => c.name === props.country);\n        if(cc)\n            setCountryCode(cc.code);\n      }\n    }, [props.country]);\n  \n    useEffect(() => {\n      if (postcodeValidatorExistsForCountry(countryCode)) {\n        // console.log(\"validator exists\", props.postcode, countryCode);\n        if (postcodeValidator(props.postcode.trim(), countryCode)) {\n        //   setValidated(true);\n          // console.log(\"valid\");\n          setErr(false);\n          props.setValidPostcode(true);\n        } else {\n          props.setValidPostcode(false);\n          setErr(true);\n        //   console.log(\"no\");\n        }\n      } else {\n        props.setValidPostcode(true);\n      }\n    }, [props.postcode]);\n\n    return (\n        <div>\n        <Form.Label>Postcode</Form.Label>\n          <Form.Control type=\"postcode\"\n          placeholder=\"Postcode\"\n          defaultValue={props.postcode}\n          onChange={(e) => props.setPostcode(e.target.value)}\n          />\n          {err && (\n            <div className=\"err\">Please enter a valid postcode.</div>\n            )}\n        </div>\n    )\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nimport \"./Mob.css\";\r\nimport \"./Settings.css\";\r\nimport { SubButton } from \"../../SubComponents/Button\";\r\nimport { LogOutPopUp } from \"../../SubComponents/PopUp\";\r\nimport { PageWrap } from \"../../SubComponents/PageWrap\";\r\nimport { Heading } from \"../../SubComponents/Heading\";\r\nimport LoadingScreen from \"../../SubComponents/Loading/LoadingScreen\";\r\n\r\nimport { Form, Col, ListGroup, Badge, FormGroup } from \"react-bootstrap\";\r\n\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemButton from \"@mui/material/ListItemButton\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport Divider from \"@mui/material/Divider\";\r\n\r\n//list icons\r\nimport DriveFileRenameOutlineIcon from \"@mui/icons-material/DriveFileRenameOutline\";\r\nimport EmailIcon from \"@mui/icons-material/Email\";\r\nimport PasswordIcon from \"@mui/icons-material/Password\";\r\nimport EditLocationAltIcon from \"@mui/icons-material/EditLocationAlt\";\r\nimport QuizIcon from \"@mui/icons-material/Quiz\";\r\nimport ContactSupportIcon from \"@mui/icons-material/ContactSupport\";\r\nimport GroupIcon from \"@mui/icons-material/Group\";\r\nimport RestaurantIcon from \"@mui/icons-material/Restaurant\";\r\nimport DescriptionIcon from \"@mui/icons-material/Description\";\r\nimport BadgeIcon from \"@mui/icons-material/Badge\";\r\n\r\n\r\n\r\n\r\n//import { MobileView, BrowserView, isMobile } from \"react-device-detect\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  resetPassword,\r\n  updateEmail,\r\n  updateProfile,\r\n  signOut,\r\n  createSubAccount,\r\n  deleteSubAccount,\r\n  changeConsumerPostcode,\r\n  getConsumerPostcode,\r\n} from \"../../../store/actions/authActions\";\r\nimport {\r\n  createMapData,\r\n  getFirestoreData,\r\n} from \"../../../store/actions/dataActions\";\r\nimport Geocode from \"react-geocode\";\r\n\r\nimport { submitNotification } from \"../../lib/Notifications\";\r\nimport {\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport PostcodeValidatorFormGroup from \"./PostcodeValidatorFormGroup\";\r\n\r\n//The top level function \"Settings\" creates the layout of the page and the state of any information passed through it and the other components.\r\n//It returns a switch that controls the form as people choose on the page, the form functions are defined below. They are \"SettingsList\",\r\n// \"Name\", \"Email\", \"Password\" and \"Location\".\r\n\r\nfunction Settings(props) {\r\n  //handles loading page\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    setTimeout(() => setLoading(false), 1500);\r\n  });\r\n\r\n  //auth\r\n  const [firstName, setFirstName] = useState(props.profile.firstName);\r\n  const [lastName, setLastName] = useState(props.profile.lastName);\r\n  const [email, setEmail] = useState(props.auth.email);\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  //sub\r\n  const [subFirstName, setSubFirstName] = useState(\"\");\r\n  const [subLastName, setSubLastName] = useState(\"\");\r\n  const [subEmail, setSubEmail] = useState(\"\");\r\n  const [subPassword, setSubPassword] = useState(\"\");\r\n  const [subRole, setSubRole] = useState(\"\");\r\n  const [subAccountsList, setSubAccountsList] = useState();\r\n\r\n  //address\r\n  const [town, setTown] = useState(props.profile.city);\r\n  const [country, setCountry] = useState(props.profile.country);\r\n  const [region, setRegion] = useState(props.profile.region);\r\n  const [postcode, setPostcode] = useState(\"\");\r\n  const [validPostcode, setValidPostcode] = useState(true);\r\n  const [signedUpForPTS, setSignedUpForPTS] = useState(props.profile.isConsumer);\r\n\r\n  const [form, setForm] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  //restaurant data\r\n  const [restaurantName, setRestaurantName] = useState(\"\");\r\n  const [regulatoryBody, setRegulatoryBody] = useState(\"\");\r\n  const [regulatoryBodyID, setRegulatoryBodyID] = useState(\"\");\r\n  const [cuisine, setCuisine] = useState(\"\");\r\n  const [restaurantDescription, setRestaurantDescription] = useState(\"\");\r\n\r\n  //handle data from firebase\r\n  useEffect(() => {\r\n    if (props.data !== undefined && props.data !== null) {\r\n      setSubAccountsList(props.data);\r\n    } else {\r\n      setSubAccountsList({});\r\n    }\r\n  }, [props.data]);\r\n\r\n  useEffect(() => {\r\n    setPostcode(props.postcodeData.postcode);\r\n  }, [props.postcodeData])\r\n\r\n  //rerender on form change, reset error message\r\n  useEffect(() => {\r\n    setError(\"\");\r\n    setSuccess(false);\r\n  }, [form]);\r\n\r\n  //handles the way each setting opens and closes, if not open => open, if open => close and if a different item => open different item.\r\n  function HandleButtonState(changeTo) {\r\n    if (!form) {\r\n      setForm(changeTo);\r\n    } else if (form === changeTo) {\r\n      setForm(null);\r\n    } else if (form !== changeTo && form) {\r\n      setForm(changeTo);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!props.auth.uid) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n  }, [props.auth.uid]);\r\n\r\n  // once profile data is loaded, set all default fields to user data\r\n  useEffect(() => {\r\n    setFirstName(props.profile.firstName);\r\n    setLastName(props.profile.lastName);\r\n    setEmail(props.profile.email);\r\n    setTown(props.profile.city);\r\n    setCountry(props.profile.country);\r\n    setRegion(props.profile.region);\r\n    setRestaurantName(props.profile.restaurantName)\r\n    setRegulatoryBody(props.profile.regulatoryBody)\r\n    setRegulatoryBodyID(props.profile.regulatoryBodyID)\r\n    setCuisine(props.profile.cuisine)\r\n    setRestaurantDescription(props.profile.restaurantDescription)\r\n\r\n\r\n    if(props.profile.isConsumer || props.profile.isSeller) {\r\n      setSignedUpForPTS(true);\r\n      handleGetConsumerPostcode();\r\n    }\r\n  }, [props.profile]);\r\n\r\n  //Setup geocode for getting coords when changing location\r\n  useEffect(() => {\r\n    Geocode.setApiKey(\"AIzaSyA7vyoyDlw8wHqveKrfkkeku_46bdR_aPk\");\r\n    Geocode.setLocationType(\"ROOFTOP\");\r\n  }, []);\r\n\r\n  function HandleEmail() {\r\n    var data = {\r\n      auth: props.auth,\r\n      email: props.auth.email,\r\n      newEmail: email,\r\n      uid: props.auth.uid,\r\n      password: password,\r\n    };\r\n    props.updateEmail(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n  function HandlePassword() {\r\n    var data = {\r\n      email: email,\r\n    };\r\n    if (email === props.auth.email) {\r\n      props.resetPassword(data);\r\n      submitNotification(\"Success\", \"A Password reset Email has been sent!\");\r\n    } else {\r\n      setError(\"This email does not match this account.\");\r\n    }\r\n  }\r\n\r\n  function HandleName() {\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        initials: firstName[0] + lastName[0],\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Name Successfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n  function HandleLocation() {\r\n    Geocode.fromAddress(town + \" \" + country).then((response) => {\r\n      var upload = {\r\n        masterCollection: \"mapData\",\r\n        uid: props.auth.uid,\r\n        upload: {\r\n          foodWasteWeight: 0,\r\n          location: response.results[0].address_components[0].long_name,\r\n          coords: [\r\n            response.results[0].geometry.location.lat,\r\n            response.results[0].geometry.location.lng,\r\n          ],\r\n        },\r\n      };\r\n      props.createMapData(upload);\r\n    });\r\n\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        city: town,\r\n        country: country,\r\n        region: region,\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Location Sucessfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n  function HandleSubAccount() {\r\n    var adminCollection, subType;\r\n    if (props.profile.type === \"business_admin\") {\r\n      adminCollection = \"business_users\";\r\n      subType = \"business_sub\";\r\n    } else if (props.profile.type === \"academic_admin\") {\r\n      adminCollection = \"academic_users\";\r\n      subType = \"academic_sub\";\r\n    } else if (props.profile.type === \"farm_admin\") {\r\n      adminCollection = \"farm_users\";\r\n      subType = \"farm_sub\";\r\n    } else if (props.profile.type === \"household_admin\") {\r\n      adminCollection = \"household_users\";\r\n      subType = \"household_sub\";\r\n    } else if (props.profile.type === \"restaurant_admin\") {\r\n      adminCollection = \"restaurant_users\";\r\n      subType = \"restaurant_sub\";\r\n    }\r\n\r\n    var data = {\r\n      masterCollection: adminCollection,\r\n      uid: props.auth.uid,\r\n      email: subEmail,\r\n      password: subPassword,\r\n      firstName: subFirstName,\r\n      lastName: subLastName,\r\n      role: subRole,\r\n\r\n      function: props.profile.buildingFunction,\r\n      city: props.profile.city,\r\n      country: props.profile.country,\r\n      region: props.profile.region,\r\n      type: subType,\r\n    };\r\n    if (\r\n      subFirstName !== \"\" &&\r\n      subLastName !== \"\" &&\r\n      subEmail != \"\" &&\r\n      subPassword !== \"\" &&\r\n      subRole !== \"\"\r\n    ) {\r\n      props.createSubAccount(data);\r\n      if (!props.authError) {\r\n        setSuccess(true);\r\n        submitNotification(\"Success\", \"Sub Account Sucessfully Created!\");\r\n        setSubFirstName(\"\");\r\n        setSubLastName(\"\");\r\n        setSubEmail(\"\");\r\n        setSubPassword(\"\");\r\n        setSubRole(\"\");\r\n      } else {\r\n        setError(props.authError);\r\n      }\r\n    } else {\r\n      submitNotification(\"Error\", \"Please ensure the form is completed.\");\r\n    }\r\n  }\r\n\r\n  function HandleChangePostcode() {\r\n    const data = {\r\n      uid: props.auth.uid,\r\n      upload: {\r\n        postcode: postcode,\r\n      }\r\n    }\r\n    props.changeConsumerPostcode(data);\r\n  }\r\n\r\n  function handleGetConsumerPostcode() {\r\n    props.getConsumerPostcode(props.auth.uid);\r\n    console.log(props.postcodeData);\r\n  }\r\n  \r\n  //restaurant-specific\r\n  function HandleRestaurantName() {\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        restaurantName: restaurantName,\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Restaurant Name Successfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n  function HandleRegulatoryBody() {\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        regulatoryBody: regulatoryBody,\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Regulatory Body Successfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n  function HandleRegulatoryBodyID() {\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        regulatoryBodyID: regulatoryBodyID,\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Regulatory Body ID Successfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n  function HandleRestaurantDescription() {\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        restaurantDescription: restaurantDescription,\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Restaurant Description Successfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n  function HandleCuisine() {\r\n    var data = {\r\n      uid: props.auth.uid,\r\n      profile: {\r\n        cuisine: cuisine,\r\n      },\r\n    };\r\n    props.updateProfile(data);\r\n    if (!props.authError) {\r\n      setSuccess(true);\r\n      submitNotification(\"Success\", \"Cuisine Successfully Updated!\");\r\n    } else {\r\n      setError(props.authError);\r\n    }\r\n  }\r\n\r\n\r\n  \r\nconst RestaurantName = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>Restaurant Name</Form.Label>\r\n            <Form.Control\r\n              type=\"name\"\r\n              placeholder=\"Enter name\"\r\n              defaultValue={props.restaurantName}\r\n              id=\"restaurantName\"\r\n              onChange={(e) => props.setRestaurantName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst RegulatoryBody = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>Regulatory Body</Form.Label>\r\n            <Form.Control\r\n              type=\"name\"\r\n              placeholder=\"Enter Name of Regulatory Body\"\r\n              defaultValue={props.regulatoryBody}\r\n              id=\"regulatoryBody\"\r\n              onChange={(e) => props.setRegulatoryBody(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\nconst RegulatoryBodyID = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>Regulatory Body ID</Form.Label>\r\n            <Form.Control\r\n              type=\"name\"\r\n              placeholder=\"Enter Regulatory Body ID\"\r\n              defaultValue={props.regulatoryBodyID}\r\n              id=\"regulatoryBodyID\"\r\n              onChange={(e) => props.setRegulatoryBodyID(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Cuisine = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>Cuisine</Form.Label>\r\n            <Form.Control\r\n              type=\"name\"\r\n              placeholder=\"Enter Cuisine\"\r\n              defaultValue={props.cuisine}\r\n              id=\"cuisine\"\r\n              onChange={(e) => props.setCuisine(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst RestaurantDescription = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>Restaurant Description</Form.Label>\r\n            <Form.Control\r\n              type=\"name\"\r\n              placeholder=\"Enter Restaurant Description\"\r\n              defaultValue={props.restaurantDescription}\r\n              id=\"restaurantDescription\"\r\n              onChange={(e) => props.setRestaurantDescription(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\r\n  if (loading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  switch (form) {\r\n    case \"changeName\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            buildingFunction={props.profile.buildingFunction}\r\n\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <Name\r\n              firstName={firstName}\r\n              setFirstName={setFirstName}\r\n              lastName={lastName}\r\n              setLastName={setLastName}\r\n              setForm={setForm}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleName();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Change Success</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n    case \"changeEmail\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            buildingFunction={props.profile.buildingFunction}\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <Email\r\n              email={email}\r\n              setEmail={setEmail}\r\n              setPassword={setPassword}\r\n              setForm={setForm}\r\n              HandleEmail={HandleEmail}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleEmail();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Your email has been updated!</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n    case \"changePassword\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            buildingFunction={props.profile.buildingFunction}\r\n            restaurantName={props.profile.restaurantName}\r\n            regulatoryBody={props.profile.regulatoryBody}\r\n            regulatoryBodyID={props.profile.regulatoryBodyID}\r\n            cuisine={props.profile.cuisine}\r\n            restaurantDescription={props.profile.restaurantDescription}\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <Password setEmail={setEmail} />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandlePassword();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {error ? <p> {error}</p> : null}\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n    case \"changeLocation\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            buildingFunction={props.profile.buildingFunction}\r\n            restaurantName={props.profile.restaurantName}\r\n            regulatoryBody={props.profile.regulatoryBody}\r\n            regulatoryBodyID={props.profile.regulatoryBodyID}\r\n            cuisine={props.profile.cuisine}\r\n            restaurantDescription={props.profile.restaurantDescription}\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <Location\r\n              town={town}\r\n              setTown={setTown}\r\n              country={country}\r\n              setCountry={setCountry}\r\n              region={region}\r\n              setRegion={setRegion}\r\n              setForm={setForm}\r\n              signedUpForPTS={signedUpForPTS}\r\n              postcode={postcode}\r\n              setPostcode={setPostcode}\r\n              validPostcode={validPostcode}\r\n              setValidPostcode={setValidPostcode}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleLocation();\r\n                  if(signedUpForPTS) {\r\n                    HandleChangePostcode();\r\n                  }\r\n                }}\r\n                disabled={!validPostcode}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Change Success</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n\r\n    case \"changeSubAccounts\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            buildingFunction={props.profile.buildingFunction}\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            restaurantName={props.profile.restaurantName}\r\n            regulatoryBody={props.profile.regulatoryBody}\r\n            regulatoryBodyID={props.profile.regulatoryBodyID}\r\n            cuisine={props.profile.cuisine}\r\n            restaurantDescription={props.profile.restaurantDescription}\r\n            type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <SubAccounts\r\n              setSubFirstName={setSubFirstName}\r\n              setSubLastName={setSubLastName}\r\n              setSubEmail={setSubEmail}\r\n              setSubPassword={setSubPassword}\r\n              setSubRole={setSubRole}\r\n              subAccounts={subAccountsList}\r\n              subFirstName={subFirstName}\r\n              subLastName={subLastName}\r\n              subEmail={subEmail}\r\n              subPassword={subPassword}\r\n              subRole={subRole}\r\n              profile={props.profile}\r\n              uid={props.auth.uid}\r\n              deleteSubAccount={props.deleteSubAccount}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Create Sub Account\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleSubAccount();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Account Created</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n      case \"changeRestaurantName\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n           firstName={props.profile.firstName}\r\n           lastName={props.profile.lastName}\r\n           email={props.auth.email}\r\n           town={props.profile.city}\r\n           region={props.profile.region}\r\n           country={props.profile.country}\r\n           buildingFunction={props.profile.buildingFunction}\r\n           restaurantName={props.profile.restaurantName}\r\n           regulatoryBody={props.profile.regulatoryBody}\r\n           regulatoryBodyID={props.profile.regulatoryBodyID}\r\n           cuisine={props.profile.cuisine}\r\n           restaurantDescription={props.profile.restaurantDescription}\r\n           setForm={setForm}\r\n           HandleButtonState={HandleButtonState}\r\n           type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <RestaurantName\r\n              restaurantName={restaurantName}\r\n              setRestaurantName={setRestaurantName}\r\n              setForm={setForm}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleRestaurantName();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Change Success</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n\r\n      case \"changeRegulatoryBody\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n           firstName={props.profile.firstName}\r\n           lastName={props.profile.lastName}\r\n           email={props.auth.email}\r\n           town={props.profile.city}\r\n           region={props.profile.region}\r\n           country={props.profile.country}\r\n           buildingFunction={props.profile.buildingFunction}\r\n           restaurantName={props.profile.restaurantName}\r\n           regulatoryBody={props.profile.regulatoryBody}\r\n           regulatoryBodyID={props.profile.regulatoryBodyID}\r\n           cuisine={props.profile.cuisine}\r\n           restaurantDescription={props.profile.restaurantDescription}\r\n           setForm={setForm}\r\n           HandleButtonState={HandleButtonState}\r\n           type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <RegulatoryBody\r\n              regulatoryBody={regulatoryBody}\r\n              setRegulatoryBody={setRegulatoryBody}\r\n              setForm={setForm}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleRegulatoryBody();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Change Success</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n\r\n      case \"changeRegulatoryBodyID\":\r\n        return (\r\n          <PageWrap\r\n            header=\"Settings\"\r\n            subtitle=\"What would you like to change?\"\r\n            goTo=\"/account\"\r\n          >\r\n            <ProfileList\r\n             firstName={props.profile.firstName}\r\n             lastName={props.profile.lastName}\r\n             email={props.auth.email}\r\n             town={props.profile.city}\r\n             region={props.profile.region}\r\n             country={props.profile.country}\r\n             buildingFunction={props.profile.buildingFunction}\r\n             restaurantName={props.profile.restaurantName}\r\n             regulatoryBody={props.profile.regulatoryBody}\r\n             regulatoryBodyID={props.profile.regulatoryBodyID}\r\n             cuisine={props.profile.cuisine}\r\n             restaurantDescription={props.profile.restaurantDescription}\r\n             setForm={setForm}\r\n             HandleButtonState={HandleButtonState}\r\n             type={props.profile.type}\r\n            >\r\n              <Divider variant=\"middle\" />\r\n              <RegulatoryBodyID\r\n                regulatoryBodyID={regulatoryBodyID}\r\n                setRegulatoryBodyID={setRegulatoryBodyID}\r\n                setForm={setForm}\r\n              />\r\n              <div className=\"center\">\r\n                <SubButton\r\n                  styling=\"blue\"\r\n                  text=\"Confirm\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    HandleRegulatoryBodyID();\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"auth-error\">\r\n                {props.authError ? <p> {props.authError}</p> : null}\r\n              </div>\r\n              <div className=\"success\">\r\n                {success ? <p>Change Success</p> : null}\r\n              </div>\r\n            </ProfileList>\r\n          </PageWrap>\r\n        );\r\n\r\n      case \"changeCuisine\":\r\n        return (\r\n          <PageWrap\r\n            header=\"Settings\"\r\n            subtitle=\"What would you like to change?\"\r\n            goTo=\"/account\"\r\n          >\r\n            <ProfileList\r\n              firstName={props.profile.firstName}\r\n              lastName={props.profile.lastName}\r\n              email={props.auth.email}\r\n              town={props.profile.city}\r\n              region={props.profile.region}\r\n              country={props.profile.country}\r\n              buildingFunction={props.profile.buildingFunction}\r\n              restaurantName={props.profile.restaurantName}\r\n              regulatoryBody={props.profile.regulatoryBody}\r\n              regulatoryBodyID={props.profile.regulatoryBodyID}\r\n              cuisine={props.profile.cuisine}\r\n              restaurantDescription={props.profile.restaurantDescription}\r\n              setForm={setForm}\r\n              HandleButtonState={HandleButtonState}\r\n              type={props.profile.type}\r\n            >\r\n              <Divider variant=\"middle\" />\r\n              <Cuisine\r\n                cuisine={cuisine}\r\n                setCuisine={setCuisine}\r\n                setForm={setForm}\r\n              />\r\n              <div className=\"center\">\r\n                <SubButton\r\n                  styling=\"blue\"\r\n                  text=\"Confirm\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    HandleCuisine();\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"auth-error\">\r\n                {props.authError ? <p> {props.authError}</p> : null}\r\n              </div>\r\n              <div className=\"success\">\r\n                {success ? <p>Change Success</p> : null}\r\n              </div>\r\n            </ProfileList>\r\n          </PageWrap>\r\n        );\r\n\r\n      case \"changeRestaurantDescription\":\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            buildingFunction={props.profile.buildingFunction}\r\n            restaurantName={props.profile.restaurantName}\r\n            regulatoryBody={props.profile.regulatoryBody}\r\n            regulatoryBodyID={props.profile.regulatoryBodyID}\r\n            cuisine={props.profile.cuisine}\r\n            restaurantDescription={props.profile.restaurantDescription}\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            type={props.profile.type}\r\n          >\r\n            <Divider variant=\"middle\" />\r\n            <RestaurantDescription\r\n              restaurantDescription={restaurantDescription}\r\n              setRestaurantDescription={setRestaurantDescription}\r\n              setForm={setForm}\r\n            />\r\n            <div className=\"center\">\r\n              <SubButton\r\n                styling=\"blue\"\r\n                text=\"Confirm\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  HandleRestaurantDescription();\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"auth-error\">\r\n              {props.authError ? <p> {props.authError}</p> : null}\r\n            </div>\r\n            <div className=\"success\">\r\n              {success ? <p>Change Success</p> : null}\r\n            </div>\r\n          </ProfileList>\r\n        </PageWrap>\r\n      );\r\n    default:\r\n      return (\r\n        <PageWrap\r\n          header=\"Settings\"\r\n          subtitle=\"What would you like to change?\"\r\n          goTo=\"/account\"\r\n        >\r\n          <ProfileList\r\n            firstName={props.profile.firstName}\r\n            lastName={props.profile.lastName}\r\n            email={props.auth.email}\r\n            town={props.profile.city}\r\n            region={props.profile.region}\r\n            country={props.profile.country}\r\n            restaurantName={props.profile.restaurantName}\r\n            regulatoryBody={props.profile.regulatoryBody}\r\n            regulatoryBodyID={props.profile.regulatoryBodyID}\r\n            cuisine={props.profile.cuisine}\r\n            restaurantDescription={props.profile.restaurantDescription}\r\n            buildingFunction={props.profile.buildingFunction}\r\n            setForm={setForm}\r\n            HandleButtonState={HandleButtonState}\r\n            HandleSignOut={props.signOut}\r\n            type={props.profile.type}\r\n          />\r\n        </PageWrap>\r\n      );\r\n  }\r\n}\r\n\r\nfunction ButtonList(props) {\r\n  let list;\r\n  list = props.listItems.map((items) => {\r\n    return (\r\n      <ListItem key={items.key}>\r\n        <ListItemButton\r\n          onClick={() => {\r\n            props.HandleButtonState(items.change);\r\n          }}\r\n        >\r\n          <ListItemIcon>{items.icon}</ListItemIcon>\r\n          <ListItemText>{items.item}</ListItemText>\r\n        </ListItemButton>\r\n      </ListItem>\r\n    );\r\n  });\r\n\r\n  return <List>{list}</List>;\r\n}\r\n\r\nconst ProfileList = (props) => {\r\n  const items = [\r\n    {\r\n      key: \"name\",\r\n      item: props.firstName + \" \" + props.lastName,\r\n      change: \"changeName\",\r\n      icon: <DriveFileRenameOutlineIcon />,\r\n    },\r\n    {\r\n      key: \"email\",\r\n      item: props.email,\r\n      change: \"changeEmail\",\r\n      icon: <EmailIcon />,\r\n    },\r\n    {\r\n      key: \"password\",\r\n      item: \"Password\",\r\n      change: \"changePassword\",\r\n      icon: <PasswordIcon />,\r\n    },\r\n    {\r\n      key: \"location\",\r\n      item: props.town + \", \" + props.country + \", \" + props.region,\r\n      change: \"changeLocation\",\r\n      icon: <EditLocationAltIcon />,\r\n    },\r\n    {\r\n      key: \"restaurantName\",\r\n      item: props.restaurantName,\r\n      change: \"changeRestaurantName\",\r\n      icon: <DriveFileRenameOutlineIcon />,\r\n    },{\r\n      key: \"regulatoryBody\",\r\n      item:props.regulatoryBody,\r\n      change: \"changeRegulatoryBody\",\r\n      icon: <BadgeIcon />,\r\n    },{\r\n      key: \"regulatoryBodyID\",\r\n      item: props.regulatoryBodyID,\r\n      change: \"changeRegulatoryBodyID\",\r\n      icon: <BadgeIcon />,\r\n    },{\r\n      key: \"cuisine\",\r\n      item: props.cuisine,\r\n      change: \"changeCuisine\",\r\n      icon: <RestaurantIcon />,\r\n    },{\r\n      key: \"restaurantDescription\",\r\n      item: props.restaurantDescription,\r\n      change: \"changeRestaurantDescription\",\r\n      icon: <DescriptionIcon />,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {String(props.type).includes(\"sub\") ? (\r\n        <></>\r\n      ) : (\r\n        <>\r\n          <ButtonList\r\n            listItems={items}\r\n            HandleButtonState={props.HandleButtonState}\r\n          />\r\n          {String(props.type).includes(\"admin\") ? (\r\n            <ListItem key=\"subaccounts\">\r\n              <ListItemButton\r\n                onClick={() => {\r\n                  props.HandleButtonState(\"changeSubAccounts\");\r\n                }}\r\n              >\r\n                <ListItemIcon>\r\n                  <GroupIcon />\r\n                </ListItemIcon>\r\n                <ListItemText>Sub Accounts</ListItemText>\r\n              </ListItemButton>\r\n            </ListItem>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {props.children}\r\n        </>\r\n      )}\r\n      <Divider variant=\"middle\" />\r\n      <ListItem>\r\n        <ListItemButton href=\"/questionnaire\" component=\"a\">\r\n          <ListItemIcon>\r\n            <QuizIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>\r\n            Help us to offer your greater value by answering this short\r\n            questionnaire.\r\n          </ListItemText>\r\n        </ListItemButton>\r\n      </ListItem>\r\n      <Divider variant=\"middle\" />\r\n      <ListItem>\r\n        <ListItemButton href=\"/contact\" component=\"a\">\r\n          <ListItemIcon>\r\n            <ContactSupportIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Contact Us</ListItemText>\r\n        </ListItemButton>\r\n      </ListItem>\r\n      <Divider variant=\"middle\" />\r\n      <LogOutPopUp handleSignOut={props.HandleSignOut} to=\"/landing\" />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Name = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Row>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>Name</Form.Label>\r\n            <Form.Control\r\n              type=\"name\"\r\n              placeholder=\"Enter name\"\r\n              defaultValue={props.firstName}\r\n              id=\"firstname\"\r\n              onChange={(e) => props.setFirstName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            style={{ backgroundColor: \"white\" }}\r\n            as={Col}\r\n          >\r\n            <Form.Label style={{ backgroundColor: \"white\" }}>\r\n              Surname\r\n            </Form.Label>\r\n            <Form.Control\r\n              type=\"surname\"\r\n              placeholder=\"Enter surname\"\r\n              defaultValue={props.lastName}\r\n              onChange={(e) => props.setLastName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Email = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter new email\"\r\n            onChange={(e) => props.setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Enter Password\"\r\n            onChange={(e) => props.setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Password = (props) => {\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <div className=\"center\">\r\n          <h5>\r\n            <b>Follow the email instructions to reset your password.</b>\r\n          </h5>\r\n        </div>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter Email\"\r\n            onChange={(e) => props.setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Location = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Town</Form.Label>\r\n          <Form.Control\r\n            type=\"address\"\r\n            placeholder=\"Town\"\r\n            defaultValue={props.town}\r\n            onChange={(e) => {\r\n              props.setTown(e.target.value);\r\n            }}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Country</Form.Label>\r\n          <Form.Control\r\n            type=\"address\"\r\n            placeholder=\"Country\"\r\n            defaultValue={props.country}\r\n            onChange={(e) => {\r\n              props.setCountry(e.target.value);\r\n            }}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Region</Form.Label>\r\n          <Form.Control\r\n            type=\"address\"\r\n            placeholder=\"Region\"\r\n            defaultValue={props.region}\r\n            onChange={(e) => props.setRegion(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        {props.signedUpForPTS ? <Form.Group className=\"mb-3\">\r\n            <PostcodeValidatorFormGroup\r\n            postcode={props.postcode}\r\n            setPostcode={props.setPostcode} \r\n            country={props.country}\r\n            validPostcode={props.validPostcode}\r\n            setValidPostcode={props.setValidPostcode}\r\n            />\r\n        </Form.Group> : null}\r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SubAccounts = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [sub, setSub] = useState([]);\r\n  const [subPassword, setSubPassword] = useState(\"\");\r\n\r\n  const handleClickOpen = (sub) => {\r\n    setOpen(true);\r\n    setSub(sub);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleDeleteAccount = () => {\r\n    var masterCollection;\r\n    switch (props.profile.type) {\r\n      case \"business_admin\":\r\n        masterCollection = \"business_users\";\r\n        break;\r\n      case \"academic_admin\":\r\n        masterCollection = \"academic_users\";\r\n        break;\r\n      case \"farm_admin\":\r\n        masterCollection = \"farm_users\";\r\n        break;\r\n      case \"household_admin\":\r\n        masterCollection = \"household_users\";\r\n        break;\r\n    }\r\n\r\n    var data = {\r\n      masterCollection: masterCollection,\r\n      uid: props.uid,\r\n      email: sub.email,\r\n      password: subPassword,\r\n    };\r\n    props.deleteSubAccount(data);\r\n    handleClose();\r\n  };\r\n\r\n\r\n// const RestaurantName = (props) => {\r\n//     return (\r\n//       <div>\r\n//         <Form>\r\n//           <Form.Row>\r\n//             <Form.Group\r\n//               className=\"mb-3\"\r\n//               style={{ backgroundColor: \"white\" }}\r\n//               as={Col}\r\n//             >\r\n//               <Form.Label style={{ backgroundColor: \"white\" }}>Restaurant Name</Form.Label>\r\n//               <Form.Control\r\n//                 type=\"name\"\r\n//                 placeholder=\"Enter name\"\r\n//                 defaultValue={props.restaurantName}\r\n//                 id=\"restaurantName\"\r\n//                 onChange={(e) => props.setRestaurantName(e.target.value)}\r\n//               />\r\n//             </Form.Group>\r\n//           </Form.Row>\r\n//         </Form>\r\n//       </div>\r\n//     );\r\n// //   };\r\n\r\n\r\n//   const RegulatoryBody = (props) => {\r\n//     return (\r\n//       <div>\r\n//         <Form>\r\n//           <Form.Row>\r\n//             <Form.Group\r\n//               className=\"mb-3\"\r\n//               style={{ backgroundColor: \"white\" }}\r\n//               as={Col}\r\n//             >\r\n//               <Form.Label style={{ backgroundColor: \"white\" }}>Regulatory Body</Form.Label>\r\n//               <Form.Control\r\n//                 type=\"name\"\r\n//                 placeholder=\"Enter Name of Regulatory Body\"\r\n//                 defaultValue={props.regulatoryBody}\r\n//                 id=\"regulatoryBody\"\r\n//                 onChange={(e) => props.setRegulatoryBody(e.target.value)}\r\n//               />\r\n//             </Form.Group>\r\n//           </Form.Row>\r\n//         </Form>\r\n//       </div>\r\n//     );\r\n//   };\r\n\r\n\r\n  // const RegulatoryBodyID = (props) => {\r\n  //   return (\r\n  //     <div>\r\n  //       <Form>\r\n  //         <Form.Row>\r\n  //           <Form.Group\r\n  //             className=\"mb-3\"\r\n  //             style={{ backgroundColor: \"white\" }}\r\n  //             as={Col}\r\n  //           >\r\n  //             <Form.Label style={{ backgroundColor: \"white\" }}>Regulatory Body ID</Form.Label>\r\n  //             <Form.Control\r\n  //               type=\"name\"\r\n  //               placeholder=\"Enter Regulatory Body ID\"\r\n  //               defaultValue={props.regulatoryBodyID}\r\n  //               id=\"regulatoryBodyID\"\r\n  //               onChange={(e) => props.setRegulatoryBodyID(e.target.value)}\r\n  //             />\r\n  //           </Form.Group>\r\n  //         </Form.Row>\r\n  //       </Form>\r\n  //     </div>\r\n  //   );\r\n  // };\r\n\r\n  // const Cuisine = (props) => {\r\n  //   return (\r\n  //     <div>\r\n  //       <Form>\r\n  //         <Form.Row>\r\n  //           <Form.Group\r\n  //             className=\"mb-3\"\r\n  //             style={{ backgroundColor: \"white\" }}\r\n  //             as={Col}\r\n  //           >\r\n  //             <Form.Label style={{ backgroundColor: \"white\" }}>Cuisine</Form.Label>\r\n  //             <Form.Control\r\n  //               type=\"name\"\r\n  //               placeholder=\"Enter Cuisine\"\r\n  //               defaultValue={props.cuisine}\r\n  //               id=\"cuisine\"\r\n  //               onChange={(e) => props.setCuisine(e.target.value)}\r\n  //             />\r\n  //           </Form.Group>\r\n  //         </Form.Row>\r\n  //       </Form>\r\n  //     </div>\r\n  //   );\r\n  // };\r\n\r\n\r\n  // const RestaurantDescription = (props) => {\r\n  //   return (\r\n  //     <div>\r\n  //       <Form>\r\n  //         <Form.Row>\r\n  //           <Form.Group\r\n  //             className=\"mb-3\"\r\n  //             style={{ backgroundColor: \"white\" }}\r\n  //             as={Col}\r\n  //           >\r\n  //             <Form.Label style={{ backgroundColor: \"white\" }}>Restaurant Description</Form.Label>\r\n  //             <Form.Control\r\n  //               type=\"name\"\r\n  //               placeholder=\"Enter Restaurant Description\"\r\n  //               defaultValue={props.restaurantDescription}\r\n  //               id=\"restaurantDescription\"\r\n  //               onChange={(e) => props.setRestaurantDescription(e.target.value)}\r\n  //             />\r\n  //           </Form.Group>\r\n  //         </Form.Row>\r\n  //       </Form>\r\n  //     </div>\r\n  //   );\r\n  // };\r\n  \r\n\r\n  if (props.subAccounts !== null && props.subAccounts !== undefined)\r\n    var subs = Object.values(props.subAccounts);\r\n\r\n  return (\r\n    <div>\r\n      <Form>\r\n        <FormGroup className=\"mb-3\">\r\n          <Form.Label>\r\n            <Heading priority=\"3\" text=\"Sub Accounts\" />\r\n          </Form.Label>\r\n          <ListGroup>\r\n            {subs?.map((sub, index) => (\r\n              <ListGroup.Item\r\n                action\r\n                key={index}\r\n                as=\"li\"\r\n                className=\"d-flex justify-content-between align-items-start\"\r\n                onClick={() => handleClickOpen(sub)}\r\n              >\r\n                <div className=\"ms-2 me-auto\">\r\n                  <div className=\"fw-bold\">{sub.name}</div>\r\n                  {sub.email}\r\n                </div>\r\n                <Badge variant=\"primary\" pill>\r\n                  {sub.role}\r\n                </Badge>\r\n              </ListGroup.Item>\r\n            ))}\r\n          </ListGroup>\r\n        </FormGroup>\r\n        <Divider />\r\n        <FormGroup className=\"mb-3\">\r\n          <Form.Label>\r\n            <Heading priority=\"3\" text=\"Create Sub Account\" />\r\n          </Form.Label>\r\n          <Form.Row className=\"mb-3\">\r\n            <Form.Group\r\n              className=\"mb-3\"\r\n              style={{ backgroundColor: \"white\" }}\r\n              as={Col}\r\n            >\r\n              <Form.Label style={{ backgroundColor: \"white\" }}>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"name\"\r\n                placeholder=\"Enter Name\"\r\n                value={props.subFirstName}\r\n                onChange={(e) => props.setSubFirstName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group\r\n              className=\"mb-3\"\r\n              style={{ backgroundColor: \"white\" }}\r\n              as={Col}\r\n            >\r\n              <Form.Label style={{ backgroundColor: \"white\" }}>\r\n                Surname\r\n              </Form.Label>\r\n              <Form.Control\r\n                type=\"surname\"\r\n                placeholder=\"Enter Surname\"\r\n                value={props.subLastName}\r\n                onChange={(e) => props.setSubLastName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n          </Form.Row>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter Email\"\r\n              value={props.subEmail}\r\n              onChange={(e) => props.setSubEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              value={props.subPassword}\r\n              onChange={(e) => props.setSubPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Role</Form.Label>\r\n            <Form.Control\r\n              type=\"role\"\r\n              placeholder=\"Enter Role\"\r\n              value={props.subRole}\r\n              onChange={(e) => props.setSubRole(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </FormGroup>\r\n      </Form>\r\n      <Dialog onClose={handleClose} open={open} maxWidth=\"xs\" fullWidth>\r\n        <DialogTitle>\r\n          Delete '{sub.email}' account?\r\n          <IconButton\r\n            aria-label=\"close\"\r\n            onClick={handleClose}\r\n            sx={{\r\n              position: \"absolute\",\r\n              right: 8,\r\n              top: 8,\r\n              color: (theme) => theme.palette.grey[500],\r\n            }}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Form.Group>\r\n            <Form.Label>Sub Account Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              onChange={(e) => setSubPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <SubButton\r\n            styling=\"blue\"\r\n            text=\"Delete Account\"\r\n            onClick={handleDeleteAccount}\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n    authError: state.auth.authError,\r\n    profile: state.firebase.profile,\r\n    // data: state.data.getData,\r\n    postcodeData: state.data.getData,\r\n    data: state.firestore.data.SubAccounts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    resetPassword: (creds) => dispatch(resetPassword(creds)),\r\n    updateEmail: (creds) => dispatch(updateEmail(creds)),\r\n    updateProfile: (users) => dispatch(updateProfile(users)),\r\n    signOut: () => dispatch(signOut()),\r\n    createMapData: (product) => dispatch(createMapData(product)),\r\n    createSubAccount: (creds) => dispatch(createSubAccount(creds)),\r\n    deleteSubAccount: (creds) => dispatch(deleteSubAccount(creds)),\r\n    getFirestoreData: (data) => dispatch(getFirestoreData(data)),\r\n    changeConsumerPostcode: (consumer) => dispatch(changeConsumerPostcode(consumer)),\r\n    getConsumerPostcode: (uid) => dispatch(getConsumerPostcode(uid)),\r\n  };\r\n};\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    var masterCollection;\r\n    switch (props.profile.type) {\r\n      case \"business_admin\":\r\n        masterCollection = \"business_users\";\r\n        break;\r\n      case \"academic_admin\":\r\n        masterCollection = \"academic_users\";\r\n        break;\r\n      case \"farm_admin\":\r\n        masterCollection = \"farm_users\";\r\n        break;\r\n      case \"household_admin\":\r\n      default:\r\n        masterCollection = \"household_users\";\r\n        break;\r\n    }\r\n    if (!props.auth.uid) return [];\r\n    return [\r\n      {\r\n        collection: masterCollection,\r\n        doc: props.auth.uid,\r\n        subcollections: [{ collection: \"sub_accounts\" }],\r\n        storeAs: \"SubAccounts\",\r\n      },\r\n    ];\r\n  })\r\n)(Settings);\r\n","import React, { useState } from \"react\";\n\nimport \"./Mob.css\";\nimport { PageWrap } from \"../../SubComponents/PageWrap\";\nimport { SubButton } from \"../../SubComponents/Button\";\nimport { Dropdown } from \"../../SubComponents/Dropdown\";\nimport { submitNotification } from \"../../lib/Notifications\";\n\nimport Divider from \"@mui/material/Divider\";\nimport { Form } from \"react-bootstrap\";\n\nimport { connect } from \"react-redux\";\nimport { createResearchData } from \"../../../store/actions/dataActions\";\n\nfunction Questionnaire(props) {\n  const [sixteenPlus, setSixteenPlus] = useState(Boolean);\n  const [arrangement, setArrangement] = useState(\"\");\n  const [ages, setAges] = useState(\"\");\n  const [buildingType, setBuildingType] = useState(\"\");\n  const [shopAt, setShopAt] = useState(\"\");\n  const [shopPerWeek, setShopPerWeek] = useState(\"\");\n\n  const [complete, setComplete] = useState(false);\n\n  function HandleSubmit() {\n    var data = {\n      uid: props.auth.uid,\n      upload: {\n        sixteenPlus: sixteenPlus,\n        arrangement: arrangement,\n        ages: ages,\n        buildingType: buildingType,\n        shopAt: shopAt,\n        shopPerWeek: shopPerWeek,\n      },\n    };\n    props.createResearchData(data);\n    submitNotification(\n      \"Thanks!\",\n      \"By answering this questionnaire you have helped us conduct our research on how to arrange the food system in a more sustainable way!\"\n    );\n    setComplete(true);\n  }\n\n  //data for dropdown\n  const dropdown = {\n    shops: [\n      \"Aldi\",\n      \"Asda\",\n      \"Lidl\",\n      \"M&S\",\n      \"Sainsbury's\",\n      \"Tesco\",\n      \"Waitrose\",\n      \"Other\",\n    ],\n  };\n\n  return (\n    <PageWrap header=\"Questionnaire\" subtitle=\"\" goTo=\"/settings\">\n      <Form>\n        <div key=\"inline-radio\" className=\"mb-3\">\n          <Form.Group>\n            <Form.Label>Are you 16 years old or above?</Form.Label>\n            <Form.Check\n              type=\"radio\"\n              inline\n              label=\"Yes\"\n              name=\"16 or above\"\n              id=\"yes\"\n              onClick={(e) => setSixteenPlus(true)}\n            />\n            <Form.Check\n              type=\"radio\"\n              inline\n              label=\"No\"\n              name=\"16 or above\"\n              id=\"no\"\n              onClick={(e) => setSixteenPlus(false)}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>What is your current living arrangement?</Form.Label>\n            <Form.Check\n              label=\"I live alone\"\n              name=\"living arrangement\"\n              type=\"radio\"\n              id=\"alone\"\n              onClick={(e) => setArrangement(e.target.id)}\n            />\n            <Form.Check\n              label=\"I live with family\"\n              name=\"living arrangement\"\n              type=\"radio\"\n              id=\"family\"\n              onClick={(e) => setArrangement(e.target.id)}\n            />\n            <Form.Check\n              label=\"Mixed residence\"\n              name=\"living arrangement\"\n              type=\"radio\"\n              id=\"mixed\"\n              onClick={(e) => setArrangement(e.target.id)}\n            />\n          </Form.Group>\n          {arrangement === \"family\" ? (\n            <Form.Group>\n              <Form.Label>\n                Are there any children under 16 in your household?\n              </Form.Label>\n              <Form.Check\n                label=\"Yes\"\n                name=\"Ages in household\"\n                type=\"radio\"\n                id=\"Living with under 16's\"\n                onClick={(e) => setAges(e.target.id)}\n              />\n              <Form.Check\n                label=\"No\"\n                name=\"Ages in household\"\n                type=\"radio\"\n                id=\"16+ household\"\n                onClick={(e) => setAges(e.target.id)}\n              />\n            </Form.Group>\n          ) : null}\n\n          <Divider variant=\"middle\" />\n\n          <Form.Group>\n            <Form.Label>What is your building type?</Form.Label>\n            <Form.Check\n              inline\n              label=\"Flat\"\n              name=\"building type\"\n              type=\"radio\"\n              id=\"flat\"\n              onClick={(e) => setBuildingType(e.target.id)}\n            />\n            <Form.Check\n              inline\n              label=\"House\"\n              name=\"building type\"\n              type=\"radio\"\n              id=\"house\"\n              onClick={(e) => setBuildingType(e.target.id)}\n            />\n            <Form.Check\n              inline\n              label=\"Other\"\n              name=\"building type\"\n              type=\"radio\"\n              id=\"other\"\n              onClick={(e) => setBuildingType(e.target.id)}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\">\n            <Form.Label>\n              Where do you go shopping for your groceries?\n            </Form.Label>\n            <Dropdown\n              id=\"shopAt\"\n              styling=\"grey\"\n              data={shopAt}\n              function={(e) => {\n                setShopAt(e);\n              }}\n              items={dropdown.shops}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>\n              How often do you go shopping for groceries per week?\n            </Form.Label>\n            <Form.Check\n              label=\"1 or 2 visits\"\n              name=\"how often\"\n              type=\"radio\"\n              id=\"1 or 2 visits\"\n              onClick={(e) => setShopPerWeek(e.target.id)}\n            />\n            <Form.Check\n              label=\"3 or more visits\"\n              name=\"how often\"\n              type=\"radio\"\n              id=\"3 or more visits\"\n              onClick={(e) => setShopPerWeek(e.target.id)}\n            />\n            <Form.Check\n              label=\"Weekends only\"\n              name=\"how often\"\n              type=\"radio\"\n              id=\"Weekends only\"\n              onClick={(e) => setShopPerWeek(e.target.id)}\n            />\n          </Form.Group>\n        </div>\n      </Form>\n      <div className=\"success\">{complete ? <p>Thanks!</p> : null}</div>\n      <div className=\"center\">\n        <SubButton\n          styling=\"green\"\n          text=\"Submit\"\n          onClick={(e) => {\n            HandleSubmit();\n          }}\n        />\n      </div>\n    </PageWrap>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createResearchData: (data) => dispatch(createResearchData(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Questionnaire);\n","import React from \"react\";\nimport \"./Pages.css\"\nimport styled from \"styled-components\";\nimport { Row, Col, Card } from \"react-bootstrap\";\n\nfunction NotFound() {\n    return (\n        <React.Fragment>\n        <Row className=\"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found\">\n        <Col className=\"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2\" xs={12}></Col>\n        <Col className=\"mt-5 pt-5\" xs={12}></Col>\n          <Col className=\"\" xs={12} lg={4}></Col>\n                  <Col className=\" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0\" xs={12} lg={4}>\n                    <CardStyle>\n      \n                  <Card>\n                <Card.Body>\n                   <Card.Text className=\"text-center\">\n                   <h1 className=\"page-not-found\">404 - Page Not Found</h1>\n                 <h1 className=\"not-found-message\">The page you were looking for does not exist.</h1>\n                   </Card.Text>\n                  </Card.Body>\n              </Card>\n                    </CardStyle>\n      \n                  </Col>\n                  <Col className=\"mt-5 pt-5\" xs={12} lg={4}></Col>\n                  <Col className=\"mt-5 pt-5\" xs={12}></Col>\n            <Col className=\"mt-5 pt-5\" xs={12}></Col>\n              </Row>\n          </React.Fragment>\n      \n      \n        );\n      }\n      \n      const CardStyle = styled.div`\n      .card{\n        color: rgb(59, 59, 59);\n        background-color: rgb(238, 238, 238);\n        border: none;\n        border-radius:5px;\n        padding:70px 0 50px 0;\n      }\n      \n      .card-body{\n          height:200px;\n      }\n\n      `\n      \n\nexport default NotFound;\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport \"../../App.css\";\nimport \"./Pages.css\"\nimport styled from \"styled-components\";\nimport { Row, Col, Form, Button, Card } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport { resetPassword } from '../../store/actions/authActions';\n\nclass ForgotPassword extends Component {\n\n  state ={\n    email: \"\"\n  }\n\n  handleChange = (e) => {\n    this.setState({\n        [e.target.id]: e.target.value\n    })\n  }\n\n  handleSubmit = (e) => {\n      e.preventDefault();\n      this.props.resetPassword(this.state)\n\n  }\n\n  render(){\n    const { authError, auth } = this.props;\n    if(auth.uid) return <Redirect to='/account'/>\n    \n    return (\n      <React.Fragment>\n  <Row className=\"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex frg-pass\">\n  <Col className=\"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2\" xs={12}></Col>\n  <Col className=\"mt-5 pt-5\" xs={12}></Col>\n    <Col className=\"\" xs={12} lg={4}></Col>\n            <Col className=\" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0\" xs={12} lg={4}>\n              <CardStyle>\n\n            <Card>\n          <Card.Body>\n             <Card.Text>\n            \n             <FormStyle>\n              <h1 className=\"text-center\">Reset Password</h1>\n              <Form onSubmit={this.handleSubmit}>\n              <Form.Group>\n                <Form.Label>Email</Form.Label>\n                <Form.Control type=\"email\" id=\"email\" placeholder=\"Email\" required onChange={this.handleChange}/>\n              </Form.Group>\n              <Form.Group controlId=\"formActions\">\n              <Button variant=\"dark\" type=\"submit\" >\n                Reset Password\n              </Button>\n              </Form.Group>\n              </Form>\n              <p className=\"text-center rmb-pass\"> \n\n              <Link to=\"/login\" className=\"remember-password\">I remember my password.</Link>\n              </p>\n              <p className=\"text-center no-acc\">Not got an account? <Link to=\"/signup\" className=\"register\">Click here</Link> to sign up today!</p>\n              <div className=\"auth-error\">{authError ? <p> {authError}</p> : null}</div>\n              </FormStyle>\n             </Card.Text>\n            </Card.Body>\n        </Card>\n              </CardStyle>\n\n            </Col>\n            <Col className=\"mt-5 pt-5\" xs={12} lg={4}></Col>\n            <Col className=\"mt-5 pt-5\" xs={12}></Col>\n      <Col className=\"mt-5 pt-5\" xs={12}></Col>\n        </Row>\n    </React.Fragment>\n\n\n);\n}\n}\n\nconst FormStyle = styled.div`\n    form{\n      margin:auto;\n        padding:10px;\n      width:100%;\n\n    }\n\n    input{\n      border: 1px solid #62680a;\n    }\n\n    .btn-dark{\n      background-color:#071850;\n      color:whitesmoke;\n      border: 1px solid #03091d;\n      float:right;\n\n      &:hover{\n        background-color: #030d2b;\n        border: 1px solid #03091d;\n      }\n\n      &:active{\n        background-color: #030d2b;\n        border: 1px solid #03091d;\n      }\n    }\n\n`\n\nconst CardStyle = styled.div`\n.card{\n  color: rgb(59, 59, 59);\n  background-color: rgb(238, 238, 238);\n  border: none;\n  border-radius:5px;\n  padding:10px 0 10px 0;\n}\n\n`\n\n\nconst mapStateToProps = (state) => {\n  return{\n      authError: state.auth.authError,\n      auth: state.firebase.auth\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return{\n      resetPassword: (creds) => dispatch(resetPassword(creds))\n  }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ForgotPassword);\n","export default __webpack_public_path__ + \"static/media/fr_positive-planet.8257fa0d.jpg\";","export default __webpack_public_path__ + \"static/media/pts_plate_notebook.fd4f56df.png\";","export default __webpack_public_path__ + \"static/media/pts-banner.a6e618cb.png\";","export default __webpack_public_path__ + \"static/media/stfcfoodnetwork.8c8f186f.png\";","import React, { useState, useEffect } from \"react\";\nimport { SubButton } from \"../../../SubComponents/Button\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport \"../UserAccount.css\";\n\nimport positivePlanet from \"../../../../images/fr_positive-planet.jpg\";\nimport pTSNotebook from \"../../../../images/pts_plate_notebook.png\";\nimport pTSBanner from \"../../../../images/pts-banner.png\";\nimport sTFCFoodNetwork from \"../../../../images/stfcfoodnetwork.png\";\n\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport Countdown from \"react-countdown\";\nimport { connect } from \"react-redux\";\n\nfunction PTSCountdown() {\n  return (\n    <Card className=\"countdown-card\">\n      <Countdown className=\"countdown\" date=\"2022-06-30T23:59:59\"></Countdown>\n      <span className=\"label\">days : hrs : mins : secs</span>\n    </Card>\n  );\n}\n\nfunction PlanToSave(props) {\n  const [button, setButton] = useState(false);\n  const [link, setLink] = useState(\"/meal-plan\");\n  const handleButton = () => {\n    if (props.profile.buildingFunction === \"Households\" || \"Personal\") {\n      setButton(true);\n    } else {\n      setButton(false);\n    }\n    if (props.profile.isConsumer) {\n      setLink(\"/meal-plan\");\n    } else {\n      setLink(\"cons-auth\");\n    }\n  };\n\n  useEffect(() => {\n    handleButton();\n  });\n\n  return (\n    <>\n      <PageWrap header=\"The Plan to Save Campaign\" goTo=\"/account\">\n        <PTSCountdown />\n        <div className=\"disclaimer\">\n          <p>\n            <b>NOTE:</b>This is part of the 'Fail to Plan, Plan to Fail'\n            campaign. Click 'Plan to Save' to express interest in reserving food\n            items from local sources, this countdown is representative of our\n            target timeline for deploying the plan to save and coordinating food\n            consumption between consumers and their local farmers.\n          </p>\n        </div>\n        <div className=\"container\">\n          <img className=\"large-img\" src={pTSNotebook} alt=\"\" />\n          <div className=\"img-overlay blue\">\n            <h2>How Does It Work?</h2>\n          </div>\n        </div>\n        <div className=\"pts-p-div\">\n          <p className=\"pts-p\">\n            If you can reserve your fresh food, local farmers can plan better in\n            their food production to meet your need in the most sustainable way.\n            By signing up to the Plan to Save campaign and reserving your\n            weekly, fortnightly and monthly fresh food requirements, we will\n            take the responsibility to identify local farmers around you or\n            encourage the set up of local farmers to supply your reservation,\n            ensuring the supply of nutritious food all year round.\n          </p>\n        </div>\n        {props.profile.buildingFunction === \"Households\" || \"Personal\" ? (\n          <div className=\"center\">\n            <SubButton\n              text=\"Start your plan now!\"\n              goTo=\"/meal-plan\"\n              styling=\"green\"\n            />\n          </div>\n        ) : null}\n        <a href=\"https://intellidigest.com/services/food-system-sustainability/food-waste-tracker/plan-to-save/\">\n          <img\n            className=\"large-img\"\n            src={pTSBanner}\n            alt=\"Plan to Save promotional banner\"\n          />\n        </a>\n      </PageWrap>\n      <div className=\"support\">\n        <h4>Supported By:</h4>\n      </div>\n      <Row style={{ backgroundColor: \"white\" }}>\n        <Col>\n          <img\n            className=\"small-img\"\n            src={sTFCFoodNetwork}\n            alt=\"STFC Food Network\"\n          />\n        </Col>\n        <Col>\n          <img\n            className=\"small-img\"\n            src={positivePlanet}\n            alt=\"Positive Planet\"\n          />\n        </Col>\n      </Row>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  };\n};\n\nexport default connect(mapStateToProps)(PlanToSave);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport \"../Pages.css\";\nimport styled from \"styled-components\";\nimport { Row, Col, Form, Button, Card } from \"react-bootstrap\";\nimport { updatePassword } from \"../../../store/actions/authActions\";\n\nclass ChangePassword extends Component {\n  state = {\n    password: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.updatePassword(this.state);\n  };\n\n  render() {\n    const { auth, authError } = this.props;\n    if (!auth.uid) return <Redirect to=\"/login\" />;\n\n    return (\n      <React.Fragment>\n        <Row className=\"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex change-password\">\n          <Col className=\"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2\" xs={12}></Col>\n          <Col className=\"mt-5 pt-5\" xs={12}></Col>\n          <Col className=\"\" xs={12} lg={4}></Col>\n          <Col\n            className=\" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0\"\n            xs={12}\n            lg={4}\n          >\n            <CardStyle>\n              <Card>\n                <Card.Body>\n                  <Card.Text>\n                    <FormStyle>\n                      <div className=\"text-center\"></div>\n                      <h1 className=\"text-center\">Change Password</h1>\n                      <Form onSubmit={this.handleSubmit}>\n                        <Form.Group>\n                          <Form.Label>New Password</Form.Label>\n                          <Form.Control\n                            type=\"password\"\n                            id=\"password\"\n                            placeholder=\"New Password\"\n                            required\n                            onChange={this.handleChange}\n                          />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formActions\">\n                          <Button variant=\"dark\" type=\"submit\">\n                            Change Password\n                          </Button>\n                        </Form.Group>\n                      </Form>\n                      <p className=\"text-center back-to-acc\">\n                        <Link to=\"/account\" className=\"cancel\">\n                          Cancel\n                        </Link>\n                      </p>\n                      <div className=\"auth-error\">\n                        {authError ? <p> {authError}</p> : null}\n                      </div>\n                    </FormStyle>\n                  </Card.Text>\n                </Card.Body>\n              </Card>\n            </CardStyle>\n          </Col>\n          <Col className=\"mt-5 pt-5\" xs={12} lg={4}></Col>\n          <Col className=\"mt-5 pt-5\" xs={12}></Col>\n          <Col className=\"mt-5 pt-5\" xs={12}></Col>\n        </Row>\n      </React.Fragment>\n    );\n  }\n}\n\nconst FormStyle = styled.div`\n  form {\n    margin: auto;\n    padding: 10px;\n    width: 100%;\n  }\n\n  input {\n    border: 1px solid #62680a;\n  }\n\n  .btn-dark {\n    background-color: #071850;\n    color: whitesmoke;\n    border: 1px solid #03091d;\n    float: right;\n\n    &:hover {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n\n    &:active {\n      background-color: #030d2b;\n      border: 1px solid #03091d;\n    }\n  }\n`;\n\nconst CardStyle = styled.div`\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 10px 0 10px 0;\n  }\n`;\n\nconst mapStateToProps = (state) => {\n  return {\n    authError: state.auth.authError,\n    auth: state.firebase.auth,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    updatePassword: (creds) => dispatch(updatePassword(creds)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChangePassword);\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { MapContainer, TileLayer, CircleMarker, Tooltip } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport MarkerClusterGroup from \"react-leaflet-markercluster\";\r\nimport \"react-leaflet-markercluster/dist/styles.min.css\";\r\nimport \"./Map.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { PageWrap } from \"../../SubComponents/PageWrap\";\r\n\r\nimport { getMapData } from \"../../../store/actions/dataActions\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\n//Map component\r\nconst Map = (props) => {\r\n  const [locationstate, setLocation] = useState([]);\r\n\r\n  //handle data from firebase\r\n  useEffect(() => {\r\n    setLocation([]);\r\n    if (props.data !== null && props.data !== undefined) {\r\n      updateMap();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.data]);\r\n\r\n  //Handle data from firebase\r\n  const updateMap = async () => {\r\n    var mapData = Object.values(props.data);\r\n\r\n    var locationArray = [];\r\n    mapData.forEach((doc) => {\r\n      var index = locationArray.findIndex((x) => x.location === doc.location);\r\n\r\n      var obj = {\r\n        foodWasteWeight: doc.foodWasteWeight,\r\n        location: doc.location,\r\n        coords: doc.coords,\r\n        users: 1,\r\n      };\r\n\r\n      //If location does not exist, add to array, if exists, add to location total weight\r\n      if (index === -1) {\r\n        locationArray.push(obj);\r\n      } else {\r\n        locationArray[index].foodWasteWeight += doc.foodWasteWeight;\r\n        locationArray[index].users += 1;\r\n      }\r\n    });\r\n\r\n    locationArray.forEach((doc) => {\r\n      try {\r\n        var obj = {\r\n          lat: doc.coords[0],\r\n          lng: doc.coords[1],\r\n          location: doc.location,\r\n          users: doc.users,\r\n          foodWasteWeight: doc.foodWasteWeight,\r\n        };\r\n        setLocation((oldArray) => [...oldArray, obj]);\r\n      } catch (err) {\r\n        //console.log(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  //Marker colours\r\n  //const large = { color: \"#ffffff\", fillColor: \"#ec7063\", fillOpacity: 0.5 };\r\n  const medium = { color: \"#ffffff\", fillColor: \"#f5b041\", fillOpacity: 0.5 };\r\n  const small = { color: \"#ffffff\", fillColor: \"#58d68d\", fillOpacity: 0.5 };\r\n\r\n  //Map Marker\r\n  function MapMarker(props) {\r\n    //Handle Marker Color based on users\r\n    var color;\r\n    if (props.users <= 10) {\r\n      color = small;\r\n      // } else if (props.foodWasteWeight <= 100) {\r\n      //   color = medium;\r\n    } else {\r\n      color = medium;\r\n    }\r\n\r\n    //If only 1 user, or many users\r\n    var _users = \"User\";\r\n    if (props.users > 1) _users = \"Users\";\r\n\r\n    return (\r\n      <CircleMarker\r\n        center={[props.lat, props.lng]}\r\n        pathOptions={color}\r\n        radius={18}\r\n      >\r\n        <Tooltip>\r\n          {props.location}: {props.users} {_users}\r\n        </Tooltip>\r\n      </CircleMarker>\r\n    );\r\n  }\r\n\r\n  //Cluster Marker\r\n  const createClusterCustomIcon = function (cluster) {\r\n    var children = cluster.getAllChildMarkers();\r\n    var sum = 0;\r\n\r\n    children.forEach((child) => {\r\n      sum += child._tooltip.options.children[2];\r\n    });\r\n\r\n    //Color based on no of users\r\n    var c = \" \";\r\n    if (sum < 10) {\r\n      c += \"small\";\r\n      // } else if (sum < 100) {\r\n      //   c += \"medium\";\r\n    } else {\r\n      c += \"medium\";\r\n    }\r\n\r\n    return L.divIcon({\r\n      html: `<b>${sum}</b>`,\r\n      className: \"marker-cluster-custom\" + c,\r\n      iconSize: L.point(40, 40, true),\r\n    });\r\n  };\r\n\r\n  //Redirect if not logged in\r\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\r\n  return (\r\n    <PageWrap header=\"Users Map\" goTo=\"/account\">\r\n      <MapContainer\r\n        className=\"map-data\"\r\n        center={[0, 0]}\r\n        zoom={1.4}\r\n        minZoom={1.4}\r\n        maxZoom={12}\r\n        scrollWheelZoom={true}\r\n        maxBounds={[\r\n          [84.865782, -179.632962],\r\n          [-84.865782, 199.335822],\r\n        ]}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> IntelliDigest - iTracker'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <MarkerClusterGroup\r\n          iconCreateFunction={createClusterCustomIcon}\r\n          polygonOptions={{\r\n            weight: 2,\r\n            opacity: 1,\r\n            fillOpacity: 0.5,\r\n            smoothFactor: 20,\r\n          }}\r\n          showCoverageOnHover={true}\r\n          maxClusterRadius={50}\r\n        >\r\n          {locationstate.map(\r\n            ({ lat, lng, foodWasteWeight, location, users }, index) => (\r\n              <MapMarker\r\n                key={index}\r\n                lat={lat}\r\n                lng={lng}\r\n                foodWasteWeight={foodWasteWeight}\r\n                location={location}\r\n                users={users}\r\n              />\r\n            )\r\n          )}\r\n        </MarkerClusterGroup>\r\n      </MapContainer>\r\n    </PageWrap>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  // console.log(state);\r\n  return {\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n    // data: state.data.getData,\r\n    data: state.firestore.data.mapData,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getMapData: (product) => dispatch(getMapData(product)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect((props) => {\r\n    if (!props.auth) return [];\r\n    return [\r\n      {\r\n        collection: \"mapData\",\r\n        storeAs: \"mapData\",\r\n      },\r\n    ];\r\n  })\r\n)(Map);\r\n","import React from \"react\";\n\nfunction ArrowIcon() {\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"17\"\n\t\t\theight=\"17\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 17 17\"\n\t\t>\n\t\t\t<path\n\t\t\t\tfill=\"#3A3939\"\n\t\t\t\td=\"M8.497 12.5L1.573 5.746l13.857.009L8.497 12.5z\"\n\t\t\t></path>\n\t\t</svg>\n\t);\n}\n\nexport default ArrowIcon;\n","import React from \"react\";\nimport \"./Paginator.css\";\nimport ArrowIcon from \"../../icons/ArrowIcon\";\nimport { useFormik } from \"formik\";\n\nfunction Paginator() {\n\t// const currentPage=1\n\tconst resultPageForm = useFormik({\n\t\tinitialValues: {\n\t\t\tpageNumber: \"\",\n\t\t},\n\t\tonSubmit: (values) => {\n\t\t\tconsole.log(values);\n\t\t},\n\t});\n\n\tconst goToPreviousPage = (value) => {\n\t\t// function to fetch previoius page\n\t};\n\tconst goToNextPage = (value) => {\n\t\t// function to fetch nex page\n\t};\n\n\treturn (\n\t\t<div className=\"paginator\">\n\t\t\t<button\n\t\t\t\tonClick={goToPreviousPage}\n\t\t\t\tclassName=\"paginatorBtn paginatorBtn-left\"\n\t\t\t>\n\t\t\t\t<ArrowIcon />\n\t\t\t</button>\n\t\t\t<form\n\t\t\t\tonSubmit={resultPageForm.handleSubmit}\n\t\t\t\tclassName=\" paginator_form\"\n\t\t\t\taction=\"\"\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tid=\"pageNumber\"\n\t\t\t\t\tname=\"pageNumber\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tplaceholder=\"1\"\n\t\t\t\t\tonChange={resultPageForm.handleChange}\n\t\t\t\t\tvalue={resultPageForm.values.pageNumber}\n\t\t\t\t></input>\n\t\t\t\t<button type=\"submit\" className=\" paginator_goBtn paginatorBtn \">\n\t\t\t\t\tGO\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<button\n\t\t\t\tonClick={goToNextPage}\n\t\t\t\tclassName=\"paginatorBtn paginatorBtn-right\"\n\t\t\t>\n\t\t\t\t<ArrowIcon />\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nexport default Paginator;\n","import React from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport { sendToUser } from \"../../../../../../../store/actions/dataActions\";\nimport SendIcon from '@mui/icons-material/Send';\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\nimport { editPurchaseStatus } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction SendItemIcon(props) {\n\n // console.log(\"to inventory ==> \", props.food)\n  const handleSelect = async () => {\n    const data = {\n      uid: props.uid,\n      refID: props.refID,\n      status: \"IN PROGRESS\",\n      upload: {\n        cart: props.cart,\n        refID: props.refID,\n        status: \"IN PROGRESS\"\n      },\n    };\n    console.log(\">>>>>>>>>\", data)\n    props.sendToUser(data);\n    props.editPurchaseStatus(data)\n    submitNotification(\"Success\", \" Items has been sent to user!\");\n  };\n\n\n\n  return (\n    <>\n      <Tooltip title=\"send Item to User\">\n        <IconButton\n          aria-label=\"send Item to User\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleSelect();\n          }}\n        >\n          <SendIcon fontSize=\"50\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    sendToUser: (data) => dispatch(sendToUser(data)),\n    editPurchaseStatus: (data) => dispatch(editPurchaseStatus(data)),\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SendItemIcon);\n ","export const createRecipe = (recipe) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mySavedMeals\")\n      .add(recipe.upload)\n      .then((docRef) => {\n        // make the docId easily acsessible so that we can delete it later if we want.\n        getFirebase()\n          .firestore()\n          .collection(\"marketplace\")\n          .doc(uid)\n          .collection(\"mySavedMeals\")\n          .doc(docRef.id)\n          .set({ id: docRef.id }, { merge: true });\n        dispatch({ type: \"CREATE_RECIPE\", recipe });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_RECIPE_ERROR\", err });\n      });\n  };\n};\n\nexport const getRecipes = (recipe) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mySavedMeals\")\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_RECIPES\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_RECIPES_ERROR\", err });\n      });\n  };\n};\n\nexport const deleteSavedMeal = (recipe) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mySavedMeals\")\n      .doc(recipe.id)\n      .delete()\n      .then(() => dispatch({ type: \"DELETE_RECIPE\", recipe }))\n      .catch((err) => {\n        dispatch({ type: \"DELETE_RECIPE_ERROR\", err });\n      });\n  };\n};\n\nexport const editSavedMeal = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mySavedMeals\")\n      .doc(data.id)\n      .set(data.upload, { merge: true })\n      .then(() => console.log(\"successfully edited! \"))\n      .catch((err) => {\n        dispatch(console.log(\"Error editing document:\", err));\n      });\n  };\n};\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { editSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { editPurchaseItem } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\nfunction EditPurchaseForm(props) {\n  const [cart, setCart] = useState(props.cart);\n\n  const handleSubmit = () => {\n    const data = {\n      id: props.id,\n      upload: {\n        cartList: cart,\n      },\n    };\n    props.editPurchaseItem(data);\n    submitNotification(\"Success\", \" Item has been edited!\");\n\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n\n      {cart.map((item, i) => (\n        <div className=\"form\" key={i}>\n          <Form.Group>\n            <Form.Label>Edit Items</Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"data\"\n              onChange={(e) => {\n                setCart([\n                  ...cart.slice(0, i),\n                  {\n                    data: e.target.value,\n                    quantity: item.quantity,\n                    measure: item.measure,\n                    price: 0,\n                    currency: \"$\",\n                  },\n                  ...cart.slice(i + 1, cart.length),\n                ]);\n              }}\n              defaultValue={item.data}\n            />\n          </Form.Group>\n         \n          <Form.Group>\n            <InputGroup>\n              <Form.Control\n                id=\"quantity\"\n                type=\"number\"\n                min=\"0\"\n                step=\".1\"\n                onChange={(e) => {\n                  setCart([\n                    ...cart.slice(0, i),\n                    {\n                      data: item.data,\n                      quantity: e.target.value,\n                      measure: item.measure,\n                      price: 0,\n                      supplier: \"\"\n                    },\n                    ...cart.slice(i + 1, cart.length),\n                  ]);\n                }}\n                defaultValue={item.quantity}\n              />\n              <Dropdown\n                id=\"measure\"\n                styling=\"grey dropdown-input\"\n                data={item.measure}\n                items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"cups\", \"pcs\"]}\n                function={(e) =>\n                  setCart([\n                    ...cart.slice(0, i),\n                    {\n                      data: item.data,\n                      quantity: item.quantity,\n                      measure: e,\n                      price: 0,\n                      supplier: \"\"\n                    },\n                    ...cart.slice(i + 1, cart.length),\n                  ])\n                }\n              />\n            </InputGroup>\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              id=\"price\"\n              onChange={(e) => {\n                setCart([\n                  ...cart.slice(0, i),\n                  {\n                    data: item.data,\n                    quantity: item.quantity,\n                    measure: item.measure,\n                    price: e.target.value,\n                    supplier: \"\"\n                  },\n                  ...cart.slice(i + 1, cart.length),\n                ]);\n              }}\n              placeholder=\"Enter price\"             />\n          </Form.Group>\n\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              id=\"supplier\"\n              onChange={(e) => {\n                setCart([\n                  ...cart.slice(0, i),\n                  {\n                    data: item.data,\n                    quantity: item.quantity,\n                    measure: item.measure,\n                    price: 0,\n                    supplier: e.target.value\n                  },\n                  ...cart.slice(i + 1, cart.length),\n                ]);\n              }}\n              placeholder=\"Name of supplier\"             />\n          </Form.Group>\n         \n         \n\n        </div>\n      ))}\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editPurchaseItem: (data) => dispatch(editPurchaseItem(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPurchaseForm);\n","import React from \"react\";\nimport { useId } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EditPurchaseForm from \"./EditPurchaseForm\";\n\nexport function EditPurchase({\n  cart,\n  id,\n  show,\n  setShow,\n  forceUpdate,\n  uid,\n}) {\n  const handleFormClose = () => setShow(false);\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Edit Meal</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {/* <p>bleeeeeeeeh</p> */}\n        <EditPurchaseForm\n          cart={cart}\n          id={id}\n          forceUpdate={forceUpdate}\n          handleFormClose={handleFormClose}\n          uid={uid}\n        />\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { EditPurchase } from \"./EditPurchase\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction EditPurchaseIcon(props) {\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"Edit\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <EditIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <EditPurchase\n        show={show}\n        setShow={setShow}\n        cart={props.cart}\n        id={props.id}\n        uid={props.uid}\n        forceUpdate={props.forceUpdate}\n      />\n    </>\n  );\n}\n\nexport default EditPurchaseIcon;\n","import React, { useRef, useEffect, useState } from \"react\";\n\nimport { connect } from \"react-redux\";\n\n// import Accordion from \"../SubComponents/Accordion\";\nimport { Accordion, Card, Table, ListGroup, ListGroupItem } from 'react-bootstrap';\n\nimport Paginator from \"../SubComponents/Paginator\";\n// import { v4 as uuidv4 } from \"uuid\";\nimport { getPurchaseData } from \"../../store/actions/dataActions\";\nimport SendItemIcon from \"./Account/Personal/Marketplace/MealPlanComp/Icons/SendItemIcon\";\nimport EditPurchaseIcon from \"./Account/Personal/Marketplace/MealPlanComp/Icons/EditPurchaseIcon\";\n\n\nfunction Admin(props) {\n\n\tconst [list, setList ] = useState([])\n\tconst [update, setUpdate] = useState(0);\n\n\t //trigger this when updating items\n\t const forceUpdate = () => {\n\t   setUpdate(update + 1);\n\t };\n\t\n\t//this sends data request\n\tuseEffect(() => {\n\t\tprops.getPurchaseData();\n\t\t//forceUpdate()\n\t  }, [props.data]);\n\n\n\t  const purchaseList = async () => {\n\t\t//clears the items array before each update- IMPORTANT\n\t\tsetList([]);\n\t\n\t\t//sets a new item object in the array for every document\n\t\tprops.purchase.forEach((doc) => {\n\t\t  // id is the docref for deletion\n\n\t\t  //array of object\n\t\t  var cartList = doc.cartList;\n\n\t\t  //array of object\n\t\t  var profile = doc.profile;\n\n\t\t  var date = doc.date;\n\t\t  var status = doc.status;\n\t\t  var id = doc.id;\n\t\t  var uid = doc.uid;\n\t\n\t\t  setList((list) => [\n\t\t\t...list,\n\t\t\t{\n\t\t\t  cartList: cartList,\n\t\t\t  profile: profile,\n\t\t\t  date: date,\n\t\t\t  status: status,\n\t\t\t  id: id,\n\t\t\t  uid: uid,\n\t\t\t},\n\t\t  ]);\n\t\t});\n\t  };\n\n\t  //this sends data request\n\tuseEffect(() => {\n\t\tpurchaseList()\n\t\tconsole.log(\"xxxxxxx>>>>>>>>>\", list)\n\t  }, [props.purchase]);\n\n\t\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t<header className=\"admin_header\"></header>\n\t\t\t<div className=\"adminCont\">\n\t\t\t\t<main className=\"admin_left_section\">\n\t\t\t\t{list.map((item, index) => (\n\t\t\t\t\t<Accordion key={`item${index}`}>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} eventKey=\"0\">\n\t\t\t\t\t\t\t\t<p>{item.date}</p>\n\t\t\t\t\t\t\t\t{item.profile.firstName} {item.profile.city},{item.profile.country}\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Table striped bordered hover>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>Product</th>\n\t\t\t\t\t\t\t\t\t\t<th>Quantity</th>\n\t\t\t\t\t\t\t\t\t\t<th>Measure</th>\n\t\t\t\t\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t\t\t\t\t\t\t<th>Supplier</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{item.cartList.map((cart) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={`cart${index}`}>\n\t\t\t\t\t\t\t\t\t\t<td>{cart.data}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{cart.quantity}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{cart.measure}</td>\n\t\t\t\t\t\t\t\t\t\t{ cart.price ? (<td>{cart.price}</td>):(<td>0</td>)}\n\t\t\t\t\t\t\t\t\t\t{ cart.supplier ? (<td>{cart.supplier}</td>):(<td></td>)}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<SendItemIcon \n\t\t\t\t\t\t\t\t\trefID={item.id}\n\t\t\t\t\t\t\t\t\tuid={item.uid}\n\t\t\t\t\t\t\t\t\tcart={item.cartList}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<EditPurchaseIcon \n\t\t\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\t\t\tuid={item.uid}\n\t\t\t\t\t\t\t\t\tcart={item.cartList}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<ListGroup className=\"list-group-flush\">\n\t\t\t\t\t\t\t\t<ListGroupItem>Status: {item.status}</ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem>Link To Email</ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem>Ref Number: {item.id}</ListGroupItem>\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Accordion>\n\t\t\t\t))}\t\n\t\t\t\t<div className=\"admin_paginator\">\n\t\t\t\t\t<Paginator />\n\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t\t<div className=\"admin_right_section\">\n\t\t\t\t\t<div className=\"admin_calendar_mock\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</>\n\t\t\n\t);\n\t// <div className=\"adminCont\">{/* {userRequests} */}</div>\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t  purchase: state.data.purchaseData,\n\t};\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n\treturn {\n\t  getPurchaseData: (item) => dispatch(getPurchaseData(item)),\n\t};\n  };\n  \nexport default connect(mapStateToProps, mapDispatchToProps)(Admin);\n  \n\n","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container, Modal, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton, SubButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst FoodWaste = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  \n\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (\n        !String(props.profile.type).includes(\"household\") &&\n        !String(props.profile.type).includes(\"user\")\n      ) {\n        console.log(props.profile.type);\n        // setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"Inedible\",\n    foodWasteWeight: 0,\n    weightType: \"Select Unit\",\n    carbsContent: 0,\n    carbsPerUnit: \"Select Unit\",\n    proteinContent: 0,\n    proteinPerUnit: \"Select Unit\",\n    fatContent: 0,\n    fatPerUnit: \"Select Unit\",\n    ghg: 0,\n    expiryDate: \"\",\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n    carbsMultiplier: 0,\n    proteinMultiplier: 0,\n    fatMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState({ ...defaultUpload });\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState({ ...defaultMultipliers });\n\n  useEffect(() => {\n    handleGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n    upload.carbsContent,\n    upload.carbsPerUnit,\n    upload.proteinContent,\n    upload.proteinPerUnit,\n    upload.fatContent,\n    upload.fatPerUnit,\n  ]);\n\n  //Update upload state\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  //Change multiplier values\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Weight Unit (Carbs, Fat, Protein)\n      case \"100g\":\n      case \"100ml\":\n        val = 0.01;\n        break;\n      case \"500g\":\n      case \"500ml\":\n        val = 0.002;\n        break;\n      case \"1l\":\n      case \"1kg\":\n        val = 0.001;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleGHGChange = () => {\n    // if (upload.edibleInedible === \"Edible\") {\n    //   var ghg = Number(\n    //     20 *\n    //       16.0424 *\n    //       multipliers.weightMultiplier *\n    //       upload.foodWasteWeight *\n    //       (0.01852 * multipliers.carbsMultiplier * upload.carbsContent +\n    //         0.01744 * multipliers.proteinMultiplier * upload.proteinContent +\n    //         0.04608 * multipliers.fatMultiplier * upload.fatContent)\n    //   );\n    // } else {\n    var ghg = Number(\n      upload.foodWasteWeight * multipliers.weightMultiplier * 2.5\n    );\n    // }\n    setUpload({\n      ...upload,\n      ghg: ghg,\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    //Setup data to be sent to generic create firestore function (TO BE RENAMED LATER)\n    //If sub account, use admin uid, if admin or personal use your own\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodWasteData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createFoodWasteData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food Waste successfully uploaded!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n  };\n\n  //Redirect if not loged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not a personal/household account\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    <PageWrap\n      header=\"Update Food Waste\"\n      subtitle=\"Upload Edible or Inedible Food Waste\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedible\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n          <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          />\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  const [showModal, setShow] = useState(true);\n\n  const handleClose = () => setShow(false);\n\n  if (props.upload.edibleInedible === \"Edible\") {\n    //setShow(true)\n    return (\n      <>\n      <Modal show={showModal} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Edible Waste</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <p>To add edible item to the food waste,</p>\n            <p>You need to add the item to your inventory </p>\n          </Modal.Body>\n        <Modal.Footer>\n        <SubButton\n              text=\"Go To Inventory\"\n              goTo=\"/meal-plan\"\n              styling=\"green\"\n            />\n        </Modal.Footer>\n      </Modal>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodWaste);","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container, Modal, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton, SubButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst FoodWaste = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  \n\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (\n        !String(props.profile.type).includes(\"household\") &&\n        !String(props.profile.type).includes(\"user\")\n      ) {\n        console.log(props.profile.type);\n        // setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"Inedible\",\n    foodWasteWeight: 0,\n    weightType: \"Select Unit\",\n    carbsContent: 0,\n    carbsPerUnit: \"Select Unit\",\n    proteinContent: 0,\n    proteinPerUnit: \"Select Unit\",\n    fatContent: 0,\n    fatPerUnit: \"Select Unit\",\n    ghg: 0,\n    expiryDate: \"\",\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n    carbsMultiplier: 0,\n    proteinMultiplier: 0,\n    fatMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState({ ...defaultUpload });\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState({ ...defaultMultipliers });\n\n  useEffect(() => {\n    handleGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n    upload.carbsContent,\n    upload.carbsPerUnit,\n    upload.proteinContent,\n    upload.proteinPerUnit,\n    upload.fatContent,\n    upload.fatPerUnit,\n  ]);\n\n  //Update upload state\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  //Change multiplier values\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Weight Unit (Carbs, Fat, Protein)\n      case \"100g\":\n      case \"100ml\":\n        val = 0.01;\n        break;\n      case \"500g\":\n      case \"500ml\":\n        val = 0.002;\n        break;\n      case \"1l\":\n      case \"1kg\":\n        val = 0.001;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleGHGChange = () => {\n    // if (upload.edibleInedible === \"Edible\") {\n    //   var ghg = Number(\n    //     20 *\n    //       16.0424 *\n    //       multipliers.weightMultiplier *\n    //       upload.foodWasteWeight *\n    //       (0.01852 * multipliers.carbsMultiplier * upload.carbsContent +\n    //         0.01744 * multipliers.proteinMultiplier * upload.proteinContent +\n    //         0.04608 * multipliers.fatMultiplier * upload.fatContent)\n    //   );\n    // } else {\n    var ghg = Number(\n      upload.foodWasteWeight * multipliers.weightMultiplier * 2.5\n    );\n    // }\n    setUpload({\n      ...upload,\n      ghg: ghg,\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    //Setup data to be sent to generic create firestore function (TO BE RENAMED LATER)\n    //If sub account, use admin uid, if admin or personal use your own\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodWasteData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createFoodWasteData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food Waste successfully uploaded!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n  };\n\n  //Redirect if not loged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not a personal/household account\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    <PageWrap\n      header=\"Update Edible Food Waste\"\n      subtitle=\"Upload Edible Food Waste\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          {/* <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedible\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup> */}\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n         \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={upload.currency}\n              function={(eventKey, e) => {\n                changeMultiplier(e);\n                updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n          \n          {/* <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          /> */}\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  const [showModal, setShow] = useState(true);\n\n  const handleClose = () => setShow(false);\n\n  if (props.upload.edibleInedible === \"Edible\") {\n    //setShow(true)\n    return (\n      <>\n       \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodWaste);\n","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container, Modal, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createGiftFoodData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton, SubButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst GiftFood = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  \n\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (\n        !String(props.profile.type).includes(\"household\") &&\n        !String(props.profile.type).includes(\"user\")\n      ) {\n        console.log(props.profile.type);\n        // setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"edible\",\n    foodWasteWeight: 0,\n    weightType: \"Select Unit\",\n    carbsContent: 0,\n    carbsPerUnit: \"Select Unit\",\n    proteinContent: 0,\n    proteinPerUnit: \"Select Unit\",\n    fatContent: 0,\n    fatPerUnit: \"Select Unit\",\n    ghg: 0,\n    expiryDate: \"\",\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n    carbsMultiplier: 0,\n    proteinMultiplier: 0,\n    fatMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState({ ...defaultUpload });\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState({ ...defaultMultipliers });\n\n  useEffect(() => {\n    handleGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n    upload.carbsContent,\n    upload.carbsPerUnit,\n    upload.proteinContent,\n    upload.proteinPerUnit,\n    upload.fatContent,\n    upload.fatPerUnit,\n  ]);\n\n  //Update upload state\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  //Change multiplier values\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Weight Unit (Carbs, Fat, Protein)\n      case \"100g\":\n      case \"100ml\":\n        val = 0.01;\n        break;\n      case \"500g\":\n      case \"500ml\":\n        val = 0.002;\n        break;\n      case \"1l\":\n      case \"1kg\":\n        val = 0.001;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleGHGChange = () => {\n    // if (upload.edibleInedible === \"Edible\") {\n    //   var ghg = Number(\n    //     20 *\n    //       16.0424 *\n    //       multipliers.weightMultiplier *\n    //       upload.foodWasteWeight *\n    //       (0.01852 * multipliers.carbsMultiplier * upload.carbsContent +\n    //         0.01744 * multipliers.proteinMultiplier * upload.proteinContent +\n    //         0.04608 * multipliers.fatMultiplier * upload.fatContent)\n    //   );\n    // } else {\n    var ghg = Number(\n      upload.foodWasteWeight * multipliers.weightMultiplier * 2.5\n    );\n    // }\n    setUpload({\n      ...upload,\n      ghg: ghg,\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    //Setup data to be sent to generic create firestore function (TO BE RENAMED LATER)\n    //If sub account, use admin uid, if admin or personal use your own\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenGiftFoodData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createGiftFoodData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food had been added to your gifted items!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n  };\n\n  //Redirect if not loged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not a personal/household account\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    <PageWrap\n      header=\"Gifted Food\"\n      subtitle=\"Upload Gifted Food Info\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          {/* <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedible\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup> */}\n<FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n          \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={upload.currency}\n              function={(eventKey, e) => {\n                changeMultiplier(e);\n                updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n          \n          {/* <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          /> */}\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  const [showModal, setShow] = useState(true);\n\n  const handleClose = () => setShow(false);\n\n  if (props.upload.edibleInedible === \"Edible\") {\n    //setShow(true)\n    return (\n      <>\n       \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createGiftFoodData: (product) => dispatch(createGiftFoodData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GiftFood);\n","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst FoodLoss = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (!String(props.profile.type).includes(\"farm\")) {\n        setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"Edible\",\n    foodName: \"\",\n    foodWasteWeight: 0,\n    weightType: \"Select Unit\",\n    expiryDate: \"\",\n    ghg: 0,\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState(defaultUpload);\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState(defaultMultipliers);\n\n  //Update foodWasteCost and ghg when edibleInedible or foodWasteWeight or weightType changes\n  useEffect(() => {\n    handleCostGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n  ]);\n\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleCostGHGChange = () => {\n    setUpload({\n      ...upload,\n      ghg: Number(upload.foodWasteWeight * multipliers.weightMultiplier * 2.5),\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodLossData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createFoodWasteData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food Loss successfully uploaded!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n  };\n\n  //Redirect if not logged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not an academic user\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    <PageWrap\n      header=\"Update Food Waste\"\n      subtitle=\"Upload Edible or Inedible Food Waste\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Food Name\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"foodName\"\n              onChange={(e) => {\n                updateStateValue(e);\n              }}\n              value={upload.foodName}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedibe\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n          <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          />\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    return (\n      <>\n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>\n            Expiry Date\n          </Form.Label>\n          <Form.Control\n            id=\"expiryDate\"\n            placeholder=\"DD/MM/YYYY\"\n            onChange={(e) => {\n              props.updateStateValue(e);\n            }}\n            value={props.upload.expiryDate}\n          />\n        </FormGroup>\n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.projectName !== \"\" &&\n      props.upload.foodName !== \"\" &&\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.projectName !== \"\" &&\n      props.upload.foodName !== \"\" &&\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodLoss);\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst FoodWaste = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (!String(props.profile.type).includes(\"business\")) {\n        setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"Edible\",\n    foodWasteWeight: 0,\n    weightType: \"Select Unit\",\n    expiryDate: \"\",\n    ghg: 0,\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n    notes: \"\",\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState(defaultUpload);\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState(defaultMultipliers);\n\n  //Reference to Notes input\n  const notesRef = useRef(null);\n\n  //Update foodWasteCost and ghg when edibleInedible or foodWasteWeight or weightType changes\n  useEffect(() => {\n    handleCostGHGChange();\n    console.log(upload.currency);\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n  ]);\n\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleCostGHGChange = () => {\n    setUpload({\n      ...upload,\n      ghg: Number(upload.foodWasteWeight * multipliers.weightMultiplier * 2.5),\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodWasteData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createFoodWasteData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food Waste successfully uploaded!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n    notesRef.current.value = \"\";\n  };\n\n  //Redirect if not logged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not a business user\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    <PageWrap\n      header=\"Update Food Waste\"\n      subtitle=\"Upload Edible or Inedibe Food Waste\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedibe\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n          <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          />\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>Notes</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={3}\n              id=\"notes\"\n              ref={notesRef}\n              onChange={(e) => {\n                updateStateValue(e);\n              }}\n            />\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    return (\n      <>\n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>\n            Expiry Date\n          </Form.Label>\n          <Form.Control\n            id=\"expiryDate\"\n            placeholder=\"DD/MM/YYYY\"\n            onChange={(e) => {\n              props.updateStateValue(e);\n            }}\n            value={props.upload.expiryDate}\n          />\n        </FormGroup>\n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodWaste);\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  startData,\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Select } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\n//Typeahead documentation/examples found at: https://ericgio.github.io/react-bootstrap-typeahead/\nimport { AsyncTypeahead } from \"react-bootstrap-typeahead\";\n\nconst FoodIntake = (props) => {\n  const defaultUpload = {\n    meal: \"Select Meal\",\n    foodName: \"\",\n    local: true,\n    eatingIn: true,\n  };\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [options, setOptions] = useState([]);\n\n  //API CALL\n  const handleSearch = (query) => {\n    setIsLoading(true);\n    fetch(\"https://web-wrggqo5tiq-lz.a.run.app/completion\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\",\n      headers: {\n        //'Content-Type': 'application/json',\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: `food=${query}`,\n    })\n      .then((resp) =>\n        resp.json().then((data) => ({ data: data, status: resp.status }))\n      )\n      .then((res) => {\n        const options = res.data.map((i) => ({\n          food_id: i.food_id,\n          name: i.name,\n        }));\n\n        setOptions(options);\n        setIsLoading(false);\n      });\n    setUpload({ ...upload, foodName: query });\n  };\n\n  const filterBy = () => true;\n\n  //Upload state\n  const [upload, setUpload] = useState(defaultUpload);\n\n  const updateStateValue = (e) => {\n    setUpload({ ...upload, [e.target.id]: e.target.value });\n  };\n\n  const handleCheckboxTick = (e) => {\n    setUpload({ ...upload, [e.target.name]: !upload[[e.target.name]] });\n  };\n\n  const handleFoodIntakeSubmit = () => {\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodIntakeData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        name: props.profile.firstName + \" \" + props.profile.lastName,\n        ...upload,\n      },\n    };\n    props.createFoodWasteData(data);\n    submitNotification(\"Success\", \"Food Diary successfully updated!\");\n    setUpload(defaultUpload);\n    foodNameRef.current.clear();\n  };\n\n  const foodNameRef = useRef();\n\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  return (\n    <PageWrap\n      header=\"Update Food Intake\"\n      subtitle=\"Upload Food Intake\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>Meal</Form.Label>\n            <Select\n              id=\"meal\"\n              function={(e) => {\n                updateStateValue(e);\n              }}\n              value={upload.meal}\n              placeholder=\"Please select a meal\"\n              items={[\"Breakfast\", \"Lunch\", \"Dinner\", \"Other\"]}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Food Name\n            </Form.Label>\n            <AsyncTypeahead\n              filterBy={filterBy}\n              id=\"foodName\"\n              isLoading={isLoading}\n              labelKey=\"name\"\n              minLength={3}\n              onSearch={handleSearch}\n              onChange={(e) => {\n                setUpload({ ...upload, foodName: e[0].name });\n              }}\n              options={options}\n              placeholder=\"Enter a food name\"\n              value={upload.foodName}\n              ref={foodNameRef}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Local or Non-Local\n            </Form.Label>\n            <Form.Check\n              name=\"local\"\n              type=\"radio\"\n              label=\"Local\"\n              checked={upload.local}\n              onChange={(e) => {\n                handleCheckboxTick(e);\n              }}\n            />\n            <Form.Check\n              name=\"local\"\n              type=\"radio\"\n              label=\"Non-Local\"\n              onChange={(e) => {\n                handleCheckboxTick(e);\n              }}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Eating In or Eating Out\n            </Form.Label>\n            <Form.Check\n              name=\"eatingIn\"\n              type=\"radio\"\n              label=\"Eating In\"\n              checked={upload.eatingIn}\n              onChange={(e) => {\n                handleCheckboxTick(e);\n              }}\n            />\n            <Form.Check\n              name=\"eatingIn\"\n              type=\"radio\"\n              label=\"Eating Out\"\n              onChange={(e) => {\n                handleCheckboxTick(e);\n              }}\n            />\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodIntakeSubmit={handleFoodIntakeSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.meal !== \"Select Meal\" && props.upload.foodName !== \"\") {\n    return (\n      <FormGroup className=\"mb-3\">\n        <Divider />\n        <DefaultButton\n          text=\"Update\"\n          styling=\"green\"\n          onClick={() => {\n            props.handleFoodIntakeSubmit();\n          }}\n        />\n      </FormGroup>\n    );\n  } else {\n    return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodIntake);\n","export default __webpack_public_path__ + \"static/media/tip1.04d20bae.jpg\";","export default __webpack_public_path__ + \"static/media/tip2.238da9ad.jpg\";","export default __webpack_public_path__ + \"static/media/tip3.3622e4fa.jpg\";","export default __webpack_public_path__ + \"static/media/tip4.a95f5cac.jpg\";","export default __webpack_public_path__ + \"static/media/tip5.ee47f4f7.jpg\";","import React, { Component } from \"react\";\nimport { PageWrap } from \"../SubComponents/PageWrap\";\nimport Divider from \"@mui/material/Divider\";\nimport tip1 from \"../../images/tip1.jpg\";\nimport tip2 from \"../../images/tip2.jpg\";\nimport tip3 from \"../../images/tip3.jpg\";\nimport tip4 from \"../../images/tip4.jpg\";\nimport tip5 from \"../../images/tip5.jpg\";\n\nclass FoodReduction extends Component {\n  render() {\n    return (\n      <PageWrap\n        header=\"Reduction Tips\"\n        subtitle=\"Food Waste Reduction Tips\"\n        goTo=\"/account\"\n      >\n        <div\n          style={{\n            width: \"100%\",\n            textAlign: \"center\",\n          }}\n        >\n          <p style={{ textAlign: \"left\", padding: \"10px 2% 0 2%\" }}>\n            Food waste is a bigger problem than many people realize.\n            <br />\n            <br />\n            In fact, nearly one-third of all food produced in the world is\n            discarded or wasted for various reasons. That equates to nearly{\" \"}\n            <b>1.3 billion tons</b> every year.\n            <br />\n            <br />\n            Not surprisingly, industrialized countries like the United States\n            waste more food than developing nations. In 2010, the average\n            American generated about 219 pounds (99 kg) of food waste, according\n            to the US Environmental Protection Agency (EPA).\n            <br />\n            <br />\n            While you might not think food waste affects you, think again.\n            <br />\n            <br />\n            Tossing edible food doesn’t just waste money. Discarded food is sent\n            to landfills, where it rots and produces methane gas, which is the\n            second most common greenhouse gas. In other words, throwing out your\n            food contributes to climate change.\n            <br />\n            <br />\n            It wastes a huge amount of water, too. According to the World\n            Resources Institute, 24% of all the water used for agriculture is\n            lost through food waste every year. That’s 45 trillion gallons\n            (about 170 trillion liters).\n            <br />\n            <br /> These things will help to reduce food waste:-{\" \"}\n          </p>\n          <Divider variant=\"middle\" />\n          <p style={{ textAlign: \"left\", padding: \"10px 2% 0 2%\" }}>\n            {\" \"}\n            <h3>1. Shop Smart:-</h3>{\" \"}\n            <img\n              src={tip1}\n              alt=\"tip1\"\n              className=\"img-fluid rounded fix-image\"\n            />{\" \"}\n            Most people tend to buy more food than they need. Though buying in\n            bulk may be convenient, research has shown that this shopping method\n            leads to more food waste. To avoid buying more food than you need,\n            make frequent trips to the grocery store every few days rather than\n            doing a bulk shopping trip once a week. Make a point to use up all\n            the food you purchased during the last trip to the market before\n            buying more groceries. Additionally, try making a list of items that\n            you need to buy and stick to that list. This will help you reduce\n            impulse buying and reduce food waste as well\n          </p>\n          <Divider variant=\"middle\" />\n          <p style={{ textAlign: \"left\", padding: \"10px 2% 0 2%\" }}>\n            {\" \"}\n            <h3>2. Store Food Correctly:-</h3>{\" \"}\n            <img\n              src={tip2}\n              alt=\"tip2\"\n              className=\"img-fluid rounded fix-image\"\n            />{\" \"}\n            Improper storage leads to a massive amount of food waste. According\n            to the Natural Resource Defense Council, about two-thirds of\n            household waste in the United Kingdom is due to food spoilage. Many\n            people are unsure how to store fruits and vegetables, which can lead\n            to premature ripening and, eventually, rotten produce. For instance,\n            potatoes, tomatoes, garlic, cucumbers and onions should never be\n            refrigerated. These items should be kept at room temperature.\n            Separating foods that produce more ethylene gas from those that\n            don’t is another great way to reduce food spoilage. Ethylene\n            promotes ripening in foods and could lead to spoilage.\n          </p>\n          <Divider variant=\"middle\" />\n          <p style={{ textAlign: \"left\", padding: \"10px 2% 0 2%\" }}>\n            <h3>3. Learn to Preserve:-</h3>{\" \"}\n            <img\n              src={tip3}\n              alt=\"tip3\"\n              className=\"img-fluid rounded fix-image\"\n            />{\" \"}\n            While you might think fermenting and pickling are new fads, food\n            preservation techniques like these have been used for thousands of\n            years. Pickling, a type of preservation method using brine or\n            vinegar, may have been used as far back as 2400 BC. Pickling,\n            drying, canning, fermenting, freezing and curing are all methods you\n            can use to make food last longer, thus reducing waste. Not only will\n            these methods shrink your carbon footprint, they will save you money\n            as well. What’s more, most preservation techniques are simple and\n            can be fun. For example, canning an excess of ripe apples and\n            turning them into applesauce, or pickling fresh carrots from the\n            market will provide you with a delicious and long-lasting treat that\n            even kids will enjoy.\n          </p>\n          <Divider variant=\"middle\" />\n          <p style={{ textAlign: \"left\", padding: \"10px 2% 0 2%\" }}>\n            <h3>4. Don’t Be a Perfectionist:-</h3>{\" \"}\n            <img\n              src={tip4}\n              alt=\"tip4\"\n              className=\"img-fluid rounded fix-image\"\n            />{\" \"}\n            Did you know that rummaging through a bin of apples until you find\n            the most perfect-looking one contributes to food waste? Though\n            identical in taste and nutrition, so-called “ugly” fruits and\n            vegetables get passed up for produce that is more pleasing to the\n            eye. The consumer demand for flawless fruits and vegetables has led\n            major grocery chains to buy only picture-perfect produce from\n            farmers. This leads to tons of perfectly good food going to waste.\n            It’s such a big issue that major grocery chains like Walmart and\n            Whole Foods have started offering “ugly” fruits and vegetables at a\n            discount in an attempt to reduce waste. Do your part by choosing\n            slightly imperfect produce at the grocery store, or better yet,\n            directly from the farmer.\n          </p>\n          <Divider variant=\"middle\" />\n          <p style={{ textAlign: \"left\", padding: \"10px 2% 50px 2%\" }}>\n            <h3>5. Keep Your Fridge Clutter-Free:-</h3>{\" \"}\n            <img\n              src={tip5}\n              alt=\"tip5\"\n              className=\"img-fluid rounded fix-image\"\n            />{\" \"}\n            You’ve probably heard the saying, “out of sight, out of mind.” This\n            rings especially true when it comes to food. While having a\n            well-stocked fridge can be a good thing, an overly filled fridge can\n            be bad when it comes to food waste. Help avoid food spoilage by\n            keeping your fridge organized so you can clearly see foods and know\n            when they were purchased. A good way to stock your fridge is by\n            using the FIFO method, which stands for “first in, first out.” For\n            example, when you buy a new carton of berries, place the newer\n            package behind the old one. This helps ensure that older food gets\n            used, not wasted.\n          </p>\n        </div>\n      </PageWrap>\n    );\n  }\n}\n\nexport default FoodReduction;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport \"../../index.css\";\n\nclass InfoTable extends Component {\n  renderTableData() {\n    return (\n      this.props.users &&\n      this.props.users.map((student, index) => {\n        const {\n          id,\n          email,\n          firstName,\n          lastName,\n          address,\n          city,\n          country,\n          postcode,\n          buildingFunction,\n        } = student; //destructuring\n        return (\n          <tr key={id}>\n            <td>{id}</td>\n            <td>\n              {firstName} {lastName}\n            </td>\n            <td>{email}</td>\n            <td>{buildingFunction}</td>\n            <td>\n              {address}, {city}, {country}, {postcode}\n            </td>\n          </tr>\n        );\n      })\n    );\n  }\n\n  renderTableHeader() {\n    return;\n  }\n  render() {\n    if (!this.props.auth.uid) return <Redirect to=\"/login\" />;\n    if (\"user\" === this.props.profile.type) return <Redirect to=\"/\" />;\n    return (\n      <div style={{ paddingBottom: \"50px\", paddingTop: \"70px\" }}>\n        <h1 id=\"title\">\n          The People who have signed in -{\" \"}\n          {this.props.users ? this.props.users.length : 0}\n        </h1>\n        <table id=\"students\">\n          <tbody>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>EMAIL</th>\n              <th>BUILDING FUNTION</th>\n              <th>ADDRESS</th>\n            </tr>\n            {this.renderTableData()}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  // console.log(state);\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n    users: state.firestore.ordered.users,\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps),\n  firestoreConnect((props) => {\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: \"users\",\n        doc: props.auth.uid,\n      },\n    ];\n  })\n)(InfoTable);\n","import React, { useState } from 'react';\nimport {Link} from \"react-router-dom\"\n\nimport './ItemForm.css';\n\nconst ItemForm = (props) => {\n  const [enteredTitle, setEnteredTitle] = useState('');\n  const [enteredType, setEnteredType] = useState('');\n  const [enteredAmount, setEnteredAmount] = useState('');\n  const [enteredDate, setEnteredDate] = useState('');\n  const [enteredCode, setEnteredCode] = useState('');\n  // const [userInput, setUserInput] = useState({\n  //   enteredTitle: '',\n  //   enteredAmount: '',\n  //   enteredDate: '',\n  // });\n\n  const titleChangeHandler = (event) => {\n    setEnteredTitle(event.target.value);\n    // setUserInput({\n    //   ...userInput,\n    //   enteredTitle: event.target.value,\n    // });\n    // setUserInput((prevState) => {\n    //   return { ...prevState, enteredTitle: event.target.value };\n    // });\n  };\n\n  const codeChangeHandler = (event) => {\n    setEnteredCode(event.target.value);\n    // setUserInput({\n    //   ...userInput,\n    //   enteredTitle: event.target.value,\n    // });\n    // setUserInput((prevState) => {\n    //   return { ...prevState, enteredTitle: event.target.value };\n    // });\n  };\n\n  const typeChangeHandler = (event) => {\n    setEnteredType(event.target.value);\n    // setUserInput({\n    //   ...userInput,\n    //   enteredTitle: event.target.value,\n    // });\n    // setUserInput((prevState) => {\n    //   return { ...prevState, enteredTitle: event.target.value };\n    // });\n  };\n\n  const amountChangeHandler = (event) => {\n    setEnteredAmount(event.target.value);\n    // setUserInput({\n    //   ...userInput,\n    //   enteredAmount: event.target.value,\n    // });\n  };\n\n  const dateChangeHandler = (event) => {\n    setEnteredDate(event.target.value);\n    // setUserInput({\n    //   ...userInput,\n    //   enteredDate: event.target.value,\n    // });\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const expenseData = {\n      title: enteredTitle,\n      amount: enteredAmount,\n      date: new Date(enteredDate),\n      type: enteredType,\n      code: enteredCode\n    };\n\n    props.onSaveExpenseData(expenseData);\n    setEnteredTitle('');\n    setEnteredType('');\n    setEnteredAmount('');\n    setEnteredDate('');\n    setEnteredCode('');\n  };\n\n  return (<div>\n    <form onSubmit={submitHandler}>\n        <div className='new-item__control'>\n          <div className='item__actions'>\n          <h2 style={{fontWeight: 600, marginBottom: \"3.5%\"}}>Add a product</h2>\n          </div>\n          <label style={{marginBottom: \"0.25%\"}}>Name</label>\n          <input\n            type='text'\n            value={enteredTitle}\n            onChange={titleChangeHandler}\n          />\n          <label style={{marginTop: \"2%\", marginBottom: \"0.25%\"}}>Type</label>\n          <input\n            type='text'\n            value={enteredType}\n            onChange={typeChangeHandler}\n          />\n\n          <label style={{marginTop: \"2%\", marginBottom: \"0.25%\"}}>Post Code</label>\n          <input\n            type='text'\n            value={enteredCode}\n            onChange={codeChangeHandler}\n          />\n\n          <label style={{marginTop: \"2%\", marginBottom: \"0.25%\"}}>Amount</label>\n          <input\n            type='number'\n            min='0.01'\n            step='0.01'\n            value={enteredAmount}\n            onChange={amountChangeHandler}\n          />\n          <label style={{marginTop: \"2%\", marginBottom: \"0.25%\"}}>Date</label>\n          <input\n            type='date'\n            min='2019-01-01'\n            max='2022-12-31'\n            value={enteredDate}\n            onChange={dateChangeHandler}\n            style={{marginBottom: \"2.5%\"}}\n          />\n        </div>\n      <div  className='item__actions'>\n        <button style={{marginBottom: \"-1%\"}} type='submit'>Add Product</button>\n     </div>\n      \n  \n    </form>\n    <br/>\n    <Link to=\"/account\"><button type=\"button\">Back</button></Link></div>\n  \n\n  );\n};\n\nexport default ItemForm;\n","import React from 'react';\n\nimport ItemForm from './ItemForm';\nimport './NewItem.css';\n\nconst NewItem = (props) => {\n  const saveExpenseDataHandler = (enteredExpenseData) => {\n    const expenseData = {\n      ...enteredExpenseData,\n      id: Math.random().toString()\n    };\n    props.onAddE(expenseData);\n  };\n\n  return (\n    <div className='new-item'>\n      <ItemForm onSaveExpenseData={saveExpenseDataHandler} />\n    </div>\n  );\n};\n\nexport default NewItem;\n","import React from 'react';\n\nimport './ExpDate.css';\n\nconst ExpDate = (props) => {\n  const month = props.date.toLocaleString('en-US', { month: 'long' });\n  const day = props.date.toLocaleString('en-US', { day: '2-digit' });\n  const year = props.date.getFullYear();\n\n  return (\n    <div className='exp-date'>\n      <label>EXPIRY</label>\n      <div className='exp-date__month'>{month}</div>\n      <div className='exp-date__day'>{day}</div>\n      <div className='exp-date__year'>{year}</div>\n    </div>\n  );\n};\n\nexport default ExpDate;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = (props) => {\n  const classes = 'card ' + props.className;\n\n  return <div className={classes}>{props.children}</div>;\n};\n\nexport default Card;\n","import React from 'react';\n\nimport ExpiryDate from './ExpDate';\nimport Card from '../UI/Card';\nimport './Items.css';\nimport { BrowserView, MobileView } from 'react-device-detect';\n\nconst Items = (props) => {\n  return (\n    <>\n      <BrowserView>\n        <Card className='item'>\n          <div style={{height: \"7rem\"}}>\n            <ExpiryDate date={props.date} />\n            \n            <div className='item__description' style={{marginLeft: \"17.5%\", marginTop: \"-12.5%\"}}>\n              <label><b>Name: </b>{props.title.toUpperCase()}</label>\n              <label><b>Type: </b>{props.type}</label>\n              <label><b>Post code: </b>{props.code}</label>\n            </div>\n          \n\n            <div className='item__price' style={{width: \"10%\", marginLeft: \"85%\", marginTop: \"-100px\"}}>£{props.amount}</div>\n    \n            <button className=\"item-b\" style={{width: \"10%\", marginLeft: \"85%\", marginTop: \"5px\"}}>Buy</button>\n\n            </div>\n\n        </Card>\n      </BrowserView>\n\n      <MobileView>\n        <Card className='item'>\n          <div>\n            <ExpiryDate date={props.date} />\n            \n            <div className='item__description' style={{marginLeft: \"35%\", marginTop: \"-32.5%\"}}>\n            <label><b>Name: </b>{props.title.toUpperCase()}</label>\n              <label><b>Type: </b>{props.type}</label>\n              <label><b>Post code: </b>{props.code}</label>\n              <div className='item__price'>£{props.amount}</div>\n      \n              <button className=\"item-b\">Buy</button></div>\n          </div>\n\n        </Card>\n      </MobileView>\n    </>\n  );\n}\n\nexport default Items;\n","import React from 'react';\n\nimport './Label.css';\n\nconst Label = (props) => {\n\n\n  return (\n    <div className='Lbl'>\n\n        <label>My products</label>\n  \n\n    </div>\n  );\n};\n\nexport default Label;\n","import React, { useState } from 'react';\n\nimport Items from './Items';\nimport Card from '../UI/Card';\nimport Label from './Label';\nimport './Listing.css';\n\nconst Listing = (props) => {\n \n  \n\n  return (\n    <div>\n      <Card className='listings'>\n        <Label/>\n        \n        {props.items.map(e => ( <Items title={e.title} type={e.type} amount={e.amount} date={e.date} code={e.code}/>))}\n        \n      </Card>\n    </div>\n  );\n};\n\nexport default Listing;\n","import React, {useState, Component} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport { MobileView, BrowserView } from 'react-device-detect';\n\n// import NewItem from './components/NewItem/NewItem';\n// import Listing from './components/Expenses/Listing';\n\nimport NewItem from './NewItem/NewItem';\nimport Listing from './Expenses/Listing';\n\n\nconst Data = [\n  {\n    id: 'e1',\n    title: 'Minced beef',\n    amount: 4.12,\n    date: new Date(2021, 9, 14),\n    type: \"Meat\",\n    code: \"EH11 2AB\"\n  },\n  { id: 'e2', title: 'Carrots', amount: 9.49, date: new Date(2021, 12, 12), type: \"Vegetable\", code: \"EH1 2CA\"},\n  {\n    id: 'e3',\n    title: 'Sausage',\n    amount: 2.67,\n    date: new Date(2021, 9, 28),\n    type: \"Meat\",\n    code: \"EH9 2AB\"\n  },\n  {\n    id: 'e4',\n    title: 'Banana',\n    amount: 450,\n    date: new Date(2021, 5, 12),\n    type: \"Fruit\",\n    code: \"EH11 2AB\"\n\n  },\n];\n\n\nconst ProductListing = () => {\n  const [e, setE] = useState(Data);\n  const addEHandler = e => {\n    setE(prevE => {\n      return [e, ...prevE];\n    });\n  };\n\n  // return React.createElement(\n  //   'div',\n  //   {},\n  //   React.createElement('h2', {}, \"Let's get started!\"),\n  //   React.createElement(Expenses, { items: expenses })\n  // );\n\n  return (\n    <>\n      <MobileView>\n        <div style={{marginTop: \"20%\", marginBottom: \"20%\"}}>\n          <NewItem onAddE={addEHandler} />\n          <Listing items={e} />\n        </div>\n      </MobileView>\n\n      <BrowserView>\n        <div style={{marginTop: \"5%\", marginBottom: \"5%\"}}>\n          <NewItem onAddE={addEHandler} />\n          <Listing items={e} />\n        </div>\n      </BrowserView>\n    </>\n  );\n}\n\nexport default ProductListing;\n","import { Component } from \"react\";\nimport {\n  MobileView,\n  BrowserView,\n  isMobile,\n  isBrowser,\n} from \"react-device-detect\";\nimport { Divider, FormControlLabel } from \"@material-ui/core\";\nimport DropdownMenu from \"react-bootstrap/esm/DropdownMenu\";\nimport DropdownToggle from \"react-bootstrap/esm/DropdownToggle\";\nimport DropdownItem from \"react-bootstrap/esm/DropdownItem\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport {\n  Form,\n  Button,\n  Card,\n  Col,\n  Row,\n  InputGroup,\n  DropdownButton,\n  Dropdown,\n  Table,\n  Modal,\n  ButtonGroup,\n  ListGroup,\n  ListGroupItem,\n} from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport addNotification from \"react-push-notification\";\nimport moment from \"moment\";\n// import {ImCross} from \"react-icons/im\"\nimport {\n  startData,\n  createReserveItemsData,\n} from \"../../../store/actions/dataActions\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { fs } from \"../../../config/fbConfig\";\n\nclass ReserveItems extends Component {\n  state = {\n    uid: this.props.auth.uid,\n\n    item: \"\",\n    itemWeight: 0,\n    weightType: \"Select Unit\",\n    items: [],\n    fromDate: \"\",\n    toDate: \"\",\n    frequency: \"Select Frequency\",\n\n    formWidth: \"\",\n    dropdownWidth: \"\",\n\n    // showDevMessage: false,\n\n    submissionType: \"Reserve Items\",\n\n    submissionDay: moment().format(\"ddd\"),\n    submissionWeek: moment().format(\"W\"),\n    submissionMonth: moment().format(\"MMM\"),\n    submissionDate: moment().format(\"Do\"),\n    submissionYear: moment().format(\"YYYY\"),\n    submissionFullDate: moment().format(\"ddd MMM Do YYYY\"),\n\n    /*testReservationList: [\n            {resID: 1, itemList: [{name: \"Onion\", weight: \"200g\"}, {name: \"Pepper\", weight: \"250g\"}, {name: \"Beef\", weight: \"1kg\"}], fromDate: \"2022-06-01\", toDate: \"2022-09-01\", frequency: \"Weekly\"},\n            {resID: 2, itemList: [{name: \"Pork\", weight: \"750g\"}, {name: \"Cod\", weight: \"450g\"}], fromDate: \"2022-06-07\", toDate: \"2022-10-07\", frequency: \"Fortnightly\"},\n            {resID: 3, itemList: [{name: \"Apple\", weight: \"180g\"}, {name: \"Banana\", weight: \"190g\"}, {name: \"Pear\", weight: \"200g\"}, {name: \"Grapes\", weight: \"100g\"}], fromDate: \"2022-07-01\", toDate: \"2022-08-01\", frequency: \"Weekly\"}\n        ],*/\n    myReservations: [],\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  handleWeightUnitChange(text) {\n    this.setState({ weightType: text });\n  }\n\n  handleFreqChange(value) {\n    this.setState({\n      frequency: value,\n    });\n  }\n\n  isItemsEmpty(array) {\n    if (array.length === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  handleAddClick() {\n    this.setState({\n      itemWeight: 0,\n      weightType: \"Select Unit\",\n    });\n\n    this.setState((prevState) => ({\n      items: prevState.items.concat({\n        name: this.state.item,\n        weight: this.state.itemWeight + this.state.weightType,\n      }),\n    }));\n  }\n\n  // testItemList(){\n  //     console.log(this.state.items)\n  // }\n\n  clearForm = () => {\n    this.setState({\n      item: \"\",\n      itemWeight: 0,\n      weightType: \"Select Unit\",\n      items: [],\n      fromDate: \"\",\n      toDate: \"\",\n      frequency: \"Select Frequency\",\n      myReservations: [],\n    });\n    this.fetchMyReservationsData();\n  };\n\n  showNotification = () => {\n    addNotification({\n      // from react-push-notification\n      //could do if browser not native, if mobile native\n      title: \"Success!\",\n      message:\n        \"Thank you for reserving items, you have helped a farmer plan their harvest more sustainably. We will contact you by the end of January via email about your reservation.\",\n      backgroundTop: \"#9D5F1A\",\n      backgroundBottom: \"#EA9434\",\n      closeButton: \"Close\",\n      duration: 20000,\n    });\n  };\n\n  deleteReservation = (rID) => {\n    const newRes = this.state.myReservations.filter((res) => res.resID !== rID);\n    this.setState({ myReservations: newRes });\n    fs.collection(\"data\")\n      .doc(this.state.uid)\n      .collection(\"writtenFoodWasteData\")\n      .doc(rID)\n      .delete();\n  };\n\n  // testDeleteReservation = (rID) => {\n  //     const newRes = this.state.testReservationList.filter(res => res.resID !== rID);\n  //     this.setState({testReservationList: newRes});\n  // }\n\n  // testDeleteItem = (name, items) => {\n  //     const newItemList = items.filter(item => item.name !== name);\n  //     this.setState\n  // }\n\n  // Method below is what sends relevant form data to Firebase collection, 'createReserveItemsData' const is imported from 'dataActions.js' file in the 'store/actions/...' directory\n  // Similar methods used for other forms with relevant const imported from 'dataActions.js' file (e.g. 'createFoodWasteData' const used for Food Waste form submissions)\n\n  handleReserveItemSubmit = (e) => {\n    e.preventDefault();\n    this.setState({});\n    this.props.createReserveItemsData(this.state);\n  };\n\n  // =================================\n\n  // handleTestSubmission = (e) => {\n  //     const id = Math.floor(Math.random() * 10000) + 1\n\n  //     this.setState( (prevState) => ({\n  //         testReservationList: prevState.testReservationList.concat({resID: id, itemList: this.state.items, fromDate: this.state.fromDate, toDate: this.state.toDate, frequency: this.state.frequency})\n  //     }))\n  // }\n\n  // =================================\n\n  // Method below is what gathers relevant data from user's Firebase collection to be shown in the 'My Reservations' section. Data in Firebase is stored as collections of documents: relevant collection is iterated through and relevant pieces of info in each\n  // document (in this case FROMDATE, TODATE, etc.) is taken and used to populate the 'My Reservations' section with the user's own submissions from this form.\n  //\n  // Same technique is used for gathering chart data in all of the Chart files, and for the daily info tab in the FoodWaste.js file\n\n  fetchMyReservationsData = async () => {\n    fs.collection(\"data\")\n      .doc(this.state.uid)\n      .collection(\"writtenFoodWasteData\")\n      .get()\n      .then((snapshot) => {\n        snapshot.forEach((doc) => {\n          var st = doc.data().SUBMISSIONTYPE;\n\n          var il = doc.data().ITEMLIST;\n          var fd = doc.data().FROMDATE;\n          var td = doc.data().TODATE;\n          var freq = doc.data().FREQUENCY;\n\n          if (st === \"Reserve Items\") {\n            // console.log(doc.id);\n\n            this.setState((prevState) => ({\n              myReservations: prevState.myReservations.concat({\n                itemList: il,\n                fromDate: fd,\n                toDate: td,\n                frequency: freq,\n                resID: doc.id,\n              }),\n            }));\n          }\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n\n  // Similar to BrowserView & MobileView tags used elsewhere, here, 'isMobile' & 'isBrowser' booleans (also imported from 'react-device-detect' package) used to set certain elements of form as different values on browser & mobile\n  // Note: 'componentDidMount' method is for executing certain functions upon the page loading.\n\n  componentDidMount() {\n    this.fetchMyReservationsData();\n\n    if (isMobile) {\n      this.setState({ formWidth: \"90vw\", dropdownWidth: \"241px\" });\n    } else if (isBrowser) {\n      this.setState({ formWidth: \"783px\", dropdownWidth: \"610px\" });\n    }\n  }\n\n  render() {\n    const { data, auth } = this.props;\n\n    return (\n      <>\n        {/* <Modal show={this.state.showDevMessage} onHide={() => this.setState({showDevMessage: !this.state.showDevMessage})}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Note</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <p>This page is in the very early stages of development. If you have any suggestions\n                            on how to improve it, you can send them to us via the 'Contact Us' Page.\n                        </p>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={() => this.setState({showDevMessage: false})}>Close</Button>\n                    </Modal.Footer>\n                </Modal> */}\n\n        <div style={{ width: \"100%\", height: \"100%\" }}>\n          <h4\n            className=\"text-center\"\n            style={{\n              marginTop: \"5%\",\n              marginBottom: \"2.5%\",\n              paddingTop: \"8vh\",\n              fontWeight: 600,\n            }}\n          >\n            Plan, Reserve, Collect, Save\n          </h4>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\",\n              width: \"100%\",\n            }}\n          >\n            <Button\n              style={{\n                width: this.state.formWidth,\n                borderColor: \"#040335\",\n                backgroundColor: \"#040335\",\n              }}\n              as={Link}\n              to=\"/pts\"\n            >\n              Back\n            </Button>\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\",\n              width: \"100%\",\n              height: \"190%\",\n            }}\n          >\n            <Card\n              style={{\n                width: this.state.formWidth,\n                marginBottom: \"10vh\",\n                backgroundColor: \"#aab41e\",\n              }}\n            >\n              <Form className=\"form-layout\" style={{ padding: \"10px\" }}>\n                <h5\n                  className=\"text-center\"\n                  style={{\n                    margin: \"30px\",\n                    fontSize: \"15px\",\n                    fontWeight: \"600\",\n                  }}\n                >\n                  Plan, Reserve, Collect, Save\n                </h5>\n\n                <div>\n                  {/* For 'Select Items' input below, Autocomplete component is used rather than ordinary text field. Info on this (and possible future alternatives) found here: https://mui.com/components/autocomplete/ */}\n\n                  <div style={{ padding: \"0 10% 0 10%\" }}>Select Items</div>\n                  <BrowserView>\n                    <Form.Group\n                      style={{ padding: \"0 10% 0 10%\", display: \"flex\" }}\n                    >\n                      <Autocomplete\n                        // multiple\n                        freeSolo\n                        id=\"item\"\n                        options={foodOptions.map((option) => option.title)}\n                        style={{ width: \"100%\", backgroundColor: \"white\" }}\n                        size=\"small\"\n                        onInputChange={(e) => this.handleChange(e)}\n                        onChange={(e) =>\n                          this.setState({ item: e.target.textContent })\n                        }\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            placeholder=\"Enter Items\"\n                            variant=\"outlined\"\n                          />\n                        )}\n                      />\n                    </Form.Group>\n                  </BrowserView>\n\n                  <MobileView>\n                    <Form.Group\n                      style={{ padding: \"0 10% 0 10%\", display: \"flex\" }}\n                    >\n                      <Autocomplete\n                        // multiple\n                        freeSolo\n                        id=\"item\"\n                        options={foodOptions.map((option) => option.title)}\n                        style={{ width: \"70%\", backgroundColor: \"white\" }}\n                        size=\"small\"\n                        onInputChange={(e) => this.handleChange(e)}\n                        onChange={(e) =>\n                          this.setState({ item: e.target.textContent })\n                        }\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            label=\"Enter Items\"\n                            variant=\"outlined\"\n                          />\n                        )}\n                      />\n                    </Form.Group>\n                  </MobileView>\n\n                  <div style={{ padding: \"0 10% 0 10%\" }}>Weight / Volume</div>\n                  <Form.Group\n                    className=\"form-layout\"\n                    style={{\n                      padding: \"0 10% 0 10%\",\n                      display: \"flex\",\n                      justifyContent: \"space-around\",\n                    }}\n                  >\n                    <InputGroup>\n                      <Form.Control\n                        type=\"number\"\n                        id=\"itemWeight\"\n                        placeholder=\"Enter weight\"\n                        onChange={(e) => {\n                          this.handleChange(e);\n                        }}\n                        width=\"100%\"\n                        value={this.state.itemWeight}\n                      />\n\n                      <DropdownButton\n                        as={InputGroup.Append}\n                        variant=\"outline-secondary\"\n                        title={\n                          <span style={{ color: \"white\" }}>\n                            {this.state.weightType}\n                          </span>\n                        }\n                        id=\"wtdd\"\n                        style={{ backgroundColor: \"#040335\" }}\n                      >\n                        <Dropdown.Header>Weight (Solids)</Dropdown.Header>\n\n                        {/* as=\"button\" */}\n                        <DropdownItem as=\"button\" type=\"button\">\n                          <div\n                            onClick={(e) => {\n                              this.handleWeightUnitChange(e.target.textContent);\n                            }}\n                          >\n                            kg\n                          </div>\n                        </DropdownItem>\n\n                        {/* as=\"button\" */}\n                        <DropdownItem as=\"button\" type=\"button\">\n                          <div\n                            onClick={(e) => {\n                              this.handleWeightUnitChange(e.target.textContent);\n                            }}\n                          >\n                            g\n                          </div>\n                        </DropdownItem>\n\n                        {/* as=\"button\" */}\n                        <DropdownItem as=\"button\" type=\"button\">\n                          <div\n                            onClick={(e) => {\n                              this.handleWeightUnitChange(e.target.textContent);\n                            }}\n                          >\n                            oz\n                          </div>\n                        </DropdownItem>\n\n                        {/* as=\"button\" */}\n                        <DropdownItem as=\"button\" type=\"button\">\n                          <div\n                            onClick={(e) => {\n                              this.handleWeightUnitChange(e.target.textContent);\n                            }}\n                          >\n                            lbs\n                          </div>\n                        </DropdownItem>\n\n                        <Dropdown.Divider />\n\n                        <Dropdown.Header>Volume (Liquids)</Dropdown.Header>\n\n                        <DropdownItem as=\"button\" type=\"button\">\n                          <div\n                            onClick={(e) => {\n                              this.handleWeightUnitChange(e.target.textContent);\n                            }}\n                          >\n                            l\n                          </div>\n                        </DropdownItem>\n\n                        <DropdownItem as=\"button\" type=\"button\">\n                          <div\n                            onClick={(e) => {\n                              this.handleWeightUnitChange(e.target.textContent);\n                            }}\n                          >\n                            ml\n                          </div>\n                        </DropdownItem>\n                      </DropdownButton>\n                    </InputGroup>\n                  </Form.Group>\n\n                  <Form.Group\n                    className=\"form-layout\"\n                    style={{\n                      padding: \"0 10% 0 10%\",\n                      display: \"flex\",\n                      justifyContent: \"space-around\",\n                    }}\n                  >\n                    {this.state.item !== \"\" &&\n                    this.state.itemWeight !== 0 &&\n                    this.state.weightType !== \"Select Unit\" ? (\n                      <Button\n                        type=\"button\"\n                        style={{ width: \"50%\", backgroundColor: \"#040335\" }}\n                        onClick={() => this.handleAddClick()}\n                      >\n                        Add\n                      </Button>\n                    ) : (\n                      <Button\n                        type=\"button\"\n                        style={{ width: \"50%\" }}\n                        variant=\"secondary\"\n                        disabled\n                      >\n                        Add\n                      </Button>\n                    )}\n                  </Form.Group>\n\n                  <div style={{ padding: \"0 10% 0 10%\" }}>Selected Items</div>\n                  <div\n                    style={{\n                      overflowY: \"scroll\",\n                      height: \"85px\",\n                      width: \"80%\",\n                      marginLeft: \"10%\",\n                      backgroundColor: \"white\",\n                      marginBottom: \"10px\",\n                    }}\n                  >\n                    <ListGroup>\n                      <ListGroupItem\n                        style={{\n                          textAlign: \"center\",\n                          backgroundColor: \"rgb(13, 27, 92, 0.8)\",\n                          color: \"white\",\n                          width: \"100%\",\n                          fontWeight: 600,\n                          padding: \"0 1px 0 1px\",\n                          borderRadius: \"0px\",\n                        }}\n                      >\n                        Items Added\n                      </ListGroupItem>\n                    </ListGroup>\n                    <BrowserView>\n                      <Table striped bordered hover size=\"sm\">\n                        {/* <thead style={{textAlign: \"center\", backgroundColor: \"rgb(13, 27, 92, 0.8)\", color: \"white\", width: \"200%\"}}><b>Items Added</b></thead> */}\n                        <tbody>\n                          <tr>\n                            <th style={{ textAlign: \"center\", width: \"50%\" }}>\n                              <b>Item Name</b>\n                            </th>\n                            <th style={{ textAlign: \"center\", width: \"50%\" }}>\n                              <b>Weight / Volume</b>\n                            </th>\n                          </tr>\n                          {this.state.items.map((item) => (\n                            <tr>\n                              <th>{item.name}</th>\n                              <th>{item.weight}</th>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </Table>\n                    </BrowserView>\n\n                    <MobileView>\n                      <Table striped bordered hover size=\"sm\">\n                        {/* <thead style={{textAlign: \"center\", backgroundColor: \"rgb(13, 27, 92, 0.8)\", color: \"white\", width: \"200%\"}}><b>Items Added</b></thead> */}\n                        <tbody>\n                          <tr>\n                            <th style={{ textAlign: \"center\", width: \"50%\" }}>\n                              <b style={{ fontSize: \"85%\" }}>Item Name</b>\n                            </th>\n                            <th style={{ textAlign: \"center\", width: \"50%\" }}>\n                              <b style={{ fontSize: \"85%\" }}>Weight/Volume</b>\n                            </th>\n                          </tr>\n                          {this.state.items.map((item) => (\n                            <tr>\n                              <th>{item.name}</th>\n                              <th>{item.weight}</th>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </Table>\n                    </MobileView>\n                  </div>\n                  <ButtonGroup\n                    style={{\n                      width: \"80%\",\n                      marginLeft: \"10%\",\n                      marginTop: \"-10px\",\n                      marginBottom: \"10px\",\n                    }}\n                  >\n                    {!this.isItemsEmpty(this.state.items) ? (\n                      <Button\n                        style={{\n                          backgroundColor: \"#040335\",\n                          width: \"50%\",\n                          fontSize: \"75%\",\n                        }}\n                        onClick={() =>\n                          this.setState({\n                            items: this.state.items.filter(\n                              (item, index) =>\n                                index !== this.state.items.length - 1\n                            ),\n                          })\n                        }\n                      >\n                        Remove Last Item\n                      </Button>\n                    ) : (\n                      <Button\n                        variant=\"secondary\"\n                        style={{ width: \"50%\", fontSize: \"75%\" }}\n                        disabled\n                      >\n                        Remove Last Item\n                      </Button>\n                    )}\n\n                    {!this.isItemsEmpty(this.state.items) ? (\n                      <Button\n                        style={{\n                          backgroundColor: \"#040335\",\n                          width: \"50%\",\n                          fontSize: \"75%\",\n                        }}\n                        onClick={() => this.setState({ items: [] })}\n                      >\n                        Clear\n                      </Button>\n                    ) : (\n                      <Button\n                        variant=\"secondary\"\n                        style={{ width: \"50%\", fontSize: \"75%\" }}\n                        disabled\n                      >\n                        Clear\n                      </Button>\n                    )}\n                  </ButtonGroup>\n\n                  {/* For below, 'type=date' added to <Form.Control ... /> tag to allow date to be entered via a calendar pop-up, rather than just text */}\n\n                  <div style={{ padding: \"0 10% 0 10%\" }}>From</div>\n                  <Form.Group\n                    style={{\n                      padding: \"0 10% 0 10%\",\n                      display: \"flex\",\n                      justifyContent: \"space-around\",\n                    }}\n                  >\n                    <InputGroup>\n                      <Form.Control\n                        id=\"fromDate\"\n                        type=\"date\"\n                        min=\"2022-06-01\"\n                        placeholder=\"DD/MM/YYYY\"\n                        onChange={(e) => this.handleChange(e)}\n                        width=\"100%\"\n                        value={this.state.fromDate}\n                      />\n                    </InputGroup>\n                  </Form.Group>\n\n                  <div style={{ padding: \"0 10% 0 10%\" }}>To</div>\n                  <Form.Group\n                    style={{\n                      padding: \"0 10% 0 10%\",\n                      display: \"flex\",\n                      justifyContent: \"space-around\",\n                    }}\n                  >\n                    <InputGroup>\n                      <Form.Control\n                        id=\"toDate\"\n                        type=\"date\"\n                        min=\"2022-07-01\"\n                        placeholder=\"DD/MM/YYYY\"\n                        onChange={(e) => this.handleChange(e)}\n                        width=\"100%\"\n                        value={this.state.toDate}\n                      />\n                    </InputGroup>\n                  </Form.Group>\n\n                  {/* Dropdown menu below updates value shown on menu on screen, and simultaneously updates value of 'frequency' value in state. Dropdown menus in other forms (e.g. Food Waste) work in the same way */}\n\n                  <div style={{ padding: \"0 10% 0 10%\" }}>Frequency</div>\n                  <Form.Group\n                    style={{ padding: \"0 10% 0 10%\", display: \"flex\" }}\n                  >\n                    <InputGroup>\n                      <DDMenuStyle>\n                        <Dropdown>\n                          <DropdownToggle\n                            variant=\"secondary\"\n                            width=\"100%\"\n                            className=\"dd\"\n                          >\n                            {this.state.frequency}\n                          </DropdownToggle>\n                          <DropdownMenu>\n                            <DropdownItem as=\"button\" type=\"button\">\n                              <div\n                                onClick={(e) =>\n                                  this.handleFreqChange(e.target.textContent)\n                                }\n                              >\n                                Weekly\n                              </div>\n                            </DropdownItem>\n\n                            <DropdownItem as=\"button\" type=\"button\">\n                              <div\n                                onClick={(e) =>\n                                  this.handleFreqChange(e.target.textContent)\n                                }\n                              >\n                                Fortnightly\n                              </div>\n                            </DropdownItem>\n\n                            <DropdownItem as=\"button\" type=\"button\">\n                              <div\n                                onClick={(e) =>\n                                  this.handleFreqChange(e.target.textContent)\n                                }\n                              >\n                                Monthly\n                              </div>\n                            </DropdownItem>\n                          </DropdownMenu>\n                        </Dropdown>\n                      </DDMenuStyle>\n                    </InputGroup>\n                  </Form.Group>\n\n                  <Divider style={{ marginBottom: \"10px\" }} />\n\n                  {/* this.handleReserveItemSubmit(e); */}\n\n                  {/* \n                                        Reserve/Submit button is rendered in a 'ternary operator' to make the button clickable only once the form has been fully correctly filled out. \n                                        Same technique is used for submit buttons on other forms (e.g. FoodWaste.js), and also used similarly for 'Add' & 'Remove Last Item'/'Clear' buttons above.\n                                    */}\n\n                  {this.state.items !== [] &&\n                  this.state.fromDate !== \"\" &&\n                  this.state.toDate !== \"\" &&\n                  this.state.frequency !== \"Select Frequency\" ? (\n                    <Button\n                      style={{\n                        margin: \"0 10% 0 10%\",\n                        backgroundColor: \"#040335\",\n                        width: \"80%\",\n                        marginTop: \"5px\",\n                      }}\n                      onClick={(e) => {\n                        this.handleReserveItemSubmit(e);\n                        this.clearForm();\n                        this.showNotification();\n                      }}\n                      variant=\"secondary\"\n                      type=\"button\"\n                    >\n                      Reserve\n                    </Button>\n                  ) : (\n                    <Button\n                      style={{\n                        margin: \"0 10% 0 10%\",\n                        width: \"80%\",\n                        marginTop: \"5px\",\n                      }}\n                      variant=\"secondary\"\n                      disabled\n                    >\n                      Reserve\n                    </Button>\n                  )}\n                </div>\n              </Form>\n            </Card>\n\n            <Card\n              style={{\n                width: this.state.formWidth,\n                height: \"720px\",\n                marginBottom: \"10vh\",\n                backgroundColor: \"#040335\",\n                overflowY: \"auto\",\n              }}\n            >\n              <h5\n                className=\"text-center\"\n                style={{\n                  fontWeight: 600,\n                  color: \"white\",\n                  marginTop: \"2.5%\",\n                  marginBottom: \"5%\",\n                }}\n              >\n                My Reservations\n              </h5>\n\n              {/* \"collection\".map(\"each item in collection\" => ( <>...</> ) ) method used here to render boxes shown in My Reservations section in the same way for all \"Reserve Items\" submissions in user's Firebase collection data */}\n\n              <div>\n                {this.state.myReservations.map((res) => (\n                  <>\n                    <BrowserView>\n                      <Card\n                        style={{\n                          width: \"95%\",\n                          marginLeft: \"2.5%\",\n                          backgroundColor: \"rgb(38, 120, 214)\",\n                          height: \"160px\",\n                          marginBottom: \"50px\",\n                        }}\n                      >\n                        <div\n                          className=\"text-center\"\n                          style={{ marginBottom: \"7.5px\" }}\n                        >\n                          <span style={{ marginRight: \"20%\" }}>\n                            <b>From: </b> {res.fromDate}\n                          </span>{\" \"}\n                          <b>To: </b> {res.toDate}\n                        </div>\n\n                        <div\n                          onClick={() => this.deleteReservation(res.resID)}\n                          style={{\n                            fontSize: \"150%\",\n                            fontWeight: 600,\n                            marginLeft: \"97.5%\",\n                            marginTop: \"-4.5%\",\n                          }}\n                        >\n                          X\n                        </div>\n                        {/* <ImCross onClick={() => this.testDeleteReservation(res.resID)} style={{marginLeft: \"96.5%\", marginTop: \"-3.5%\"}} /> */}\n\n                        <div\n                          className=\"text-center\"\n                          style={{ marginBottom: \"10px\" }}\n                        >\n                          <b>Frequency: </b> {res.frequency} {res.resID}\n                        </div>\n\n                        <div\n                          style={{ overflowY: \"scroll\", marginBottom: \"10px\" }}\n                        >\n                          <ListGroup>\n                            <ListGroupItem\n                              style={{\n                                textAlign: \"center\",\n                                backgroundColor: \"rgb(13, 27, 92, 0.8)\",\n                                color: \"white\",\n                                width: \"99.5%\",\n                                marginLeft: \"0.5%\",\n                                fontWeight: 600,\n                                padding: \"0 1px 0 1px\",\n                                borderRadius: \"0px\",\n                              }}\n                            >\n                              Items Reserved\n                            </ListGroupItem>\n                          </ListGroup>\n                          <Table\n                            striped\n                            bordered\n                            hover\n                            size=\"sm\"\n                            style={{\n                              width: \"99.5%\",\n                              marginLeft: \"0.5%\",\n                              height: \"50px\",\n                              backgroundColor: \"white\",\n                            }}\n                          >\n                            {/* <thead style={{textAlign: \"center\", backgroundColor: \"rgb(13, 27, 92, 0.8)\", color: \"white\"}}><tr><b>Items Reserved</b></tr></thead> */}\n                            <tbody>\n                              <tr>\n                                <th\n                                  style={{ textAlign: \"center\", width: \"50%\" }}\n                                >\n                                  <b>Item Name</b>\n                                </th>\n                                <th\n                                  style={{ textAlign: \"center\", width: \"50%\" }}\n                                >\n                                  <b>Weight / Volume</b>\n                                </th>\n                              </tr>\n\n                              {/* 'map' method used again to add each item in each document's \"ITEMLIST\" array to table */}\n\n                              {res.itemList.map((item) => (\n                                <>\n                                  <tr>\n                                    <th>{item.name}</th>\n                                    <th>{item.weight}</th>\n                                  </tr>\n                                </>\n                              ))}\n                            </tbody>\n                          </Table>\n\n                          {/* <ListGroup style={{width: \"98%\", marginLeft: \"2%\"}}>\n                                                        <ListGroup.Item  style={{textAlign: \"center\", backgroundColor: \"rgb(13, 27, 92, 0.8)\", color: \"white\"}}>Items Added</ListGroup.Item>\n                                                        {res.itemList.map(item => (\n                                                            <ListGroup.Item>{item.name} <div style={{marginLeft: \"95%\", marginTop: \"-3.5%\", fontWeight: 600}}>X</div></ListGroup.Item>\n                                                        ))}\n                                                    </ListGroup> */}\n                        </div>\n                      </Card>\n                    </BrowserView>\n\n                    <MobileView>\n                      <Card\n                        style={{\n                          width: \"95%\",\n                          marginLeft: \"2.5%\",\n                          backgroundColor: \"rgb(38, 120, 214)\",\n                          height: \"160px\",\n                          marginBottom: \"50px\",\n                        }}\n                      >\n                        <div\n                          className=\"text-center\"\n                          style={{ marginBottom: \"5px\" }}\n                        >\n                          <span style={{ marginRight: \"8.5%\" }}>\n                            <b>From: </b> {res.fromDate}{\" \"}\n                          </span>{\" \"}\n                          <b>To: </b> {res.toDate}\n                        </div>\n\n                        <div\n                          onClick={() => this.deleteReservation(res.resID)}\n                          style={{\n                            marginLeft: \"95%\",\n                            marginTop: \"-10%\",\n                            fontWeight: 600,\n                            fontSize: \"150%\",\n                          }}\n                        >\n                          X\n                        </div>\n                        {/* <ImCross onClick={() => this.testDeleteReservation(res.resID)} style={{marginLeft: \"93.5%\", marginTop: \"-5.5%\"}} /> */}\n\n                        <div\n                          className=\"text-center\"\n                          style={{ marginBottom: \"10px\" }}\n                        >\n                          <b>Frequency: </b> {res.frequency}\n                        </div>\n\n                        <div\n                          style={{ overflowY: \"scroll\", marginBottom: \"10px\" }}\n                        >\n                          <ListGroup>\n                            <ListGroupItem\n                              style={{\n                                textAlign: \"center\",\n                                backgroundColor: \"rgb(13, 27, 92, 0.8)\",\n                                color: \"white\",\n                                width: \"99.5%\",\n                                marginLeft: \"0.25%\",\n                                fontWeight: 600,\n                                padding: \"0 1px 0 1px\",\n                                borderRadius: \"0px\",\n                              }}\n                            >\n                              Items Reserved\n                            </ListGroupItem>\n                          </ListGroup>\n\n                          <Table\n                            striped\n                            bordered\n                            hover\n                            size=\"sm\"\n                            style={{\n                              width: \"99.5%\",\n                              marginLeft: \"0.25%\",\n                              height: \"50px\",\n                              backgroundColor: \"white\",\n                            }}\n                          >\n                            {/* <thead style={{textAlign: \"center\", backgroundColor: \"rgb(13, 27, 92, 0.8)\", color: \"white\"}}><tr><b>Items Reserved</b></tr></thead> */}\n                            <tbody>\n                              <tr>\n                                <th\n                                  style={{ textAlign: \"center\", width: \"50%\" }}\n                                >\n                                  <b style={{ fontSize: \"85%\" }}>Item Name</b>\n                                </th>\n                                <th\n                                  style={{ textAlign: \"center\", width: \"50%\" }}\n                                >\n                                  <b style={{ fontSize: \"85%\" }}>\n                                    Weight/Volume\n                                  </b>\n                                </th>\n                              </tr>\n\n                              {res.itemList.map((item) => (\n                                <tr>\n                                  <th>{item.name}</th>\n                                  <th>{item.weight}</th>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </Table>\n                        </div>\n                      </Card>\n                    </MobileView>\n                  </>\n                ))}\n              </div>\n            </Card>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst foodOptions = [\n  { title: \"Ham\" },\n  { title: \"Beef\" },\n  { title: \"Chicken\" },\n  { title: \"Pork\" },\n  { title: \"Cod\" },\n  { title: \"Haddock\" },\n  { title: \"Lamb\" },\n  { title: \"Apple\" },\n  { title: \"Banana\" },\n  { title: \"Orange\" },\n  { title: \"Pear\" },\n  { title: \"Grapes\" },\n  { title: \"Potato\" },\n  { title: \"Milk\" },\n  { title: \"Onion\" },\n  { title: \"Cucumber\" },\n  { title: \"Peppers\" },\n  { title: \"Cabbage\" },\n];\n\n// 'mapStateToProps' & 'mapDispatchToProps' consts below necessary to get & submit data to user's specific Firebase collection (notice 'uid' used in 'fetchMyReservationsData' to get correct collection)\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    startData: (product) => dispatch(startData(product)),\n    // createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    // createFoodSurplusData: (product) => dispatch(createFoodSurplusData(product)),\n    // createFoodIntakeData: (product) => dispatch(createFoodIntakeData(product)),\n    createReserveItemsData: (product) =>\n      dispatch(createReserveItemsData(product)),\n  };\n};\n\nconst DDMenuStyle = styled.div`\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n`;\n\n// files that require use of Firebase collection data require this kind of export statement rather than just 'export default FileName'\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect((props) => {\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: \"data\",\n        doc: props.auth.uid,\n      },\n    ];\n  })\n)(ReserveItems);\n// export default ReserveItems\n","import React, { useState, useEffect, useRef } from \"react\"\n\nconst Weather = () => {\n  const [location, setLocation] = useState({ zip: \"\" })\n  const [headline, setHeadline] = useState(\"\")\n\n  let openWeatherKey = \"5e08f390d68d20c770a7727d2bafe3b1\" // openweathermap API key - store this somewhere?\n\n  const locationFetchURL = `http://api.openweathermap.org/geo/1.0/zip?zip=${location.zip},GB&appid=${openWeatherKey}`\n  const weatherFetchURL = `https://api.openweathermap.org/data/2.5/onecall?exclude=minutely,hourly&&units=metric&lat=${location.lat}&lon=${location.lon}&&appid=${openWeatherKey}`\n\n  const getWeatherFromPostCode = (e) => {\n    e.preventDefault()\n\n    fetch(locationFetchURL)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data)\n\n        if (!data.zip) {\n          setHeadline({ message: \"Invalid postcal code\", class: \"danger\" })\n          return\n        }\n\n        setLocation({\n          ...location,\n          lat: data.lat,\n          lon: data.lon,\n        })\n      })\n      .catch((err) => {\n        setHeadline({ message: \"Geolocation fetch error\", class: \"danger\" })\n      })\n  }\n\n  useEffect(() => {\n    if (!location.lat) return\n\n    fetch(weatherFetchURL)\n      .then((response) => response.json())\n      .then((data) => {\n        let weather = \"\"\n        data.daily.forEach((day, i) => {\n          weather += \"Day \" + (i + 1) + \": \" + day.weather[0].main + \" \"\n        })\n        setHeadline({ message: weather, class: \"success\" })\n      })\n      .catch((err) => {\n        setHeadline({ message: \"Weather fetch error\", class: \"danger\" })\n      })\n  }, [location.lat])\n\n  // Function to request the location of the user based on their browser GEO Location\n  const getLocation = (e) => {\n    e.preventDefault()\n    if (navigator.geolocation)\n      navigator.geolocation.getCurrentPosition(updatePosition)\n    else setHeadline({ message: \"geolocation not supported\", class: \"danger\" })\n  }\n\n  // Function to submit the weather request with a given location\n  const updatePosition = (position) => {\n    setLocation({\n      ...location,\n      lat: position.coords.latitude,\n      lon: position.coords.longitude,\n    })\n  }\n\n  return (\n    <section id=\"weather\" className=\"mb-4\">\n      <h5 className=\"mt-3\">Weather Forecast</h5>\n      <input\n        type=\"text\"\n        name=\"location\"\n        id=\"location\"\n        placeholder=\"Post code\"\n        className=\"p-1 pl-2\"\n        onChange={(e) => {\n          setLocation({ ...location, zip: e.target.value })\n        }}\n        value={location.zip}\n      />\n      <button\n        id=\"getWeather\"\n        className=\"ml-3 mr-1 btn blue-btn\"\n        onClick={getWeatherFromPostCode}\n      >\n        Get weather for post code\n      </button>\n      <button className=\"btn green-btn\" onClick={getLocation}>\n        Use my location\n      </button>\n      {headline && (\n        <p className={`alert alert-${headline.class} mb-2 mt-2`}>\n          {headline.message}\n        </p>\n      )}\n    </section>\n  )\n}\n\nexport default Weather\n","import React, { useState, useEffect } from \"react\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n\nexport const Pests = (props) => {\n  return (\n    <div\n      style={{\n        overflowY: \"scroll\",\n        height: \"20rem\",\n        marginBottom: \"2%\",\n      }}\n    >\n      <List>\n        {props.category &&\n          props.category.map((pest) => (\n            <ListItem key={pest}>\n              <a href={`https://www.google.com/search?q=${pest}`}>{pest}</a>\n            </ListItem>\n          ))}\n        {!props.category && <p>No data available</p>}\n      </List>\n    </div>\n  );\n};\n\nexport default Pests;\n","import React from \"react\";\n\nimport List from \"@mui/material/List\";\n\nexport const Nutrients = (props) => {\n  return (\n    <List>\n      {props.data.phosphorus && (\n        <>\n          <h3>Phosphorus: {props.data.phosphorus} Kg/Ha</h3>\n          <h3>Potassium: {props.data.potassium} Kg/Ha</h3>\n          <h3>Potassium: {props.data.potassium} Kg/Ha</h3>\n        </>\n      )}\n      {!props.data.phosphorus && <p>No data available</p>}\n    </List>\n  );\n};\n\nexport default Nutrients;\n","import React, { useState, useEffect } from \"react\";\nimport { Pests } from \"./pests\";\nimport Nutrients from \"./Nutrients.jsx\";\nimport { Form, Button, Modal, Row, Col } from \"react-bootstrap\";\nimport { Dropdown } from \"../../../../SubComponents/Dropdown\";\n\nimport NumericInput from \"react-numeric-input\";\nimport RangeSlider from \"react-bootstrap-range-slider\";\n\nconst cropData = require(\"./crops.json\");\n\nconst CropCategories = (props) => {\n  const [crop, setCrop] = useState(\"\");\n  const [cropIndex, setCropIndex] = useState(0);\n  const [amount, setAmount] = useState((100 / props.rows).toFixed(0));\n\n  // Modals\n  const [showPests, setShowPests] = useState(false);\n  const [showNutrients, setShowNutrients] = useState(false);\n\n  // Tell Farm plan how much we are using\n  useEffect(() => {\n    props.setRowTotal(amount, props.index);\n    updateFarmPlan();\n  }, [amount, props.unit, props.land]);\n\n  // Work out the index of the crop for pest/nutrient data\n  useEffect(() => {\n    var index = -1;\n    var filteredObj = cropData.categories[props.cat].find((item, i) => {\n      if (item.crop === crop) {\n        index = i;\n        return i;\n      }\n    });\n    setCropIndex(index);\n\n    updateFarmPlan();\n  }, [crop]);\n\n  // Updates the farm plan state array with updated info\n  const updateFarmPlan = () => {\n    const landMass = props.land * (amount / 100);\n\n    // 1. Make a shallow copy of the array\n    let temp_state = [...props.farmPlan];\n\n    // 2. Make a shallow copy of the element you want to mutate\n    let temp_element = { ...temp_state[props.index] };\n\n    // 3. Update the property you're interested in\n    temp_element = {\n      crop: crop,\n      percentOfTotal: amount,\n      landMass: landMass.toFixed(3),\n    };\n\n    // 4. Put it back into our array. N.B. we *are* mutating the array here, but that's why we made a copy first\n    temp_state[props.index] = temp_element;\n\n    // 5. Set the state to our new copy\n    props.setFarmPlan(temp_state);\n  };\n\n  return (\n    <Row key={props.cat} className=\"farm-row\">\n      <Col>\n        <img\n          src={require(`./Crop Images/${props.cat}-01.png`).default}\n          alt={props.cat}\n          height={70}\n          width={70}\n        />\n        {props.index + 1}\n      </Col>\n\n      <Col>\n        <Dropdown\n          id=\"crop\"\n          styling=\"green\"\n          data={`Select ${props.cat}`}\n          function={(e) => {\n            setCrop(e);\n          }}\n          items={cropData.categories[props.cat].map((item) => {\n            return item.crop;\n          })}\n        />\n\n        <Form.Control\n          type=\"text\"\n          id=\"food\"\n          className=\"mt-2\"\n          onChange={(e) => setCrop(e.target.value)}\n          value={crop}\n          required\n        />\n      </Col>\n\n      <Col>\n        <label htmlFor=\"amount\">\n          <NumericInput\n            name=\"amount\"\n            min={0}\n            max={100}\n            value={amount}\n            onChange={(e) => setAmount(Number(e).toFixed(1))}\n          />\n          <span>%</span>\n        </label>\n        <RangeSlider\n          value={amount}\n          className=\"slider\"\n          onChange={(e) => setAmount(Number(e.target.value).toFixed(1))}\n        />\n      </Col>\n      <Col>\n        <div className=\"d-grid gap-2\">\n          <Button\n            onClick={() => {\n              setShowPests(true);\n            }}\n            className=\"sub-btn blue-btn\"\n          >\n            Pests\n          </Button>\n          <Button\n            onClick={() => {\n              setShowNutrients(true);\n            }}\n            className=\"sub-btn green-light-btn\"\n          >\n            Nutrient requirement\n          </Button>\n        </div>\n      </Col>\n\n      <Modal show={showPests} onHide={() => setShowPests(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            {crop ? <p>Common pests in {crop}</p> : <p>No data</p>}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {crop && cropData.categories[props.cat][cropIndex] && (\n            <Pests category={cropData.categories[props.cat][cropIndex].pests} />\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowPests(false)}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      <Modal show={showNutrients} onHide={() => setShowNutrients(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            {crop ? (\n              <p>Soil nutrient requirements to grow {crop}</p>\n            ) : (\n              <p>No data</p>\n            )}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {crop && cropData.categories[props.cat][cropIndex] && (\n            <Nutrients data={cropData.categories[props.cat][cropIndex]} />\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowNutrients(false)}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Row>\n  );\n};\n\nexport default CropCategories;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"../../../../../SubComponents/Button.css\";\nimport \"../FarmPlan.css\";\n\nimport Weather from \"../Weather\";\nimport FarmPlanRow from \"../FarmPlanRow\";\n\nimport { Dropdown } from \"../../../../../SubComponents/Dropdown\";\nimport { PopUp } from \"../../../../../SubComponents/PopUp\";\n// import SellerAuth from \"./SellerAuth\";\n// import AuthIcon from \"../../../../SubComponents/AuthIcon\";\n\nimport { Form, Button, InputGroup, Row, Col, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { createMarketplaceData } from \"../../../../../../store/actions/dataActions\";\nimport { compose } from \"redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\n\nconst cropDB = require(\"../crops.json\");\nconst nutrDB = require(\"../nutr.json\");\nconst landUnits = [\"Km²\", \"M²\", \"Hct\"];\n\nconst Horticulture = (props) => {\n  const [land, setLand] = useState(0);\n  const [unit, setUnit] = useState(landUnits[0]);\n\n  const [farmPlan, setFarmPlan] = useState([]);\n\n  const [rows, setRows] = useState(6);\n  const [totalUsed, setTotalUsed] = useState(100);\n  const [totals, setTotals] = useState([]);\n  const [comment, setComment] = useState(false);\n\n  const [open, setOpen] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  const setRowTotal = (data, i) => {\n    totals[i] = Number(data);\n    const initialValue = 0;\n    const sumWithInitial = totals.reduce(\n      (previousValue, currentValue) => previousValue + currentValue,\n      initialValue\n    );\n    setTotalUsed(sumWithInitial);\n  };\n\n  useEffect(() => {\n    if (props.auth.error)\n      setMsg(\n        \"There was an error connnecting to the database - please try again\"\n      );\n  }, [props.auth.error]);\n\n  function mergeJson(target) {\n    for (var argi = 1; argi < arguments.length; argi++) {\n      var source = arguments[argi];\n      for (var key in source) {\n        if (!(key in target)) {\n          target[key] = [];\n        }\n        for (var i = 0; i < source[key].length; i++) {\n          target[key].push(source[key][i]);\n        }\n      }\n    }\n    return target;\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (totalUsed > 100) {\n      setMsg(\"Total crop volume exceed 100%\");\n      return;\n    }\n\n    var data = {\n      uid: props.auth.uid,\n      upload: {\n        ...farmPlan,\n        totalLand: land,\n        landUnits: unit,\n        comment: comment,\n      },\n    };\n\n    props.createMarketplaceData(data);\n    setOpen(true);\n  }\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <p>\n          We recommend that you plant a range of different crops within your\n          field. Crop rotation has been proven to increase yield and minimise\n          the damage of pests and disease.\n        </p>\n\n        {/* {!props.profile.isSeller && (\n            <div className=\"auth-icon\">\n              <Row>\n                <Col>\n                  <AuthIcon />\n                </Col>\n                <Col xs={8}>\n                  You must authenticate your account with us to join the Plan to\n                  Save!\n                </Col>\n              </Row>\n            </div>\n          )} */}\n\n        <Form.Group className=\"mb-3 land\">\n          <Form.Label>Amount of land</Form.Label>\n          <InputGroup>\n            <Form.Control\n              type=\"number\"\n              id=\"land-size\"\n              onChange={(e) => setLand(e.target.value)}\n              value={land}\n              min={1}\n              max={10000}\n              required\n            />\n            <Dropdown\n              id=\"land-unit\"\n              styling=\"green dropdown-input-right\"\n              data={unit}\n              function={(e) => {\n                setUnit(e);\n              }}\n              items={landUnits}\n            />\n          </InputGroup>\n        </Form.Group>\n\n        <Container className=\"p-0 text-center \">\n          <Row className=\"mb-2 farm-row farm-header d-none d-sm-flex\">\n            <Col>Plot</Col>\n            <Col>Crop</Col>\n            <Col>% of total land</Col>\n            <Col>Info</Col>\n          </Row>\n          {Object.keys(cropDB.categories).map((category, index) => (\n            <FarmPlanRow\n              key={category}\n              rows={rows}\n              cat={category}\n              index={index}\n              setRowTotal={setRowTotal}\n              setFarmPlan={setFarmPlan}\n              farmPlan={farmPlan}\n              land={land}\n              unit={unit}\n            />\n          ))}\n        </Container>\n\n        <h3 className={totalUsed > 100 ? \"auth-error\" : \"success\"}>\n          Total of land used: {totalUsed.toFixed(0)}%\n        </h3>\n\n        {/* <Button className=\"sub-btn blue-btn\">Add row</Button> */}\n\n        <Weather />\n\n        <Form.Group>\n          <Form.Control\n            as=\"textarea\"\n            rows={6}\n            placeholder=\"Comments\"\n            id=\"comment\"\n            name=\"comment\"\n            onChange={(e) => {\n              setComment(e.target.value);\n            }}\n          />\n        </Form.Group>\n\n        {msg && <p className=\"auth-error\">{msg}</p>}\n        <Button type=\"submit\" className=\"sub-btn blue-btn\">\n          Save Plan\n        </Button>\n      </Form>\n      <PopUp\n        open={open}\n        onClose={() => {\n          setOpen(false);\n        }}\n        // text=\"View my products\"\n        // to=\"/view-products\"\n      >\n        Successfully Saved!\n      </PopUp>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMarketplaceData: (product) =>\n      dispatch(createMarketplaceData(product)),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect((props) => {\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: \"data\",\n        doc: props.auth.uid,\n      },\n    ];\n  })\n)(Horticulture);\n","import React, { useEffect, useState } from \"react\";\nimport { getFarmerData } from \"../../../../../store/actions/marketplaceActions/farmPlanData\";\nimport { connect } from \"react-redux\";\nimport LoadingScreen from \"../../../../SubComponents/Loading/LoadingScreen\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\nimport \"./FarmPlan.css\";\n\nimport Horticulture from \"./Horticulture/Horticulture\";\n\nfunction FarmPlan(props) {\n  //handles loading page\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 1500);\n  });\n  useEffect(() => {\n    props.getFarmerData();\n  }, []);\n\n  const Control = () => {\n    switch (props.data[0].sector) {\n      default:\n      case \"Horticulture\":\n        return <Horticulture />;\n      case \"Livestock\":\n        return <Dev sector={props.data[0].sector} />;\n      case \"Aquaculture\":\n        return <Dev sector={props.data[0].sector} />;\n      case \"Insect Farm\":\n        return <Dev sector={props.data[0].sector} />;\n    }\n  };\n\n  return (\n    <>\n      {!loading ? (\n        <PageWrap header=\"My Farm Plan\" goTo=\"/account\">\n          <Control />\n        </PageWrap>\n      ) : (\n        <LoadingScreen />\n      )}\n    </>\n  );\n}\n\nfunction Dev({ sector }) {\n  return (\n    <>\n      <div className=\"basic-title\">\n        We are sorry.\n        <p>\n          Planning for {sector} is currrently in development, we'll let you know\n          when it's ready to go.\n        </p>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n    profile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getFarmerData: () => dispatch(getFarmerData()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FarmPlan);\n","export const getFarmerData = () => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      default:\n      case \"farm_admin\":\n        uid = authUID;\n        break;\n      case \"farm_sub\":\n        uid = profile.admin;\n    }\n    var db = getFirebase().firestore();\n    var docRef = db.collection(\"marketplace\").doc(uid);\n\n    docRef\n      .get()\n      .then((doc) => {\n        const data = [];\n        data.push(doc.data());\n        dispatch({ type: \"GET_DATA\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_DATA_ERROR\", err });\n      });\n  };\n};\n","import React from \"react\";\nimport { Form, Row, Col } from \"react-bootstrap\";\n\nexport default function Stage0({ setForm, existing, setExisting }) {\n  return (\n    <>\n      <Form>\n        <Form.Group>\n          <Form.Label>Are you an existing farmer and registered?</Form.Label>\n          <Row>\n            <Col>\n              <Form.Check\n                required\n                type=\"radio\"\n                name=\"register\"\n                label=\"Yes\"\n                onClick={() => {\n                  setForm(1);\n                  setExisting(true);\n                }}\n              />\n            </Col>\n            <Col>\n              <Form.Check\n                required\n                type=\"radio\"\n                name=\"register\"\n                label=\"No\"\n                onClick={() => {\n                  setForm(3);\n                  setExisting(false);\n                }}\n              />\n            </Col>\n          </Row>\n        </Form.Group>\n      </Form>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport \"../../../../../SubComponents/Button.css\";\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\n\nexport default function Stage1({ setForm, association, setAssociation }) {\n  const [done, setDone] = useState(false);\n  return (\n    <Form onSubmit={() => setForm(2)}>\n      <Form.Group>\n        <Form.Label>\n          Are you a member of a local food system association?\n        </Form.Label>\n        <Row>\n          <Col>\n            <Form.Check\n              required\n              type=\"radio\"\n              name=\"member\"\n              label=\"Yes\"\n              onClick={() => {\n                setAssociation(true);\n                setDone(true);\n              }}\n            />\n          </Col>\n          <Col>\n            <Form.Check\n              required\n              type=\"radio\"\n              name=\"member\"\n              label=\"No\"\n              onClick={() => {\n                setAssociation(false);\n                setDone(true);\n              }}\n            />\n          </Col>\n        </Row>\n      </Form.Group>\n      {done ? (\n        <>\n          {association ? (\n            <>\n              <Form.Control\n                required\n                type=\"text\"\n                placeholder=\"Which local food system association?\"\n                id=\"food-system-association\"\n                onChange={(e) => setAssociation(e.target.value)}\n              />\n              <Button type=\"submit\" className=\"blue-btn mt-3\">\n                Next\n              </Button>\n            </>\n          ) : (\n            <>\n              <p>\n                We recommend joining an organisation such as the NFU or Soil\n                Association.\n              </p>\n              <Button type=\"submit\" className=\"blue-btn mt-3\">\n                Next\n              </Button>\n            </>\n          )}\n        </>\n      ) : null}\n    </Form>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport \"../../../../../SubComponents/Button.css\";\nimport { Form, Button } from \"react-bootstrap\";\n\nimport { storage } from \"../../../../../../config/fbConfig\";\n\nexport default function Stage2({ certificate, setCertificate, setForm }) {\n  const [progress, setProgress] = useState(0);\n  const [submitted, setSubmitted] = useState(false);\n  const [err, setErr] = useState(false);\n\n  useEffect(() => {\n    if (progress === 100) {\n      setSubmitted(true);\n    }\n  }, [progress]);\n\n  const uploadFiles = (certificate) => {\n    //uploads document to firebase storage and gives feedback to the user\n    const uploadTask = storage\n      //sending to folder named \"farmer-auth\" inside fb storage\n      .ref(`farmer-auth/${certificate.name}`)\n      .put(certificate);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const prog = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(prog);\n      },\n      (error) => console.log(error),\n      () => {\n        storage\n          .ref(\"farmer-auth\")\n          .child(certificate.name)\n          .getDownloadURL()\n          .then((url) => console.log(url));\n      }\n    );\n  };\n\n  const handleFile = (e) => {\n    if (certificate) {\n      e.preventDefault();\n      uploadFiles(certificate);\n    } else {\n      e.preventDefault();\n      setErr(true);\n    }\n  };\n\n  return (\n    <Form\n      onSubmit={() => {\n        setForm(3);\n      }}\n    >\n      <Form.Group>\n        <Form.Label>\n          If registered, please upload your certificate of incorporation.\n        </Form.Label>\n        <Form.Control\n          required\n          type=\"file\"\n          id=\"certificate\"\n          onInput={(e) => {\n            setCertificate(e.target.files[0]);\n          }}\n        />\n        <p style={{ color: \"rgb(131, 131, 131)\" }}>Uploaded {progress}%</p>\n      </Form.Group>\n      {submitted ? (\n        <Button type=\"submit\" className=\"blue-btn mt-3 shadow-none\">\n          Next\n        </Button>\n      ) : (\n        <>\n          <Button className=\"green-btn mt-3 shadow-none\" onClick={handleFile}>\n            Submit Certificate\n          </Button>\n          {err ? (\n            <div className=\"err\">\n              <p>please upload a certificate of incorporation</p>\n            </div>\n          ) : null}\n        </>\n      )}\n    </Form>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"../../../../../SubComponents/Button.css\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Select } from \"../../../../../SubComponents/Dropdown\";\nimport { countryNames, countries } from \"../../../../../lib/Countries\";\nimport {\n  postcodeValidator,\n  postcodeValidatorExistsForCountry,\n} from \"postcode-validator\";\n\nexport default function Stage3(props) {\n  const [countryCode, setCountryCode] = useState(\"\");\n  const [validator, setValidator] = useState(false);\n\n  useEffect(() => {\n    if (props.country) {\n      let cc = countries.find((c) => c.name === props.country);\n      setCountryCode(cc.code);\n    }\n  }, [props.country]);\n\n  useEffect(() => {\n    if (postcodeValidatorExistsForCountry(countryCode)) {\n      // console.log(\"validator exists\", props.postcode, countryCode);\n      if (postcodeValidator(props.postcode, countryCode)) {\n        setValidator(false);\n      } else {\n        setValidator(true);\n      }\n    } else {\n      setValidator(false);\n    }\n  }, [props.postcode]);\n\n  const handleSubmit = () => {\n    if (!validator) {\n      props.setForm(4);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      {props.existing ? (\n        <h5 className=\"mb-3\">Farm Location</h5>\n      ) : (\n        <h5 className=\"mb-3\">\n          We would like to take your details now in order to connect you to your\n          local community and have everything in place for when your farm is\n          ready.\n        </h5>\n      )}\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Farm Name\"\n          id=\"farm-name\"\n          onChange={(e) => props.setFarm(e.target.value)}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Address line 1\"\n          id=\"address-1\"\n          onChange={(e) => props.setAddress1(e.target.value)}\n          required\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Address line 2\"\n          id=\"address-2\"\n          onChange={(e) => props.setAddress2(e.target.value)}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Town\"\n          id=\"town\"\n          onChange={(e) => props.setTown(e.target.value)}\n          required\n        />\n      </Form.Group>\n      <Form.Group>\n        <Select\n          id=\"country\"\n          function={(e) => {\n            props.setCountry(e.target.value);\n          }}\n          value={props.country}\n          placeholder=\"Country\"\n          items={countryNames}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Postcode\"\n          id=\"postcode\"\n          onChange={(e) => props.setPostcode(e.target.value)}\n          required\n        />\n      </Form.Group>\n      {validator && <div className=\"err\"> Please enter a valid postcode</div>}\n      <Button type=\"submit\" className=\"blue-btn shadow-none\">\n        Next\n      </Button>\n    </Form>\n  );\n}\n","import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Dropdown } from \"../../../../../SubComponents/Dropdown\";\n\nexport default function Stage4({ setForm, sector, setSector }) {\n  return (\n    <>\n      <h5>What Farming Sector?</h5>\n      <Form onSubmit={() => setForm(5)}>\n        <Dropdown\n          required\n          id=\"category\"\n          styling=\"green\"\n          data={sector}\n          function={(e) => {\n            setSector(e);\n          }}\n          items={[\n            \"Horticulture\",\n            \"Livestock\",\n            \"Aquaculture\",\n            \"Insect farm\",\n            \"Other\",\n          ]}\n        />\n        <Button className=\"blue-btn shadow-none mt-3\" type=\"submit\">\n          Next\n        </Button>\n      </Form>\n    </>\n  );\n}\n","import React from \"react\";\n\nimport { Form } from \"react-bootstrap\";\n\nexport const TickList = (props) => {\n  const handleChange = (position) => {\n    const updatedCheckedState = props.checkedState.map((item, index) =>\n      index === position ? !item : item\n    );\n\n    props.setCheckedState(updatedCheckedState);\n  };\n\n  return (\n    <Form.Group>\n      <Form.Label>{props.label}</Form.Label>\n      {props.list.map((item, index) => {\n        return (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"flex-start\",\n              alignItems: \"flex-start\",\n            }}\n          >\n            <Form.Check\n              type=\"checkbox\"\n              label={item}\n              id={item}\n              key={item}\n              checked={props.checkedState[index]}\n              onChange={() => handleChange(index)}\n            />\n          </div>\n        );\n      })}\n    </Form.Group>\n  );\n};\n","import React, { useState } from \"react\";\nimport { TickList } from \"../../../../../SubComponents/TickList\";\nimport { Form, Button } from \"react-bootstrap\";\nimport \"../../../../../SubComponents/Button.css\";\n\nexport default function Stage5({ setForm, practices, practice, setPractice }) {\n  const [none, setNone] = useState(false);\n  const [err, setErr] = useState(false);\n\n  const handleNext = (e) => {\n    if (practice.every((element) => element === false)) {\n      if (none) {\n        setForm(5.1);\n      } else {\n        setErr(true);\n      }\n    } else {\n      e.preventDefault();\n      setForm(6);\n    }\n  };\n\n  return (\n    <>\n      <h5>\n        Do you follow any of these sustainable farming practices? Select\n        everything that applies;\n      </h5>\n      <Form>\n        <TickList\n          list={practices}\n          checkedState={practice}\n          setCheckedState={setPractice}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          <Form.Check\n            type=\"checkbox\"\n            label=\"None of the above\"\n            key=\"none\"\n            id=\"none\"\n            onChange={() => setNone(true)}\n          />\n        </div>\n        <Button className=\"blue-btn shadow-none mt-3\" onClick={handleNext}>\n          Next\n        </Button>\n        {err && (\n          <div className=\"err\">\n            <p>Please select something.</p>\n          </div>\n        )}\n      </Form>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { TickList } from \"../../../../../SubComponents/TickList\";\nimport { Form, Button } from \"react-bootstrap\";\nimport \"../../../../../SubComponents/Button.css\";\n\nexport default function Stage51({\n  setForm,\n  practices,\n  futurePractice,\n  setFuturePractice,\n}) {\n  const [none, setNone] = useState(false);\n  const [err, setErr] = useState(false);\n\n  const handleNext = (e) => {\n    if (futurePractice.every((element) => element === false)) {\n      if (none) {\n        setForm(5.3);\n      } else {\n        setErr(true);\n      }\n    } else {\n      e.preventDefault();\n      setForm(5.2);\n    }\n  };\n  return (\n    <>\n      <h5>\n        You selected \"None of the above\". Do you have a plan to adopt any of the\n        following sustainable farming practices in the future?\n      </h5>\n      <Form>\n        <TickList\n          list={practices}\n          checkedState={futurePractice}\n          setCheckedState={setFuturePractice}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"flex-start\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          <Form.Check\n            type=\"checkbox\"\n            label=\"None of the above\"\n            id=\"none\"\n            onChange={() => setNone(true)}\n          />\n        </div>\n        <Button className=\"blue-btn shadow-none mt-3\" onClick={handleNext}>\n          Next\n        </Button>\n        {err && (\n          <div className=\"err\">\n            <p>Please select something.</p>\n          </div>\n        )}\n      </Form>\n    </>\n  );\n}\n","import React from \"react\";\nimport \"../../../../../SubComponents/Button.css\";\nimport { Form, Button } from \"react-bootstrap\";\n\nexport default function Stage52({ setForm, setEffective }) {\n  return (\n    <Form onSubmit={() => setForm(6)}>\n      <h5>When are you effecting the sustainable farming practice(s)?</h5>\n      <Form.Group>\n        <Form.Check\n          required\n          type=\"radio\"\n          name=\"effective\"\n          label=\"Now\"\n          onClick={() => setEffective(\"Now\")}\n        />\n        <Form.Check\n          required\n          type=\"radio\"\n          name=\"effective\"\n          label=\"3 months time\"\n          onClick={() => setEffective(\"3months\")}\n        />\n        <Form.Check\n          required\n          type=\"radio\"\n          name=\"effective\"\n          label=\"6 months time\"\n          onClick={() => setEffective(\"6months\")}\n        />\n        <Form.Check\n          required\n          type=\"radio\"\n          name=\"effective\"\n          label=\"12 months time\"\n          onClick={() => setEffective(\"12months\")}\n        />\n      </Form.Group>\n      <Button type=\"submit\" className=\"blue-btn shadow-none mt-3\">\n        Next\n      </Button>\n    </Form>\n  );\n}\n","import React from \"react\";\nimport \"./PageWrap.css\";\n\nimport Button from \"@mui/material/Button\";\nimport { Modal } from \"react-bootstrap\";\n\nfunction TermsAndConsModal(props) {\n  return (\n    <Modal {...props} size=\"lg\" aria-labelledby=\"terms-cons-modal\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title id=\"terms-cons-modal\">\n          PLEASE READ THESE TERMS AND CONDITIONS CAREFULLY BEFORE USING THIS\n          MARKETPLACE\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body contentClassName=\"modal\">\n        <h4>What’s in these terms?</h4>\n        <p>\n          <ol>\n            <li>\n              <b>Who we are and how to contact us</b>\n            </li>\n            <li>\n              <b>By using our site you accept these terms</b>\n            </li>\n            <li>\n              <b>There are other terms that may apply to you</b>\n            </li>\n            <li>\n              <b>We may make changes to these terms</b>\n            </li>\n            <li>\n              <b>We may make changes to our site</b>\n            </li>\n            <li>\n              <b>We may suspend or withdraw our site</b>\n            </li>\n            <li>\n              <b>We may transfer this agreement to someone else</b>\n            </li>\n            <li>\n              <b>You must keep your account details safe</b>\n            </li>\n            <li>\n              <b>How you may use material on our site</b>\n            </li>\n            <li>\n              <b>Do not rely on information on our site</b>\n            </li>\n            <li>\n              <b>We are not responsible for websites we link to</b>\n            </li>\n            <li>\n              <b>User-generated content is not approved by us</b>\n            </li>\n            <li>\n              <b>How to complain about content uploaded by other users</b>\n            </li>\n            <li>\n              <b>Our responsibility for loss or damage suffered by you</b>\n            </li>\n            <li>\n              <b>How we may use your personal information</b>\n            </li>\n            <li>\n              <b>Uploading content to our site</b>\n            </li>\n            <li>\n              <b>Rights you are giving us to use material you upload</b>\n            </li>\n            <li>\n              <b>\n                We are not responsible for viruses and you must not introduce\n                them\n              </b>\n            </li>\n            <li>\n              <b>Rules about linking to our site</b>\n            </li>\n            <li>\n              <b>Which country’s laws apply to any disputes?</b>\n            </li>\n            <li>\n              <b>Our trademarks are registered</b>\n            </li>\n          </ol>\n        </p>\n        <h4>Who we are and how to contact us</h4>\n        <p>\n          <a href=\"//intellidigest.com/\" style={{ color: \"#AFBA15\" }}>\n            https://intellidigest.com/{\" \"}\n          </a>\n          <b>and any other website </b> operated by IntelliDigest Ltd (“We”). We\n          are registered in Scotland under company number SC544884 and have our\n          registered office at Edinburgh Business School Incubator, Heriot Watt\n          University, Riccarton, Currie EH14 4AS. Our main trading address is\n          Royal Academy of Engineering, Enterprise Hub, 4 Carlton House Terrace,\n          London, SW1Y 5DG, United Kingdom.\n        </p>\n        <p>Our VAT number is 342981288.</p>\n        <p>We are a limited company.</p>\n        <p>\n          To contact us, please email <b>Info@IntelliDigest.com</b> or telephone\n          our customer service line on <b>0333 242 0822</b>.\n        </p>\n        <h4>By using our site you accept these terms</h4>\n        <p>\n          By using our site, you confirm that you accept these terms of use and\n          that you agree to comply with them. If you do not agree to these\n          terms, you must not use our site. We recommend that you print a copy\n          of these terms for future reference.\n        </p>\n        <h4>There are other terms that may apply to you.</h4>\n        <p>\n          These terms of use refer to the following additional terms, which also\n          apply to your use of our site:\n        </p>\n        <ul>\n          <li>\n            Our Privacy Policy{\" \"}\n            <a\n              href=\" //intellidigest.com/privacy-policy/\"\n              style={{ color: \"#AFBA15\" }}\n            >\n              {\" \"}\n              https://intellidigest.com/privacy-policy/\n            </a>{\" \"}\n            See further under <b>\n              How we may use your personal information.\n            </b>{\" \"}\n          </li>\n          <li>\n            Our Cookie Policy which sets out information about the cookies on\n            our site.\n          </li>\n          <li>\n            Our Acceptable Use Policy which sets out the permitted uses and\n            prohibited uses of our site. When using our site, you must comply\n            with this Acceptable Use Policy.\n          </li>\n          <li>\n            If you purchase goods from our site, our Terms and conditions of\n            supply will apply to the sales.\n          </li>\n        </ul>\n        <h4>We may make changes to these terms</h4>\n        <p>\n          We amend these terms from time to time. Every time you wish to use our\n          site, please check these terms to ensure you understand the terms that\n          apply at that time.\n        </p>\n        <h4>We may make changes to our site</h4>\n        <p>\n          We may update and change our site from time to time to reflect changes\n          to our products, our users’ needs and our business priorities.\n        </p>\n        <h4>We may suspend or withdraw our site</h4>\n        <p>\n          Our site is made available free of charge. We do not guarantee that\n          our site, or any content on it, will always be available or be\n          uninterrupted. We may suspend or withdraw or restrict the availability\n          of all or any part of our site for business and operational reasons.\n          We will try to give you reasonable notice of any suspension or\n          withdrawal.\n        </p>\n        <p>\n          You are also responsible for ensuring that all persons who access our\n          site through your internet connection are aware of these terms of use\n          and other applicable terms and conditions, and that they comply with\n          them.\n        </p>\n        <h4>We may transfer this agreement to someone else</h4>\n        <p>\n          We may transfer our rights and obligations under these terms to\n          another organisation. We will always tell you in writing if this\n          happens and we will ensure that the transfer will not affect your\n          rights under the contract.\n        </p>\n        <h4>You must keep your account details safe</h4>\n        <p>\n          If you choose, or you are provided with, a user identification code,\n          password or any other piece of information as part of our security\n          procedures, you must treat such information as confidential. You must\n          not disclose it to any third party.\n        </p>\n        <p>\n          We have the right to disable any user identification code or password,\n          whether chosen by you or allocated by us, at any time, if in our\n          reasonable opinion you have failed to comply with any of the\n          provisions of these terms of use.\n        </p>\n        <p>\n          If you know or suspect that anyone other than you knows your user\n          identification code or password, you must promptly notify us at{\" \"}\n          <b>info@IntelliDigest.com</b>.\n        </p>\n        <h4>You must keep your account details safe</h4>\n        <p>\n          We are the owner or the licensee of all intellectual property rights\n          in our site, and in the material published on it. Those works are\n          protected by copyright laws and treaties around the world. All such\n          rights are reserved.\n        </p>\n        <p>\n          You may print off one copy, and may download extracts, of any page(s)\n          from our site for your personal use and you may draw the attention of\n          others within your organisation to content posted on our site.\n        </p>\n        <p>\n          You must not modify the paper or digital copies of any materials you\n          have printed off or downloaded in any way, and you must not use any\n          illustrations, photographs, video or audio sequences or any graphics\n          separately from any accompanying text.\n        </p>\n        <p>\n          Our status (and that of any identified contributors) as the authors of\n          content on our site must always be acknowledged.\n        </p>\n        <p>\n          You must not use any part of the content on our site for commercial\n          purposes without obtaining a licence to do so from us or our\n          licensors.\n        </p>\n        <p>\n          If you print off, copy or download any part of our site in breach of\n          these terms of use, your right to use our site will cease immediately\n          and you must, at our option, return or destroy any copies of the\n          materials you have made.\n        </p>\n        <h4>Do not rely on information on this site</h4>\n        <p>\n          The content on our site is provided for general information only. It\n          is not intended to amount to advice on which you should rely. You must\n          obtain professional or specialist advice before taking, or refraining\n          from, any action on the basis of the content on our site.\n        </p>\n        <p>\n          Although we make reasonable efforts to update the information on our\n          site, we make no representations, warranties or guarantees, whether\n          express or implied, that the content on our site is accurate, complete\n          or up to date.\n        </p>\n        <h4>We are not responsible for websites we link to</h4>\n        <p>\n          Where our site contains links to other sites and resources provided by\n          third parties, these links are provided for your information only.\n          Such links should not be interpreted as approval by us of those linked\n          websites or information you may obtain from them. We have no control\n          over the contents of those sites or resources.\n        </p>\n        <h4>User-generated content is not approved by us</h4>\n        <p>\n          This website may include information and materials uploaded by other\n          users of the site, including to bulletin boards and chat rooms. This\n          information and these materials have not been verified or approved by\n          us. The views expressed by other users on our site do not represent\n          our views or values.\n        </p>\n        <h4>How to complain about content uploaded by other users</h4>\n        <p>\n          If you wish to complain about content uploaded by other users, please\n          contact us on{\" \"}\n          <a href=\"//intellidigest.com/contact/\" style={{ color: \"#AFBA15\" }}>\n            https://intellidigest.com/contact/\n          </a>\n          .\n        </p>\n        <h4>Our responsibility for loss or damage suffered by you</h4>\n        <p>\n          <b>Whether you are a consumer or a business user:</b>\n        </p>\n        <ul>\n          <li>\n            We do not exclude or limit in any way our liability to you where it\n            would be unlawful to do so. This includes liability for death or\n            personal injury caused by our negligence or the negligence of our\n            employees, agents or subcontractors and for fraud or fraudulent\n            misrepresentation.\n          </li>\n          <li>\n            Different limitations and exclusions of liability will apply to\n            liability arising as a result of the supply of any products to you,\n            which will be set out in our Terms and conditions of supply.\n          </li>\n        </ul>\n        <p>\n          <b>If you are a business user:</b>\n        </p>\n        <ul>\n          <li>\n            We exclude all implied conditions, warranties, representations or\n            other terms that may apply to our site or any content on it.\n          </li>\n          <li>\n            We will not be liable to you for any loss or damage, whether in\n            contract, tort (including negligence), breach of statutory duty, or\n            otherwise, even if foreseeable, arising under or in connection with:\n            <ol>\n              <li>use of, or inability to use, our site; or</li>\n              <li>use of or reliance on any content displayed on our site.</li>\n            </ol>\n          </li>\n          <li>\n            In particular, we will not be liable for:\n            <ol>\n              <li>loss of profits, sales, business, or revenue;</li>\n              <li>business interruption;</li>\n              <li>loss of anticipated savings;</li>\n              <li>loss of business opportunity, goodwill or reputation; or</li>\n              <li>any indirect or consequential loss or damage.</li>\n            </ol>\n          </li>\n        </ul>\n        <p>\n          <b>If you are a consumer user:</b>\n        </p>\n        <ul>\n          <li>\n            Please note that we only provide our site for domestic and private\n            use. You agree not to use our site for any commercial or business\n            purposes, and we have no liability to you for any loss of profit,\n            loss of business, business interruption, or loss of business\n            opportunity.\n          </li>\n          <li>\n            If defective digital content that we have supplied, damages a device\n            or digital content belonging to you and this is caused by our\n            failure to use reasonable care and skill, we will either repair the\n            damage or pay you compensation. However, we will not be liable for\n            damage that you could have avoided by following our advice to apply\n            an update offered to you free of charge or for damage that was\n            caused by you failing to correctly follow installation instructions\n            or to have in place the minimum system requirements advised by us.\n          </li>\n        </ul>\n        <h4>How we may use your personal information</h4>\n        <p>\n          We will only use your personal information as set out in our{\" \"}\n          <a\n            href=\" //intellidigest.com/privacy-policy/\"\n            style={{ color: \"#AFBA15\" }}\n          >\n            {\" \"}\n            https://intellidigest.com/privacy-policy/\n          </a>{\" \"}\n        </p>\n        <h4>Uploading content to our site</h4>\n        <p>\n          Whenever you make use of a feature that allows you to upload content\n          to our site, or to make contact with other users of our site, you must\n          comply with the content standards set out in our Acceptable Use\n          Policy.\n        </p>\n        <p>\n          You warrant that any such contribution does comply with those\n          standards, and you will be liable to us and indemnify us for any\n          breach of that warranty. This means you will be responsible for any\n          loss or damage we suffer as a result of your breach of warranty.\n        </p>\n        <p>\n          Any content you upload to our site will be considered non-proprietary.\n          You retain all of your ownership rights in your content, but you are\n          required to grant us and other users of our site a limited licence to\n          use, store and copy that content and to distribute and make it\n          available to third parties. The rights you license to us are described\n          in <b>Rights you are giving us to use material you upload</b>.\n        </p>\n        <p>\n          We also have the right to disclose your identity to any third party\n          who is claiming that any content posted or uploaded by you to our site\n          constitutes a violation of their intellectual property rights, or of\n          their right to privacy.\n        </p>\n        <p>\n          We have the right to remove any posting you make on our site if, in\n          our opinion, your post does not comply with the content standards set\n          out in our Acceptable Use Policy.\n        </p>\n        <p>\n          You are solely responsible for securing and backing up your content.\n        </p>\n        <p>We do not store terrorist content.</p>\n        <h4>Rights you are giving us to use material you upload</h4>\n        <p>\n          When you upload or post content to our site, you grant us the\n          following rights to use that content:\n        </p>\n        <ul>\n          <li>LICENCES GRANTED TO THE WEBSITE OWNER.</li>\n          <li>\n            LICENCES GRANTED TO OTHER USERS OF THE SITE OR TO THIRD PARTIES.\n          </li>\n        </ul>\n        <h4>\n          We are not responsible for viruses and you must not introduce them\n        </h4>\n        <p>\n          We do not guarantee that our site will be secure or free from bugs or\n          viruses. You are responsible for configuring your information\n          technology, computer programmes and platform to access our site. You\n          should use your own virus protection software.\n        </p>\n        <p>\n          You must not misuse our site by knowingly introducing viruses,\n          trojans, worms, logic bombs or other material that is malicious or\n          technologically harmful. You must not attempt to gain unauthorised\n          access to our site, the server on which our site is stored or any\n          server, computer or database connected to our site. You must not\n          attack our site via a denial-of-service attack or a distributed\n          denial-of service attack. By breaching this provision, you would\n          commit a criminal offence under the Computer Misuse Act 1990. We will\n          report any such breach to the relevant law enforcement authorities and\n          we will co-operate with those authorities by disclosing your identity\n          to them. In the event of such a breach, your right to use our site\n          will cease immediately.\n        </p>\n        <h4>Rules about linking to our site</h4>\n        <p>\n          You may link to our home page, provided you do so in a way that is\n          fair and legal and does not damage our reputation or take advantage of\n          it.\n        </p>\n        <p>\n          You must not establish a link in such a way as to suggest any form of\n          association, approval or endorsement on our part where none exists.\n        </p>\n        <p>\n          You must not establish a link to our site in any website that is not\n          owned by you.\n        </p>\n        <p>\n          Our site must not be framed on any other site, nor may you create a\n          link to any part of our site other than the home page.\n        </p>\n        <p>\n          We reserve the right to withdraw linking permission without notice.\n        </p>\n        <p>\n          The website in which you are linking must comply in all respects with\n          the content standards set out in our Acceptable Use Policy.\n        </p>\n        <p>\n          If you wish to link to or make any use of content on our site other\n          than that set out above, please contact <b>info@IntelliDigest.com</b>.{\" \"}\n        </p>\n        <h4>Which country’s laws apply to any disputes?</h4>\n        <p>\n          If you are a consumer, please note that these terms of use, their\n          subject matter and their formation, are governed by Scottish law. You\n          and we both agree that the courts of Scotland will have exclusive\n          jurisdiction except that if you are a resident of Northern Ireland you\n          may also bring proceedings in Northern Ireland, and if you are\n          resident of England or Wales, you may also bring proceedings in\n          England or Wales.\n        </p>\n        <p>\n          If you are a business, these terms of use, their subject matter and\n          their formation (and any non-contractual disputes or claims) are\n          governed by Scottish law. We both agree to the exclusive jurisdiction\n          of the courts of Scotland.\n        </p>\n        <h4>Our trade marks are registered</h4>\n        <p>\n          IntelliDigest is an international registered trademark of\n          IntelliDigest Ltd. You are not permitted to use them without our\n          approval, unless they are part of material you are using as permitted\n          under <b>How you may use material on our site.</b>\n        </p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default function TermsAndCons() {\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <Button onClick={handleOpen}>TERMS AND CONDITIONS</Button>\n      <TermsAndConsModal show={open} onHide={handleClose} />\n    </div>\n  );\n}\n\nexport const TermsAndConditions = () => {};\n","import React from \"react\";\nimport TermsAndCons from \"../../../../../SubComponents/TermsAndConditions\";\nimport { Form, Button } from \"react-bootstrap\";\nimport \"../../../../../SubComponents/Button.css\";\n\nexport default function Stage6({ handleSubmit }) {\n  return (\n    <>\n      <h5>\n        You're all set! Please accept the terms and conditions to continue.\n      </h5>\n      <TermsAndCons />\n      <Form onSubmit={(e) => handleSubmit(e)}>\n        <Form.Group>\n          <Form.Check\n            type=\"checkbox\"\n            label=\"I accept the terms and conditions.\"\n            required\n          />\n          <Button className=\"blue-btn shadow-none mt-3\" type=\"submit\">\n            Start\n          </Button>\n        </Form.Group>\n      </Form>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport Stage0 from \"./Stage0\";\nimport Stage1 from \"./Stage1\";\nimport Stage2 from \"./Stage2\";\nimport Stage3 from \"./Stage3\";\nimport Stage4 from \"./Stage4\";\nimport Stage5 from \"./Stage5\";\nimport Stage51 from \"./Stage51\";\nimport Stage52 from \"./Stage52\";\nimport Stage6 from \"./Stage6\";\n\nimport { submitNotification } from \"../../../../../lib/Notifications\";\nimport { becomeSeller } from \"../../../../../../store/actions/authActions\";\nimport { connect } from \"react-redux\";\n\n//controls the form for farm plan auth\nfunction Control(props) {\n  const [form, setForm] = useState(0);\n\n  const handleSubmit = (e) => {\n    let data;\n    if (props.certificate) {\n      data = {\n        profile: { isSeller: true },\n        info: {\n          email: props.auth.email,\n          association: props.association,\n          certificate: `/farmer-auth/${props.certificate.name}`,\n          location: [\n            props.farm,\n            props.address1,\n            props.address2,\n            props.town,\n            props.country,\n            props.postcode,\n          ],\n          sector: props.sector,\n          practice: props.practice,\n          futurePractice: props.futurePractice,\n          effective: props.effective,\n        },\n      };\n      e.preventDefault();\n      props.becomeSeller(data);\n      submitNotification(\"Success!\", \"Thanks for joining the plan to Save\");\n    } else {\n      data = {\n        profile: { isSeller: true },\n        info: {\n          email: props.auth.email,\n          location: [\n            props.farm,\n            props.address1,\n            props.address2,\n            props.town,\n            props.country,\n            props.postcode,\n          ],\n          sector: props.sector,\n          practice: props.practice,\n          futurePractice: props.futurePractice,\n          effective: props.effective,\n        },\n      };\n      e.preventDefault();\n      props.becomeSeller(data);\n    }\n  };\n\n  //make component rerender every time form stage switches\n  useEffect(() => {}, [form]);\n\n  switch (form) {\n    case 0:\n      return (\n        <div className=\"auth\">\n          <Stage0\n            setForm={setForm}\n            existing={props.existing}\n            setExisting={props.setExisting}\n          />\n        </div>\n      );\n    case 1:\n      return (\n        <div className=\"auth\">\n          <Stage1\n            setForm={setForm}\n            setAssociation={props.setAssociation}\n            association={props.association}\n          />\n        </div>\n      );\n    case 2:\n      return (\n        <div className=\"auth\">\n          <Stage2\n            setForm={setForm}\n            certificate={props.certificate}\n            setCertificate={props.setCertificate}\n          />\n        </div>\n      );\n    case 3:\n      return (\n        <div className=\"auth\">\n          <Stage3\n            setForm={setForm}\n            farm={props.farm}\n            setFarm={props.setFarm}\n            address1={props.address1}\n            setAddress1={props.setAddress1}\n            address2={props.address2}\n            setAddress2={props.setAddress2}\n            town={props.town}\n            setTown={props.setTown}\n            country={props.country}\n            setCountry={props.setCountry}\n            postcode={props.postcode}\n            setPostcode={props.setPostcode}\n            existing={props.existing}\n          />\n        </div>\n      );\n    case 4:\n      return (\n        <div className=\"auth\">\n          <Stage4\n            setForm={setForm}\n            sector={props.sector}\n            setSector={props.setSector}\n          />\n        </div>\n      );\n    case 5:\n      return (\n        <div className=\"auth\">\n          <Stage5\n            setForm={setForm}\n            practices={props.practices}\n            practice={props.practice}\n            setPractice={props.setPractice}\n          />\n        </div>\n      );\n    case 5.1:\n      return (\n        <div className=\"auth\">\n          <Stage51\n            setForm={setForm}\n            practices={props.practices}\n            futurePractice={props.futurePractice}\n            setFuturePractice={props.setFuturePractice}\n          />\n        </div>\n      );\n    case 5.2:\n      return (\n        <div className=\"auth\">\n          <Stage52 setForm={setForm} setEffective={props.setEffective} />\n        </div>\n      );\n    case 5.3:\n      return (\n        <>\n          <div className=\"basic-text\">\n            Thanks for your interest in the World Food tracker. We only engage\n            with sustainable farmers. Please, get back to us once you decide to\n            farm sustainably.\n          </div>\n          <div className=\"basic-text mb-2\">We are here to support you.</div>\n          <div className=\"basic-text mb-2\">\n            To learn more about our approach to sustainability, check out the\n            Food Industry Sustainability Index on our website{\" \"}\n            <a href=\"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/?doing_wp_cron=1657288516.7443490028381347656250\">\n              here\n            </a>\n            .\n          </div>\n        </>\n      );\n    case 6:\n      return (\n        <div className=\"auth\">\n          <Stage6 handleSubmit={handleSubmit} />\n        </div>\n      );\n    default:\n    case \"void\":\n      return (\n        <div className=\"basic-title\">\n          We're sorry, you cannot make a plan with us at this time.\n        </div>\n      );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    becomeSeller: (seller) => dispatch(becomeSeller(seller)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Control);\n","import React, { useState } from \"react\";\nimport Control from \"./control\";\nimport { PageWrap } from \"../../../../../SubComponents/PageWrap\";\nimport \"../FarmPlan.css\";\nimport { useEffect } from \"react\";\n\nexport default function FarmerAuth() {\n  //stage 0 are you an existing farm\n  const [existing, setExisting] = useState(false);\n\n  //stage 1 (are you a famring association member)\n  const [association, setAssociation] = useState(false);\n\n  //stage 2 (certificate of incorporation)\n  const [certificate, setCertificate] = useState(\"\");\n\n  //stage 3 location\n  const [farm, setFarm] = useState(\"\");\n  const [address1, setAddress1] = useState(\"\");\n  const [address2, setAddress2] = useState(\"\");\n  const [town, setTown] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [postcode, setPostcode] = useState(\"\");\n\n  //stage 4 farming sector\n  const [sector, setSector] = useState(\"Horticulture\");\n\n  //stage 5 sustainability\n  //handles how the sustainable practices list will vary for each sector\n  let practices;\n  switch (sector) {\n    default:\n    case \"Horticulture\":\n      practices = [\n        \"Permaculture\",\n        \"Biodynamic Farming\",\n        \"Agroforestry\",\n        \"Food forestry\",\n        \"Poly culture\",\n        \"Regenerative agriculture\",\n        \"Crop rotation\",\n        \"Mulching/ground cover\",\n        \"Growth of heirlooms\",\n        \"Natural pest management\",\n        \"Others\",\n      ];\n      break;\n    case \"Livestock\":\n      practices = [\"Permaculture\", \"Natural animal raising\", \"Others\"];\n      break;\n    case \"Aquaculture\":\n      practices = [\"Permaculture\", \"Natural fish harvest\", \"Others\"];\n      break;\n    case \"Insect Farm\":\n      practices = [\"Permaculture\", \"Others\"];\n      break;\n    case \"Other\":\n      practices = [\n        \"Permaculture\",\n        \"Biodynamic Farming\",\n        \"Agroforestry\",\n        \"Food forestry\",\n        \"Poly culture\",\n        \"Regenerative agriculture\",\n        \"Crop rotation\",\n        \"Mulching/ground cover\",\n        \"Growth of heirlooms\",\n        \"Natural animal raising\",\n        \"Natural pest management\",\n        \"Natural fish harvest\",\n        \"Others\",\n      ];\n      break;\n  }\n\n  //handles the state of items in the checklist\n  const [practice, setPractice] = useState([]);\n  const [futurePractice, setFuturePractice] = useState([]);\n  const [effective, setEffective] = useState(\"\");\n\n  useEffect(() => {\n    setPractice(new Array(practices.length).fill(false));\n    setFuturePractice(new Array(practices.length).fill(false));\n    console.log(practice);\n  }, [sector]);\n\n  return (\n    <PageWrap goTo=\"/account\" header=\"My Farm Plan\" subtitle=\"Build your plan\">\n      <Control\n        existing={existing}\n        setExisting={setExisting}\n        association={association}\n        setAssociation={setAssociation}\n        certificate={certificate}\n        setCertificate={setCertificate}\n        farm={farm}\n        setFarm={setFarm}\n        address1={address1}\n        setAddress1={setAddress1}\n        address2={address2}\n        setAddress2={setAddress2}\n        town={town}\n        setTown={setTown}\n        country={country}\n        setCountry={setCountry}\n        postcode={postcode}\n        setPostcode={setPostcode}\n        sector={sector}\n        setSector={setSector}\n        practices={practices}\n        practice={practice}\n        setPractice={setPractice}\n        futurePractice={futurePractice}\n        setFuturePractice={setFuturePractice}\n        effective={effective}\n        setEffective={setEffective}\n      />\n    </PageWrap>\n  );\n}\n","import React from \"react\";\n\nimport \"../../../../SubComponents/Button.css\";\n\nimport { Select } from \"../../../../SubComponents/Dropdown\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\n\nfunction List(props) {\n  let list;\n  list = props.items.map((item, index) => {\n    return <li key={index}>{item}</li>;\n  });\n\n  return (\n    <div style={{ padding: \"0 0 0 4%\" }}>\n      <ul>{list}</ul>\n    </div>\n  );\n}\n\nexport const ConsumerLocation = (props) => {\n  return (\n    <PageWrap goTo=\"/account\" header=\"My Meal Plan\" subtitle=\"Plan To Save\">\n      <p>{props.message}</p>\n      <Form>\n        <Form.Group>\n          <Form.Label>Add preferred location(s) for pick up.</Form.Label>\n          <InputGroup className=\"mb-3\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"City\"\n              id=\"pick-up-location\"\n            />\n            <Button\n              className=\"green-btn\"\n              id=\"cities\"\n              onClick={(e) => {\n                props.addCity([\n                  ...props.cities,\n                  e.target.previousSibling.value,\n                ]);\n              }}\n            >\n              Add\n            </Button>\n          </InputGroup>\n          <List items={props.cities} />\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Add preferred pick up day(s)</Form.Label>\n          <InputGroup>\n            <Select\n              id=\"choose-day\"\n              function={(e) => {\n                props.setDay(e.target.value);\n              }}\n              value={props.day}\n              placeholder=\"Choose available days\"\n              items={[\n                \"Mondays\",\n                \"Tuesdays\",\n                \"Wednesdays\",\n                \"Thursdays\",\n                \"Fridays\",\n              ]}\n            />\n            <Button\n              className=\"green-btn\"\n              id=\"days\"\n              onClick={(e) => {\n                props.addDay([...props.days, e.target.previousSibling.value]);\n              }}\n            >\n              Add\n            </Button>\n          </InputGroup>\n          <List items={props.days} />\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Add preferred pick up times(s) (24 hr)</Form.Label>\n          {/* add a better time picker here, like mui */}\n          <InputGroup className=\"mb-3\">\n            <Form.Control\n              type=\"time\"\n              placeholder=\"City\"\n              id=\"pick-up-location\"\n            />\n            <Button\n              className=\"green-btn\"\n              id=\"times\"\n              onClick={(e) => {\n                props.addTime([...props.times, e.target.previousSibling.value]);\n              }}\n            >\n              Add\n            </Button>\n          </InputGroup>\n          <List items={props.times} />\n        </Form.Group>\n      </Form>\n      {/* Here will make areas to populate pick up locations and dates/times */}\n      <Button\n        className=\"green-btn\"\n        onClick={(e) => props.setForm(\"autoCreate\")}\n      >\n        Next\n      </Button>\n    </PageWrap>\n  );\n};\n","//not currently in use\nimport React, { useState, useEffect } from \"react\";\n\nimport \"../../../../SubComponents/Button.css\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\nimport { ConsumerLocation } from \"./ConsumerLocation\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { becomeConsumer } from \"../../../../../store/actions/authActions\";\nimport { connect } from \"react-redux\";\n\nconst ConsumerAuth = (props) => {\n  const [form, setForm] = useState(\"start\");\n  const [cities, addCity] = useState([]);\n  const [days, addDay] = useState([]);\n  // this is to control the dropdown only\n  const [day, setDay] = useState(\"\");\n  const [times, addTime] = useState([]);\n\n  //rerender on form change\n  useEffect(() => {}, [form]);\n\n  const HandleSubmit = (e) => {\n    var data = {\n      uid: props.auth.uid,\n      upload: {\n        email: props.auth.email,\n        cities: cities,\n        days: days,\n        times: times,\n      },\n      profile: { isConsumer: true },\n    };\n    props.becomeConsumer(data);\n  };\n\n  switch (form) {\n    default:\n    case \"start\":\n      return (\n        <PageWrap goTo=\"account\" header=\"My Meal Plan\" subtitle=\"Plan To Save\">\n          <Form>\n            <Form.Label>Do you have a meal preparation plan?</Form.Label>\n            <Form.Check\n              type=\"radio\"\n              name=\"meal-plan\"\n              label=\"Yes\"\n              onClick={HandleSubmit}\n            />\n            <Form.Check\n              type=\"radio\"\n              name=\"meal-plan\"\n              label=\"No\"\n              onClick={() => setForm(\"location\")}\n            />\n          </Form>\n        </PageWrap>\n      );\n    case \"location\":\n      return (\n        <ConsumerLocation\n          setForm={setForm}\n          addCity={addCity}\n          cities={cities}\n          setDay={setDay}\n          day={day}\n          addDay={addDay}\n          days={days}\n          addTime={addTime}\n          times={times}\n          message=\"Thanks for choosing Plan To Save. To serve you better, we need to\n           know a preferred location, day and time for picking up your food\n           item. It may be close to work or home; whatever works best for you.\"\n        />\n      );\n    case \"autoCreate\":\n      return (\n        <PageWrap goTo=\"/account\" header=\"My Meal Plan\" subtitle=\"Plan To Save\">\n          <Form>\n            <Form.Group>\n              <Form.Label>\n                Do you want the tracker to work with you in the next 4 weeks to\n                develop a plan?\n              </Form.Label>\n              <Form.Check\n                type=\"radio\"\n                name=\"develop-plan\"\n                label=\"Yes\"\n                // onClick={redirect to food intake}\n              />\n              <Form.Check type=\"radio\" name=\"develop-plan\" label=\"No\" />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>\n                Do you want us to create a plan for you based on your\n                availability for pickup and your local suppliers?\n              </Form.Label>\n              <Form.Check\n                type=\"radio\"\n                name=\"create-plan\"\n                label=\"Yes\"\n                onClick={(e) => setForm(\"develop-plan\")}\n              />\n              <Form.Check\n                type=\"radio\"\n                name=\"develop-plan\"\n                label=\"No\"\n                onClick={HandleSubmit}\n              />\n            </Form.Group>\n          </Form>\n        </PageWrap>\n      );\n    case \"develop-plan\":\n      return (\n        <PageWrap goto=\"/account\" header=\"My Meal Plan\" subtitle=\"Plan To Save\">\n          <p>\n            We are onboarding farmers in your location to create a plan for you.\n            Check back soon.\n          </p>\n          <Button className=\"green-btn\" onClick={HandleSubmit}>\n            Okay\n          </Button>\n        </PageWrap>\n      );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    becomeConsumer: (consumer) => dispatch(becomeConsumer(consumer)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConsumerAuth);\n","import React, { useState, useEffect } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport \"../../../../../../SubComponents/Button.css\";\n\nimport { recommend } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\n\nfunction EatingOut(props) {\n  const [restaurant, setRestaurant] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n\n  const handleSubmit = () => {\n    const data = {\n      restaurant: restaurant,\n      email: email,\n      location: location,\n    };\n    props.recommend(data);\n  };\n\n  return (\n    <>\n      <div className=\"basic-title-left\">\n        <div className=\"mb-3\">\n          We have not identified a sustainable restaurant in your location,\n          please, recommend a restaurant or check back later.\n        </div>\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.handleFormClose();\n          }}\n        >\n          <Form.Group>\n            <Form.Label>Restaurant Name.</Form.Label>\n            <Form.Control\n              type=\"text\"\n              onChange={(e) => setRestaurant(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Location.</Form.Label>\n            <Form.Control\n              type=\"text\"\n              onChange={(e) => setLocation(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Their email address.</Form.Label>\n            <Form.Control\n              type=\"text\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </Form.Group>\n          <Button className=\"green-btn\" type=\"submit\">\n            Submit\n          </Button>\n        </Form>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    recommend: (data) => dispatch(recommend(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EatingOut);\n","import React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\n\nexport default function MealType({ setMealType }) {\n  const [control, setControl] = useState(\"Any\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    switch (control) {\n      default:\n      case \"Any\":\n        setMealType(\"\");\n        break;\n      case \"Breakfast\":\n        setMealType(\"Breakfast\");\n        break;\n      case \"Lunch\":\n        setMealType(\"Lunch\");\n        break;\n      case \"Dinner\":\n        setMealType(\"Dinner\");\n        break;\n      case \"Snack\":\n        setMealType(\"Snack\");\n        break;\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  const mealTypes = [\"Any\", \"Breakfast\", \"Lunch\", \"Dinner\", \"Snack\"];\n\n  return (\n    <Dropdown\n      id=\"meal-type\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={mealTypes}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","//api docs here https://developer.edamam.com/food-database-api-docs\nexport const foodItemApi = async (query, setResponse) => {\n  const app_id = \"e61e6c91\";\n  const app_key = \"25fbf2bfe68aaeac0f67859971acbee0\";\n  const limit = \"5\";\n  const link = `https://api.edamam.com/auto-complete?app_id=${app_id}&app_key=${app_key}&q=${query}&limit=${limit}`;\n  const resp = await fetch(link);\n  const data = await resp.json();\n  setResponse(data);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { foodItemApi } from \"./FoodItemAPI\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\n\nexport default function FoodItemSearch({ handleFoodSearch }) {\n  const [query, setQuery] = useState(\"\");\n  const [response, setResponse] = useState([]);\n\n  useEffect(() => {\n    foodItemApi(query, setResponse);\n  }, [query]);\n\n  // useEffect(() => {\n  //   console.log(\"query\", query);\n  // });\n\n  // useEffect(() => {\n  //   console.log(\"response\", response);\n  // }, [response]);\n\n  let options;\n  if (query === \"\") {\n    options = [\"...\"];\n  } else {\n    options = response;\n  }\n\n  return (\n    <>\n      {query ? (\n        <Autocomplete\n          onInputChange={(e) => {\n            setQuery(e.target.value);\n            handleFoodSearch(e);\n          }}\n          onChange={(e) => {\n            handleFoodSearch(e);\n          }}\n          id=\"food\"\n          options={options}\n          freeSolo\n          sx={{ width: \"100%\", lineHeight: \"calc(1.5em + .75rem + 2px)\" }}\n          renderInput={(params) => <TextField {...params} label=\"Item\" />}\n        />\n      ) : (\n        <Autocomplete\n          onInputChange={(e) => {\n            setQuery(e.target.value);\n            handleFoodSearch(e);\n          }}\n          onChange={(e) => {\n            handleFoodSearch(e);\n          }}\n          id=\"food\"\n          freeSolo\n          options={options}\n          getOptionDisabled={(option) => option === options[0]}\n          sx={{ width: \"100%\", lineHeight: \"calc(1.5em + .75rem + 2px)\" }}\n          renderInput={(params) => <TextField {...params} label=\"Item\" />}\n        />\n      )}\n    </>\n  );\n}\n","// export const addToShoppingList = (data) => {\n//   return (dispatch, getState, { getFirestore }) => {\n//     //make async call to database\n//     const profile = getState().firebase.profile;\n//     const authUID = getState().firebase.auth.uid;\n\n//     var uid;\n//     switch (profile.type) {\n//       case \"business_admin\":\n//         uid = authUID;\n//         break;\n//       case \"business_sub\":\n//         uid = profile.admin;\n//         break;\n//       case \"academic_admin\":\n//         uid = authUID;\n//         break;\n//       case \"academic_sub\":\n//         uid = profile.admin;\n//         break;\n//       case \"household_admin\":\n//         uid = authUID;\n//         break;\n//       case \"household_sub\":\n//         uid = profile.admin;\n//         break;\n//       default:\n//         uid = authUID;\n//         break;\n//     }\n\n//     const ingr = data.upload.ingredients;\n\n//     const firestore = getFirestore();\n//     const batch = firestore.batch();\n\n//     //send each separate ingredient to its own document\n//     ingr.forEach((element) => {\n//       var docRef = firestore\n//         .collection(\"marketplace\")\n//         .doc(uid)\n//         .collection(\"shoppingList\")\n//         .doc(data.week)\n//         .collection(data.week)\n//         .doc();\n//       batch.set(docRef, { id: docRef.id, ingredient: element });\n//     });\n//     batch\n//       .commit()\n//       .then(() => {\n//         dispatch({ type: \"CREATE_SHOP\", ingr });\n//       })\n//       .catch((err) => {\n//         dispatch({ type: \"CREATE_SHOP_ERROR\", err });\n//       });\n//   };\n// };\n\nexport const addToShoppingList = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    const item = data.upload.item;\n\n    getFirestore()\n    .collection(\"marketplace\")\n    .doc(uid)\n    .collection(\"shoppingList\")\n    .doc(data.week)\n    .collection(data.week)\n    .add(data.upload)\n    .then((docRef) => {\n      // make the docId easily accessible so that we can delete it later if we want.\n      getFirestore()\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"shoppingList\")\n        .doc(data.week)\n        .collection(data.week)\n        .doc(docRef.id)\n        .set({ id: docRef.id }, { merge: true });\n      dispatch({ type: \"CREATE_SHOP\" });\n    })\n    .catch((err) => {\n      dispatch({ type: \"CREATE_SHOP_ERROR\", err });\n    });\n  };\n};\n\n\n \nexport const addToShoppingListUpdate = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    const ingr = data.upload.result;\n\n    //console.log(\"checking what error ===> \", ingr)\n\n    const firestore = getFirestore();\n    const batch = firestore.batch();\n\n    //send each separate ingredient to its own document\n    ingr.forEach((element) => {\n      var docRef = firestore\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"newShoppingList\")\n        .doc(data.week)\n        .collection(data.week)\n        .doc();\n      batch.set(docRef, { id: docRef.id, ingredient: element});\n      //console.log(\"sshshshsh\", element.id);\n    });\n    batch\n      .commit()\n      .then(() => {\n        dispatch({ type: \"CREATE_NEW_SHOP\", ingr });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_NEW_SHOP_ERROR\", err });\n      });\n  };\n};\n\nexport const getShoppingList = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    console.log(\"----\", data)\n\n    getFirestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"shoppingList\")\n      .doc(data.week)\n      .collection(data.week)\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_SHOPPING_LIST\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_SHOPPING_LIST_ERROR\", err });\n      });\n  };\n};\n\nexport const getShoppingListUpdate = (data) => {\n  return (dispatch, getState, { getFirestore }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n\n    getFirestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newShoppingList\")\n      .doc(data.week)\n      .collection(data.week)\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_NEW_SHOPPING_LIST\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_NEW_SHOPPING_LIST_ERROR\", err });\n      });\n  };\n};\n\nexport const removeFromShop = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"shoppingList\")\n      .doc(data.week)\n      .collection(data.week)\n      .doc(data.id)\n      .delete()\n      .then(() => dispatch({ type: \"DELETE_SHOP\" }))\n      .catch((err) => {\n        dispatch({ type: \"DELETE_SHOP_ERROR\", err });\n      });\n  };\n};\n\nexport const newRemoveFromShop = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newShoppingList\")\n      .doc(data.week)\n      .collection(data.week)\n      .doc(data.id)\n      .delete()\n      .then(() => dispatch({ type: \"DELETE_NEW_SHOP\" }))\n      .catch((err) => {\n        dispatch({ type: \"DELETE_BEW_SHOP_ERROR\", err });\n      });\n  };\n};\n\nexport const editShoppingListData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    console.log(\"---->>>>>>\", data)\n\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newShoppingList\")\n      .doc(`${data.week}`)\n      .collection(`${data.week}`)\n      .doc(data.id)\n      .set(data.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_SHOPPING_LIST\", payload: data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_SHOPPING_LIST_ERROR\", err });\n      });\n  };\n};\n\nexport const editShoppingListDataAddedItems = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    console.log(\"---->>>>>>\", data)\n\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"shoppingList\")\n      .doc(`${data.week}`)\n      .collection(`${data.week}`)\n      .doc(data.id)\n      .set(data.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_SHOPPING_LIST\", payload: data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_SHOPPING_LIST_ERROR\", err });\n      });\n  };\n};","//api docs here https://developer.edamam.com/food-database-api-docs\n//need the food id from api in order to find the nutrition\nexport const foodIdAPI = async (food, setFoodId) => {\n  const app_id = \"e61e6c91\";\n  const app_key = \"25fbf2bfe68aaeac0f67859971acbee0\";\n  const link = `https://api.edamam.com/api/food-database/v2/parser?app_id=${app_id}&app_key=${app_key}&ingr=${food}&nutrition-type=cooking`;\n  const resp = await fetch(link);\n  const data = await resp.json();\n  setFoodId(data.hints[0].food.foodId);\n};\n\nexport const nutritionAPI = async (local, setNutrition) => {\n  let measure;\n  switch (local.measure) {\n    default:\n    case \"g\":\n      measure = \"http://www.edamam.com/ontologies/edamam.owl#Measure_gram\";\n      break;\n    case \"kg\":\n      measure = \"http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram\";\n      break;\n    case \"mL\":\n      measure =\n        \"http://www.edamam.com/ontologies/edamam.owl#Measure_milliliter\";\n      break;\n    case \"L\":\n      measure = \"http://www.edamam.com/ontologies/edamam.owl#Measure_liter \";\n      break;\n    case \"tsp\":\n      measure = \"http://www.edamam.com/ontologies/edamam.owl#Measure_teaspoon \";\n      break;\n    case \"tbsp\":\n      measure =\n        \"http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon\";\n      break;\n    case \"cups\":\n      measure = \"http://www.edamam.com/ontologies/edamam.owl#Measure_cup\";\n      break;\n  }\n\n  const app_id = \"e61e6c91\";\n  const app_key = \"25fbf2bfe68aaeac0f67859971acbee0\";\n  const link = `https://api.edamam.com/api/food-database/v2/nutrients?app_id=${app_id}&app_key=${app_key}`;\n  const ingredient = {\n    ingredients: [\n      {\n        quantity: local.quantity,\n        measureURI: measure,\n        foodId: local.foodId,\n      },\n    ],\n  };\n\n  //     const resp = await fetch(link, {\n  //     method: \"POST\",\n  //     headers: {\n  //       Accept: \"application/json\",\n  //       \"Content-Type\": \"application/json\",\n  //     },\n  //     body: JSON.stringify({\n  //       ingredients: [\n  //         {\n  //           quantity: local.quantity,\n  //           measureURI: measure,\n  //           foodId: local.foodId,\n  //         },\n  //       ],\n  //     }),\n  //   });\n  //   console.log(resp);\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport MealType from \"../Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport FoodItemSearch from \"./InputRecipe/FoodItemSearch\";\nimport \"../../../../../../SubComponents/Button.css\";\n\nimport { connect } from \"react-redux\";\nimport { createRecipe } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { createMealPlanData } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { addToShoppingList } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { foodIdAPI, nutritionAPI } from \"./InputRecipe/NutritionApi\";\n\nfunction AddMealForm(props) {\n  const [mealName, setMealName] = useState(\"\");\n  const [mealType, setMealType] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  //saves recipe to saved meal list\n  const [save, setSave] = useState(true);\n  const handleSave = () => {\n    setSave(!save);\n  };\n\n  //controls local state of ingredient as we fetch data for it,\n  //once ingredient is \"added\" it will be moved to ingredient array\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\", \n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //when local.food changes, fetch the id for the food item\n  //which is needed to fetch nutrition\n  const setFoodId = (foodId) => {\n    setLocal({ ...local, foodId: foodId });\n  };\n\n  const [ingredients, setIngredients] = useState([]);\n  const handleIngredient = async () => {\n    if (local.food !== \"\") {\n      foodIdAPI(local.food, setFoodId).then(() => {\n        setIngredients((ingredients) => [...ingredients, local]);\n        setLocal(defaultLocal);\n      });\n    } else {\n      setErr(\"Please input an ingredient to add.\");\n    }\n  };\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n  const ingredientsList = ingredients.map((ingredient, index) => {\n    return (\n      <li key={index}>\n        {ingredient.food}: {ingredient.quantity}\n        {ingredient.measure}\n      </li>\n    );\n  });\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        meal: mealName,\n        mealType: mealType,\n        ingredients: ingredients,\n      },\n    };\n\n    console.log(\"checking props:\", props)\n    props.createMealPlanData(data);\n    forceUpdate();\n\n    if (save) {\n      props.createRecipe(data);\n    }\n    props.addToShoppingList(data);\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      {/* <button\n        onClick={() => {\n          nutritionAPI(local);\n        }}\n      >\n        send test\n      </button> */}\n      <Form.Group>\n        <Form.Label>Meal Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealName\"\n          onChange={(e) => {\n            setMealName(e.target.value);\n          }}\n          required\n        />\n      </Form.Group>\n\n      <MealType setMealType={setMealType} ownRecipe={true} />\n\n      <div style={{ padding: \"0 0 0 4%\" }}>\n        <ul>{ingredientsList}</ul>\n      </div>\n\n      <Form.Group>\n        {/* <Form.Label>Ingredient</Form.Label> */}\n        {/* <Form.Control\n          type=\"text\"\n          id=\"food\"\n          onChange={(e) => handleLocal(e)}\n          value={local.food}\n        /> */}\n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Weight/Volume</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            onChange={(e) => handleLocal(e)}\n            value={local.quantity}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={local.measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\", \"pcs\", \"oz\", \"lbs\"]}\n            function={(e) => {\n              setLocal({ ...local, measure: e });\n            }}\n          />\n        </InputGroup>\n      </Form.Group>\n\n      <Form.Group>\n        <Button\n          className=\"green-btn shadow-none\"\n          id=\"add ingredient\"\n          onClick={() => {\n            handleIngredient();\n          }}\n        >\n          Add Ingredient\n        </Button>\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Check\n          type=\"checkbox\"\n          defaultChecked\n          label=\"Save meal\"\n          onClick={() => handleSave()}\n        />\n      </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n    createRecipe: (data) => dispatch(createRecipe(data)),\n    addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddMealForm);\n","import { Html5QrcodeScanner } from \"html5-qrcode/esm/html5-qrcode-scanner\";\nimport React, { useEffect } from \"react\";\n\nconst qrcodeRegionId = \"html5qr-code-full-region\";\n\nconst createConfig = (props) => {\n  let config = {};\n  if (props.fps) {\n    config.fps = props.fps;\n  }\n  if (props.qrbox) {\n    config.qrbox = props.qrbox;\n  }\n  if (props.aspectRatio) {\n    config.aspectRatio = props.aspectRatio;\n  }\n  if (props.disableFlip !== undefined) {\n    config.disableFlip = props.disableFlip;\n  }\n  return config;\n};\n\nconst Html5QrcodePlugin = (props) => {\n  useEffect(() => {\n    // when component mounts\n    const config = createConfig(props);\n    const verbose = props.verbose === true;\n    if (!props.qrCodeSuccessCallback) {\n      throw \"qrCodeSuccessCallback is required callback.\";\n    }\n    const html5QrcodeScanner = new Html5QrcodeScanner(\n      qrcodeRegionId,\n      config,\n      verbose\n    );\n    html5QrcodeScanner.render(\n      props.qrCodeSuccessCallback,\n      props.qrCodeErrorCallback\n    );\n\n    // cleanup function when component will unmount\n    return () => {\n      html5QrcodeScanner.clear().catch((error) => {\n        console.error(\"Failed to clear html5QrcodeScanner. \", error);\n      });\n    };\n  }, []);\n\n  return <div id={qrcodeRegionId} />;\n};\n\nexport default Html5QrcodePlugin;\n","import { Component } from \"react\";\n \nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n \n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      error,\n    };\n  }\n \n \n  render() {\n    const { hasError, error } = this.state;\n \n    if (hasError) {\n      // You can render any custom fallback UI\n      return (\n        <div>\n          <p>Something went wrong 😭</p>\n \n          {error.message && <span>Here's the error: {error.message}</span>}\n        </div>\n      );\n    }\n \n    return this.props.children;\n  }\n}\n \nexport default ErrorBoundary;","import React from \"react\";\nimport { SubButton } from \"../Button\";\nimport ErrorBoundary from './ErrorBoundary'\n\n\nfunction filterResults(results) {\n  let filteredResults = [];\n  for (var i = 0; i < results.length; ++i) {\n    if (i === 0) {\n      filteredResults.push(results[i]);\n      continue;\n    }\n    if (results[i] !== results[i - 1]) {\n      filteredResults.push(results[i]);\n    }\n   \n  }\n  return filteredResults;\n}\n\nconst OurFallbackComponent = ({ error, componentStack, resetErrorBoundary }) => {\n  return (\n    <div>\n      <h1>An error occurred: {error.message}</h1>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  );\n};\n\nconst ResultContainerTable = ({ data, onClick }) => {\n  const results = filterResults(data);\n  return (\n    <table className={\"Qrcode-result-table\"}>\n      <thead>\n        <tr>\n          <td>#</td>\n          <td>Food Details</td>\n          {/* <td>Format</td> */}\n          <td></td>\n        </tr>\n      </thead>\n      <tbody>\n        {results.map((result, i) => {\n          console.log(result);\n          return (\n            <tr key={i}>\n              <td>{i}</td>\n              <td>{result}</td>\n              {/* <td>{result.result.format.formatName}</td> */}\n              <td>\n                <SubButton styling=\"green\" onClick={onClick} text=\"Add\" />\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nconst ResultContainerPlugin = (props) => {\n  const results = filterResults(props.results);\n  return (\n    \n    <div className=\"Result-container\">\n            <div className=\"Result-header\">Scanned results ({results.length})</div>\n      <div className=\"Result-section\">\n        <ResultContainerTable data={results} />\n      </div>\n\n      \n    </div>\n  );\n};\n\nexport default ResultContainerPlugin;\n","import React, { useState, useEffect } from \"react\";\nimport Html5QrcodePlugin from \"./Html5QrcodeScanner\";\nimport ResultContainerPlugin from \"./ResultContainerPlugin\";\nimport \"./QRCode.css\";\nimport { backdropClasses } from \"@mui/material\";\nimport { Form, InputGroup, Button, Alert, Table } from \"react-bootstrap\";\nimport \"../Button.css\"\nimport { createMealPlanData } from \"../../../store/actions/marketplaceActions/mealPlanData\";\nimport { connect } from \"react-redux\";\nimport { ContactlessOutlined, SubscriptionsOutlined } from \"@mui/icons-material\";\n\nconst app_id = \"5532003c\";\nconst app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  const limit = \"5\";\n\nfunction Scanner(props) {\n  const [decodedResults, setDecodedResults] = useState([]);\n  const [mealName, setMealName] = useState(\"\");\n  const [error, setError] = useState(null)\n  const [ingredients, setIngredients] = useState([]);\n  const [ingredientList, setIngredientList] = useState([]);\n  const [recipeList, setRecipeList] = useState([]);\n  const [mealType, setMealType] = useState([]);\n  const [totalDaily, setTotalDaily] = useState([]);\n  const [totalNutrients, setTotalNutrients] = useState([]);\n  const [recipeYield, setRecipeYield] = useState([]);\n  const [url, setUrl] = useState([]);\n\n\n\n \n  const onNewScanResult = (decodedText, decodedResult) => {\n\n    fetch(`https://world.openfoodfacts.org/api/v0/product/${decodedResult.decodedText}.json`)\n    .then(response => response.json())\n    .then(data => {\n      //setIngredientList(data.product.ingredients)      \n      let query;\n      //var query = data.product.product_name_en\n      //console.log (\"checking:\", query)\n\n      if (data.product.product_name_en == undefined) {\n         query = data.product.product_name\n         setMealName(query)\n      } else {\n        query = data.product.product_name_en\n        setMealName(query)\n      }\n\n      return fetch(`https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`)\n      })\n      .then(res => res.json())\n      .then(newData => {\n        console.log(\"name:\", newData.hits)\n        setRecipeList(newData.hits)\n        //setTotalDaily(newData.hits.recipe.totalDaily)\n        //setTotalNutrients(newData.hits.recipe.totalNutrients)\n        //setRecipeYield(newData.hits.recipeYield)\n        //setMealType(newData.hits.MealType)\n\n\n\n      })\n    .catch((err => {\n      console.log(err.message)\n      setError(err.message)\n    }))\n    .catch((err) => {\n      console.log(err.message)\n      setError(err.message)\n     });\n\n\n  };\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n  };\n\n  const [local, setLocal] = useState(defaultLocal);\n  \n\n  const handleRecipe = (e) => {\n    setLocal((local.food = e.target.value));\n    setIngredients((ingredients) => [...ingredients, local]);\n    setLocal(defaultLocal);\n  };\n\n  const handleMealName = (e) => {\n   setMealName(e.target.value)\n  };\n\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n //trigger this when editing/deleting items\n const [update, setUpdate] = useState(0);\n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      //month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        meal: mealName,\n        ingredients: ingredients,\n        mealType: mealType,\n        totalDaily: totalDaily,\n        totalNutrients: totalNutrients,\n        url: url,\n        recipeYield: recipeYield\n      },\n    };\n\n    props.createMealPlanData(data);\n    forceUpdate();\n\n  };\n\n  return (\n    <>\n      <Html5QrcodePlugin\n        fps={10}\n        qrbox={250}\n        disableFlip={false}\n        qrCodeSuccessCallback={onNewScanResult}\n\n      />\n      <p style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>{mealName}</p>\n\n      <Alert variant=\"success\">\n        <Alert.Heading>Missing some items in your meal plan?</Alert.Heading>\n        <p>\n          The scanner allows you to add more items to your meal plan\n        </p>\n      </Alert>\n\n        <Form\n           onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.handleFormClose();\n          }}\n        >\n      \n        <Form.Group>\n        <li>{recipeList && recipeList.map(data => \n        <div><p>\n          \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          <div class=\"form-check\">\n            <label class=\"form-check-label\" for=\"flexCheckDisabled\" style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>\n              {data?.recipe.label}\n            </label>\n            <input \n              class=\"form-check-input\" \n              type=\"radio\" \n              name=\"flexRadioDefault\" \n              id=\"flexRadioDefault1\"\n              style={{alignItems: 'right', marginLeft: '20px'}}\n              value= {data?.recipe.label}\n              onClick={(e) => {\n                handleMealName(e, \"value\");\n                setMealType(data?.recipe.mealType)\n                setTotalDaily(data?.recipe.totalDaily)\n                setTotalNutrients(data?.recipe.totalNutrients)\n                setRecipeYield(data?.recipe.yield)\n                setUrl(data?.recipe.url)\n\n                //handleRecipe(e, \"value\");\n                //e.currentTarget.disabled = true;\n              }}\n            />            \n          </div>\n        </h5>\n        <p class=\"card-text\">\n          {data?.recipe.ingredientLines.map(item => {\n          return <ul>\n            \n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"flexCheckDisabled\">\n                {item}\n              </label>\n              <input \n                class=\"form-check-input\" \n                type=\"checkbox\" \n                value={item}\n                id=\"flexCheckDefault\"\n                style={{alignItems: 'right', marginLeft: '20px', alignItems: 'left'}}\n                onClick={(e) => {\n                  handleRecipe(e, \"value\");\n                  //e.currentTarget.disabled = true;\n                }}\n              />\n          \n            </div>\n            \n          </ul>;\n          \n        })}\n          </p>\n          \n      </div>\n    </div>\n          {/* <Form.Label>{data?.id}</Form.Label>\n          <Button\n            type=\"text\"\n            id=\"add ingredient\"\n            value={data?.id}\n            onClick={(e) => {\n              handleIngredient(e, \"value\");\n              e.currentTarget.disabled = true;\n            }}\n            required\n          >\n          Add\n        </Button> */}\n        </p></div>)}</li>\n        </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>        \n      </Form>\n      {error && <div><p>Oops..Could not fetch food item, pls try another barcode..😭</p></div>}\n     \n    </>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Scanner);","import React, { useState, useEffect } from \"react\";\nimport Html5QrcodePlugin from \"./Html5QrcodeScanner\";\nimport ResultContainerPlugin from \"./ResultContainerPlugin\";\nimport \"./QRCode.css\";\nimport { backdropClasses } from \"@mui/material\";\nimport { Form, InputGroup, Button, Alert, Table } from \"react-bootstrap\";\nimport \"../Button.css\"\nimport { createMealPlanData } from \"../../../store/actions/marketplaceActions/mealPlanData\";\nimport { connect } from \"react-redux\";\nimport { ContactlessOutlined, SubscriptionsOutlined } from \"@mui/icons-material\";\n\nconst app_id = \"5532003c\";\nconst app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  const limit = \"5\";\n\nfunction ScannerPrepared(props) {\n  const [decodedResults, setDecodedResults] = useState([]);\n  const [mealName, setMealName] = useState(\"\");\n  const [error, setError] = useState(null)\n  const [ingredients, setIngredients] = useState([]);\n  const [ingredientList, setIngredientList] = useState([]);\n  const [recipeList, setRecipeList] = useState([]);\n  const [mealType, setMealType] = useState([]);\n  const [totalDaily, setTotalDaily] = useState([]);\n  const [totalNutrients, setTotalNutrients] = useState([]);\n  const [recipeYield, setRecipeYield] = useState([]);\n  const [url, setUrl] = useState([]);\n\n\n\n \n  const onNewScanResult = (decodedText, decodedResult) => {\n\n    fetch(`https://world.openfoodfacts.org/api/v0/product/${decodedResult.decodedText}.json`)\n    .then(response => response.json())\n    .then(data => {\n\n      // set query to constant\n      let query;\n\n\n      if (data.product.product_name_en == undefined) {\n         query = data.product.product_name\n         setMealName(query)\n      } else {\n        query = data.product.product_name_en\n        setMealName(query)\n      }\n\n      return fetch(`https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`)\n      })\n      .then(res => res.json())\n      .then(newData => {\n        console.log(\"name:\", newData.hits)\n        setRecipeList(newData.hits)\n        //setTotalDaily(newData.hits.recipe.totalDaily)\n        //setTotalNutrients(newData.hits.recipe.totalNutrients)\n        //setRecipeYield(newData.hits.recipeYield)\n        //setMealType(newData.hits.MealType)\n\n\n\n      })\n    .catch((err => {\n      console.log(err.message)\n      setError(err.message)\n    }))\n    .catch((err) => {\n      console.log(err.message)\n      setError(err.message)\n     });\n\n\n  };\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n  };\n\n  const [local, setLocal] = useState(defaultLocal);\n  \n\n  const handleRecipe = (e) => {\n    setLocal((local.food = e.target.value));\n    setIngredients((ingredients) => [...ingredients, local]);\n    setLocal(defaultLocal);\n  };\n\n  const handleMealName = (e) => {\n   setMealName(e.target.value)\n  };\n\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n //trigger this when editing/deleting items\n const [update, setUpdate] = useState(0);\n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      //month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        meal: mealName,\n        ingredients: ingredients,\n        mealType: mealType,\n        totalDaily: totalDaily,\n        totalNutrients: totalNutrients,\n        url: url,\n        recipeYield: recipeYield\n      },\n    };\n\n    props.createMealPlanData(data);\n    forceUpdate();\n\n  };\n\n  return (\n    <>\n      <Html5QrcodePlugin\n        fps={10}\n        qrbox={250}\n        disableFlip={false}\n        qrCodeSuccessCallback={onNewScanResult}\n\n      />\n      <p style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>{mealName}</p>\n\n      <Alert variant=\"success\">\n        <Alert.Heading>Missing some items in your meal plan?</Alert.Heading>\n        <p>\n          The scanner allows you to add more items to your meal plan\n        </p>\n      </Alert>\n\n        <Form\n           onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.handleFormClose();\n          }}\n        >\n      \n        <Form.Group>\n        <li>{recipeList && recipeList.map(data => \n        <div><p>\n          \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          <div class=\"form-check\">\n            <label class=\"form-check-label\" for=\"flexCheckDisabled\" style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>\n              {data?.recipe.label}\n            </label>\n            <input \n              class=\"form-check-input\" \n              type=\"radio\" \n              name=\"flexRadioDefault\" \n              id=\"flexRadioDefault1\"\n              style={{alignItems: 'right', marginLeft: '20px'}}\n              value= {data?.recipe.label}\n              onClick={(e) => {\n                handleMealName(e, \"value\");\n                setMealType(data?.recipe.mealType)\n                setTotalDaily(data?.recipe.totalDaily)\n                setTotalNutrients(data?.recipe.totalNutrients)\n                setRecipeYield(data?.recipe.yield)\n                setUrl(data?.recipe.url)\n                //handleRecipe(e, \"value\");\n                //e.currentTarget.disabled = true;\n              }}\n            />            \n          </div>\n        </h5>\n        <p class=\"card-text\">\n          {data?.recipe.ingredientLines.map(item => {\n          return <ul>\n            \n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"flexCheckDisabled\">\n                {item}\n              </label>\n              <input \n                class=\"form-check-input\" \n                type=\"checkbox\" \n                value={item}\n                id=\"flexCheckDefault\"\n                style={{alignItems: 'right', marginLeft: '20px', alignItems: 'left'}}\n                onClick={(e) => {\n                  handleRecipe(e, \"value\");\n                  //e.currentTarget.disabled = true;\n                }}\n              />\n          \n            </div>\n            \n          </ul>;\n          \n        })}\n          </p>\n          \n      </div>\n    </div>\n          {/* <Form.Label>{data?.id}</Form.Label>\n          <Button\n            type=\"text\"\n            id=\"add ingredient\"\n            value={data?.id}\n            onClick={(e) => {\n              handleIngredient(e, \"value\");\n              e.currentTarget.disabled = true;\n            }}\n            required\n          >\n          Add\n        </Button> */}\n        </p></div>)}</li>\n        </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>        \n      </Form>\n      {error && <div><p>Oops..Could not fetch food item, pls try another barcode..😭</p></div>}\n     \n    </>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ScannerPrepared);","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport EatingOut from \"./EatingOut\";\nimport AddMealForm from \"./AddMealForm\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Scanner from \"../../../../../../SubComponents/QRCode/Scanner\";\nimport ScannerPrepared from \"../../../../../../SubComponents/QRCode/ScannerPrepared\";\n\n\nexport default function EatNowLater({ value }) {\n  const [eatLater, setEatLater] = useState(\"unconfirmed\");\n  const [show, setShow] = useState(true);\n\n  //control barcode scanner\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  //scanning items will add item as a meal in meal plan including nutrition info and ingrs if information available\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setEatLater(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Add new meal for \n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <NowOrLater\n            eatLater={eatLater}\n            setEatLater={setEatLater}\n            handleFormClose={handleFormClose}\n            value={value}\n          >\n            <button\n              className=\"btn success shadow-none qrcode-btn\"\n              onClick={() => handleSetScan()}\n            >\n              {expand}\n            </button>\n            {scan ? (\n              <Scanner value={value} handleFormClose={handleFormClose} />\n            ) : (\n              <AddMealForm value={value} handleFormClose={handleFormClose} />\n            )}\n          </NowOrLater>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nfunction NowOrLater(props) {\n  switch (props.eatLater) {\n    default:\n    case \"unconfirmed\":\n      return (\n        <>\n          <div className=\"basic-title-left\">\n            Eat Now or Later\n          </div>\n          <Row>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Eat Now\"\n                onClick={() => props.setEatLater(\"no\")}\n              />\n            </Col>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Eat Later\"\n                onClick={() => props.setEatLater(\"yes\")}\n              />\n            </Col>\n          </Row>\n        </>\n      );\n    case \"no\":\n      return <>{props.children}</>;\n    case \"yes\":\n      return <>{props.children}</>;\n  }\n}","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport EatingOut from \"./EatingOut\";\nimport AddMealForm from \"./AddMealForm\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Scanner from \"../../../../../../SubComponents/QRCode/Scanner\";\nimport ScannerPrepared from \"../../../../../../SubComponents/QRCode/ScannerPrepared\";\n\n\nexport default function EatNowRecipe({ value }) {\n  const [eatRecipe, setEatRecipe] = useState(\"unconfirmed\");\n  const [show, setShow] = useState(true);\n\n  //control barcode scanner\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  //scanning items will add item as a meal in meal plan including nutrition info and ingrs if information available\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n \n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setEatRecipe(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Eat Now or Add Recipe\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <NowOrRecipe\n            eatRecipe={eatRecipe}\n            setEatRecipe={setEatRecipe}\n            handleFormClose={handleFormClose}\n            value={value}\n          >\n            <button\n              className=\"btn success shadow-none qrcode-btn\"\n              onClick={() => handleSetScan()}\n            >\n              {expand} \n            </button>\n            {scan ? (\n              <Scanner value={value} handleFormClose={handleFormClose} />\n            ) : (\n              <AddMealForm value={value} handleFormClose={handleFormClose} />\n            )}\n          </NowOrRecipe>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nfunction NowOrRecipe(props) {\n  switch (props.eatRecipe) {\n    default:\n    case \"unconfirmed\":\n      return (\n        <>\n          <div className=\"basic-title-left\">\n            Eat Now or Add Recipe\n          </div>\n          <Row>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Eat Now\"\n                onClick={() => props.setEatRecipe(\"no\")}\n              />\n            </Col>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Add Recipe\"\n                onClick={() => props.setEatRecipe(\"yes\")}\n              />\n            </Col>\n          </Row>\n        </>\n      );\n    case \"no\":\n      return <>{props.children}</>;\n    case \"yes\":\n      return <>{props.children}</>;\n  }\n}","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport EatingOut from \"./EatingOut\";\nimport EatNowLater from './EatNowLater';\nimport EatNowRecipe from \"./EatNowRecipe\";\nimport AddMealForm from \"./AddMealForm\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Scanner from \"../../../../../../SubComponents/QRCode/Scanner\";\nimport ScannerPrepared from \"../../../../../../SubComponents/QRCode/ScannerPrepared\";\n\n\nexport function PreparedOrRaw({ value }) {\n  const [raw, setRaw] = useState(\"unconfirmed\");\n  const [show, setShow] = useState(true);\n\n  //control barcode scanner\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  //scanning items will add item as a meal in meal plan including nutrition info and ingrs if information available\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setRaw(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Add new meal for \n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <YesOrNo\n            raw={raw}\n            setRaw={setRaw}\n            handleFormClose={handleFormClose}\n            value={value}\n          >\n            <button\n              className=\"btn success shadow-none qrcode-btn\"\n              onClick={() => handleSetScan()}\n            >\n              {expand}\n            </button>\n            {scan ? (\n              <Scanner value={value} handleFormClose={handleFormClose} />\n            ) : (\n              <AddMealForm value={value} handleFormClose={handleFormClose} />\n            )}\n          </YesOrNo>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nfunction YesOrNo(props) {\n  switch (props.raw) {\n    default:\n    case \"unconfirmed\":\n      return (\n        <>\n          <div className=\"basic-title-left\">\n            Prepared Or Raw\n          </div>\n          <Row>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Prepared\"\n                onClick={() => props.setRaw(\"no\")}\n              />\n            </Col>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Raw\"\n                onClick={() => props.setRaw(\"yes\")}\n              />\n            </Col>\n          </Row>\n        </>\n      );\n    case \"no\":\n      return <EatNowLater value={props.value} handleFormClose={props.handleFormClose} />;\n    case \"yes\":\n      return <EatNowRecipe value={props.value} handleFormClose={props.handleFormClose} />;\n  }\n}","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport EatingOut from \"./EatingOut\";\nimport { PreparedOrRaw } from \"./PreparedOrRaw\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\nexport function AddMealModal({ show, setShow, value }) {\n  const [eatingOut, setEatingOut] = useState(\"unconfirmed\");\n\n  //control barcode scanner\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  \n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setEatingOut(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Add new meal for {value.format(\"DD/MM\")}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <InOrOut\n            eatingOut={eatingOut}\n            setEatingOut={setEatingOut}\n            handleFormClose={handleFormClose}\n            value={value}\n          >\n          </InOrOut>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nfunction InOrOut(props) {\n  switch (props.eatingOut) {\n    default:\n    case \"unconfirmed\":\n      return (\n        <>\n          <div className=\"basic-title-left\">\n            Are you cooking at home or eating out?\n          </div>\n          <Row>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"At Home\"\n                onClick={() => props.setEatingOut(\"no\")}\n              />\n            </Col>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Eating Out\"\n                onClick={() => props.setEatingOut(\"yes\")}\n              />\n            </Col>\n          </Row>\n        </>\n      );\n    case \"yes\":\n      return <EatingOut handleFormClose={props.handleFormClose} />;\n    case \"no\":\n      return <PreparedOrRaw value={props.value}/>;\n  }\n}\n","export default function buildCalendar(value) {\n  //using .clone means that we aren't modifying the actual current day\n  const startDay = value.clone().startOf(\"month\").startOf(\"week\");\n  const endDay = value.clone().endOf(\"month\").endOf(\"week\");\n  const day = startDay.clone().subtract(1, \"day\");\n  const calendar = [];\n\n  while (day.isBefore(endDay, \"day\")) {\n    calendar.push(\n      Array(7)\n        .fill(0)\n        .map(() => day.add(1, \"day\").clone())\n    );\n  }\n\n  return calendar;\n}\n","function isSelected(day, value) {\n  return value.isSame(day, \"day\");\n}\n\n//new Date() always gives us today's date\nexport function beforeToday(day) {\n  return day.isBefore(new Date(), \"day\");\n}\n\nfunction isToday(day) {\n  return day.isSame(new Date(), \"day\");\n}\n\nexport default function dayStyles(day, value) {\n  if (beforeToday(day)) return \"before\";\n  if (isSelected(day, value)) return \"selected\";\n  if (isToday(day)) return \"today\";\n  return \"\";\n}\n","import React from \"react\";\n\nexport default function CalendarHeader({ value, setValue }) {\n  function currMonthName() {\n    return value.format(\"MMMM\");\n  }\n\n  function currYear() {\n    return value.format(\"YYYY\");\n  }\n\n  function prevMonth() {\n    return value.clone().subtract(1, \"month\");\n  }\n\n  function nextMonth() {\n    return value.clone().add(1, \"month\");\n  }\n\n  function thisMonth() {\n    return value.isSame(new Date(), \"month\");\n  }\n\n  return (\n    <div className=\"header\">\n      <div\n        className=\"previous\"\n        onClick={() => !thisMonth() && setValue(prevMonth())}\n      >\n        {!thisMonth() ? String.fromCharCode(171) : null}\n      </div>\n      <div className=\"current\">\n        {currMonthName()} {currYear()}\n      </div>\n      <div className=\"next\" onClick={() => setValue(nextMonth())}>\n        {String.fromCharCode(187)}\n      </div>\n    </div>\n  );\n}\n","export const createMealPlannerData = (mealPlanner) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlannerData\")\n      .add(mealPlanner.upload)\n      .then((docRef) => {\n        // make the docId easily accessible so that we can delete it later if we want.\n        getFirebase()\n          .firestore()\n          .collection(\"marketplace\")\n          .doc(uid)\n          .collection(\"mealPlannerData\")\n          .doc(docRef.id)\n          .set({ id: docRef.id }, { merge: true });\n        dispatch({ type: \"CREATE_MEAL_PLANNER\", mealPlanner });\n      })\n      .catch((err) => {\n        dispatch({ type: \"CREATE_MEAL_PLANNER_ERROR\", err });\n      });\n  };\n};\n\nexport const getMealPlannerData = () => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlannerData\")\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_MEAL_PLANS\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_MEAL_PLANS_ERROR\", err });\n      });\n  };\n};\n\nexport const getWeeklyPlan = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    console.log(\"this is day\", data.day)\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newPlan\").where('day', '==', data.day)\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_WEEK_PLANS\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_WEEK_PLANS_ERROR\", err });\n      });\n  };\n};\n\n\nexport const getPlanData = () => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newPlan\")\n      .get()\n      .then((snapshot) => {\n        const data = [];\n        snapshot.forEach((doc) => {\n          data.push(doc.data());\n        });\n        dispatch({ type: \"GET_NEW_PLANS\", payload: data });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_NEW_PLANS_ERROR\", err });\n      });\n  };\n};\n\nexport const getSingleMealPlan = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newPlan\").where('id', '==', data.id)\n      .get()\n      .then((snapshot) => {\n        let meal\n        snapshot.forEach(doc => meal = doc.data());\n\n        dispatch({ type: \"GET_SINGLE_MEAL_PLAN\", payload: meal });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GET_SINGLE_MEAL_PLAN_ERROR\", err });\n      });\n  };\n};\n\n\nexport const editNewPlanData = (data) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n    \n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newPlan\")\n      .doc(data.id)\n      .set(data.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_MEAL\", data }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_MEAL_ERROR\", err });\n      });\n  };\n};\n\nexport const editMealData = (mealPlan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    console.log(\"check:\", mealPlan)\n    \n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlanData\")\n      .doc(mealPlan.month)\n      .collection(mealPlan.day)\n      .doc(mealPlan.id)\n      .set(mealPlan.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_MEAL\", mealPlan }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_MEAL_ERROR\", err });\n      });\n  };\n};\n\n\nexport const deleteMealPlannerData = (mealPlanner) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlannerData\")\n      .doc(mealPlanner.id)\n      .delete()\n      .then(() => dispatch({ type: \"DELETE_MEAL_PLAN\", mealPlanner }))\n      .catch((err) => {\n        dispatch({ type: \"DELETE_MEAL_PLAN_ERROR\", err });\n      });\n  };\n};\n\nexport const generateNewPlan = (plan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newPlan\")\n      .add(plan.upload)\n      .then((docRef) => {\n        // make the docId easily accessible so that we can delete it later if we want.\n        getFirebase()\n          .firestore()\n          .collection(\"marketplace\")\n          .doc(uid)\n          .collection(\"newPlan\")\n          .doc(docRef.id)\n          .set({ id: docRef.id }, { merge: true });\n        dispatch({ type: \"GENERATE_MEAL_PLANNER\", plan });\n      })\n      .catch((err) => {\n        dispatch({ type: \"GENERATE_MEAL_PLANNER_ERROR\", err });\n      });\n  };\n};\n\n// delete all item in collection and re-upload?\nexport const removeAllMealPlan = (plan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"newPlan\")\n      .get()\n      .then(querySnapshot => {\n        querySnapshot.docs.forEach(snapshot => {\n            snapshot.ref.delete();\n        })\n      })\n      .then(() => dispatch({ type: \"REMOVE_ALL_MEAL_PLAN\", plan }))\n      .catch((err) => {\n        dispatch({ type: \"REMOVE_ALL_MEAL_PLAN_ERROR\", err });\n      });\n\n  };\n};\n\n//should be removed\nexport const getAllItems = (plan) => {\n  return {\n    //make async call to database\n    type: \"GET_ALL_MEAL_PLAN\", plan,\n    //type: \"GET_ALL_MEAL_PLAN_ERROR\", err,\n  };\n};\n\nexport const editMealDataPlan = (mealPlan) => {\n  return (dispatch, getState, { getFirebase }) => {\n    //make async call to database\n    const profile = getState().firebase.profile;\n    const authUID = getState().firebase.auth.uid;\n\n    var uid;\n    switch (profile.type) {\n      case \"business_admin\":\n        uid = authUID;\n        break;\n      case \"business_sub\":\n        uid = profile.admin;\n        break;\n      case \"academic_admin\":\n        uid = authUID;\n        break;\n      case \"academic_sub\":\n        uid = profile.admin;\n        break;\n      case \"household_admin\":\n        uid = authUID;\n        break;\n      case \"household_sub\":\n        uid = profile.admin;\n        break;\n      default:\n        uid = authUID;\n        break;\n    }\n\n    //console.log(\"check:\", mealPlan)\n    \n    getFirebase()\n      .firestore()\n      .collection(\"marketplace\")\n      .doc(uid)\n      .collection(\"mealPlannerData\")\n      .doc(mealPlan.id)\n      .set(mealPlan.upload, { merge: true })\n      .then(() => dispatch({ type: \"EDIT_MEAL\", mealPlan }))\n      .catch((err) => {\n        dispatch({ type: \"EDIT_MEAL_ERROR\", err });\n      });\n  };\n};\n","import React from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nimport { connect } from \"react-redux\";\nimport { deleteSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { deleteMealData } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { deleteMealPlannerData } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n\n\n//takes props value, id and forceUpdate from a meal item and whether or not it is saved\nfunction Delete(props) {\n  //needs id passed to it from onClick\n  const handleDelete = (id) => {\n    const data = {\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n      id: id,\n    };\n    //saved meals and calendar meals are in different places in firestore\n    if (props.saved) {\n      props.deleteSavedMeal(data);\n      props.forceUpdate();\n    } else {\n      props.deleteMealData(data);\n      props.forceUpdate();\n    }\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Delete\">\n        <IconButton\n          aria-label=\"Delete\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleDelete(props.id);\n          }}\n        >\n          <DeleteIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    deleteMealData: (data) => dispatch(deleteMealData(data)),\n    deleteSavedMeal: (data) => dispatch(deleteSavedMeal(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Delete);\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { editSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { editMealData } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\n\nfunction EditMealForm(props) {\n  const [mealName, setMealName] = useState(props.meal);\n  const [ingredients, setIngredients] = useState(props.ingredient);\n\n  const handleSubmit = () => {\n    const data = {\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n      id: props.id,\n      upload: {\n        meal: mealName,\n        ingredients: ingredients,\n        id: props.id,\n      },\n    };\n    if (props.saved) {\n      props.editSavedMeal(data);\n      props.forceUpdate();\n    } else {\n      props.editMealData(data);\n      props.forceUpdate();\n    }\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      <Form.Group>\n        <Form.Label>Meal Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealName\"\n          defaultValue={mealName}\n          onChange={(e) => {\n            setMealName(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      {ingredients.map((ingredient, i) => (\n        <div className=\"form\" key={i}>\n          <Form.Group>\n            <Form.Label>Ingredients</Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"food\"\n              onChange={(e) => {\n                setIngredients([\n                  ...ingredients.slice(0, i),\n                  {\n                    food: e.target.value,\n                    quantity: ingredient.quantity,\n                    measure: ingredient.measure,\n                  },\n                  ...ingredients.slice(i + 1, ingredients.length),\n                ]);\n              }}\n              defaultValue={ingredient.food}\n            />\n          </Form.Group>\n          <Form.Group>\n            <InputGroup>\n              <Form.Control\n                id=\"quantity\"\n                type=\"number\"\n                min=\"0\"\n                step=\".1\"\n                onChange={(e) => {\n                  setIngredients([\n                    ...ingredients.slice(0, i),\n                    {\n                      food: ingredient.food,\n                      quantity: e.target.value,\n                      measure: ingredient.measure,\n                    },\n                    ...ingredients.slice(i + 1, ingredients.length),\n                  ]);\n                }}\n                defaultValue={ingredient.quantity}\n              />\n              <Dropdown\n                id=\"measure\"\n                styling=\"grey dropdown-input\"\n                data={ingredient.measure}\n                items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"cups\", \"pcs\"]}\n                function={(e) =>\n                  setIngredients([\n                    ...ingredients.slice(0, i),\n                    {\n                      food: ingredient.food,\n                      quantity: ingredient.quantity,\n                      measure: e,\n                    },\n                    ...ingredients.slice(i + 1, ingredients.length),\n                  ])\n                }\n              />\n            </InputGroup>\n          </Form.Group>\n        </div>\n      ))}\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editMealData: (data) => dispatch(editMealData(data)),\n    editSavedMeal: (data) => dispatch(editSavedMeal(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditMealForm);\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EditMealForm from \"./EditMealForm\";\n\nexport function EditMeal({\n  meal,\n  ingredients,\n  id,\n  show,\n  setShow,\n  value,\n  forceUpdate,\n  saved,\n}) {\n  const handleFormClose = () => setShow(false);\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Edit Meal</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {/* <p>bleeeeeeeeh</p> */}\n        <EditMealForm\n          meal={meal}\n          ingredient={ingredients}\n          id={id}\n          forceUpdate={forceUpdate}\n          value={value}\n          handleFormClose={handleFormClose}\n          saved={saved}\n        />\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { EditMeal } from \"./EditMeal\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction Edit(props) {\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"Edit\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <EditIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <EditMeal\n        value={props.value}\n        show={show}\n        setShow={setShow}\n        meal={props.meal}\n        ingredients={props.ingredients}\n        id={props.id}\n        forceUpdate={props.forceUpdate}\n        saved={props.saved}\n      />\n    </>\n  );\n}\n\nexport default Edit;\n","import React, { useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport \"react-datepicker/dist/react-datepicker.css\";  \n\n\nimport buildCalendar from \"../BuildCalendar/Build\";\nimport dayStyles, { beforeToday } from \"../BuildCalendar/dayStyles\";\nimport CalendarHeader from \"../BuildCalendar/header\";\n\nimport { SubButton } from \"../../../../../../SubComponents/Button\";\n\nimport { connect } from \"react-redux\";\nimport { createMealPlanData } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { addToShoppingList } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\n\nfunction AddToCalendar(props) {\n  const [calendar, setCalendar] = useState([]);\n  const handleFormClose = () => props.setShow(false);\n\n  useEffect(() => {\n    setCalendar(buildCalendar(props.value));\n  }, [props.value]);\n\n  //fired when click \"add\"\n  const handleSubmit = () => {\n    let data;\n    //data is a little different between saved meals and searched meals\n    if (props.saved && !props.selected.nonNativeData) {\n      data = {\n        // month and day are used for the MealPlan db, year and week for the shopping list.\n        year: props.value.format(\"YYYY\"),\n        month: props.value.format(\"YYYYMM\"),\n        week: props.value.format(\"w\"),\n        day: props.value.format(\"DD\"),\n        upload: {\n          meal: props.selected.meal,\n          mealType: props.selected.mealType,\n          ingredients: props.selected.ingredients,\n        },\n      };\n    } else {\n      data = {\n        year: props.value.format(\"YYYY\"),\n        month: props.value.format(\"YYYYMM\"),\n        week: props.value.format(\"w\"),\n        day: props.value.format(\"DD\"),\n        upload: {\n          meal: props.selected.meal,\n          ingredients: props.selected.ingredients,\n          mealType: props.selected.mealType,\n          totalNutrients: props.selected.totalNutrients,\n          totalDaily: props.selected.totalDaily,\n          yield: props.selected.yield,\n          url: props.selected.url,\n          nonNativeData: true,\n        },\n      };\n    }\n\n    props.createMealPlanData(data);\n    props.addToShoppingList(data);\n  };\n\n  return (\n    <>\n      <Modal\n        show={props.show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add-to-calendar\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-to-calendar\">\n            Add {props.selected.meal} to Calendar\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <>\n            <div className=\"calendar\" style={{ maxWidth: \"100%\" }}>\n              <CalendarHeader value={props.value} setValue={props.onChange} />\n              <div className=\"body\">\n                <div className=\"day-names\">\n                  {[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"].map((d, index) => (\n                    <div className=\"week\" key={index}>\n                      {d}\n                    </div>\n                  ))}\n                </div>\n                {calendar.map((week) => (\n                  <div key={week}>\n                    {week.map((day) => (\n                      <div\n                        className=\"day\"\n                        key={day.format(\"D\").toString()}\n                        onClick={() => !beforeToday(day) && props.onChange(day)}\n                      >\n                        <div className={dayStyles(day, props.value)}>\n                          {day.format(\"D\").toString()}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ))}\n              </div>\n            </div>\n            <SubButton\n              styling=\"green\"\n              text=\"Add\"\n              onClick={(e) => {\n                e.preventDefault();\n                handleSubmit();\n                handleFormClose();\n              }}\n            />\n          </>\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n    addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddToCalendar);\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ScheduleIcon from \"@mui/icons-material/Schedule\";\nimport AddToCalendar from \"./AddToCalendar\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction Add(props) {\n  //shows add to calendar modal only for saved or searched meals tab\n  const [showCalendar, setShowCalendar] = useState(false);\n  //sets the selected meal to be passed down\n  const [selected, setSelected] = useState({});\n\n  const handleSelect = async () => {\n    if (props.saved) {\n      if (props.nonNativeData) {\n        // saved and non native\n        setSelected({\n          meal: props.meal,\n          mealType: props.mealType,\n          ingredients: props.ingredients,\n          id: props.id,\n          nonNativeData: props.nonNativeData,\n          totalDaily: props.totalDaily,\n          totalNutrients: props.totalNutrients,\n          url: props.url,\n          yield: props.recipeYield,\n        });\n      } else {\n        // saved and native\n        setSelected({\n          meal: props.meal,\n          mealType: props.mealType,\n          ingredients: props.ingredients,\n          id: props.id,\n        });\n      }\n    } else {\n      // not saved\n      setSelected({\n        meal: props.meal,\n        mealType: props.mealType,\n        ingredients: props.ingredients,\n        url: props.url,\n        totalNutrients: props.totalNutrients,\n        totalDaily: props.totalDaily,\n        yield: props.yield,\n      });\n    }\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Add to Calendar\">\n        <IconButton\n          aria-label=\"Add to Calendar\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShowCalendar(true);\n            handleSelect();\n          }}\n        >\n          <ScheduleIcon fontSize=\"20\" />\n        </IconButton>\n      </Tooltip>\n      <AddToCalendar\n        value={props.value}\n        onChange={props.onChange}\n        show={showCalendar}\n        setShow={setShowCalendar}\n        selected={selected}\n        saved={props.saved}\n      />\n    </>\n  );\n}\n\nexport default Add;\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport RestaurantIcon from \"@mui/icons-material/Restaurant\";\n\nimport { connect } from \"react-redux\";\nimport { editDiaryData, editMealData, getSingleMealDiary } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport {\n  getInventory,\n  RemoveFromInventory,\n  updateQuantity,\n} from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { useEffect } from \"react\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, id and forceUpdate from a meal item and whether or not it is saved\nfunction AteMealIcon(props) {\n\n  const [eaten, setEaten] = useState(false);\n\n\n  //needs id passed to it from onClick\n  const handleEat = (id) => {\n   \n    submitNotification(\n      \"Geddit\",\n      \"Food has just been marked as eaten\"\n    );\n\n    var getMeal = props.meal\n\n    var ingr = getMeal.ingredients\n\n    ingr.forEach(e => {\n\n      const updateQty = {\n      \n        id: e.food,\n        quantity: e.quantity,\n      };\n      //console.log(\"we up again ==>\", updateQty)\n      props.updateQuantity(updateQty)\n    });\n\n    const data = {\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n      id: props.id,\n      upload: {\n        eaten: true,\n        meal: getMeal.meal,\n        //mealType: getMeal.mealType,\n        ingredients: getMeal.ingredients,\n        id: getMeal.id,\n        nn: getMeal.nn,\n        url: getMeal.url,\n        totalNutrients: getMeal.totalNutrients,\n        totalDaily: getMeal.totalDaily,\n        recipeYield: getMeal.recipeYield,\n      },\n    };\n    \n    props.editMealData(data);\n    // props.forceUpdate();\n  };\n  \n  // to add eaten value to meal plan to manage button activity. could be done better?\n  const handleEatIcon = (id) => {\n\n    var getMeal = props.meal\n\n    const data = {\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n      id: props.id,\n      upload: {\n        eaten: true,\n      },\n    };\n    \n    props.editDiaryData(data);\n\n    // props.forceUpdate();\n  };\n\n  const getEatenState = (id) => {\n\n    var getMeal = props.meal\n\n    const data = {\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n      id: props.id,\n    };\n    \n    props.getSingleMealDiary(data);\n    // console.log(\"getting id ...\", props.singleMealDiary)\n    // props.forceUpdate();\n  };\n\n  useEffect(() => {\n    getEatenState()\n    // if (props.singleMealDiary.eaten == true) {\n    //   setEaten(true)\n    // }\n  }, [props.editDiaryData]);\n\n\n  return (\n    <>\n      <Tooltip title=\"Mark meal as eaten\">\n        <IconButton\n          aria-label=\"Mark meal as eaten\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            // handleDelete(props.id);\n            handleEat();\n            handleEatIcon();\n          }}\n        >\n           { props.singleMealDiary.eaten == true ? (\n                    <><RestaurantIcon fontSize=\"inherit\" color=\"secondary\" /></>\n                  ):(<><RestaurantIcon fontSize=\"inherit\" /></>)}\n                  {/* <RestaurantIcon fontSize=\"inherit\" /> */}\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n    inventory: state.mealPlan.inventory,\n    singleMealDiary: state.mealPlan.singleMealDiary,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    // deleteMealData: (data) => dispatch(deleteMealData(data)),\n    // deleteSavedMeal: (data) => dispatch(deleteSavedMeal(data)),\n    getInventory: () => dispatch(getInventory()),\n    removeFromInventory: (data) => dispatch(RemoveFromInventory(data)),\n    editMealData: (data) => dispatch(editMealData(data)),\n    editDiaryData: (data) => dispatch(editDiaryData(data)),\n    getSingleMealDiary: (data) => dispatch(getSingleMealDiary(data)),\n    updateQuantity: (data) => dispatch(updateQuantity(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AteMealIcon);\n","import React, { useState} from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport RestaurantIcon from \"@mui/icons-material/Restaurant\";\n\nimport { connect } from \"react-redux\";\nimport { editNewPlanData, getPlanData } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { editMealData, getSingleMealPlan } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport {\n  getInventory,\n  RemoveFromInventory,\n  updateQuantity\n} from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { useEffect } from \"react\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, id and forceUpdate from a meal item and whether or not it is saved\nfunction AteMealIconPlan(props) {\n\n  const [eaten, setEaten] = useState(false);\n\n  //needs id passed to it from onClick\n  const handleEat = (id) => {\n   \n    submitNotification(\n      \"Success\",\n      \"Food has been marked as eaten\"\n    );\n\n    var getMeal = props.meal\n    console.log(\"grr =====>\", getMeal)\n    var ingr = getMeal.ingredients\n\n    ingr.forEach(e => {\n\n      const updateQty = {\n      \n        id: e.food,\n        quantity: e.quantity,\n      };\n      //console.log(\"we up again ==>\", updateQty)\n      props.updateQuantity(updateQty)\n    });\n\n    const data = {\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n      id: props.id,\n      upload: {\n       eaten: true,\n        meal: getMeal.meal,\n        //mealType: getMeal.mealType,\n        ingredients: getMeal.ingredients,\n        id: getMeal.id,\n        nn: getMeal.nn,\n        url: getMeal.url,\n        totalNutrients: getMeal.totalNutrients,\n        totalDaily: getMeal.totalDaily,\n        recipeYield: getMeal.recipeYield,\n      },\n    };\n\n    props.editMealData(data);\n    // props.forceUpdate();\n  };\n\n  // to add eaten value to meal plan to manage button activity. could be done better?\n  const handleEatIcon = (id) => {\n\n    var getMeal = props.meal\n\n    const data = {\n      id: props.id,\n      upload: {\n        eaten: true,\n      },\n    };\n    \n    props.editNewPlanData(data);\n\n    // props.forceUpdate();\n  };\n\n  const getEatenState = (id) => {\n\n    const data = {\n      id: props.id,\n    };\n    \n  props.getSingleMealPlan(data);\n\n  // props.forceUpdate();\n  };\n\n\n\n  useEffect(() => {\n   // getEatenState()\n\n    // if (props.singleMealDiary.eaten == true) {\n    //   setEaten(true)\n    // }\n\n  }, [props.editMealData]);\n\n\n  useEffect(() => {\n    // console.log(props.meal.ingredients);\n    // for each ingredient\n    // for each item in inventory\n    // if ingredient in inventory\n    // delete item from inventory\n    // props.meal.ingredients.forEach((ingredient) => {\n    //   props.inventory.forEach((inventoryItem) => {\n    //     if (ingredient.food === inventoryItem.item) {\n    //       console.log(ingredient.food, \"- Item found in inventory, delete\");\n    //       const data = {\n    //         id: inventoryItem.id,\n    //       };\n    //     }\n    //   });\n    // });\n  }, [props.inventory]);\n\n  return (\n    <>\n      <Tooltip title=\"Mark meal as eaten\">\n        <IconButton\n          aria-label=\"Mark meal as eaten\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            // handleDelete(props.id);\n            handleEat();\n            handleEatIcon();\n            getEatenState()\n\n          }}\n        >\n          { props.singleMealPlan.eaten == true ? (\n                    <><RestaurantIcon fontSize=\"inherit\" color=\"secondary\" /></>\n                  ):(<><RestaurantIcon fontSize=\"inherit\" /></>)}\n                  {/* <RestaurantIcon fontSize=\"inherit\" color=\"secondary\" /> */}\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n    inventory: state.mealPlan.inventory,\n    singleMealPlan: state.mealPlanner.singleMealPlan,\n    newPlan: state.mealPlanner.newPlan,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    // deleteMealData: (data) => dispatch(deleteMealData(data)),\n    // deleteSavedMeal: (data) => dispatch(deleteSavedMeal(data)),\n    getInventory: () => dispatch(getInventory()),\n    removeFromInventory: (data) => dispatch(RemoveFromInventory(data)),\n    editMealData: (data) => dispatch(editMealData(data)),\n    editNewPlanData: (data) => dispatch(editNewPlanData(data)),\n    updateQuantity: (data) => dispatch(updateQuantity(data)),\n    getSingleMealPlan: (data) => dispatch(getSingleMealPlan(data)),\n    getPlanData: (data) => dispatch(getPlanData(data)),\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AteMealIconPlan);\n","import React from \"react\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n// import ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\n// import CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\n\nimport Delete from \"./Icons/DeleteIcon\";\nimport Edit from \"./Icons/EditIcon\";\nimport Add from \"./Icons/AddIcon\";\nimport AteMealIcon from \"./Icons/AteMealIcon\";\nimport AteMealIconPlan from \"./Icons/AteMealIconPlan\";\n\nexport default function MealsBox(props) {\n\n  console.log(\"let fetch what weekly props is ==> \", props.meals)\n  return (\n    <>\n      {props.weeklyMeals.map((newMeal, index) => (\n        <div className=\"meal-box\" key={`meal-box${index}`}>\n          <div className=\"ingredients\">\n          {/* <List\n              key={`ingrs${index}`}\n              styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}\n            >\n              <ListSubheader className=\"heading\">\n                <div className=\"meal-name\">{newMeal.meal}</div>\n                {newMeal.mealType ? (\n                  <div className=\"meal-type\">{newMeal.mealType}</div>\n                ) : null}\n                <div className=\"icons\">\n                  <Delete\n                    value={props.value}\n                    id={newMeal.id}\n                    forceUpdate={props.forceUpdate}\n                    saved={props.saved}\n                  />\n                  {props.saved ? (\n                    <Add\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      mealType={newMeal.mealType}\n                      id={newMeal.id}\n                      onChange={props.onChange}\n                      saved={props.saved}\n                      nonNativeData={newMeal.nonNativeData}\n                      totalDaily={newMeal.totalDaily}\n                      totalNutrients={newMeal.totalNutrients}\n                      url={newMeal.url}\n                      recipeYield={newMeal.recipeYield}\n                    />\n                  ) : null}\n                  {newMeal.nonNativeData ? null : (\n                    <Edit\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      id={newMeal.id}\n                      forceUpdate={props.forceUpdate}\n                      saved={props.saved}\n                    />\n                  )}\n                  {props.isMealPlan ? (\n                    <AteMealIcon\n                      meal={newMeal}\n                      value={props.value}\n                      id={newMeal.id}\n                    />\n                  ) : null}\n                </div>\n              </ListSubheader>\n\n              {newMeal.ingredients.map((ingredient, id) => (\n                <ListItem\n                  key={id}\n                  className=\"list\"\n                  style={{ alignItems: \"baseline\" }}\n                >\n                  {newMeal.nn ? (\n                    <>\n                      <p>{ingredient.text}</p>\n                    </>\n                  ) : (\n                    <>\n                      <p>\n                        {ingredient.food}: {ingredient.quantity}\n                        {ingredient.measure}\n                      </p>\n                    </>\n                  )}\n                </ListItem>\n              ))}\n              <ListItem>\n                {newMeal.url ? <a href={newMeal.url}>{newMeal.url}</a> : null}\n              </ListItem>\n            </List> */}\n\n\n            <List\n              key={`ingrs${index}`}\n              styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}\n            >\n              <ListSubheader className=\"heading\">\n                <div className=\"meal-name\">{newMeal.meal}</div>\n                {newMeal.mealType ? (\n                  <div className=\"meal-type\">{newMeal.mealType}</div>\n                ) : null}\n                <div className=\"icons\">\n                  {/* <Delete\n                    value={props.value}\n                    id={newMeal.id}\n                    forceUpdate={props.forceUpdate}\n                    saved={props.saved}\n                  /> */}\n                  {props.saved ? (\n                    <Add\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      mealType={newMeal.mealType}\n                      id={newMeal.id}\n                      onChange={props.onChange}\n                      saved={props.saved}\n                      nonNativeData={newMeal.nonNativeData}\n                      totalDaily={newMeal.totalDaily}\n                      totalNutrients={newMeal.totalNutrients}\n                      url={newMeal.url}\n                      recipeYield={newMeal.recipeYield}\n                    />\n                  ) : null}\n                  {newMeal.nonNativeData ? null : (\n                    <Edit\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      id={newMeal.id}\n                      forceUpdate={props.forceUpdate}\n                      saved={props.saved}\n                    />\n                  )}\n                  {props.isMealPlan ? (\n                    <AteMealIconPlan\n                      meal={newMeal}\n                      value={props.value}\n                      id={newMeal.id}\n                    />\n                  ) : null}\n                </div>\n              </ListSubheader>\n\n              {newMeal.ingredients.map((ingredient, index) => (\n                <ListItem\n                  key={`item${index}`}\n                  className=\"list\"\n                  style={{ alignItems: \"baseline\" }}\n                >\n                  {newMeal.nn ? (\n                    <>\n                      <p>{ingredient.text}</p>\n                    </>\n                  ) : (\n                    <>\n                      <p>\n                        {ingredient.food}: {ingredient.quantity}\n                        {ingredient.measure}\n                      </p>\n                    </>\n                  )}\n                </ListItem>\n              ))}\n              <ListItem>\n                {newMeal.url ? <a href={newMeal.url}>{newMeal.url}</a> : null}\n              </ListItem>\n            </List>\n          </div>\n        </div>\n      ))}\n\n{props.meals.map((newMeal, index) => (\n        <div className=\"meal-box\" key={`meal-box${index}`}>\n          <div className=\"ingredients\">\n             <List\n              key={`ingrs${index}`}\n              styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}\n            >\n              <ListSubheader className=\"heading\">\n                <div className=\"meal-name\">{newMeal.meal}</div>\n                {newMeal.mealType ? (\n                  <div className=\"meal-type\">{newMeal.mealType}</div>\n                ) : null}\n                <div className=\"icons\">\n                  <Delete\n                    value={props.value}\n                    id={newMeal.id}\n                    forceUpdate={props.forceUpdate}\n                    saved={props.saved}\n                  />\n                  {props.saved ? (\n                    <Add\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      mealType={newMeal.mealType}\n                      id={newMeal.id}\n                      onChange={props.onChange}\n                      saved={props.saved}\n                      nonNativeData={newMeal.nonNativeData}\n                      totalDaily={newMeal.totalDaily}\n                      totalNutrients={newMeal.totalNutrients}\n                      url={newMeal.url}\n                      recipeYield={newMeal.recipeYield}\n                    />\n                  ) : null}\n                  {newMeal.nonNativeData ? null : (\n                    <Edit\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      id={newMeal.id}\n                      forceUpdate={props.forceUpdate}\n                      saved={props.saved}\n                    />\n                  )}\n                  {props.isMealPlan || newMeal.eaten == true ? (\n                    <AteMealIcon\n                      meal={newMeal}\n                      value={props.value}\n                      id={newMeal.id}\n                      eaten={true}\n                    />\n                  ) : null}\n                </div>\n              </ListSubheader>\n\n              {newMeal.ingredients.map((ingredient, index) => (\n                <ListItem\n                  key={`item${index}`}\n                  className=\"list\"\n                  style={{ alignItems: \"baseline\" }}\n                >\n                  {newMeal.nn ? (\n                    <>\n                      <p>{ingredient.text}</p>\n                    </>\n                  ) : (\n                    <>\n                      <p>\n                        {ingredient.food}: {ingredient.quantity}\n                        {ingredient.measure}\n                      </p>\n                    </>\n                  )}\n                </ListItem>\n              ))}\n              <ListItem>\n                {newMeal.url ? <a href={newMeal.url}>{newMeal.url}</a> : null}\n              </ListItem>\n            </List>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MealsBox from \"./MealsBox\";\n\nimport { connect } from \"react-redux\";\nimport { getMealData, getMealDiary } from \"../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { getMealPlannerData, getWeeklyPlan } from \"../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport SyncIcon from '@mui/icons-material/Sync';\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\n\nfunction MyMeals(props) {\n  const [meals, setMeals] = useState([]);\n  const [weeklyMeals, setWeeklyMeals] = useState([]);\n\n  \n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  function Refresh() {\n    return (\n      <>\n        <Tooltip title=\"Refresh\">\n          <IconButton\n            aria-label=\"Refresh\"\n            sx={{ ml: 2 }}\n            onClick={() => {\n              forceUpdate();\n            }}\n          >\n            <SyncIcon style={{ fontSize: 35 }} \n            />\n          </IconButton>\n        </Tooltip>\n    </>\n    );\n   }\n\n  useEffect(() => {\n    const weekData = {\n      //decided to group year and month together, should this be changed?\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD-MM-yyyy\"),\n    };\n    props.getWeeklyPlan(weekData);\n  }, [props.value, update]);\n\n  //this sends data request\n  useEffect(() => {\n    const data = {\n      //decided to group year and month together, should this be changed?\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n    };\n    props.getMealDiary(data);\n    props.getMealPlannerData(data)\n  }, [props.value, update]);\n\n\n\n  const updateWeeklyMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setWeeklyMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.weekPlans.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n     // var mealType = doc.mealType;\n      var url = doc.url;\n      var totalNutrients = doc.totalNutrients;\n      var totalDaily = doc.totalDaily;\n      var recipeYield = doc.recipeYield;\n      let nn = doc.nn\n      // if (doc.nonNativeData) {\n      //   nn = doc.nonNativeData;\n      // } else {\n      //   nn = false;\n      // }\n\n      setWeeklyMeals((meals) => [\n        ...meals,\n        {\n          meal: mealName,\n          //mealType: mealType,\n          ingredients: ingredients,\n          id: id,\n          nn: nn,\n          url: url,\n          totalNutrients: totalNutrients,\n          totalDaily: totalDaily,\n          recipeYield: recipeYield,\n        },\n      ]);\n    });\n  };\n\n\n  const updateMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.mealDiary.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n      var mealType = doc.mealType;\n      var url = doc.url;\n      var totalNutrients = doc.totalNutrients;\n      var totalDaily = doc.totalDaily;\n      var recipeYield = doc.recipeYield;\n      let nn;\n      if (doc.nonNativeData) {\n        nn = doc.nonNativeData;\n      } else {\n        nn = false;\n      }\n\n      setMeals((meals) => [\n        ...meals,\n        {\n          meal: mealName,\n          mealType: mealType,\n          ingredients: ingredients,\n          id: id,\n          nn: nn,\n          url: url,\n          totalNutrients: totalNutrients,\n          totalDaily: totalDaily,\n          recipeYield: recipeYield,\n        },\n      ]);\n    });\n  };\n\n  // const updateMealPlans = async () => {\n  //   //clears the meals array before each update- IMPORTANT\n  //   setMeals([]);\n\n  //   //sets a new meal object in the array for every document with this date attached\n  //   props.mealPlanner.forEach((doc) => {\n  //     var mealName = doc.meal;\n  //     var ingredients = doc.ingredients;\n  //     var id = doc.id;\n  //     var mealType = doc.mealType;\n  //     var url = doc.url;\n  //     var totalNutrients = doc.totalNutrients;\n  //     var totalDaily = doc.totalDaily;\n  //     let nn;\n  //     if (doc.nonNativeData) {\n  //       nn = doc.nonNativeData;\n  //     } else {\n  //       nn = false;\n  //     }\n\n  //     setMeals((meals) => [\n  //       ...meals,\n  //       {\n  //         meal: mealName,\n  //         mealType: mealType,\n  //         ingredients: ingredients,\n  //         id: id,\n  //         nn: nn,\n  //         url: url,\n  //         totalNutrients: totalNutrients,\n  //         totalDaily: totalDaily,\n  //       },\n  //     ]);\n  //   });\n  // };\n \n  useEffect(() => {\n    updateMeals();\n  }, [props.mealPlan, props.mealPlanner]);\n\n  useEffect(() => {\n    updateWeeklyMeals();\n  }, [props.weekPlans]);\n\n\n  return (\n    <>\n    <Refresh />\n      {weeklyMeals.length ? (\n        <div>\n          <MealsBox\n            forceUpdate={forceUpdate}\n            meals={meals}\n            weeklyMeals={weeklyMeals}\n            saved={false}\n            value={props.value}\n            isMealPlan={true}\n          />\n        </div>\n      ) : (\n        <div className=\"empty basic-title-left\">\n          <p> No meal yet 🙂 use the add button </p>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    mealDiary: state.mealPlan.mealDiary,\n    mealPlanner: state.mealPlanner.plans,\n    weekPlans: state.mealPlanner.weekPlans,\n  }; \n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getMealDiary: (meals) => dispatch(getMealDiary(meals)),\n    getMealPlannerData: (meals) => dispatch(getMealPlannerData(meals)),\n    getWeeklyPlan: (plan) => dispatch(getWeeklyPlan(plan)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyMeals);\n","import React, { useState, useEffect } from \"react\";\n\nimport { AddMealModal } from \"./Icons/AddMealModal\";\nimport Scanner from \"../../../../../SubComponents/QRCode/Scanner\";\n\nimport buildCalendar from \"./BuildCalendar/Build\";\nimport dayStyles from \"./BuildCalendar/dayStyles\";\nimport CalendarHeader from \"./BuildCalendar/header\";\n\nimport MyMeals from \"./meals\";\nimport { PreparedOrRaw } from \"./Icons/PreparedOrRaw\";\n\nexport const Calendar = ({ value, onChange }) => {\n  const [calendar, setCalendar] = useState([]);\n  const [show, setShow] = useState(false);\n\n  function chosenDay() {\n    return value.format(\"dddd DD/MM\");\n  }\n\n  useEffect(() => {\n    setCalendar(buildCalendar(value));\n  }, [value]);\n\n  return (\n    <>\n      <div className=\"calendar\">\n        <CalendarHeader value={value} setValue={onChange} />\n        <div className=\"body\">\n          <div className=\"day-names\">\n            {[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"].map((d, index) => (\n              <div className=\"week\" key={index}>\n                {d}\n              </div>\n            ))}\n          </div>\n          {calendar.map((week) => (\n            <div key={week}>\n              {week.map((day) => (\n                <div\n                  className=\"day\"\n                  key={day.format(\"D\").toString()}\n                  onClick={() => onChange(day)}\n                >\n                  <div className={dayStyles(day, value)}>\n                    {day.format(\"D\").toString()}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-8\" style={{textAlign: \"left\"}}>Add casual meals to your calendar or edit added meals 🙂</div>\n        <div className=\"col-4\" style={{textAlign: \"right\"}}><AddMealModal value={value} show={show} setShow={setShow} />\n      </div>\n      </div>\n      <div> \n      </div>\n      <div className=\"plan-box\">\n        <div className=\"header\">{chosenDay()}</div>\n        <MyMeals value={value} show={show} />\n      </div>\n    </>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport Html5QrcodePlugin from \"./Html5QrcodeScanner\";\nimport ResultContainerPlugin from \"./ResultContainerPlugin\";\nimport \"./QRCode.css\";\nimport { backdropClasses } from \"@mui/material\";\nimport { Form, InputGroup, Button, Alert, Table } from \"react-bootstrap\";\nimport \"../Button.css\"\nimport { addToInventory } from \"../../../store/actions/marketplaceActions/inventoryData\";\nimport { connect } from \"react-redux\";\nimport { ContactlessOutlined, SubscriptionsOutlined } from \"@mui/icons-material\";\n\nconst app_id = \"5532003c\";\nconst app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  const limit = \"5\";\n\nfunction ScannerInventory(props) {\n  const [decodedResults, setDecodedResults] = useState([]);\n  const [mealName, setMealName] = useState(\"\");\n  const [error, setError] = useState(null)\n  const [ingredients, setIngredients] = useState([]);\n  const [ingredientList, setIngredientList] = useState([]);\n  const [recipeList, setRecipeList] = useState([]);\n  const [mealType, setMealType] = useState([]);\n  const [totalDaily, setTotalDaily] = useState([]);\n  const [totalNutrients, setTotalNutrients] = useState([]);\n  const [recipeYield, setRecipeYield] = useState([]);\n\n\n \n  const onNewScanResult = (decodedText, decodedResult) => {\n\n    fetch(`https://world.openfoodfacts.org/api/v0/product/${decodedResult.decodedText}.json`)\n    .then(response => response.json())\n    .then(data => {\n      //setIngredientList(data.product.ingredients)      \n      let query;\n      //var query = data.product.product_name_en\n      //console.log (\"checking:\", query)\n\n      if (data.product.product_name_en == undefined) {\n         query = data.product.product_name\n         setMealName(query)\n      } else {\n        query = data.product.product_name_en\n        setMealName(query)\n      }\n\n      return fetch(`https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`)\n      })\n      .then(res => res.json())\n      .then(newData => {\n        console.log(\"name:\", newData.hits)\n        setRecipeList(newData.hits)\n        //setTotalDaily(newData.hits.recipe.totalDaily)\n        //setTotalNutrients(newData.hits.recipe.totalNutrients)\n        //setRecipeYield(newData.hits.recipeYield)\n        //setMealType(newData.hits.MealType)\n\n\n\n      })\n    .catch((err => {\n      console.log(err.message)\n      setError(err.message)\n    }))\n    .catch((err) => {\n      console.log(err.message)\n      setError(err.message)\n     });\n\n\n  };\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n  };\n\n  const [local, setLocal] = useState(defaultLocal);\n  \n\n  const handleRecipe = (e) => {\n    setLocal((local.food = e.target.value));\n    setIngredients((ingredients) => [...ingredients, local]);\n    setLocal(defaultLocal);\n  };\n\n  const handleMealName = (e) => {\n   setMealName(e.target.value)\n  };\n\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n //trigger this when editing/deleting items\n const [update, setUpdate] = useState(0);\n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    ingredients.forEach((ingr) => {\n      const data = {\n        //month and day are used for the MealPlan db, year and week for the shopping list.\n        upload: {\n          ingredients: ingr.food,\n        },\n      };\n\n      console.log(\"data is:\", data)\n  \n      props.addToInventory(data);\n      forceUpdate();\n    })\n\n  };\n\n  return (\n    <>\n      <Html5QrcodePlugin\n        fps={10}\n        qrbox={250}\n        disableFlip={false}\n        qrCodeSuccessCallback={onNewScanResult}\n      />\n      <p style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>{mealName}</p>\n\n      <Alert variant=\"success\">\n        <Alert.Heading>Missing some items in your meal plan?</Alert.Heading>\n        <p>\n          The scanner allows you to add more items to your meal plan\n        </p>\n      </Alert>\n\n        <Form\n           onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            //props.handleFormClose();\n          }}\n        >\n        <Form.Group>\n        <li>{recipeList && recipeList.map(data => \n        <div><p>\n          \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          <div class=\"form-check\">\n            <h5>{data?.recipe.label}</h5>        \n          </div>\n        </h5>\n        <p class=\"card-text\">\n          {data?.recipe.ingredientLines.map(item => {\n          return <ul>\n            \n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"flexCheckDisabled\">\n                {item}\n              </label>\n              <input \n                class=\"form-check-input\" \n                type=\"checkbox\" \n                value={item}\n                id=\"flexCheckDefault\"\n                style={{alignItems: 'right', marginLeft: '20px', alignItems: 'left'}}\n                onClick={(e) => {\n                  handleRecipe(e, \"value\");\n                  //e.currentTarget.disabled = true;\n                }}\n              />\n          \n            </div>\n            \n          </ul>;\n          \n        })}\n          </p>\n          \n      </div>\n    </div>\n          {/* <Form.Label>{data?.id}</Form.Label>\n          <Button\n            type=\"text\"\n            id=\"add ingredient\"\n            value={data?.id}\n            onClick={(e) => {\n              handleIngredient(e, \"value\");\n              e.currentTarget.disabled = true;\n            }}\n            required\n          >\n          Add\n        </Button> */}\n        </p></div>)}</li>\n        </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>        \n      </Form>\n      {error && <div><p>Oops..Could not fetch food item, pls try another barcode..😭</p></div>}\n     \n    </>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToInventory: (mealPlan) => dispatch(addToInventory(mealPlan)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ScannerInventory);","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport ScannerInventory from \"../../../../../../SubComponents/QRCode/ScannerInventory\";\nimport FoodItemSearch from \"./InputRecipe/FoodItemSearch\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport { foodIdAPI, nutritionAPI } from \"./InputRecipe/NutritionApi\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\nimport { connect } from \"react-redux\";\nimport { addToShoppingList } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\n\nconst AddMealFormShop = (props) => {\n  const [itemName, setItemName] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [measure, setMeasure] = useState(\"\");\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  const [show, setShow] = useState(true);\n  const [startDate, setStartDate] = useState(new Date());\n  const [err, setErr] = useState(\"\");\n\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\", \n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //when local.food changes, fetch the id for the food item\n  //which is needed to fetch nutrition\n  const setFoodId = (foodId) => {\n    setLocal({ ...local, foodId: foodId });\n  };\n\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n  }\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {      \n      week: props.value.format(\"w\"),\n      upload: {\n        ingredient: {\n          food: local.food + \" \" + local.quantity + \"\" + local.measure,\n          data: local.food,\n          measure: local.measure,\n          quantity: local.quantity,\n          week: props.value.format(\"w\"),\n        }\n      },\n    }; \n\n    props.addToShoppingList(data);\n    // props.createMealPlanData(data);\n    submitNotification(\"Success\", \"Item added to Shopping List!\");\n    forceUpdate();\n  };\n\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  useEffect(() => {\n    forceUpdate()\n  }, []);\n\n  return (\n    <div>\n      {/* <button\n        className=\"btn success shadow-none qrcode-btn\"\n        onClick={() => handleSetScan()}\n      >\n        {expand}\n      </button> */}\n      {scan ? (\n        <ScannerInventory handleFormClose={handleFormClose}/>\n      ) : (\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.handleFormClose();\n          }}\n        >\n          \n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n        <Form.Group>\n        <Form.Label>Amount</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            onChange={(e) => handleLocal(e)}\n            value={local.quantity}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={local.measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\", \"pcs\", \"oz\", \"lbs\"]}\n            function={(e) => {\n              setLocal({ ...local, measure: e });\n            }}\n          />\n        </InputGroup>\n      </Form.Group>\n\n          <div style={{ alignItems: \"center\" }}>\n            <Button className=\"blue-btn shadow-none mt-3\" type=\"submit\">\n              Done\n            </Button>\n          </div>\n        </Form>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMealFormShop);\n\n","import React, { useState, useEffect } from \"react\";\nimport Html5QrcodePlugin from \"./Html5QrcodeScanner\";\nimport ResultContainerPlugin from \"./ResultContainerPlugin\";\nimport \"./QRCode.css\";\nimport { backdropClasses } from \"@mui/material\";\nimport { Form, InputGroup, Button, Alert, Table } from \"react-bootstrap\";\nimport \"../Button.css\"\nimport { addToShoppingList } from \"../../../store/actions/marketplaceActions/shoppingListData\";\n//import { createMealPlanData } from \"../../../store/actions/marketplaceActions/mealPlanData\";\nimport { connect } from \"react-redux\";\nimport { SubscriptionsOutlined } from \"@mui/icons-material\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\n\nconst app_id = \"5532003c\";\nconst app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  const limit = \"5\";\n\nfunction Scanner(props) {\n  const [decodedResults, setDecodedResults] = useState([]);\n  const [mealName, setMealName] = useState(\"\");\n  const [error, setError] = useState(null)\n  const [ingredients, setIngredients] = useState([]);\n  const [ingredientList, setIngredientList] = useState([]);\n  const [recipeList, setRecipeList] = useState([]);\n  const [ purchasePlace, setPurchasePlace] = useState(\"\");\n  const [ expiryDate, setExpiryDate] = useState(\"\");\n  const [ storageMethod, setStorageMethod] = useState(\"\");\n\n\n\n  const onNewScanResult = (decodedText, decodedResult) => {\n\n    fetch(`https://world.openfoodfacts.org/api/v0/product/${decodedResult.decodedText}.json`)\n    .then(response => response.json())\n    .then(data => {\n      //setIngredientList(data.product.ingredients)      \n      let query;\n      //var query = data.product.product_name_en\n      //console.log (\"checking:\", query)\n\n      if (data.product.product_name_en == undefined) {\n         query = data.product.product_name\n         setMealName(query)\n      } else {\n        query = data.product.product_name_en\n        setMealName(query)\n      }\n\n      return fetch(`https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`)\n      })\n      .then(res => res.json())\n      .then(newData => {\n        console.log(\"name:\", newData.hits)\n        setRecipeList(newData.hits)\n        //setTotalDaily(newData.hits.recipe.totalDaily)\n        //setTotalNutrients(newData.hits.recipe.totalNutrients)\n        //setRecipeYield(newData.hits.recipeYield)\n        //setMealType(newData.hits.MealType)\n\n\n\n      })\n    .catch((err => {\n      console.log(err.message)\n      setError(err.message)\n    }))\n    .catch((err) => {\n      console.log(err.message)\n      setError(err.message)\n     });\n\n\n  };\n\n  \n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n    expiry: moment(expiryDate).format(\"DD/MM/yyyy\")\n  };\n\n  const [local, setLocal] = useState(defaultLocal);\n  \n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n    \n  };\n\n  const handleRecipe = (e) => {\n    setLocal((local.food = e.target.value));\n    setLocal((local.expiry = expiryDate))\n    setIngredients((ingredients) => [...ingredients, local]);\n    setLocal(defaultLocal);\n  };\n\n  const handleMealName = (e) => {\n   setMealName(e.target.value)\n  };\n\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n //trigger this when editing/deleting items\n const [update, setUpdate] = useState(0);\n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      //month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        meal: mealName,\n        ingredients: ingredients,\n        purchase: purchasePlace,\n        expiry: moment(expiryDate).format(\"DD/MM/yyyy\"),\n        storage: storageMethod\n      },\n    };\n\n    forceUpdate();\n\n    props.addToShoppingList(data);\n\n  };\n\n  return (\n    <>\n      <Html5QrcodePlugin\n        fps={10}\n        qrbox={250}\n        disableFlip={false}\n        qrCodeSuccessCallback={onNewScanResult}\n\n      />\n      <p style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>{mealName}</p>\n\n      <Alert variant=\"success\">\n        <Alert.Heading>Missing some items in your meal plan?</Alert.Heading>\n        <p>\n          The scanner allows you to add more items to your meal plan\n        </p>\n      </Alert>\n\n        <Form\n           onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.handleFormClose();\n          }}\n        >\n      \n        <Form.Group>\n        <li>{recipeList && recipeList.map(data => \n        <div><p>\n          \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          <div class=\"form-check\">\n            <label class=\"form-check-label\" for=\"flexCheckDisabled\" style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>\n              {data?.recipe.label}\n            </label>\n            <input \n              class=\"form-check-input\" \n              type=\"radio\" \n              name=\"flexRadioDefault\" \n              id=\"flexRadioDefault1\"\n              style={{alignItems: 'right', marginLeft: '20px'}}\n              value= {data?.recipe.label}\n              onClick={(e) => {\n                handleMealName(e, \"value\");\n              }}\n            />            \n          </div>\n        </h5>\n        <p class=\"card-text\">\n          {data?.recipe.ingredientLines.map(item => {\n          return <ul>\n            \n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"flexCheckDisabled\">\n                {item}\n              </label>\n              <input \n                class=\"form-check-input\" \n                type=\"checkbox\" \n                value={item}\n                id=\"flexCheckDefault\"\n                style={{alignItems: 'right', marginLeft: '20px', alignItems: 'left'}}\n                onClick={(e) => {\n                  handleRecipe(e, \"value\");\n                  //e.currentTarget.disabled = true;\n                }}\n              />\n          \n            </div>\n            \n          </ul>;\n          \n        })}\n          </p>\n          \n      </div>\n    </div>\n          {/* <Form.Label>{data?.id}</Form.Label>\n          <Button\n            type=\"text\"\n            id=\"add ingredient\"\n            value={data?.id}\n            onClick={(e) => {\n              handleIngredient(e, \"value\");\n              e.currentTarget.disabled = true;\n            }}\n            required\n          >\n          Add\n        </Button> */}\n        </p></div>)}</li>\n        </Form.Group>\n\n        <Form.Group>\n            <Form.Label>Where did you purchase this item?</Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"purchasePlace\"\n              onChange={(e) => {\n                setPurchasePlace(e.target.value);\n              }}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>What is the Expiry date of this item?</Form.Label>\n            {/* <Form.Control\n              type=\"text\"\n              id=\"expiry\"\n              onChange={(e) => handleLocal(e)}\n              value={local.expiry}\n            /> */}\n            <DatePicker \n              selected={expiryDate} \n              onChange={(date) => setExpiryDate(date)} \n              dateFormat=\"dd/MM/yyyy\"  \n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>How do you store this item?</Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"storageMethod\"\n              onChange={(e) => {\n                setStorageMethod(e.target.value);\n              }}\n            />\n          </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>        \n      </Form>\n      {error && <div><p>Oops..Could not fetch food item, pls try another barcode..😭</p></div>}\n     \n    </>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    //createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n    addToShoppingList: (data) => dispatch(addToShoppingList(data))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Scanner);","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport EatingOut from \"./EatingOut\";\nimport AddMealFormShop from \"./AddMealFormShop\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport ScannerShop from \"../../../../../../SubComponents/QRCode/ScannerShop\";\n\nexport function AddMealModalShop({ show, setShow, value }) {\n  const [eatingOut, setEatingOut] = useState(\"unconfirmed\");\n\n  //control barcode scanner\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  //scanning items will add item as a meal in meal plan including nutrition info and ingrs if information available\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setEatingOut(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Add new meal for {value.format(\"DD/MM\")}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          \n            <button\n              className=\"btn success shadow-none qrcode-btn\"\n              onClick={() => handleSetScan()}\n            >\n              {expand}\n            </button>\n            {scan ? (\n              <ScannerShop value={value} handleFormClose={handleFormClose} />\n            ) : (\n              <AddMealFormShop value={value} handleFormClose={handleFormClose} />\n            )}\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\nfunction InOrOut(props) {\n  switch (props.eatingOut) {\n    default:\n    case \"unconfirmed\":\n      return (\n        <>\n          <div className=\"basic-title-left\">\n            Are you cooking at home or eating out?\n          </div>\n          <Row>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"At Home\"\n                onClick={() => props.setEatingOut(\"no\")}\n              />\n            </Col>\n            <Col>\n              <SubButton\n                styling=\"green\"\n                text=\"Eating Out\"\n                onClick={() => props.setEatingOut(\"yes\")}\n              />\n            </Col>\n          </Row>\n        </>\n      );\n    case \"yes\":\n      return <EatingOut handleFormClose={props.handleFormClose} />;\n    case \"no\":\n      return <>{props.children}</>;\n  }\n}\n","import React, { useState } from \"react\";\n\nexport default function ShoppingListHeader({ value, setValue }) {\n  const startDay = value.clone().startOf(\"week\");\n  const endDay = value.clone().endOf(\"week\");\n\n  function prevWeek() {\n    return value.clone().subtract(7, \"days\");\n  }\n\n  function nextWeek() {\n    return value.clone().add(7, \"days\");\n  }\n\n  return (\n    <div className=\"header\">\n      <div className=\"previous\" onClick={() => setValue(prevWeek())}>\n        {String.fromCharCode(171)}\n      </div>\n      <div className=\"current\">\n        Shopping list for {startDay.format(\"DD MMMM\")} -{\" \"}\n        {endDay.format(\"DD MMMM\")}\n      </div>\n      <div className=\"next\" onClick={() => setValue(nextWeek())}>\n        {String.fromCharCode(187)}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport LocalMallIcon from '@mui/icons-material/LocalMall';\nimport { addToInventory } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { removeFromShop, newRemoveFromShop } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\n\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction BoughtItemIcon(props) {\n\n // console.log(\"to inventory ==> \", props.food)\n  const handleSelect = async () => {\n    const data = {\n      //need to send shopping list data to be bough the previous week from the day it is made\n      week: props.value.format(\"w\") - 1,\n      day: props.value.format(\"DD\"),\n      upload: {\n        ingredients: props.food,\n        item: props.item,\n        measure: props.measure,\n        quantity: props.quantity,\n      },\n    };\n    props.addToInventory(data);\n    submitNotification(\"Success\", `${data.upload.item}` + \" added to Inventory!\");\n  };\n\n  const handleDelete = (id) => {\n    const data = {\n      week: props.value.format(\"w\"),\n      id: id, \n    };\n    // console.log(props.id);\n    props.removeFromShop(data);\n    props.newRemoveFromShop(data);\n    props.setUpdate(props.update + 1);\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Bought Item\">\n        <IconButton\n          aria-label=\"Bought Item\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleSelect();\n            handleDelete(props.id);\n          }}\n        >\n          <LocalMallIcon fontSize=\"25\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToInventory: (data) => dispatch(addToInventory(data)),\n    removeFromShop: (data) => dispatch(removeFromShop(data)),\n    newRemoveFromShop: (data) => dispatch(newRemoveFromShop(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BoughtItemIcon);\n","import React, { useState, useEffect } from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\nimport { addToInventory } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { removeFromShop, newRemoveFromShop } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction AddToCartIcon(props) {\n\n  const [cart, setCart] = useState([]);\n\n\nconst addToCart = (ingr) => {\n  setCart([...cart, ingr]);\n  };\n\n  const removeFromCart = (ingr) => {\n    let hardCopy = [...cart];\n    hardCopy = hardCopy.filter((cartItem) => cartItem.id !== ingr.id);\n    setCart(hardCopy);\n    };\n\n  const cartItems = cart.map((ingr, index) => (\n    <List>\n      <ListItem\n          key={`ingr${index}`}\n          className=\"list\"\n          style={{ alignItems: \"flex-end\" }}\n        >      \n        <b>{`${ingr.data}: `}  </b> &nbsp; {`${ingr.quantity} ${ingr.measure}`} &nbsp;\n        {/* <input type=\"text\" value={ingr.data} /> */}\n        {/* <input type=\"submit\" value=\"remove\" onClick={() => removeFromCart(ingr)} /> */}\n        <HighlightOffIcon onClick={() => removeFromCart(ingr)} />\n      </ListItem>\n    </List>\n    ));\n\n\n\n  function notify(){\n    submitNotification(`${props.item}` + \" added to cart\");\n   }\n\n  return (\n    <>\n      <Tooltip title=\"Add to cart\">\n        <IconButton\n          aria-label=\"Add to cart\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            notify();\n          }}\n        >\n          <AddCircleOutlineIcon fontSize=\"25\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToInventory: (data) => dispatch(addToInventory(data)),\n    removeFromShop: (data) => dispatch(removeFromShop(data)),\n    newRemoveFromShop: (data) => dispatch(newRemoveFromShop(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToCartIcon);\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { editSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { editInventoryData } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\"\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport { editShoppingListData } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\n\n\nfunction EditShopForm(props) {\n  const [food, setFood] = useState(props.food);\n  const [item, setItem] = useState(props.data);\n  const [quantity, setQuantity] = useState(props.quantity);\n  const [measure, setMeasure] = useState(props.measure);\n\n\n  const handleSubmit = () => {\n    const data = {\n      // day: props.value.format(\"DD\"),\n     week: props.week,\n      id: props.id,\n      upload: {\n        id: props.id,\n        ingredient: {\n          food: food,\n          data: item,\n          quantity: quantity,\n          measure: measure,\n          week: props.week\n        }\n      }, \n    };\n\n    //console.log(\"---->>>\", data.upload)\n\n    props.editShoppingListData(data)\n    \n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      <Form.Group>\n        <Form.Label>Ingredient</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"food\"\n          defaultValue={item}\n          onChange={(e) => {\n            setItem(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      {/* <Form.Group>\n        <Form.Label>Expiry Date</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"expiry\"\n          selected={ExpiryDate}\n          onChange={(e) => {\n            setExpiryDate(e.target.selected);\n          }}\n        />\n      </Form.Group> */}\n\n      <Form.Group>\n        <Form.Label>Weight/volume - Meal plan</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            defaultValue={quantity}\n            onChange={(e) => setQuantity(e.target.value)}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\"]}\n            function={(e) => {\n              setMeasure(e)\n              }\n            }\n            //onChange={(e) => setMeasure(e)}\n          />\n        </InputGroup>\n      </Form.Group>\n\n     \n     \n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editShoppingListData: (data) => dispatch(editShoppingListData(data)),   \n  };\n};\n\nexport default connect(null, mapDispatchToProps)(EditShopForm);\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EditShopForm from \"./EditShopForm\";\n\nexport function EditShop({\n  food,\n  data,\n  quantity,\n  measure,\n  week,\n  id,\n  show,\n  setShow,\n  value,\n  update,\n  setUpdate,\n  saved,\n}) {\n  const handleFormClose = () => setShow(false);\n\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Edit Item</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {/* <p>bleeeeeeeeh</p> */}\n        <EditShopForm\n          //meal={meal}\n          food={food}\n          data={data}\n          week={week}\n          measure={measure}\n          quantity={quantity}\n          id={id}\n          update={update}\n          setUpdate={setUpdate}\n          value={value}\n          handleFormClose={handleFormClose}\n          saved={saved}\n        />\n      </Modal.Body>\n    </Modal>\n  );\n}\n\n\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { EditShop } from \"./EditShop\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction Edit(props) {\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"Edit\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <EditIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <EditShop\n        //value={props.value} \n        show={show}\n        setShow={setShow}\n        //meal={props.meal}\n        food={props.food}\n        data={props.data}\n        week={props.week}\n        measure={props.measure}\n        quantity={props.quantity}\n        id={props.id}\n        update={props.update}\n        setUpdate={props.setUpdate}\n        //forceUpdate={props.forceUpdate}\n        //saved={props.saved}\n      />\n    </>\n  );\n}\n\nexport default Edit;\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { editSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { editInventoryData } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\"\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport { editShoppingListDataAddedItems } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\n\n\nfunction EditShopFormAddedItem(props) {\n  const [food, setFood] = useState(props.food);\n  const [item, setItem] = useState(props.data);\n  const [quantity, setQuantity] = useState(props.quantity);\n  const [measure, setMeasure] = useState(props.measure);\n\n\n  const handleSubmit = () => {\n    const data = {\n      // day: props.value.format(\"DD\"),\n     week: props.week,\n      id: props.id,\n      upload: {\n        id: props.id,\n        ingredient: {\n          food: food,\n          data: item,\n          quantity: quantity,\n          measure: measure,\n          week: props.week\n        }\n      }, \n    };\n\n    //console.log(\"---->>>\", data.upload)\n\n    props.editShoppingListDataAddedItems(data)\n    \n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      <Form.Group>\n        <Form.Label>Ingredient</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"food\"\n          defaultValue={item}\n          onChange={(e) => {\n            setItem(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      {/* <Form.Group>\n        <Form.Label>Expiry Date</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"expiry\"\n          selected={ExpiryDate}\n          onChange={(e) => {\n            setExpiryDate(e.target.selected);\n          }}\n        />\n      </Form.Group> */}\n\n      <Form.Group>\n        <Form.Label>Weight/volume - Meal plan</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            defaultValue={quantity}\n            onChange={(e) => setQuantity(e.target.value)}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\"]}\n            function={(e) => {\n              setMeasure(e)\n              }\n            }\n            //onChange={(e) => setMeasure(e)}\n          />\n        </InputGroup>\n      </Form.Group>\n\n     \n     \n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editShoppingListDataAddedItems: (data) => dispatch(editShoppingListDataAddedItems(data)),   \n  };\n};\n\nexport default connect(null, mapDispatchToProps)(EditShopFormAddedItem);\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EditShopFormAddedItem from \"./EditShopFormAddedItem\";\n\nexport function EditShopAddedItems({\n  food,\n  data,\n  quantity,\n  measure,\n  week,\n  id,\n  show,\n  setShow,\n  value,\n  update,\n  setUpdate,\n  saved,\n}) {\n  const handleFormClose = () => setShow(false);\n\n  // console.log(\"wwwxx======>>>>>\", data)\n\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Edit Item</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {/* <p>bleeeeeeeeh</p> */}\n        <EditShopFormAddedItem\n          //meal={meal}\n          food={food}\n          data={data}\n          week={week}\n          measure={measure}\n          quantity={quantity}\n          id={id}\n          update={update}\n          setUpdate={setUpdate}\n          value={value}\n          handleFormClose={handleFormClose}\n          saved={saved}\n        />\n      </Modal.Body>\n    </Modal>\n  );\n}\n\n\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { EditShopAddedItems } from \"./EditShopAddedItems\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction EditAddedItems(props) {\n\n\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"Edit\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <EditIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <EditShopAddedItems\n        //value={props.value} \n        show={show}\n        setShow={setShow}\n        //meal={props.meal}\n        food={props.food}\n        data={props.data}\n        week={props.week}\n        measure={props.measure}\n        quantity={props.quantity}\n        id={props.id}\n        update={props.update}\n        setUpdate={props.setUpdate}\n        //forceUpdate={props.forceUpdate}\n        //saved={props.saved}\n      />\n    </>\n  );\n}\n\nexport default EditAddedItems;\n","import React, { useState, useEffect } from \"react\";\nimport { Form, InputGroup, Button, Alert, Table, Modal } from \"react-bootstrap\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n\nimport { connect } from \"react-redux\";\nimport { getShoppingList, getShoppingListUpdate } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { addToShoppingListUpdate } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { addToPurchaseItems, getInventory } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { getAllItems, getPlanData } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n// import { addToPurchaseItems } from \"../../../../../../../store/actions/dataActions\";\n\nimport BoughtItemIcon from \"../Icons/BoughtItemIcon\";\nimport AddToCartIcon from \"../Icons/AddToCartIcon\";\nimport Edit from \"../Icons/EditIconShop\";\nimport EditAddedItems from \"../Icons/EditIconShopAddedItems\";\nimport Checkbox from '@mui/material/Checkbox';\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Stack from '@mui/material/Stack';\nimport moment from \"moment\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\nimport SyncIcon from '@mui/icons-material/Sync';\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport DownloadDoneIcon from '@mui/icons-material/DownloadDone';\n\nfunction ShopItems(props) {\n  \n  // console.log(\"All hail props\", props)\n\n  const [list, setList] = useState([]);\n  const [allList, setAllList] = useState([]);\n  const [newList, setNewList] = useState([]);\n  const [inventory, setInventory] = useState([]);\n  const [showModal, setShow] = useState(false);\n  const [showModalList, setShowList] = useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [shoppingList, setShoppingList] = useState([]);\n  const [clicked, setClicked] = useState(false)\n\n  //this sends data request\n  useEffect(() => {\n    props.getInventory();\n  }, [props.value, props.update]);\n\n  useEffect(() => {\n    forceUpdate()\n  }, [props.data]);\n\n  const getInventoryList = async () => {\n    //clears the items array before each update- IMPORTANT\n    setInventory([]);\n\n    //sets a new item object in the array for every document\n    props.inventory.forEach((doc) => {\n      // id is the docref for deletion\n      var item = doc.item;\n      var measure = doc.measure;\n      var quantity = doc.quantity;\n\n      setInventory((list) => [\n        ...list,\n        {\n          item: item,\n          quantity: quantity,\n          measure: measure,\n        },\n      ]);\n    });\n  };\n\n  //this sends data request\n  useEffect(() => {\n    getInventoryList();\n    //console.log(\"xx======>>>>>\", inventory)\n  }, [props.update]);\n\n  //trigger this when editing/deleting items\n const [update, setUpdate] = useState(0);\n \n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n function notify(ingr){\n  submitNotification(`${ingr}` + \" added to cart\");\n }\n\n function Refresh() {\n  return (\n    <>\n      <Tooltip title=\"Refresh\">\n        <IconButton\n          aria-label=\"Refresh\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            forceUpdate();\n            submitNotification(\"Refreshing..\");\n          }}\n        >\n          <SyncIcon style={{ fontSize: 35 }} \n          />\n        </IconButton>\n      </Tooltip>\n  </>\n  );\n }\n\n const label = { inputProps: { 'aria-label': 'Checkbox demo' } };\n\nconst [cart, setCart] = useState([]);\n\n\nconst addToCart = (ingr) => {\n  setCart([...cart, ingr]);\n  };\n\n  const removeFromCart = (ingr) => {\n    let hardCopy = [...cart];\n    hardCopy = hardCopy.filter((cartItem) => cartItem.id !== ingr.id);\n    setCart(hardCopy);\n    };\n\n  const cartItems = cart.map((ingr, index) => (\n    <List>\n      <ListItem\n          key={`ingr${index}`}\n          className=\"list\"\n          style={{ alignItems: \"flex-end\" }}\n        >      \n        <b>{`${ingr.data}: `}  </b> &nbsp; {`${ingr.quantity} ${ingr.measure}`} &nbsp;\n        {/* <input type=\"text\" value={ingr.data} /> */}\n        {/* <input type=\"submit\" value=\"remove\" onClick={() => removeFromCart(ingr)} /> */}\n        <Tooltip title=\"Remove\">\n                    <IconButton\n                      aria-label=\"Remove\"\n                      sx={{ ml: 2 }}\n                      onClick={() => {\n                        removeFromCart(ingr)\n                      }}\n                    >\n                      <HighlightOffIcon fontSize=\"50\"/>\n                    </IconButton>\n                  </Tooltip>\n      </ListItem>\n    </List>\n    ));\n\n    const PurchaseItem = () => {\n\n      const cartList = cart\n  \n      const data = {\n  \n        upload: {\n         cartList,\n          profile: props.profile,\n          // FirstName: props.profile.firstName, \n          // LastName: props.profile.lastName,\n          // Country: props.profile.country,\n          // City: props.profile.city,\n          // Email: props.profile.email,\n          date: props.value.format(\"YYYY/MM/DD\"),\n          status: \"pending\"\n        }\n       \n      };\n\n      props.addToPurchaseItems(data);\n    submitNotification(\"Thanks for placing your order with us\", \"We will contact local sustainable farmers and grocery shops and get back to you shortly with prices and delivery time\");\n\n    }\n\n    const AllPurchaseItem = () => {\n\n      const firstList = allList\n      const secondList = newList \n  \n      const data = {\n  \n        upload: {\n          firstList,\n          secondList,\n          profile: props.profile,\n          // FirstName: props.profile.firstName, \n          // LastName: props.profile.lastName,\n          // Country: props.profile.country,\n          // City: props.profile.city,\n          // Email: props.profile.email,\n          date: props.value.format(\"YYYY/MM/DD\"),\n          status: \"pending\"\n        }\n       \n      };\n\n      props.addToPurchaseItems(data);\n    submitNotification(\"Order Successful\", \"You will be contected shortly..\");\n\n    }\n  \n\nuseEffect(() => {\n  console.log(\"cart\", cart);\n}, [cart]);\n\n  //this sends data request\n  useEffect(() => {\n    const data = {\n      //decided to group year and month together, should this be changed?\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD-MM-yyyy\"),\n    };\n    props.getPlanData(data);\n  }, [props.value, update]);\n\n  //const year = props.value.format(\"YYYY\")\n\n  useEffect(() => {\n    const data = {\n      week: props.value.format(\"w\"),\n    };\n\n    props.getShoppingList(data);\n    props.getShoppingListUpdate(data);\n  }, [props.value, update]);\n\n\n  const ShoppingList = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setAllList([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.UpdatedShoppingList.forEach((doc) => {\n\n      //id is the docref for deletion\n      var id = doc.id;\n      var food = doc.ingredient.food;\n      var data = doc.ingredient.data;\n      var quantity = doc.ingredient.quantity;\n      var measure = doc.ingredient.measure;\n      var week = doc.ingredient.week;\n\n      setAllList((list) => [\n        ...list,\n        {\n          food: food,\n          data: data,\n          measure: measure,\n          quantity: quantity,\n          week: week,\n          id: id,\n        },\n      ]);\n    });\n  };\n\n  const newShoppingList = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setNewList([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.newShoppingList.forEach((doc) => {\n\n      //id is the docref for deletion\n      var id = doc.id;\n      var food = doc.ingredient.food;\n      var data = doc.ingredient.data\n      var quantity = doc.ingredient.quantity;\n      var measure = doc.ingredient.measure;\n      var week = doc.ingredient.week;\n\n      setNewList((list) => [\n        ...list,\n        {\n          food: food,\n          data: data,\n          measure: measure,\n          quantity: quantity,\n          week: week,\n          id: id,\n        },\n      ]);\n    });\n  };\n\n\n  useEffect(() => {\n    ShoppingList();\n    newShoppingList();\n  }, [props.UpdatedShoppingList, props.newShoppingList]);\n\n  const updateShoppingList = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setList([]);\n\n    if (props.newPlans == undefined || props.newPlans == '' ) return (<div><p>Loading...</p></div>)\n\n\n    //sets a new meal object in the array for every document with this date attached\n    props.newPlans.forEach((doc ) => {\n\n      const items = doc.ingredients\n\n      items.forEach((data) => {\n        //we dont need the ID from the food item yet since we are not relating them\n        //var id = doc.id\n        var start = moment(doc.start).utc().format('YYYY-MM-DD')\n        var item = data.food\n        var quantity = data.quantity;\n        var measure = data.measure;\n\n        setList((list) => [\n          ...list,\n          {\n            week: moment(start, \"YYYY-MM-DD\").week(),\n            data: item,\n            food: item + \" \" + quantity + \" \" + measure,\n            measure: measure,\n            quantity: quantity,\n          },\n        ]);\n      })\n        \n    });\n  };\n\n  useEffect(() => {\n    updateShoppingList();\n  }, [props.newPlans, update]);\n\n  function getFilteredProducts() {\n    return list.filter(product => {\n      const week = props.value.format(\"w\")\n    \n      return week == product.week;\n    });\n  }\n\n  useEffect(() => {\n    getFilteredProducts();\n  }, [props.newPlans]);\n \n// filter products based on similar meal name\nconst result = Object.values(\n  getFilteredProducts().reduce((acc, item) => {\n    acc[item.data] = acc[item.data]\n      ? { ...item, quantity: item.quantity + acc[item.data].quantity }\n      : item;\n    return acc;\n  }, {})\n);\n\n//setNewResult(result)\n//console.log(\"difference =>\", result);\n\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  //modal for generate new shopping list\n  const handleCloseList = () => setShowList(false);\n  const handleShowList = () => setShowList(true);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const Close = () => {\n    setOpen(false);\n  };\n\n\n  function test() {\n    let check = [];\n\n   const diff = result.filter(({ data: id1 }) => !inventory.some(({ item: id2 }) => id2 === id1));\n\n    // console.log(\"checked the common:\",diff);\n\n    diff.forEach(data => { check.push(data)})\n\n    result.forEach(opt => {\n      inventory.forEach(item => {\n        if (opt.data == item.item) {\n          check.push({\n            data: opt.data,\n            food: opt.food,\n            measure: opt.measure,\n            quantity: opt.quantity - item.quantity,\n            week: opt.week\n          }) \n        }\n      });\n    });        \n\n    setShoppingList(check)\n\n    // console.log(\"checkked ther loop bruh:\",check);\n\n  }\n\n  useEffect(() => {\n    test();\n  }, [props.newPlans]);\n  //add item to new shopping list\nconst addToList = () => {\n\n  const data = {\n\n    week: props.value.format(\"w\"),\n    upload: {\n      result: shoppingList\n    },\n  };\n    props.addToShoppingListUpdate(data)\n    setShow(false);\n  }\n \n\n  return (\n    <>\n     <Button className=\"blue-btn shadow-none\" variant=\"contained\" onClick={handleClickOpen}>\n              All\n     </Button>\n      <Refresh />\n\n      {newList.length ? (\n        <>\n          <List>\n            {allList.map((ingr, index) => (\n              <ListItem\n                key={`ingr${index}`}\n                className=\"list\"\n                style={{ alignItems: \"flex-end\" }}\n              >\n                <div>\n                  <p>\n                  {ingr.data} {ingr.quantity} {ingr.measure}\n                    </p>\n                    <br />\n\n                </div>\n                <div style={{ marginLeft: \"20px\" }}>\n                  \n                </div>\n                <div className=\"icons\">\n\n                  {/* <AddToCartIcon \n                   item={ingr.data}\n                   measure={ingr.measure}\n                   quantity={ingr.quantity}\n                  />  */}\n                  <Tooltip title=\"Add to cart\">\n                    <IconButton\n                      aria-label=\"Add to cart\"\n                      sx={{ ml: 2 }}\n                      onClick={() => {\n                        notify(ingr.data);\n                      }}\n                    >\n                      <AddCircleOutlineIcon fontSize=\"25\" />\n                    </IconButton>\n                  </Tooltip>\n\n\n                  <BoughtItemIcon \n                   value={props.value}\n                   food={ingr.food}\n                   item={ingr.data}\n                   id={ingr.id}\n                   measure={ingr.measure}\n                   quantity={ingr.quantity}\n                   update={update}\n                   setUpdate={setUpdate}\n                  /> \n\n                  <EditAddedItems\n                    value={props.value}\n                    food={ingr.food}\n                    data={ingr.data}\n                    week={ingr.week}\n                    id={ingr.id}\n                    measure={ingr.measure}\n                    quantity={ingr.quantity}\n                    update={update}\n                    setUpdate={setUpdate}\n                  /> \n\n\n                  \n                  \n                  {/* <RemoveFromShop\n                    id={ingr.id}\n                    value={props.value}\n                    update={update}\n                    setUpdate={setUpdate}\n                  />\n                    */}\n                </div>\n              </ListItem>\n            ))}\n          </List>\n\n          <List>\n            {newList.map((ingr, index) => (\n              <ListItem\n                key={`ingr${index}`}\n                className=\"list\"\n                style={{ alignItems: \"flex-end\" }}\n              >\n                <div>\n                  <p>\n                    {ingr.data} {ingr.quantity} {ingr.measure}\n                    </p>\n                    <br />\n\n\n                </div>\n                <div style={{ marginLeft: \"20px\" }}>\n                  \n                </div>\n                <div className=\"icons\">\n                \n                  <Tooltip title=\"Add to cart\">\n                    <IconButton\n                      aria-label=\"Add to cart\"\n                      sx={{ ml: 2 }}\n                      onClick={(e) => {\n                        addToCart(ingr)\n                        notify(ingr.data);\n                        e.target.disabled = true;\n                      }}\n                    >\n                      <AddCircleOutlineIcon fontSize=\"25\" />\n                    </IconButton>\n                  </Tooltip>\n\n                  <BoughtItemIcon \n                    value={props.value}\n                    food={ingr.food}\n                    item={ingr.data}\n                    id={ingr.id}\n                    measure={ingr.measure}\n                    quantity={ingr.quantity}\n                    update={update}\n                    setUpdate={setUpdate}\n                  /> \n                  <Edit\n                    value={props.value}\n                    food={ingr.food}\n                    data={ingr.data}\n                    week={ingr.week}\n                    id={ingr.id}\n                    measure={ingr.measure}\n                    quantity={ingr.quantity}\n                    update={update}\n                    setUpdate={setUpdate}\n                  /> \n                  {/* <RemoveFromShop\n                    id={ingr.id}\n                    value={props.value}\n                    update={update}\n                    setUpdate={setUpdate}\n                  />\n                    */}\n                </div>\n              </ListItem>\n            ))}\n          </List>\n\n          <Stack spacing={2} direction=\"row\" style={{justifyContent: 'center'}}>\n            <Button className=\"blue-btn shadow-none\" type=\"submit\"\n              onClick={handleShow}>\n                View Cart\n            </Button>\n\n            <Button className=\"blue-btn shadow-none\" variant=\"contained\" onClick={handleClickOpen}>\n              All\n            </Button>\n          </Stack>\n\n          \n        <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>List of items to order</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n            {cartItems}\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\" onClick={() => {\n          PurchaseItem()\n          setCart([])\n          handleClose()\n          }}>\n            Confirm\n          </Button>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      <div className=\"empty basic-title-left\">\n          <p>Regenerate Your Shopping List</p>\n          <Button className=\"blue-btn shadow-none\" type=\"submit\"\n            onClick={handleShowList}>\n              Generate\n          </Button>\n\n          <Modal show={showModalList} onHide={handleCloseList}>\n          <Modal.Header closeButton>\n            <Modal.Title>Generate Your Shopping List</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n            Generate a new list?\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\" onClick={()=> {\n          addToList()\n          submitNotification(\"Generating new list..\");\n\n          }}>\n            Yes\n          </Button>\n          <Button variant=\"secondary\" onClick={handleCloseList}>\n            No\n          </Button>\n        </Modal.Footer>\n      </Modal>\n        </div>\n\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Order Request\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          Order your food items from your shopping list\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={Close}>Cancel</Button>\n          <Button onClick={() => {\n            AllPurchaseItem()\n            Close()\n          }} \n            autoFocus>\n            Yes\n          </Button>\n        </DialogActions>\n      </Dialog>\n          \n        </>\n      ) : (\n        <div className=\"empty basic-title-left\">\n          <p>There are no items in the list yet :( please refresh page</p>\n          <Button className=\"blue-btn shadow-none\" type=\"submit\"\n            onClick={handleShow}>\n              Generate\n          </Button>\n\n          <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Generate New Shopping List</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n            Generate a new list?\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\" onClick={()=> {\n          addToList()\n          submitNotification(\"Generating new list..\");\n          }}>\n            Yes\n          </Button>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            No\n          </Button>\n        </Modal.Footer>\n      </Modal>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    UpdatedShoppingList: state.mealPlan.shoppingList,\n    newShoppingList: state.mealPlan.newShoppingList,\n    shoppingList: state.mealPlanner.allItems,\n    newPlans: state.mealPlanner.newPlans,\n    profile: state.firebase.profile,\n    inventory: state.mealPlan.inventory,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getShoppingList: (product) => dispatch(getShoppingList(product)),\n    getShoppingListUpdate: (product) => dispatch(getShoppingListUpdate(product)),\n    getAllItems: (plan) => dispatch(getAllItems(plan)),\n    addToShoppingListUpdate: (data) => dispatch(addToShoppingListUpdate(data)),\n    getPlanData: (plan) => dispatch(getPlanData(plan)),\n    addToPurchaseItems: (data) => dispatch(addToPurchaseItems(data)),\n    getInventory: (item) => dispatch(getInventory(item)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopItems);","import React, { useState, useEffect } from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nimport { AddMealModalShop } from \"./Icons/AddMealModalShop\";\nimport Scanner from \"../../../../../SubComponents/QRCode/Scanner\";\n\nimport buildCalendar from \"./BuildCalendar/Build\";\nimport dayStyles from \"./BuildCalendar/dayStyles\";\nimport CalendarHeader from \"./BuildCalendar/header\";\nimport ShoppingListHeader from \"./BuildShoppingList/header\";\n\nimport moment from \"moment\";\n\n// import MyMeals from \"./meals\";\nimport ShopItems from \"./BuildShoppingList/ShopItems\";\n\nexport const CalendarShop = ({ value, onChange }) => {\n  const [calendar, setCalendar] = useState([]);\n  const [show, setShow] = useState(false);\n  const [values, setValue] = useState(moment());\n\n  function chosenDay() {\n    return value.format(\"dddd DD/MM\");\n  }\n\n  useEffect(() => {\n    setCalendar(buildCalendar(value));\n  }, [value]);\n\n  return (\n    <>\n      <div className=\"calendar\">\n        <CalendarHeader value={value} setValue={onChange} />\n        <div className=\"body\">\n          <div className=\"day-names\">\n            {[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"].map((d, index) => (\n              <div className=\"week\" key={index}>\n                {d}\n              </div>\n            ))}\n          </div>\n          {calendar.map((week) => (\n            <div key={week}>\n              {week.map((day) => (\n                <div\n                  className=\"day\"\n                  key={day.format(\"D\").toString()}\n                  onClick={() => onChange(day)}\n                >\n                  <div className={dayStyles(day, value)}>\n                    {day.format(\"D\").toString()}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-8\" style={{textAlign: \"left\"}}>Add other items to your Shopping List🙂</div>\n        <div className=\"col-4\" style={{textAlign: \"right\"}}><AddMealModalShop value={values} show={show} setShow={setShow} /></div>\n        <Alert variant=\"primary\">\n          Order all food items by clicking the 'All' button or  select items by checking the boxes. You can edit food items before placing an order.\n        </Alert>\n      </div>\n      <div className=\"plan-box\">\n        <div className=\"header\">{chosenDay()}</div>\n        <ShoppingListHeader value={value} setValue={setValue} />\n        {/* <MyMeals value={value} show={show} /> */}\n        <ShopItems value={value} show={show} />\n      </div>\n    </>\n  );\n};\n","//api docs here https://developer.edamam.com/edamam-docs-recipe-api#/\nexport const recipeSearch = async (\n  query,\n  mealType,\n  cuisineType,\n  requirements,\n  setRecipes,\n  setLinks,\n  addPageToArray\n) => {\n  const app_id = \"5532003c\";\n  const app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  let link = `https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`;\n  if (mealType) {\n    link += `&mealType=${mealType}`;\n  }\n  if (cuisineType) {\n    link += `&cuisineType=${cuisineType}`;\n  }\n  if (requirements) {\n    link += `&health=${requirements}`;\n  }\n\n  const resp = await fetch(link);\n  const data = await resp.json();\n  setRecipes(data.hits);\n  setLinks(data._links);\n  addPageToArray(link);\n  //console.log(\"This is your data\", data);\n  // console.log(\"links\", data._links);\n};\n\nexport const nextPage = async (page, setLinks, setRecipes) => {\n  const resp = await fetch(`${page}`);\n  const data = await resp.json();\n  setRecipes(data.hits);\n  setLinks(data._links);\n  //console.log(\"This is your data\", data);\n};\n\n// &mealType=${mealType}&cuisineType=${cuisineType}\n","import React from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport { createMealPlannerData } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction SaveMealPlanIcon(props) {\n  const handleSelect = async () => {\n    const data = {\n      upload: {\n        meal: props.meal,\n        mealType: props.mealType,\n        ingredients: props.ingredients,\n        url: props.url,\n        totalNutrients: props.totalNutrients,\n        totalDaily: props.totalDaily,\n        yield: props.yield,\n        nonNativeData: true,\n      },\n    };\n    props.createMealPlannerData(data);\n    submitNotification(\"Success\", \"Added to Meal Plan!\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Add to Meal Plan\">\n        <IconButton\n          aria-label=\"Add to Meal Plan\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleSelect();\n          }}\n        >\n          <AddBoxIcon fontSize=\"40\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlannerData: (mealPlanner) => dispatch(createMealPlannerData(mealPlanner)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveMealPlanIcon);\n","import React from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\nimport Add from \"../../../Icons/AddIcon\"\nimport SaveMealPlanIcon from \"../../../Icons/SaveMealPlanIcon\";\n\nexport default function RecipeList(props) {\n  return (\n    <>\n      {props.query &&\n        props.recipes.map((item, i) => (\n          <div className=\"meal-box\" key={i}>\n            <Row>\n              <Col className=\"image\">\n                <img src={item.recipe.image} alt={`${item.recipe.label}`} />\n              </Col>\n              <Col className=\"ingredients\">\n                <List styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}>\n                  <ListSubheader className=\"heading\">\n                    <div className=\"meal-name\">{item.recipe.label}</div>\n                    <div className=\"icons\">\n                      \n                      <SaveMealPlanIcon \n                        value={props.value}\n                        mealType={item.recipe.mealType}\n                        meal={item.recipe.label}\n                        ingredients={item.recipe.ingredients}\n                        url={item.recipe.url}\n                        totalNutrients={item.recipe.totalNutrients}\n                        totalDaily={item.recipe.totalDaily}\n                        yield={item.recipe.yield}\n                      />\n                      \n                    </div>\n                  </ListSubheader>\n                  {item.recipe.ingredients &&\n                    item.recipe.ingredients.map((ingredient, i) => (\n                      <ListItem key={i} className=\"list\">\n                        <ListItemIcon>\n                          <CheckBoxOutlineBlankIcon fontSize=\"1rem\" />\n                        </ListItemIcon>\n                        {ingredient.text}\n                      </ListItem>\n                    ))}\n                  <a href={item.recipe.url}>{item.recipe.url}</a>\n                </List>\n              </Col>\n            </Row>\n          </div>\n        ))}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../../../SubComponents/Dropdown\";\n\n\nexport default function MealType({ setMealType }) {\n  const [control, setControl] = useState(\"Breakfast\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    switch (control) {\n      default:\n      case \"Breakfast\":\n        setMealType(\"Breakfast\");\n        break;\n      case \"Lunch\":\n        setMealType(\"Lunch\");\n        break;\n      case \"Dinner\":\n        setMealType(\"Dinner\");\n        break;\n      case \"Snacks\":\n      setMealType(\"Snacks\");\n      break;\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  const mealTypes = [\"Breakfast\", \"Lunch\", \"Dinner\", \"Snacks\"];\n\n  return (\n    <Dropdown\n      id=\"meal-type\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={mealTypes}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../../../SubComponents/Dropdown\";\n\n//ownRecipe is sent when a person adds their own meal as opposed to downloading from API\nexport default function CuisineType({ setCuisineType }) {\n  const [control, setControl] = useState(\"Any\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    if (control === \"Any\") {\n      setCuisineType(\"\");\n    } else {\n      setCuisineType(`${control}`);\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  const mealTypes = [\n    \"Any\",\n    \"American\",\n    \"Asian\",\n    \"British\",\n    \"Caribbean\",\n    \"Central Europe\",\n    \"Chinese\",\n    \"Eastern Europe\",\n    \"French\",\n    \"Indian\",\n    \"Italian\",\n    \"Japanese\",\n    \"Kosher\",\n    \"Mediterranean\",\n    \"Mexican\",\n    \"Middle Eastern\",\n    \"Nordic\",\n    \"South American\",\n    \"South East Asian\",\n  ];\n\n  return (\n    <Dropdown\n      id=\"meal-type\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={mealTypes}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../../../SubComponents/Dropdown\";\n\nexport default function Requirements({ setRequirements }) {\n  const requirements = [\n    \"Any\",\n    \"Alcohol Free\",\n    \"Crustacean Free\",\n    \"Dairy Free\",\n    \"Gluten Free\",\n    \"Keto Friendly\",\n    \"Kosher\",\n    \"Nut Free\",\n    \"Pescatarian\",\n    \"Vegan\",\n    \"Vegetarian\",\n  ];\n  const [control, setControl] = useState(\"Any\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    switch (control) {\n      default:\n      case \"Any\":\n        setRequirements(\"\");\n        break;\n      case \"Alcohol Free\":\n        setRequirements(\"alcohol-free\");\n        break;\n      case \"Crustacean Free\":\n        setRequirements(\"crustacean-free\");\n        break;\n      case \"Dairy Free\":\n        setRequirements(\"dairy-free\");\n        break;\n      case \"Gluten Free\":\n        setRequirements(\"gluten-free\");\n        break;\n      case \"Keto Friendly\":\n        setRequirements(\"keto-friendly\");\n        break;\n      case \"Kosher\":\n        setRequirements(\"kosher\");\n        break;\n      case \"Nut Free\":\n        setRequirements(\"nut-free\");\n        break;\n      case \"Pescatarian\":\n        setRequirements(\"pescatarian\");\n        break;\n      case \"Vegan\":\n        setRequirements(\"vegan\");\n        break;\n      case \"Vegetarian\":\n        setRequirements(\"vegetarian\");\n        break;\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  return (\n    <Dropdown\n      id=\"requirements\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={requirements}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","import React from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { SubButton } from \"../../../../../../../../SubComponents/Button\";\n\nexport default function NextBack({ links, pageNumber, changePage }) {\n  return (\n    <Container>\n      {\n        links.back ? (\n          <SubButton onClick={() => console.log(links.back.href)} text=\"Back\" styling=\"green\"/>) : null\n      }\n      \n      {\n        links.next ? (\n          <div>\n            <Row className=\"justify-content-md-center\">\n              <p>Page: {pageNumber + 1}</p>\n            </Row>\n            <Row>\n              { pageNumber != 0 &&\n              <Col>\n                <SubButton onClick={() => changePage(-1)} text=\"Previous Page\" styling=\"green\" />\n              </Col>}\n              <Col>\n                <SubButton onClick={() => changePage(1)} text=\"Next Page\" styling=\"green\" />\n              </Col>\n            </Row>\n          </div>\n        ) : null\n      }\n    </Container>\n\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport \"../../../../../../../../SubComponents/Button\";\n\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\n\nimport { recipeSearch, nextPage } from \"./search\";\nimport RecipeList from \"./RecipeList\";\nimport MealType from \"./mealType\";\nimport CuisineType from \"./cuisineType\";\nimport Requirements from \"./Requirements\";\nimport NextBack from \"./Next\";\n\nexport default function RecipeSearch(props) {\n  const [show, setShow] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  //sends to api\n  const [query, setQuery] = useState(\"\");\n  const [mealType, setMealType] = useState(\"\");\n  const [cuisineType, setCuisineType] = useState(\"\");\n  const [requirements, setRequirements] = useState(\"\");\n  //sent back from api\n  const [recipes, setRecipes] = useState({});\n  const [links, setLinks] = useState(\"\");\n  //handles next and back\n  const [page, setPage] = useState(\"\");\n  // contains list of pages already visited - needed for 'previous' button to function\n  const [arrPages, setArrPages] = useState([]);\n  // keeps track of page number\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // checks if link is already added to array and\n  // if not then it adds the link to the array\n  function addPageToArray(page) {\n    if (arrPages.includes(page)) {\n      console.log(\"Page already in array!\");\n      return;\n    }\n    setArrPages((prevArrPages) => [...prevArrPages, page]);\n    // console.log(\"This is the pages array \", arrPages);\n  }\n\n  useEffect(() => {\n    recipeSearch(\n      query,\n      mealType,\n      cuisineType,\n      requirements,\n      setRecipes,\n      setLinks,\n      addPageToArray\n    );\n    // console.log(\"recipes\", recipes);\n    // console.log(\"Next Page\", links);\n  }, [query, mealType, cuisineType]);\n\n  useEffect(() => {\n    page && nextPage(page, setLinks, setRecipes);\n    // console.log(\"next page\", page);\n  }, [page]);\n\n  // changes the page number by offset and sets the page variable to the correct link\n  function changePage(offset) {\n    if (offset > 0) {\n      // visiting new page i.e. new link needed\n      setPageNumber((oldValue) => oldValue + offset);\n      setPage(links.next.href);\n      addPageToArray(links.next.href);\n    } else if (offset < 0) {\n      // visiting previous page i.e. link saved in arrPages\n      setPageNumber((oldValue) => (oldValue === 0 ? 0 : oldValue - 1));\n      if (pageNumber != 0) setPage(arrPages[pageNumber]);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"basic-title-left\">Search Recipes</div>\n      <Form\n        onSubmit={(e) => {\n          e.preventDefault();\n          setQuery(search);\n        }}\n      >\n        <Form.Group>\n          <InputGroup>\n            <Form.Control\n              className=\"shadow-none\"\n              type=\"text\"\n              id=\"query\"\n              defaultValue={query}\n              onChange={(e) => {\n                setSearch(e.target.value);\n              }}\n            />\n            <Button type=\"submit\" className=\"green-btn shadow-none\">\n              Search\n            </Button>\n          </InputGroup>\n        </Form.Group>\n        <Box sx={{ flexGrow: 1 }}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <p>Meal Type:</p>\n              <div>\n                <MealType setMealType={setMealType} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <p>Origin:</p>\n              <div>\n                <CuisineType setCuisineType={setCuisineType} />\n              </div>\n            </Grid>\n          </Grid>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <p>Requirements:</p>\n              <div>\n                <Requirements setRequirements={setRequirements} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}></Grid>\n          </Grid>\n        </Box>\n      </Form>\n      <RecipeList\n        recipes={recipes}\n        query={query}\n        value={props.value}\n        onChange={props.onChange}\n      />\n      {links ? (\n        <NextBack\n          links={links}\n          pageNumber={pageNumber}\n          changePage={changePage}\n        />\n      ) : null}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"../../../../../../../SubComponents/Dropdown\";\nimport MealType from \"../../Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport FoodItemSearch from \"../../Icons/InputRecipe/FoodItemSearch\";\nimport \"../../../../../../../SubComponents/Button.css\";\nimport RecipeSearch from \"./Search/RecipeSearch\";\n\nimport { connect } from \"react-redux\";\n//import { createRecipe } from \"../../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { createMealPlannerData } from \"../../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n//import { addToShoppingList } from \"../../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { foodIdAPI, nutritionAPI } from \"../../Icons/InputRecipe/NutritionApi\";\n\nfunction Breakfast(props) {\n  \n  return (\n    <div>\n        <h5>Choose atleast 7 meals each for Breakfast, Lunch and Dinner</h5>\n      <RecipeSearch value={props.value} />\n    <div>\n        <button className=\"btn blue-btn shadow-none\" style={{marginTop: \"25px\"}}\n          onClick={() => {\n          props.setPage(props.page + 1);\n          }}>\n          Next\n       </button>\n    </div>\n    \n   </div>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlannerData: (mealPlanner) => dispatch(createMealPlannerData(mealPlanner)),\n    //createRecipe: (data) => dispatch(createRecipe(data)),\n    //addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Breakfast);\n\n","import React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"../../../../../../../SubComponents/Dropdown\";\nimport MealType from \"../../Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport FoodItemSearch from \"../../Icons/InputRecipe/FoodItemSearch\";\nimport \"../../../../../../../SubComponents/Button.css\";\n\nimport { connect } from \"react-redux\";\n//import { createRecipe } from \"../../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { createMealPlannerData } from \"../../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n//import { addToShoppingList } from \"../../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { foodIdAPI, nutritionAPI } from \"../../Icons/InputRecipe/NutritionApi\";\n\nfunction Lunch(props) {\n  const [mealType, setMealType] = useState(\"lunch\");\n  const [err, setErr] = useState(\"\");\n\n  //saves recipe to saved meal list\n  const [save, setSave] = useState(true);\n  const handleSave = () => {\n    setSave(!save);\n  };\n\n  //controls local state of ingredient as we fetch data for it,\n  //once ingredient is \"added\" it will be moved to ingredient array\n  const defaultLocal = {\n    food: \"\",\n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //when local.food changes, fetch the id for the food item\n  //which is needed to fetch nutrition\n  const setFoodId = (foodId) => {\n    setLocal({ ...local, foodId: foodId });\n  };\n\n  const [mealList, setMealList] = useState([]);\n  const handleMealList = async () => {\n    if (local.food !== \"\") {\n      foodIdAPI(local.food, setFoodId).then(() => {\n        setMealList((mealList) => [...mealList, local]);\n        setLocal(defaultLocal);\n      });\n    } else {\n      setErr(\"Please input a meal to add.\");\n    }\n  };\n  useEffect(() => {\n    console.log(\"meal list\", mealList);\n  }, [mealList]);\n\n  const foodList = mealList.map((meal, index) => {\n    return (\n      <li key={index}>\n        {meal.food}\n      </li>\n    );\n  });\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        mealType: mealType,\n        mealList: mealList,\n      },\n    };\n\n    console.log (\"checking the data:\", data)\n    console.log(\"checking props:\", props)\n\n    props.createMealPlannerData(data);\n    forceUpdate();\n\n   // props.addToShoppingList(data);\n  };\n\n  return (\n    <div>\n        <h5>Choose atleast 7 meals for Lunch</h5>\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        //props.handleFormClose();\n      }}\n    >\n      {/* <button\n        onClick={() => {\n          nutritionAPI(local);\n        }}\n      >\n        send test\n      </button> */}\n      \n\n      <div style={{ padding: \"0 0 0 4%\" }}>\n        <ul>{foodList}</ul>\n      </div>\n\n      <Form.Group>\n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n      </Form.Group>\n\n      <Form.Group>\n        <Button\n          className=\"green-btn shadow-none\"\n          id=\"add meal\"\n          onClick={() => {\n            handleMealList();\n          }}\n        >\n          Add Meal\n        </Button>\n      </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button onClick={() => {\n                alert(\"Your meals have been saved\");\n                //props.handleFormClose();\n                }}\n                \n          className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>\n      \n     \n    </Form>\n    <div>\n        \n        <span>\n            <button className=\"btn blue-btn shadow-none\" style={{marginTop: \"25px\"}}\n                onClick={() => {\n                props.setPage(props.page - 1);\n                }}>\n                Previous\n            </button>\n        </span>\n\n        <span>\n            <button className=\"btn blue-btn shadow-none\" style={{marginLeft: \"500px\", marginTop: \"25px\"}}\n                onClick={() => {\n                props.setPage(props.page + 1);\n                }}>\n                Next\n            </button>\n        </span>\n            \n    </div>\n    \n   </div>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlannerData: (mealPlanner) => dispatch(createMealPlannerData(mealPlanner)),\n    //createRecipe: (data) => dispatch(createRecipe(data)),\n    //addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Lunch);\n\n","import React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"../../../../../../../SubComponents/Dropdown\";\nimport MealType from \"../../Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport FoodItemSearch from \"../../Icons/InputRecipe/FoodItemSearch\";\nimport \"../../../../../../../SubComponents/Button.css\";\n\nimport { connect } from \"react-redux\";\n//import { createRecipe } from \"../../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { createMealPlannerData } from \"../../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n//import { addToShoppingList } from \"../../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { foodIdAPI, nutritionAPI } from \"../../Icons/InputRecipe/NutritionApi\";\n\nfunction Dinner(props) {\n  const [mealType, setMealType] = useState(\"dinner\");\n  const [err, setErr] = useState(\"\");\n\n  //saves recipe to saved meal list\n  const [save, setSave] = useState(true);\n  const handleSave = () => {\n    setSave(!save);\n  };\n\n  //controls local state of ingredient as we fetch data for it,\n  //once ingredient is \"added\" it will be moved to ingredient array\n  const defaultLocal = {\n    food: \"\",\n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //when local.food changes, fetch the id for the food item\n  //which is needed to fetch nutrition\n  const setFoodId = (foodId) => {\n    setLocal({ ...local, foodId: foodId });\n  };\n\n  const [mealList, setMealList] = useState([]);\n  const handleMealList = async () => {\n    if (local.food !== \"\") {\n      foodIdAPI(local.food, setFoodId).then(() => {\n        setMealList((mealList) => [...mealList, local]);\n        setLocal(defaultLocal);\n      });\n    } else {\n      setErr(\"Please input a meal to add.\");\n    }\n  };\n  useEffect(() => {\n    console.log(\"meal list\", mealList);\n  }, [mealList]);\n\n  const foodList = mealList.map((meal, index) => {\n    return (\n      <li key={index}>\n        {meal.food}\n      </li>\n    );\n  });\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        mealType: mealType,\n        mealList: mealList,\n      },\n    };\n\n    console.log (\"checking the data:\", data)\n    console.log(\"checking props:\", props)\n\n    props.createMealPlannerData(data);\n    forceUpdate();\n\n   // props.addToShoppingList(data);\n  };\n\n  return (\n    <div>\n        <h5>Choose atleast 7 meals for Dinner</h5>\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        //props.handleFormClose();\n      }}\n    >\n      {/* <button\n        onClick={() => {\n          nutritionAPI(local);\n        }}\n      >\n        send test\n      </button> */}\n      \n\n      <div style={{ padding: \"0 0 0 4%\" }}>\n        <ul>{foodList}</ul>\n      </div>\n\n      <Form.Group>\n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n      </Form.Group>\n\n      <Form.Group>\n        <Button\n          className=\"green-btn shadow-none\"\n          id=\"add meal\"\n          onClick={() => {\n            handleMealList();\n          }}\n        >\n          Add Meal\n        </Button>\n      </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>\n      \n     \n    </Form>\n    <div className=\"btn-group ml-auto\">\n        <span>\n            <button className=\"btn blue-btn shadow-none\" style={{marginTop: \"25px\"}}\n            onClick={() => {\n            props.setPage(props.page - 1);\n            }}>\n            Previous\n            </button>\n        </span>\n        <span>\n            <button className=\"btn blue-btn shadow-none\" style={{marginLeft: \"500px\", marginTop: \"25px\"}}\n                onClick={() => {\n                alert(\"You've successfully created your meal plan\");\n                //props.handleFormClose();\n                }}>\n                Submit\n            </button>\n        </span>\n\n    </div>\n   </div>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlannerData: (mealPlanner) => dispatch(createMealPlannerData(mealPlanner)),\n    //createRecipe: (data) => dispatch(createRecipe(data)),\n    //addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Dinner);\n\n","import React, { useState, useEffect } from \"react\";\nimport Html5QrcodePlugin from \"./Html5QrcodeScanner\";\nimport ResultContainerPlugin from \"./ResultContainerPlugin\";\nimport \"./QRCode.css\";\nimport { backdropClasses } from \"@mui/material\";\nimport { Form, InputGroup, Button, Alert, Table } from \"react-bootstrap\";\nimport \"../Button.css\"\nimport { createMealPlannerData } from \"../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { connect } from \"react-redux\";\nimport { ContactlessOutlined, SubscriptionsOutlined } from \"@mui/icons-material\";\nimport { submitNotification } from \"../../lib/Notifications\";\n\nconst app_id = \"5532003c\";\nconst app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  const limit = \"5\";\n\nfunction Scanner(props) {\n  const [decodedResults, setDecodedResults] = useState([]);\n  const [mealName, setMealName] = useState(\"\");\n  const [error, setError] = useState(null)\n  const [ingredients, setIngredients] = useState([]);\n  const [ingredientList, setIngredientList] = useState([]);\n  const [recipeList, setRecipeList] = useState([]);\n  const [mealType, setMealType] = useState([]);\n  const [totalDaily, setTotalDaily] = useState([]);\n  const [totalNutrients, setTotalNutrients] = useState([]);\n  const [recipeYield, setRecipeYield] = useState([]);\n  const [url, setUrl] = useState([]);\n\n\n\n \n  const onNewScanResult = (decodedText, decodedResult) => {\n\n    fetch(`https://world.openfoodfacts.org/api/v0/product/${decodedResult.decodedText}.json`)\n    .then(response => response.json())\n    .then(data => {\n      //setIngredientList(data.product.ingredients)      \n      let query;\n      //var query = data.product.product_name_en\n      //console.log (\"checking:\", query)\n\n      if (data.product.product_name_en == undefined) {\n         query = data.product.product_name\n         setMealName(query)\n      } else {\n        query = data.product.product_name_en\n        setMealName(query)\n      }\n\n      return fetch(`https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`)\n      })\n      .then(res => res.json())\n      .then(newData => {\n        console.log(\"name:\", newData.hits)\n        setRecipeList(newData.hits)\n        //setTotalDaily(newData.hits.recipe.totalDaily)\n        //setTotalNutrients(newData.hits.recipe.totalNutrients)\n        //setRecipeYield(newData.hits.recipeYield)\n        //setMealType(newData.hits.MealType)\n\n\n\n      })\n    .catch((err => {\n      console.log(err.message)\n      setError(err.message)\n    }))\n    .catch((err) => {\n      console.log(err.message)\n      setError(err.message)\n     });\n\n\n  };\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n  };\n\n  const [local, setLocal] = useState(defaultLocal);\n  \n\n  const handleRecipe = (e) => {\n    setLocal((local.food = e.target.value));\n    setIngredients((ingredients) => [...ingredients, local]);\n    setLocal(defaultLocal);\n  };\n\n  const handleMealName = (e) => {\n   setMealName(e.target.value)\n  };\n\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n //trigger this when editing/deleting items\n const [update, setUpdate] = useState(0);\n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      //month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      week: props.value.format(\"w\"),\n      day: props.value.format(\"DD\"),\n      upload: {\n        meal: mealName,\n        ingredients: ingredients,\n        mealType: mealType,\n        totalDaily: totalDaily,\n        totalNutrients: totalNutrients,\n        url: url,\n        recipeYield: recipeYield\n      },\n    };\n\n    props.createMealPlannerData(data);\n    submitNotification(\"Success\", \"Added to Meal Plan!\");\n    forceUpdate();\n\n  };\n\n  return (\n    <>\n      <Html5QrcodePlugin\n        fps={10}\n        qrbox={250}\n        disableFlip={false}\n        qrCodeSuccessCallback={onNewScanResult}\n\n      />\n      <p style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>{mealName}</p>\n\n      <Alert variant=\"success\">\n        <Alert.Heading>Missing some items in your meal plan?</Alert.Heading>\n        <p>\n          The scanner allows you to add more items to your meal plan\n        </p>\n      </Alert>\n\n        <Form\n           onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.handleFormClose();\n          }}\n        >\n      \n        <Form.Group>\n        <li>{recipeList && recipeList.map(data => \n        <div><p>\n          \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          <div class=\"form-check\">\n            <label class=\"form-check-label\" for=\"flexCheckDisabled\" style={{fontSize: '20px', fontWeight: 'bold', color: 'green'}}>\n              {data?.recipe.label}\n            </label>\n            <input \n              class=\"form-check-input\" \n              type=\"radio\" \n              name=\"flexRadioDefault\" \n              id=\"flexRadioDefault1\"\n              style={{alignItems: 'right', marginLeft: '20px'}}\n              value= {data?.recipe.label}\n              onClick={(e) => {\n                handleMealName(e, \"value\");\n                setMealType(data?.recipe.mealType)\n                setTotalDaily(data?.recipe.totalDaily)\n                setTotalNutrients(data?.recipe.totalNutrients)\n                setRecipeYield(data?.recipe.yield)\n                setUrl(data?.recipe.url)\n\n                //handleRecipe(e, \"value\");\n                //e.currentTarget.disabled = true;\n              }}\n            />            \n          </div>\n        </h5>\n        <p class=\"card-text\">\n          {data?.recipe.ingredientLines.map(item => {\n          return <ul>\n            \n            <div class=\"form-check\">\n              <label class=\"form-check-label\" for=\"flexCheckDisabled\">\n                {item}\n              </label>\n              <input \n                class=\"form-check-input\" \n                type=\"checkbox\" \n                value={item}\n                id=\"flexCheckDefault\"\n                style={{alignItems: 'right', marginLeft: '20px', alignItems: 'left'}}\n                onClick={(e) => {\n                  handleRecipe(e, \"value\");\n                  //e.currentTarget.disabled = true;\n                }}\n              />\n          \n            </div>\n            \n          </ul>;\n          \n        })}\n          </p>\n          \n      </div>\n    </div>\n          {/* <Form.Label>{data?.id}</Form.Label>\n          <Button\n            type=\"text\"\n            id=\"add ingredient\"\n            value={data?.id}\n            onClick={(e) => {\n              handleIngredient(e, \"value\");\n              e.currentTarget.disabled = true;\n            }}\n            required\n          >\n          Add\n        </Button> */}\n        </p></div>)}</li>\n        </Form.Group>\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Save\n        </Button>\n      </div>        \n      </Form>\n      {error && <div><p>Oops..Could not fetch food item, pls try another barcode..😭</p></div>}\n     \n    </>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlannerData: (mealPlanner) => dispatch(createMealPlannerData(mealPlanner)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Scanner);","import React from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport { createMealPlannerData } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction SaveMealPlanIconPlan(props) {\n  const handleSelect = async () => {\n    const data = {\n      upload: {\n        meal: props.meal,\n        mealType: props.mealType,\n        ingredients: props.ingredients,\n        totalNutrients: props.totalNutrients,\n        totalDaily: props.totalDaily,\n        recipeYield: props.recipeYield,\n        nonNativeData: true,\n      },\n    };\n    props.createMealPlannerData(data);\n    submitNotification(\"Success\", \"Added to Meal Plan!\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Add to Meal Plan\">\n        <IconButton\n          aria-label=\"Add to Meal Plan\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleSelect();\n          }}\n        >\n          <AddBoxIcon fontSize=\"40\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlannerData: (mealPlanner) => dispatch(createMealPlannerData(mealPlanner)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveMealPlanIconPlan);\n","import React from \"react\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n// import ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\n// import CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\n\nimport SaveMealPlanIconPlan from \"./Icons/SaveMealPlanIconPlan\";\n\nexport default function MealsBoxSaved(props) {\n\n  return (\n    <>\n\n      {props.meals.map((newMeal, index) => (\n        <div className=\"meal-box\" key={`meal-box${index}`}>\n          <div className=\"ingredients\">\n             <List\n              key={`ingrs${index}`}\n              styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}\n            >\n              <ListSubheader className=\"heading\">\n                <div className=\"meal-name\">{newMeal.meal}</div>\n                {newMeal.mealType ? (\n                  <div className=\"meal-type\">{newMeal.mealType}</div>\n                ) : null}\n                \n                <div className=\"icons\">\n                  <SaveMealPlanIconPlan \n                    mealType={newMeal.mealType}\n                    meal={newMeal.meal}\n                    ingredients={newMeal.ingredients}\n                    totalNutrients={newMeal.totalNutrients ? (newMeal.totalNutrients) : null}\n                    totalDaily={newMeal.totalDaily ? (newMeal.totalDaily) : null}\n                    recipeYield={newMeal.recipeYield ? (newMeal.recipeYield) : null}\n                  />\n                </div>\n              </ListSubheader>\n\n              {newMeal.ingredients.map((ingredient, index) => (\n                <ListItem\n                  key={`item${index}`}\n                  className=\"list\"\n                  style={{ alignItems: \"baseline\" }}\n                >\n                  {newMeal.nn ? (\n                    <>\n                      <p>{ingredient.text}</p>\n                    </>\n                  ) : (\n                    <>\n                      <p>\n                        {ingredient.food}: {ingredient.quantity}\n                        {ingredient.measure}\n                      </p>\n                    </>\n                  )}\n                </ListItem>\n              ))}\n              \n            </List>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MealsBoxSaved from \"./MealsBoxSaved\";\nimport { connect } from \"react-redux\";\nimport { getRecipes } from \"../../../../../../store/actions/marketplaceActions/savedMealData\";\n\nconst SavedMealsPlan = (props) => {\n  const [sMeals, setSMeals] = useState([]);\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //this sends data request\n  useEffect(() => {\n    props.getRecipes();\n  }, [update]);\n\n\n  const updateSMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setSMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.savedMeal.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n      var mealType = doc.mealType;\n      var nonNativeData = doc.nonNativeData;\n      var totalDaily = doc.totalDaily;\n      var totalNutrients = doc.totalNutrients;\n      var recipeYield = doc.yield;\n\n\n      if(nonNativeData) {\n        setSMeals((sMeals) => [\n          ...sMeals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,\n            nonNativeData: nonNativeData,\n            totalDaily: totalDaily,\n            totalNutrients: totalNutrients,\n            recipeYield: recipeYield\n          },\n        ]);\n      }\n      else {\n        setSMeals((sMeals) => [\n          ...sMeals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,\n            nonNativeData: nonNativeData,\n            totalDaily: totalDaily,\n            totalNutrients: totalNutrients,\n            recipeYield: recipeYield\n          },\n        ]);\n     }\n    });\n  };\n\n  useEffect(() => {\n    // const sorted = sMeals.sort((a, b) => a.meal.localeCompare(b.meal));\n    updateSMeals();\n    console.log(\"===> Saved Meals\", sMeals);\n    // .then(setSMeals(sorted));\n    // console.log(props.data);\n  }, [props.savedMeal]);\n\n  console.log(\"===> Saved Meals\", sMeals);\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-8 basic-title-left mb-3\">My Saved Meals</div>\n      </div>\n      <div className=\"saved-meals\">\n        <MealsBoxSaved\n          forceUpdate={forceUpdate}\n          meals={sMeals}\n          saved={true}\n        />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    savedMeal: state.mealPlan.savedMeals,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRecipes: (saved) => dispatch(getRecipes(saved)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SavedMealsPlan);\n","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Breakfast from \"../Plan/Forms/Breakfast\";\nimport Lunch from \"../Plan/Forms/Lunch\";\nimport Dinner from \"../Plan/Forms/Dinner\";\nimport RecipeSearch from \"../Plan/Forms/Search/RecipeSearch\";\nimport ScannerPlan from \"../../../../../../SubComponents/QRCode/ScannerPlan\";\nimport SavedMealsPlan from \"../SavedMealsPlan\";\n\nexport function AddPlanModal({ show, setShow, value }) {\n  const [eatingOut, setEatingOut] = useState(\"unconfirmed\");\n  const [page, setPage] = useState(0);\n  const [date, setDate] = useState([value])\n  const [showS, setShowS] = useState(false);\n\n\n  //control barcode scanner\n  const [scan, setScan] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n\n\n  const handleClose = () => setShowS(false);\n  const handleShow = () => setShowS(true);\n\n  //scanning items will add item as a meal in meal plan including nutrition info and ingrs if information available\n  const handleSetScan = () => {\n    setScan(!scan);\n    setSaved(!saved)\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  const [formData, setFormData] = useState({\n    Breakfast: [],\n    Lunch: [],\n    Dinner: [],\n  });\n\n  const componentList = [\n\n    <Breakfast\n    value={value} \n    formData={formData}\n    setFormData={setFormData} \n    page={page}\n    setPage={setPage}\n    />,\n\n    <Lunch\n    value={value} \n    formData={formData}\n    setFormData={setFormData} \n    page={page}\n    setPage={setPage}\n    />,\n\n    <Dinner\n    value={value} \n    formData={formData}\n    setFormData={setFormData} \n    page={page}\n    setPage={setPage}\n    />,\n\n  ];\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setEatingOut(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Create 6-Months meal plan from {value.format(\"DD/MM\")}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <button\n                  className=\"btn success shadow-none qrcode-btn\"\n                  onClick={() => handleSetScan()}\n            >\n            \n              {expand} \n            </button>\n            <button\n                  className=\"btn success shadow-none qrcode-btn\"\n                  onClick={() => handleShow()}\n            >\n              Add From Saved Meal \n            </button>\n            {scan ? (\n              <ScannerPlan value={value} handleFormClose={handleFormClose} />\n            ) : (\n              <RecipeSearch value={value} />\n              )}\n          \n        </Modal.Body>\n      </Modal>\n\n      <Modal\n        show={showS}\n        onHide={handleClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Add from saved meal\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <SavedMealsPlan />\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n\n","import React from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\nimport { connect } from \"react-redux\";\nimport { deleteMealPlannerData } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n\n//takes props value, id and forceUpdate from a meal item and whether or not it is saved\nfunction Delete(props) {\n\n  \n  //needs id passed to it from onClick\n  const handleDelete = (id) => {\n    const data = {\n      id: id,\n    };\n    //saved meals and calendar meals are in different places in firestore\n      props.deleteMealPlannerData(data);\n      submitNotification(\"Success\", `${props.meal}` + \" has been removed!\");\n      props.forceUpdate();\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Delete\">\n        <IconButton\n          aria-label=\"Delete\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleDelete(props.id);\n          }}\n        >\n          <DeleteIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    deleteMealPlannerData: (data) => dispatch(deleteMealPlannerData(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Delete);\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { editSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { editMealDataPlan } from \"../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\nfunction EditMealFormPlan(props) {\n  const [mealName, setMealName] = useState(props.meal);\n  const [ingredients, setIngredients] = useState(props.ingredient);\n\n  const handleSubmit = () => {\n    const data = {\n      id: props.id,\n      upload: {\n        meal: mealName,\n        ingredients: ingredients,\n        id: props.id,\n      },\n    };\n      props.editMealDataPlan(data);\n      submitNotification(\"Success\", \" Item has been updated!\");\n      props.forceUpdate();\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      <Form.Group>\n        <Form.Label>Meal Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealName\"\n          defaultValue={mealName}\n          onChange={(e) => {\n            setMealName(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      {ingredients.map((ingredient, i) => (\n        <div className=\"form\" key={i}>\n          <Form.Group>\n            <Form.Label>Ingredients</Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"food\"\n              onChange={(e) => {\n                setIngredients([\n                  ...ingredients.slice(0, i),\n                  {\n                    food: e.target.value,\n                    quantity: ingredient.quantity,\n                    measure: ingredient.measure,\n                  },\n                  ...ingredients.slice(i + 1, ingredients.length),\n                ]);\n              }}\n              defaultValue={ingredient.food}\n            />\n          </Form.Group>\n          <Form.Group>\n            <InputGroup>\n              <Form.Control\n                id=\"quantity\"\n                type=\"number\"\n                min=\"0\"\n                step=\".1\"\n                onChange={(e) => {\n                  setIngredients([\n                    ...ingredients.slice(0, i),\n                    {\n                      food: ingredient.food,\n                      quantity: e.target.value,\n                      measure: ingredient.measure,\n                    },\n                    ...ingredients.slice(i + 1, ingredients.length),\n                  ]);\n                }}\n                defaultValue={ingredient.quantity}\n              />\n              <Dropdown\n                id=\"measure\"\n                styling=\"grey dropdown-input\"\n                data={ingredient.measure}\n                items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"cups\", \"pcs\"]}\n                function={(e) =>\n                  setIngredients([\n                    ...ingredients.slice(0, i),\n                    {\n                      food: ingredient.food,\n                      quantity: ingredient.quantity,\n                      measure: e,\n                    },\n                    ...ingredients.slice(i + 1, ingredients.length),\n                  ])\n                }\n              />\n            </InputGroup>\n          </Form.Group>\n        </div>\n      ))}\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editMealDataPlan: (data) => dispatch(editMealDataPlan(data)),\n    editSavedMeal: (data) => dispatch(editSavedMeal(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditMealFormPlan);\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EditMealFormPlan from \"./EditMealFormPlan\";\n\nexport function EditMealPlan({\n  meal,\n  ingredients,\n  id,\n  show,\n  setShow,\n  value,\n  forceUpdate,\n  saved,\n}) {\n  const handleFormClose = () => setShow(false);\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Edit Meal</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {/* <p>bleeeeeeeeh</p> */}\n        <EditMealFormPlan\n          meal={meal}\n          ingredient={ingredients}\n          id={id}\n          forceUpdate={forceUpdate}\n          value={value}\n          handleFormClose={handleFormClose}\n          saved={saved}\n        />\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { EditMealPlan } from \"./EditMealPlan\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction Edit(props) {\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"Edit\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <EditIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <EditMealPlan\n        value={props.value}\n        show={show}\n        setShow={setShow}\n        meal={props.meal}\n        ingredients={props.ingredients}\n        id={props.id}\n        forceUpdate={props.forceUpdate}\n        saved={props.saved}\n      />\n    </>\n  );\n}\n\nexport default Edit;\n","import React, { useState, useEffect } from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n// import ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\n// import CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\nimport { Dropdown } from \"../../../../../SubComponents/Dropdown\";\n\nimport Delete from \"./Icons/DeletePlanIcon\"; \nimport EditIconPlan from \"./Icons/EditIconPlan\";\nimport Add from \"./Icons/AddIcon\";\nimport AteMealIconPlan from \"./Icons/AteMealIconPlan\";\n\nexport default function MealsBox(props) {\n\n\n  //trigger this when updating items\n const [update, setUpdate] = useState(0);\n \n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n\n  const [filter, setFilter] = useState([]);\n\n\n  function selectGroup(e) {\n    const value = e.target.value;\n    const filteredMeal =\n      value === \"all\" ? props.meals : props.meals.filter((p) => p.mealType[0] === value);\n    setFilter(filteredMeal);\n  }\n\n  return (\n    <>\n    <br />\n    <p>\n      <select onChange={selectGroup}>\n        <option value=\"all\">Meal Plan List</option>\n        <option value=\"breakfast\">beakfast</option>\n        <option value=\"lunch/dinner\">lunch/dinner</option>\n        <option value=\"snack\">snack</option>\n      </select>\n    </p>\n\n      {filter.map((newMeal, index) => (\n        <div className=\"meal-box\" key={`meal-box${index}`}>\n          <div className=\"ingredients\">\n            <List\n              key={`ingrs${index}`}\n              styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}\n            >\n              <ListSubheader className=\"heading\">\n                <div className=\"meal-name\">{newMeal.meal}</div>\n                {newMeal.mealType ? (\n                  <div className=\"meal-type\">{newMeal.mealType}</div>\n                ) : null}\n                <div className=\"icons\">\n                  <Delete\n                    value={props.value}\n                    id={newMeal.id}\n                    meal={newMeal.meal}\n                    saved={props.saved}\n                    forceUpdate={forceUpdate}\n                  />\n                  {/* {props.saved ? (\n                    <Add\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      mealType={newMeal.mealType}\n                      id={newMeal.id}\n                      onChange={props.onChange}\n                      saved={props.saved}\n                      nonNativeData={newMeal.nonNativeData}\n                      totalDaily={newMeal.totalDaily}\n                      totalNutrients={newMeal.totalNutrients}\n                      url={newMeal.url}\n                      recipeYield={newMeal.recipeYield}\n                    />\n                  ) : null} */}\n                  {newMeal.nonNativeData ? null : (\n                    <EditIconPlan\n                      value={props.value}\n                      meal={newMeal.meal}\n                      ingredients={newMeal.ingredients}\n                      id={newMeal.id}\n                      forceUpdate={forceUpdate}\n                      saved={props.saved}\n                    />\n                  )}\n                  {/* {props.isMealPlan ? (\n                    <AteMealIconPlan\n                      meal={newMeal}\n                      value={props.value}\n                      id={newMeal.id}\n                    />\n                  ) : null} */}\n                </div>\n              </ListSubheader>\n\n              {newMeal.ingredients.map((ingredient, index) => (\n                <ListItem\n                  key={`item${index}`}\n                  className=\"list\"\n                  style={{ alignItems: \"baseline\" }}\n                >\n                  {newMeal.nn ? (\n                    <>\n                      <p>{ingredient.text}</p>\n                    </>\n                  ) : (\n                    <>\n                      <p>\n                        {ingredient.food}: {ingredient.quantity}\n                        {ingredient.measure}\n                      </p>\n                    </>\n                  )}\n                </ListItem>\n              ))}\n              <ListItem>\n                {newMeal.url ? <a href={newMeal.url}>{newMeal.url}</a> : null}\n              </ListItem>\n            </List>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MealsBox from \"./MealsBoxPlan\";\n\nimport { connect } from \"react-redux\";\nimport { getMealPlannerData, getWeeklyPlan } from \"../../../../../../store/actions/marketplaceActions/mealPlannerData\";\n\nfunction MyPlans(props) {\n\n  const [meals, setMeals] = useState([]);\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  // //this sends data request\n  // useEffect(() => {\n  //   const data = {\n  //     //decided to group year and month together, should this be changed?\n  //     month: props.value.format(\"YYYYMM\"),\n  //     day: props.value.format(\"DD\"),\n  //   };\n  //   props.getMealPlannerData(data);\n  // }, [props.value, update]);\n\n  //this sends data request\n  useEffect(() => {\n    const data = {\n      //decided to group year and month together, should this be changed?\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD-MM-yyyy\"),\n    };\n    props.getMealPlannerData(data);\n  }, [props.value, update]);\n\n\n  // const updateMeals = async () => {\n  //   //clears the meals array before each update- IMPORTANT\n  //   setMeals([]);\n\n  //   //sets a new meal object in the array for every document with this date attached\n  //   props.mealPlanner.forEach((doc) => {\n  //     var mealName = doc.meal;\n  //     var ingredients = doc.ingredients;\n  //     var id = doc.id;\n  //     var mealType = doc.mealType;\n  //     var url = doc.url;\n  //     var totalNutrients = doc.totalNutrients;\n  //     var totalDaily = doc.totalDaily;\n  //     let nn;\n  //     if (doc.nonNativeData) {\n  //       nn = doc.nonNativeData;\n  //     } else {\n  //       nn = false;\n  //     }\n\n  //     setMeals((meals) => [\n  //       ...meals,\n  //       {\n  //         meal: mealName,\n  //         mealType: mealType,\n  //         ingredients: ingredients,\n  //         id: id,\n  //         nn: nn,\n  //         url: url,\n  //         totalNutrients: totalNutrients,\n  //         totalDaily: totalDaily,\n  //       },\n  //     ]);\n  //   });\n  // };\n\n  const updateMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.mealPlanner.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n     // var mealType = doc.mealType;\n      var url = doc.url;\n      var totalNutrients = doc.totalNutrients;\n      var totalDaily = doc.totalDaily;\n      var recipeYield = doc.recipeYield;\n      var mealType = doc.mealType;\n      let nn = doc.nn;\n      \n      // if (doc.nonNativeData) {\n      //   nn = doc.nonNativeData;\n      // } else {\n      //   nn = false;\n      // }\n\n      setMeals((meals) => [\n        ...meals,\n        {\n          meal: mealName,\n          //mealType: mealType,\n          ingredients: ingredients,\n          id: id,\n          nn: nn,\n          url: url,\n          mealType: mealType,\n          totalNutrients: totalNutrients,\n          totalDaily: totalDaily,\n          recipeYield: recipeYield,\n        },\n      ]);\n    });\n  };\n\n  useEffect(() => {\n    updateMeals();\n  }, [props.mealPlanner]);\n  \n  // useEffect(() => {\n  //   //console.log(\"wahala\", meals)\n  // }, [props.weekPlans]);\n\n  function getFilteredMeal() {\n    return meals.filter(data => {\n      var mealType = 'breakfast'\n      //console.log(\"mealType\", data.mealType[0])\n    \n      return mealType == data.mealType[0];\n    });\n  }\n\n  console.log(\"lets check ==>\", getFilteredMeal())\n\n  return (\n    <>\n      {meals.length ? (\n        <div>\n          <MealsBox\n            forceUpdate={forceUpdate}\n            meals={meals}\n            saved={false}\n            value={props.value}\n            isMealPlan={true}\n          />\n        </div>\n      ) : (\n        <div className=\"empty basic-title-left\">\n          <p>Choose a start date to generate your 6 Months meal plan 🙂</p>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    mealPlanner: state.mealPlanner.plans,\n    weekPlans: state.mealPlanner.weekPlans,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getMealPlannerData: (meal) => dispatch(getMealPlannerData(meal)),\n    getWeeklyPlan: (plan) => dispatch(getWeeklyPlan(plan)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPlans);\n","import React, { useState, useEffect } from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nimport { AddPlanModal } from \"./Icons/AddPlanModal\";\nimport Scanner from \"../../../../../SubComponents/QRCode/Scanner\";\n\nimport buildCalendar from \"./BuildCalendar/Build\";\nimport dayStyles from \"./BuildCalendar/dayStyles\";\nimport CalendarHeader from \"./BuildCalendar/header\";\n\nimport MyPlans from \"./plans\";\nimport { PreparedOrRaw } from \"./Icons/PreparedOrRaw\";\n\nexport const CalendarPlan = ({ value, onChange }) => {\n  const [calendar, setCalendar] = useState([]);\n  const [show, setShow] = useState(false);\n\n  function chosenDay() {\n    return value.format(\"dddd DD/MM\");\n  }\n\n  useEffect(() => {\n    setCalendar(buildCalendar(value));\n  }, [value]);\n\n  return (\n    <>\n      {/* <div className=\"calendar\">\n        <CalendarHeader value={value} setValue={onChange} />\n        <div className=\"body\">\n          <div className=\"day-names\">\n            {[\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"].map((d, index) => (\n              <div className=\"week\" key={index}>\n                {d}\n              </div>\n            ))}\n          </div>\n          {calendar.map((week) => (\n            <div key={week}>\n              {week.map((day) => (\n                <div\n                  className=\"day\"\n                  key={day.format(\"D\").toString()}\n                  onClick={() => onChange(day)}\n                >\n                  <div className={dayStyles(day, value)}>\n                    {day.format(\"D\").toString()}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div> */}\n      <div className=\"row\">\n        <div className=\"col-8\" style={{textAlign: \"left\"}}>Want to make changes to your meal plan? Add more meals to your meal plan by clicking the 'plus' button or remove meals from the meal plan by deleting from the meal plan list  🙂</div>\n        <div className=\"col-4\" style={{textAlign: \"right\"}}><AddPlanModal value={value} show={show} setShow={setShow} /></div>\n        <Alert variant=\"primary\">\n          New to meal planning? Create your 6-Months meal plan by clicking on the 'plus' button, using the search button or your saved meals or the barcode scanner, add at least 7 meals each for breakfast, lunch and dinner; then go to the View Plan tab to generate a 6 month meal plan\n        </Alert>\n      </div>\n      <div className=\"plan-box\">\n        <div className=\"header\">{chosenDay()}</div>\n        <div><MyPlans value={value} show={show} /></div>\n      </div>\n    </>\n  );\n};\n","import { useState } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport \"./calendarStyle.css\";\n\nimport {\n  format,\n  subMonths,\n  addMonths,\n  startOfWeek,\n  addDays,\n  isSameDay,\n  lastDayOfWeek,\n  getWeek,\n  addWeeks,\n  subWeeks\n} from \"date-fns\";\n\nconst Calendar = ({ showDetailsHandle }) => {\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [currentWeek, setCurrentWeek] = useState(getWeek(currentMonth));\n  const [selectedDate, setSelectedDate] = useState(new Date());\n\n  const changeMonthHandle = (btnType) => {\n    if (btnType === \"prev\") {\n      setCurrentMonth(subMonths(currentMonth, 1));\n    }\n    if (btnType === \"next\") {\n      setCurrentMonth(addMonths(currentMonth, 1));\n    }\n  };\n\n  const changeWeekHandle = (btnType) => {\n    //console.log(\"current week\", currentWeek);\n    if (btnType === \"prev\") {\n      //console.log(subWeeks(currentMonth, 1));\n      setCurrentMonth(subWeeks(currentMonth, 1));\n      setCurrentWeek(getWeek(subWeeks(currentMonth, 1)));\n    }\n    if (btnType === \"next\") {\n      //console.log(addWeeks(currentMonth, 1));\n      setCurrentMonth(addWeeks(currentMonth, 1));\n      setCurrentWeek(getWeek(addWeeks(currentMonth, 1)));\n    }\n  };\n\n  const onDateClickHandle = (day, dayStr) => {\n    setSelectedDate(day);\n    showDetailsHandle(dayStr);\n  };\n\n  const renderHeader = () => {\n    const dateFormat = \"MMM yyyy\";\n    // console.log(\"selected day\", selectedDate);\n    return (\n      <div className=\"header row flex-middle\">\n        <div className=\"col col-start\">\n          {/* <div className=\"icon\" onClick={() => changeMonthHandle(\"prev\")}>\n            prev month\n          </div> */}\n        </div>\n        <div className=\"col col-center\">\n          <span>{format(currentMonth, dateFormat)}</span>\n        </div>\n        <div className=\"col col-end\">\n          {/* <div className=\"icon\" onClick={() => changeMonthHandle(\"next\")}>next month</div> */}\n        </div>\n      </div>\n    );\n  };\n  const renderDays = () => {\n    const dateFormat = \"EEE\";\n    const days = [];\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\n    for (let i = 0; i < 7; i++) {\n      days.push(\n        <div className=\"col col-center\" key={i}>\n          {format(addDays(startDate, i), dateFormat)}\n        </div>\n      );\n    }\n    return <div className=\"days row\">{days}</div>;\n  };\n  \n  const renderCells = () => {\n    const startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\n    const endDate = lastDayOfWeek(currentMonth, { weekStartsOn: 1 });\n    const dateFormat = \"d\";\n    const rows = [];\n    let days = [];\n    let meals = [\"rice\", \"beans\", \"yam\"];\n    let day = startDate;\n    let formattedDate = \"\";\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        formattedDate = format(day, dateFormat);\n        const cloneDay = day;\n        days.push(\n          <div\n            className={`col cell ${\n              isSameDay(day, new Date())\n                ? \"today\"\n                : isSameDay(day, selectedDate)\n                ? \"selected\"\n                : \"\"\n            }`}\n            key={day}\n            onClick={() => {\n              const dayStr = format(cloneDay, \"ccc dd MMM yy\");\n              onDateClickHandle(cloneDay, dayStr);\n            }}\n          >\n            <span className=\"number\">{formattedDate}</span><br />\n            <span className=\"bg\">{formattedDate}</span>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n\n      rows.push(\n        <div className=\"row\" key={day}>\n          {days}\n        </div>\n      );\n      days = [];\n    }\n    return <div className=\"body\">{rows}</div>;\n  };\n\n  const renderBreakfast = () => {\n    const startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\n    const endDate = lastDayOfWeek(currentMonth, { weekStartsOn: 1 });\n    const dateFormat = \"d\";\n    const rows = [];\n    let days = [];\n    let meals = [];\n    let day = startDate;\n    let formattedDate = \"\";\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        formattedDate = format(day, dateFormat);\n        const cloneDay = day;\n        meals.push(\n          <div\n            className={`col cell ${\n              isSameDay(day, new Date())\n                ? \"today\"\n                : isSameDay(day, selectedDate)\n                ? \"selected\"\n                : \"\"\n            }`}\n            key={day}\n          >\n            <p><span className=\"number\">Rice</span></p>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n\n      rows.push(\n        <div className=\"row\" key={day}>\n          {meals}\n        </div>\n      );\n      meals = [];\n    }\n    return <div className=\"body\">{rows}</div>;\n  };\n\n  const renderLunch = () => {\n    const startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\n    const endDate = lastDayOfWeek(currentMonth, { weekStartsOn: 1 });\n    const dateFormat = \"d\";\n    const rows = [];\n    let days = [];\n    let meals = [];\n    let day = startDate;\n    let formattedDate = \"\";\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        formattedDate = format(day, dateFormat);\n        const cloneDay = day;\n        meals.push(\n          <div\n            className={`col cell ${\n              isSameDay(day, new Date())\n                ? \"today\"\n                : isSameDay(day, selectedDate)\n                ? \"selected\"\n                : \"\"\n            }`}\n            key={day}\n          >\n            <p><span className=\"number\">Rice</span></p>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n\n      rows.push(\n        <div className=\"row\" key={day}>\n          {meals}\n        </div>\n      );\n      meals = [];\n    }\n    return <div className=\"body\">{rows}</div>;\n  };\n\n\n  const renderDinner = () => {\n    const startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\n    const endDate = lastDayOfWeek(currentMonth, { weekStartsOn: 1 });\n    const dateFormat = \"d\";\n    const rows = [];\n    let days = [];\n    let meals = [];\n    let day = startDate;\n    let formattedDate = \"\";\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        formattedDate = format(day, dateFormat);\n        const cloneDay = day;\n        meals.push(\n          <div\n            className={`col cell ${\n              isSameDay(day, new Date())\n                ? \"today\"\n                : isSameDay(day, selectedDate)\n                ? \"selected\"\n                : \"\"\n            }`}\n            key={day}\n          >\n            <p><span className=\"number\">Rice</span></p>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n\n      rows.push(\n        <div className=\"row\" key={day}>\n          {meals}\n        </div>\n      );\n      meals = [];\n    }\n    return <div className=\"body\">{rows}</div>;\n  };\n\n  \n  const renderFooter = () => {\n    return (\n      <div className=\"header row flex-middle\">\n        <div className=\"col col-start\">\n          <div className=\"icon\" onClick={() => changeWeekHandle(\"prev\")}>\n            prev week\n          </div>\n        </div>\n        <div>{currentWeek}</div>\n        <div className=\"col col-end\" onClick={() => changeWeekHandle(\"next\")}>\n          <div className=\"icon\">next week</div>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <div>\n      <Container>\n        <Row>\n        <Col>\n          <h4 className=\"mealType-top\">Breakfast</h4>\n          <h4 className=\"mealType\">Lunch</h4>\n          <h4 className=\"mealType\">Dinner</h4>\n        </Col>\n          <Col xs={10}>\n            <div className=\"calendar\">\n              {renderHeader()}\n              {renderDays()}\n              {renderCells()}\n              {renderBreakfast()}\n              {renderLunch()}\n              {renderDinner()}\n              {renderFooter()}\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n    \n  );\n};\n\nexport default Calendar;\n/**\n * Header:\n * icon for switching to the previous month,\n * formatted date showing current month and year,\n * another icon for switching to next month\n * icons should also handle onClick events to change a month\n */\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport moment from 'moment';\n\n\n\nimport \"./calendarStyle.css\"\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n\nimport { connect, useSelector } from \"react-redux\";\nimport { getMealPlannerData, removeAllMealPlan, getPlanData } from \"../../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { generateNewPlan } from \"../../../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { submitNotificationPlan } from \"../../../../../../../lib/Notifications\"\nimport { addToShoppingList } from \"../../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { getAllItems } from \"../../../../../../../../store/actions/marketplaceActions/mealPlannerData\"\n\n\nfunction FullCalendarApp(props) {\n\n  const [allItems, setAllItems ] = useState([])\n  const [newPlan, setNewPlan] = useState([]);\n\n  const [breakfast, setBreakfast] = useState([]);\n  const [lunch, setLunch] = useState([]);\n  const [mealTitle, setMealTitle] = useState(false);\n  const [ingredients, setIngredients] = useState([\"\"]);\n\n\n  const [dateRange, setDateRange] = useState([])\n  const [showModal, setShow] = useState(false);\n  const [disabled, setDisabled] = useState(false);\n\n\n\n  //console.log(\"check the props:\", props)\n\n    var getDaysArray = function(start, end) {\n      for(var arr=[],dt=new Date(start); dt<=new Date(end); dt.setDate(dt.getDate()+1)){\n          arr.push(new Date(dt));\n      }\n      return arr;\n    };\n\n    var d = new Date(props.value.format(\"YYYY-MM-DD\"));\n    d.setMonth(d.getMonth() + 6);\n    console.log(\"In six months\", d.toISOString().slice(0,19));\n\n\n\n      var daylist = getDaysArray(new Date(props.value.format(\"YYYY-MM-DD\")),new Date(d.toISOString().slice(0,10)));\n      const dates = daylist.map((v)=>v.toISOString().slice(0,10))\n\n      var myStringArray = dateRange;\n      //var mealList = meals\n      let newEvent = []\n      var arrayLength = myStringArray.length;\n\n      for (var i = 0; i < arrayLength; i++) {\n        var obj = {}\n        obj['start'] = myStringArray[i];\n        obj['end'] = myStringArray[i];\n        obj['qty'] = 3\n        newEvent.push(obj);\n\n       \n      }\n\n      let newObjects = newEvent.flatMap(e=>\n        Array(e.qty).fill({\n          start: e.start, \n          end: e.end})\n      );\n\n      //console.log(\"qqq:\", newEvent)\n\n    \n    // this sends data request\n    useEffect(() => {\n      props.getAllItems();\n    }, []);\n\n  const updateMealPlanner = async () => {\n    //clears the items array before each update- IMPORTANT\n    setBreakfast([]);\n    setLunch([]);\n\n    //sets a new item object in the array for every document\n    props.data.forEach((doc) => {\n      // id is the docref for deletion\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n      var mealType = doc.mealType;\n      var url = doc.url;\n      var totalNutrients = doc.totalNutrients;\n      var totalDaily = doc.totalDaily;\n      var recipeYield = doc.yield;\n      let nn;\n      if (doc.nonNativeData) {\n        nn = doc.nonNativeData;\n      } else {\n        nn = false;\n      }\n\n      if (mealType == 'breakfast') {\n        setBreakfast((meals) => [\n          ...meals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,\n            nn: nn,\n            url: url,\n            totalNutrients: totalNutrients,\n            totalDaily: totalDaily,\n            recipeYield: recipeYield,\n          },\n        ]);\n      } else {\n        setLunch((meals) => [\n          ...meals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,\n            nn: nn,\n            url: url,\n            totalNutrients: totalNutrients,\n            totalDaily: totalDaily,\n            recipeYield: recipeYield,\n          },\n        ]);\n      }\n      \n    });\n  };\n\n  useEffect(() => {\n    updateMealPlanner();\n    //combineArray();\n  }, [props.data]);\n\n  useEffect(() => {\n    setDateRange(dates)\n   // console.log(\"printing date range:\", props.value.format(\"YYYY-MM-DD\"))\n    }, []);\n\n\n    useEffect(() => {\n      combineArray();\n\n     // console.log(\"printing date range:\", props.value.format(\"YYYY-MM-DD\"))\n      }, [breakfast, lunch]);\n  \n\n  console.log(\"breakfast:\", breakfast)\n  //console.log(\"lunch:\", lunch)\n  \n\n  var combineArray = () => {\n    var comb = [];\n    let x = 0\n    let y = 0\n    let z = 0\n\n    while (x < breakfast.length -1 && y < lunch.length -1) {\n      \n      comb[z++] = breakfast[x++];\n      comb[z++] = lunch[y++];\n      comb[z++] = lunch[y++];\n    }\n\n    // Store remaining elements of first array\n    while (x < breakfast.length)\n      comb[z++] = breakfast[x++];\n\n    // Store remaining elements of second array\n    while (y < lunch.length)\n      comb[z++] = lunch[y++];\n\n      //console.log(\"getcomb:\",comb);\n    \n    return comb;\n  }\n\n  useEffect(() => {\n    combinations();\n  }, [breakfast, lunch])\n  \n  var combinations = async () => {\n    var combinations = [];\n    var count = 0;\n\n    await combineArray()\n\n    if (breakfast == '' || lunch == '' ) return (<div><p>Loading...</p></div>)\n\n    var allMeals = combineArray()\n\n    var H = 8\n    var MS = ':00:00'\n    var T = 'T0' + H + MS\n    for (let i = 0; i < newObjects.length; i++) {\n      var e = {}\n      //e['id'] = allMeals[count].id\n      e['title'] = allMeals[count].meal;\n      e['start'] = newObjects[i].start + T;\n      e['end'] = newObjects[i].end + T;\n      e['ingredients'] = allMeals[count].ingredients;\n      e['totalDaily'] = allMeals[count].totalDaily;\n      e['totalNutrients'] = allMeals[count].totalNutrients;\n      e['recipeYield'] = allMeals[count].recipeYield;\n      e['nn'] = allMeals[count].nn;\n      e['url'] = allMeals[count].url;\n\n\n      //e['qty'] = 3\n      combinations.push(e); \n\n      H = H + 6\n\n        \n      if(H > 20) H = 8\n\n\n      if (H > 9) {T = 'T' + H + MS} else {T = 'T0' + H + MS}\n      \n      count++;\n      if (count === allMeals.length - 1) count = 0;\n    }\n\n\n    setAllItems(combinations);\n\n    console.log(\"All items is:\",allItems);\n\n  }\n\n  const generatePlan = async ()  => {\n    allItems.forEach((item) => {\n      const data = {\n        year: moment(item.start).format(\"yyyy\"),\n        week: moment(item.start).format(\"w\"),\n        \n        upload: {\n          meal: item.title,\n          ingredients: item.ingredients,\n          totalDaily: item.totalDaily,\n          totalNutrients: item.totalNutrients,\n          recipeYield: item.recipeYield,\n          nn: item.nn,\n          url: item.url,\n          start: item.start,\n          end: item.end,\n          day: moment(item.start).format(\"DD-MM-yyyy\"),\n        }        \n      };\n\n      //console.log(\"tired:\", data)\n\n       props.generateNewPlan(data);\n    })\n    submitNotificationPlan(\"Saving..\", \"refresh when notification disappears!\");\n\n  };\n\n\n    const getPlan = async () => {\n      //clears the items array before each update- IMPORTANT\n      setNewPlan([]);\n      \n      //sets a new item object in the array for every document\n      props.allPlan.forEach((doc) => {\n        // id is the docref for deletion\n        var meal = doc.meal;\n        var ingredients = doc.ingredients;\n        var totalDaily = doc.totalDaily;\n        var totalNutrients = doc.totalNutrients;\n        var recipeYield = doc.recipeYield;\n        var nn = doc.nn;\n        //var url = doc.url;\n        var start = doc.start;\n        var end = doc.end;\n      \n  \n        setNewPlan((meals) => [\n          ...meals,\n          {\n          title: meal,\n          ingredients: ingredients,\n          totalDaily: totalDaily,\n          totalNutrients: totalNutrients,\n          recipeYield: recipeYield,\n          nn: nn,\n          //url: url,\n          start: start,\n          end: end,\n          },\n        ]);\n        \n      });\n    };\n\n    //this sends data request\n    useEffect(() => {\n      props.getPlanData();\n    }, []);\n\n\n    useEffect(() => {\n      getPlan();\n    }, [props.allPlan]);\n\n   \n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const handleButton = () => setDisabled(true);\n\n  return (\n    <>\n    {newPlan.length ? (\n      <div className=\"calendar\">\n      <FullCalendar\n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n        initialView=\"dayGridMonth\"\n        themeSystem=\"bootstrap\"\n        headerToolbar={{\n          center: 'dayGridMonth,timeGridWeek,timeGridDay',\n        }}\n        events={newPlan} \n        contentHeight=\"auto\"\n        eventDisplay=\"block\"\n        display=\"background\"\n        nowIndicator\n        dateClick={(e) => console.log(e.dateStr)}\n        // eventClick={(e) => {\n        //   setMealTitle(e.event.title);\n        //   console.log(\"chhhh\",e.event.ingredients);\n        //   handleShow()\n        // }}\n      />\n      <div>\n      <p>\n          <Button variant=\"secondary\" onClick={handleShow}>\n            Generate Plan\n          </Button>\n      </p>\n        <Modal show={showModal} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Generate Plan</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <p>Do you want to generate a new plan? </p>\n            <p>This will incure additional cost</p>\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\">\n            Yes\n          </Button>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            No\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  </div>\n      </div>\n) : (\n  <div>\n    <div className=\"empty basic-title-center\">\n          <p>You have not generated a new meal plan yet.. 🙂</p>\n        </div>\n      <p>\n          <Button variant=\"secondary\" onClick={handleShow}>\n            Generate Plan\n          </Button>\n      </p>\n        <Modal show={showModal} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Generate Plan</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <p>Do you want to generate a new plan? </p>\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\" disabled={disabled}  onClick={() => {\n          generatePlan()\n          handleClose()\n          handleButton()\n        }}>\n            {disabled ? 'Generated' : 'Generate'}\n          </Button>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            No\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  </div>\n)}\n    </>\n    \n    \n  );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      data: state.mealPlanner.plans,\n      allPlan: state.mealPlanner.newPlans,\n      allItems: state.mealPlanner.allItems,\n    };\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n        getMealPlannerData: (meal) => dispatch(getMealPlannerData(meal)),\n        getPlanData: (plan) => dispatch(getPlanData(plan)),\n        generateNewPlan: (plan) => dispatch(generateNewPlan(plan)),\n        //removeAllMealPlan: (plan) => dispatch(removeAllMealPlan(plan)),\n        //addToShoppingList: (data) => dispatch(addToShoppingList(data))\n        getAllItems: (plan) => dispatch(getAllItems(plan))\n\n    };\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FullCalendarApp);","const Details = (props) => {\n    return <div>{props.data}</div>;\n  };\n  \n  export default Details;\n  ","import \"./calendarStyle.css\";\nimport { useState } from \"react\";\nimport Calendar from \"./CalendarPlan\";\nimport FullCalendarApp from \"./FullCalendar\";\nimport Details from \"./Details\";\n\nexport default function CalendarPlanner(props, getItems, setGetItems) {\n  const [showDetails, setShowDetails] = useState(false);\n  const [data, setData] = useState(null);\n\n  const showDetailsHandle = (dayStr) => {\n    setData(dayStr);\n    setShowDetails(true);\n  };\n\n  return (\n    <div>\n      <h2>6-Months Meal Plan</h2>\n      <FullCalendarApp value={props.value} getItems={getItems} setGetItems={setGetItems}/>\n      <br />\n      {showDetails && <Details data={data} />}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport MealType from \"../Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport FoodItemSearch from \"./InputRecipe/FoodItemSearch\";\nimport \"../../../../../../SubComponents/Button.css\";\n\nimport { connect } from \"react-redux\";\nimport { createRecipe } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\n//import { createMealPlanData } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { addToShoppingList } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { foodIdAPI, nutritionAPI } from \"./InputRecipe/NutritionApi\";\n\nfunction AddMealFormRecipe(props) {\n  const [mealName, setMealName] = useState(\"\");\n  const [mealType, setMealType] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  //saves recipe to saved meal list\n  const [save, setSave] = useState(true);\n  const handleSave = () => {\n    setSave(!save);\n  };\n\n  //controls local state of ingredient as we fetch data for it,\n  //once ingredient is \"added\" it will be moved to ingredient array\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //when local.food changes, fetch the id for the food item\n  //which is needed to fetch nutrition\n  const setFoodId = (foodId) => {\n    setLocal({ ...local, foodId: foodId });\n  };\n\n  const [ingredients, setIngredients] = useState([]);\n  const handleIngredient = async () => {\n    if (local.food !== \"\") {\n      foodIdAPI(local.food, setFoodId).then(() => {\n        setIngredients((ingredients) => [...ingredients, local]);\n        setLocal(defaultLocal);\n      });\n    } else {\n      setErr(\"Please input an ingredient to add.\");\n    }\n  };\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n  const ingredientsList = ingredients.map((ingredient, index) => {\n    return (\n      <li key={index}>\n        {ingredient.food}: {ingredient.quantity}\n        {ingredient.measure}\n      </li>\n    );\n  });\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      upload: {\n        meal: mealName,\n        mealType: mealType,\n        ingredients: ingredients,\n      },\n    };\n\n    props.createRecipe(data);\n    forceUpdate();\n\n    // if (save) {\n    //   props.createRecipe(data);\n    // }\n    //props.addToShoppingList(data);\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      {/* <button\n        onClick={() => {\n          nutritionAPI(local);\n        }}\n      >\n        send test\n      </button> */}\n      <Form.Group>\n        <Form.Label>Meal Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealName\"\n          onChange={(e) => {\n            setMealName(e.target.value);\n          }}\n          required\n        />\n      </Form.Group>\n\n      <MealType setMealType={setMealType} ownRecipe={true} />\n\n      <div style={{ padding: \"0 0 0 4%\" }}>\n        <ul>{ingredientsList}</ul>\n      </div>\n\n      <Form.Group>\n        {/* <Form.Label>Ingredient</Form.Label> */}\n        {/* <Form.Control\n          type=\"text\"\n          id=\"food\"\n          onChange={(e) => handleLocal(e)}\n          value={local.food}\n        /> */}\n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Weight/Volume</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            onChange={(e) => handleLocal(e)}\n            value={local.quantity}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={local.measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\", \"pcs\", \"oz\", \"lbs\"]}\n            function={(e) => {\n              setLocal({ ...local, measure: e });\n            }}\n          />\n        </InputGroup>\n      </Form.Group>\n\n      <Form.Group>\n        <Button\n          className=\"green-btn shadow-none\"\n          id=\"add ingredient\"\n          onClick={() => {\n            handleIngredient();\n          }}\n        >\n          Add Ingredient\n        </Button>\n      </Form.Group>\n\n      {/* <Form.Group>\n        <Form.Check\n          type=\"checkbox\"\n          defaultChecked\n          label=\"Save meal\"\n          onClick={() => handleSave()}\n        />\n      </Form.Group> */}\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    //createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n    createRecipe: (data) => dispatch(createRecipe(data)),\n    //addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddMealFormRecipe);\n","import React, { useState } from \"react\";\nimport { Modal, Row, Col } from \"react-bootstrap\";\nimport EatingOut from \"./EatingOut\";\nimport AddMealFormRecipe from \"./AddMealFormRecipe\";\nimport { AddButton, SubButton } from \"../../../../../../SubComponents/Button\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport ScannerShop from \"../../../../../../SubComponents/QRCode/ScannerShop\";\n\nexport function AddMealModalRecipe({ show, setShow, value }) {\n  const [eatingOut, setEatingOut] = useState(\"unconfirmed\");\n\n  //control barcode scanner\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  //scanning items will add item as a meal in meal plan including nutrition info and ingrs if information available\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n    setEatingOut(\"unconfirmed\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add meal\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-meal\" className=\"basic-title-left basic-lg\">\n            Add To Saved Meals\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          \n            <button\n              className=\"btn success shadow-none qrcode-btn\"\n              onClick={() => handleSetScan()}\n            >\n              {expand}\n            </button>\n            {scan ? (\n              <ScannerShop handleFormClose={handleFormClose} />\n            ) : (\n              <AddMealFormRecipe handleFormClose={handleFormClose} />\n            )}\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MealsBoxRecipe from \"./MealsBox\";\nimport { connect } from \"react-redux\";\nimport { getRecipes } from \"../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { getWeeklyPlan } from \"../../../../../../store/actions/marketplaceActions/mealPlannerData\";\nimport { AddMealModalRecipe } from \"./Icons/AddMealModalRecipe\";\nconst SavedMeals = (props) => {\n  const [sMeals, setSMeals] = useState([]);\n  const [weeklyMeals, setWeeklyMeals] = useState([]);\n  const [show, setShow] = useState(false);\n\n\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //this sends data request\n  useEffect(() => {\n    props.getRecipes();\n  }, [update]);\n\n  const updateWeeklyMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setWeeklyMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.weekPlans.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n     // var mealType = doc.mealType;\n      var url = doc.url;\n      var totalNutrients = doc.totalNutrients;\n      var totalDaily = doc.totalDaily;\n      var recipeYield = doc.recipeYield;\n      let nn = doc.nn\n      // if (doc.nonNativeData) {\n      //   nn = doc.nonNativeData;\n      // } else {\n      //   nn = false;\n      // }\n\n      setWeeklyMeals((meals) => [\n        ...meals,\n        {\n          meal: mealName,\n          //mealType: mealType,\n          ingredients: ingredients,\n          id: id,\n          nn: nn,\n          url: url,\n          totalNutrients: totalNutrients,\n          totalDaily: totalDaily,\n          recipeYield: recipeYield,\n        },\n      ]);\n    });\n  };\n\n\n  const updateSMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setSMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.mealPlan.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n      var mealType = doc.mealType;\n      var nonNativeData = doc.nonNativeData;\n      var totalDaily = doc.totalDaily;\n      var totalNutrients = doc.totalNutrients;\n      var url = doc.url;\n      var recipeYield = doc.yield;\n\n\n      if(nonNativeData) {\n        setSMeals((sMeals) => [\n          ...sMeals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,\n            nonNativeData: nonNativeData,\n            totalDaily: totalDaily,\n            totalNutrients: totalNutrients,\n            url: url,\n            recipeYield: recipeYield\n          },\n        ]);\n      }\n      else {\n        setSMeals((sMeals) => [\n          ...sMeals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            ingredients: ingredients,\n            id: id,\n          },\n        ]);\n     }\n    });\n  };\n\n  useEffect(() => {\n    // const sorted = sMeals.sort((a, b) => a.meal.localeCompare(b.meal));\n    updateSMeals();\n    // console.log(\"Saved Meals\", sMeals);\n    // .then(setSMeals(sorted));\n    // console.log(props.data);\n  }, [props.mealPlan]);\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-8 basic-title-left mb-3\">My Saved Meals</div>\n        <div className=\"col-4\" style={{textAlign: \"right\"}}><AddMealModalRecipe show={show} setShow={setShow} /></div>\n      </div>\n      <div className=\"saved-meals\">\n        <MealsBoxRecipe\n          forceUpdate={forceUpdate}\n          onChange={props.onChange}\n          meals={sMeals}\n          weeklyMeals={weeklyMeals}\n          saved={true}\n          value={props.value}\n        />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    mealPlan: state.mealPlan.savedMeals,\n    weekPlans: state.mealPlanner.weekPlans,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRecipes: (saved) => dispatch(getRecipes(saved)),\n    getWeeklyPlan: (plan) => dispatch(getWeeklyPlan(plan)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SavedMeals);\n","//api docs here https://developer.edamam.com/edamam-docs-recipe-api#/\nexport const recipeSearch = async (\n  query,\n  mealType,\n  cuisineType,\n  requirements,\n  setRecipes,\n  setLinks,\n  addPageToArray\n) => {\n  const app_id = \"5532003c\";\n  const app_key = \"511d39184173c54ebc5d02a5063a7b87\";\n  let link = `https://api.edamam.com/api/recipes/v2?app_id=${app_id}&app_key=${app_key}&type=public&q=${query}`;\n  if (mealType) {\n    link += `&mealType=${mealType}`;\n  }\n  if (cuisineType) {\n    link += `&cuisineType=${cuisineType}`;\n  }\n  if (requirements) {\n    link += `&health=${requirements}`;\n  }\n\n  const resp = await fetch(link);\n  const data = await resp.json();\n  setRecipes(data.hits);\n  setLinks(data._links);\n  addPageToArray(link);\n  console.log(\"This is your data\", data);\n  // console.log(\"links\", data._links);\n};\n\nexport const nextPage = async (page, setLinks, setRecipes) => {\n  const resp = await fetch(`${page}`);\n  const data = await resp.json();\n  setRecipes(data.hits);\n  setLinks(data._links);\n  console.log(\"This is your data\", data);\n};\n\n// &mealType=${mealType}&cuisineType=${cuisineType}\n","import React from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport { createRecipe } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//takes props value, meal(name), ingredients, id and onChange(change of value)\nfunction SaveMealIcon(props) {\n  const handleSelect = async () => {\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      //need to send shopping list data to be bough the previous week from the day it is made\n      week: props.value.format(\"w\") - 1,\n      day: props.value.format(\"DD\"),\n      upload: {\n        meal: props.meal,\n        mealType: props.mealType,\n        ingredients: props.ingredients,\n        url: props.url,\n        totalNutrients: props.totalNutrients,\n        totalDaily: props.totalDaily,\n        yield: props.yield,\n        nonNativeData: true,\n      },\n    };\n    props.createRecipe(data);\n    submitNotification(\"Success\", \"Added to Saved Meals!\");\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Add to Saved Meals\">\n        <IconButton\n          aria-label=\"Add to Saved Meals\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            handleSelect();\n          }}\n        >\n          <FavoriteIcon fontSize=\"20\" />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createRecipe: (data) => dispatch(createRecipe(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveMealIcon);\n","import React from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\nimport Add from \"../Icons/AddIcon\";\nimport SaveMealIcon from \"../Icons/SaveMealIcon\";\n\nexport default function RecipeList(props) {\n  return (\n    <>\n      {props.query &&\n        props.recipes.map((item, i) => (\n          <div className=\"meal-box-recipe\" key={i}>\n            <Row>\n              <Col className=\"image\">\n                <img src={item.recipe.image} alt={`${item.recipe.label}`} />\n              </Col>\n              <Col className=\"ingredients\">\n                <List styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}>\n                  <ListSubheader className=\"heading\">\n                    <div className=\"meal-name\">{item.recipe.label}</div>\n                    <div className=\"icons\">\n                      <Add\n                        value={props.value}\n                        mealType={item.recipe.mealType}\n                        meal={item.recipe.label}\n                        ingredients={item.recipe.ingredients}\n                        url={item.recipe.url}\n                        totalNutrients={item.recipe.totalNutrients}\n                        totalDaily={item.recipe.totalDaily}\n                        yield={item.recipe.yield}\n                        onChange={props.onChange}\n                        saved={false}\n                      />\n                      <SaveMealIcon \n                        value={props.value}\n                        mealType={item.recipe.mealType}\n                        meal={item.recipe.label}\n                        ingredients={item.recipe.ingredients}\n                        url={item.recipe.url}\n                        totalNutrients={item.recipe.totalNutrients}\n                        totalDaily={item.recipe.totalDaily}\n                        yield={item.recipe.yield}\n                      /> \n                    </div>\n                  </ListSubheader>\n                  {item.recipe.ingredients &&\n                    item.recipe.ingredients.map((ingredient, i) => (\n                      <ListItem key={i} className=\"list\">\n                        <ListItemIcon>\n                          <CheckBoxOutlineBlankIcon fontSize=\"1rem\" />\n                        </ListItemIcon>\n                        {ingredient.text}\n                      </ListItem>\n                    ))}\n                  <a href={item.recipe.url}>{item.recipe.url}</a>\n                </List>\n              </Col>\n            </Row>\n          </div>\n        ))}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\n\n//ownRecipe is sent when a person adds their own meal as opposed to downloading from API\nexport default function CuisineType({ setCuisineType }) {\n  const [control, setControl] = useState(\"Any\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    if (control === \"Any\") {\n      setCuisineType(\"\");\n    } else {\n      setCuisineType(`${control}`);\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  const mealTypes = [\n    \"Any\",\n    \"American\",\n    \"Asian\",\n    \"British\",\n    \"Caribbean\",\n    \"Central Europe\",\n    \"Chinese\",\n    \"Eastern Europe\",\n    \"French\",\n    \"Indian\",\n    \"Italian\",\n    \"Japanese\",\n    \"Kosher\",\n    \"Mediterranean\",\n    \"Mexican\",\n    \"Middle Eastern\",\n    \"Nordic\",\n    \"South American\",\n    \"South East Asian\",\n  ];\n\n  return (\n    <Dropdown\n      id=\"meal-type\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={mealTypes}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\n\nexport default function Requirements({ setRequirements }) {\n  const requirements = [\n    \"Any\",\n    \"Alcohol Free\",\n    \"Crustacean Free\",\n    \"Dairy Free\",\n    \"Gluten Free\",\n    \"Keto Friendly\",\n    \"Kosher\",\n    \"Nut Free\",\n    \"Pescatarian\",\n    \"Vegan\",\n    \"Vegetarian\",\n  ];\n  const [control, setControl] = useState(\"Any\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    switch (control) {\n      default:\n      case \"Any\":\n        setRequirements(\"\");\n        break;\n      case \"Alcohol Free\":\n        setRequirements(\"alcohol-free\");\n        break;\n      case \"Crustacean Free\":\n        setRequirements(\"crustacean-free\");\n        break;\n      case \"Dairy Free\":\n        setRequirements(\"dairy-free\");\n        break;\n      case \"Gluten Free\":\n        setRequirements(\"gluten-free\");\n        break;\n      case \"Keto Friendly\":\n        setRequirements(\"keto-friendly\");\n        break;\n      case \"Kosher\":\n        setRequirements(\"kosher\");\n        break;\n      case \"Nut Free\":\n        setRequirements(\"nut-free\");\n        break;\n      case \"Pescatarian\":\n        setRequirements(\"pescatarian\");\n        break;\n      case \"Vegan\":\n        setRequirements(\"vegan\");\n        break;\n      case \"Vegetarian\":\n        setRequirements(\"vegetarian\");\n        break;\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  return (\n    <Dropdown\n      id=\"requirements\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={requirements}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","export default __webpack_public_path__ + \"static/media/Edamam_Badge_White.d317b3d5.svg\";","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EdamamBadge from \"../../../../../../../images/Edamam_Badge_White.svg\";\n\nexport default function InfoModal({ show, setShow }) {\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n  };\n\n  return (\n    <>\n      <button className=\"btn success edamam shadow-none\" onClick={handleForm}>\n        Info\n      </button>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"sm\"\n        aria-labelledby=\"info\"\n        centered\n      >\n        <a href=\"https://www.edamam.com/\">\n          <img src={EdamamBadge} alt=\"powered by edamam\" />\n        </a>\n      </Modal>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { SubButton } from \"../../../../../../SubComponents/Button\";\n\nexport default function NextBack({ links, pageNumber, changePage }) {\n  return (\n    <Container>\n      {\n        links.back ? (\n          <SubButton onClick={() => console.log(links.back.href)} text=\"Back\" styling=\"green\"/>) : null\n      }\n      \n      {\n        links.next ? (\n          <div>\n            <Row className=\"justify-content-md-center\">\n              <p>Page: {pageNumber + 1}</p>\n            </Row>\n            <Row>\n              { pageNumber != 0 &&\n              <Col>\n                <SubButton onClick={() => changePage(-1)} text=\"Previous Page\" styling=\"green\" />\n              </Col>}\n              <Col>\n                <SubButton onClick={() => changePage(1)} text=\"Next Page\" styling=\"green\" />\n              </Col>\n            </Row>\n          </div>\n        ) : null\n      }\n    </Container>\n\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\n\nimport { recipeSearch, nextPage } from \"./search\";\nimport RecipeList from \"./RecipeList\";\nimport MealType from \"./mealType\";\nimport CuisineType from \"./cuisineType\";\nimport Requirements from \"./Requirements\";\nimport InfoModal from \"./InfoModal\";\nimport NextBack from \"./Next\";\n\nexport default function RecipeSearch(props) {\n  const [show, setShow] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  //sends to api\n  const [query, setQuery] = useState(\"\");\n  const [mealType, setMealType] = useState(\"\");\n  const [cuisineType, setCuisineType] = useState(\"\");\n  const [requirements, setRequirements] = useState(\"\");\n  //sent back from api\n  const [recipes, setRecipes] = useState({});\n  const [links, setLinks] = useState(\"\");\n  //handles next and back\n  const [page, setPage] = useState(\"\");\n  // contains list of pages already visited - needed for 'previous' button to function\n  const [arrPages, setArrPages] = useState([]);\n  // keeps track of page number\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // checks if link is already added to array and\n  // if not then it adds the link to the array\n  function addPageToArray(page) {\n    if (arrPages.includes(page)) {\n      console.log(\"Page already in array!\");\n      return;\n    }\n    setArrPages((prevArrPages) => [...prevArrPages, page]);\n    // console.log(\"This is the pages array \", arrPages);\n  }\n\n  useEffect(() => {\n    recipeSearch(\n      query,\n      mealType,\n      cuisineType,\n      requirements,\n      setRecipes,\n      setLinks,\n      addPageToArray\n    );\n    // console.log(\"recipes\", recipes);\n    // console.log(\"Next Page\", links);\n  }, [query, mealType, cuisineType]);\n\n  useEffect(() => {\n    page && nextPage(page, setLinks, setRecipes);\n    // console.log(\"next page\", page);\n  }, [page]);\n\n  // changes the page number by offset and sets the page variable to the correct link\n  function changePage(offset) {\n    if (offset > 0) {\n      // visiting new page i.e. new link needed\n      setPageNumber((oldValue) => oldValue + offset);\n      setPage(links.next.href);\n      addPageToArray(links.next.href);\n    } else if (offset < 0) {\n      // visiting previous page i.e. link saved in arrPages\n      setPageNumber((oldValue) => (oldValue === 0 ? 0 : oldValue - 1));\n      if (pageNumber != 0) setPage(arrPages[pageNumber]);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"basic-title-left\">Search Recipes</div>\n      <InfoModal show={show} setShow={setShow} />\n      <Form\n        onSubmit={(e) => {\n          e.preventDefault();\n          setQuery(search);\n        }}\n      >\n        <Form.Group>\n          <InputGroup>\n            <Form.Control\n              className=\"shadow-none\"\n              type=\"text\"\n              placeholder=\"Enter meal name\"\n              id=\"query\"\n              defaultValue={query}\n              onChange={(e) => {\n                setSearch(e.target.value);\n              }}\n            />\n            <Button type=\"submit\" className=\"green-btn shadow-none\">\n              Search\n            </Button>\n          </InputGroup>\n        </Form.Group>\n        <Box sx={{ flexGrow: 1 }}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <p>Meal Type:</p>\n              <div>\n                <MealType setMealType={setMealType} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <p>Origin:</p>\n              <div>\n                <CuisineType setCuisineType={setCuisineType} />\n              </div>\n            </Grid>\n          </Grid>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <p>Requirements:</p>\n              <div>\n                <Requirements setRequirements={setRequirements} />\n              </div>\n            </Grid>\n            <Grid item xs={12} md={6}></Grid>\n          </Grid>\n        </Box>\n      </Form>\n      <RecipeList\n        recipes={recipes}\n        query={query}\n        value={props.value}\n        onChange={props.onChange}\n      />\n      {links ? (\n        <NextBack\n          links={links}\n          pageNumber={pageNumber}\n          changePage={changePage}\n        />\n      ) : null}\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\n// import buildShoppingList from \"./Build\";\nimport ShoppingListHeader from \"./header\";\nimport ShopItems from \"./ShopItems\";\n\nimport moment from \"moment\";\n\n//When inputting items to the calendar, also send them to shopping list along with\n// ingredients, mealName and  timestamp. (sent to file with week of year, year tag)\n\n//All ingredients must be sent separately, so that people can add and remove items.\n\n//When items are listed in the mealplan, they can select and remove ingredients from\n//the meal that are then sent to firebase under \"shoppingListData\", year, week (1 .... 52)\n\nexport const ShoppingList = ({ tab, update, forceUpdate }) => {\n  const [value, setValue] = useState(moment());\n  return (\n    <div className=\"calendar\">\n      <ShoppingListHeader value={value} setValue={setValue} />\n      <ShopItems value={value} />\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport ScannerInventory from \"../../../../../../SubComponents/QRCode/ScannerInventory\";\nimport FoodItemSearch from \"./InputRecipe/FoodItemSearch\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\n\n\nimport { connect } from \"react-redux\";\nimport { addToInventory } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\n\nconst AddToInventoryForm = (props) => {\n  const [itemName, setItemName] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [measure, setMeasure] = useState(\"\");\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n  const [show, setShow] = useState(true);\n  const [startDate, setStartDate] = useState(new Date());\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\", \n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //control modal\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => {\n    setShow(false);\n  }\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      upload: {\n        ingredients: local.food + \" \" + local.quantity + \"\" + local.measure,\n        item: local.food,\n        measure: local.measure,\n        quantity: local.quantity,\n        //quantity: local.quantity\n        expiry: moment(startDate).format(\"DD/MM/yyyy\")\n      },\n    }; \n\n    console.log(\"lets do this:\", data)\n\n    props.addToInventory(data);\n    // props.createMealPlanData(data);\n    forceUpdate();\n  };\n\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"item\", local.food);\n  }, [local.food]);\n\n  return (\n    <div>\n      <button\n        className=\"btn success shadow-none qrcode-btn\"\n        onClick={() => handleSetScan()}\n      >\n        {expand}\n      </button>\n      {scan ? (\n        <ScannerInventory handleFormClose={handleFormClose}/>\n      ) : (\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.setUpdate(props.update + 1);\n            props.handleFormClose();\n          }}\n        >\n          \n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n        <Form.Group>\n        <Form.Label>Amount</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            onChange={(e) => handleLocal(e)}\n            value={local.quantity}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={local.measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\", \"pcs\", \"oz\", \"lbs\"]}\n            function={(e) => {\n              setLocal({ ...local, measure: e });\n            }}\n          />\n        </InputGroup>\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Expiry Date</Form.Label>\n        <DatePicker \n          selected={startDate} \n          onChange={(date) => setStartDate(date)} \n          dateFormat=\"dd/mm/yyyy\"  \n        />\n        {/* <Form.Control\n          type=\"text\"\n          id=\"expiry\"\n          onChange={(e) => handleLocal(e)}\n          value={local.expiry}\n        /> */}\n      </Form.Group>\n\n          <div style={{ alignItems: \"center\" }}>\n            <Button className=\"blue-btn shadow-none mt-3\" type=\"submit\">\n              Done\n            </Button>\n          </div>\n        </Form>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToInventory: (data) => dispatch(addToInventory(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToInventoryForm);\n","import React, { useState, useEffect } from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport { AddButton } from \"../../../../../../SubComponents/Button\";\nimport { Modal } from \"react-bootstrap\";\nimport AddToInventoryForm from \"./AddToInventoryForm\";\n\nexport const AddToInventoryModal = ({ show, setShow, update, setUpdate }) => {\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => setShow(false);\n\n  return (\n    <div>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add item\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-item\" className=\"basic-title-left basic-lg\">\n            Add new item to inventory\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <AddToInventoryForm\n            handleFormClose={handleFormClose}\n            update={update}\n            setUpdate={setUpdate}\n          />\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport RemoveCircleOutlineIcon from \"@mui/icons-material/RemoveCircleOutline\";\nimport { RemoveFromInventory } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { useHistory } from 'react-router-dom';\n\nimport { connect } from \"react-redux\";\n\n//need props id\nfunction RemoveFromInventoryIcon(props) {\n\n  const history = useHistory();\n\n  //id passed from onClick\n  const handleDelete = (id) => {\n    const data = {\n      id: id,\n    };\n    // console.log(props.id);\n    props.removeFromInventory(data);\n    props.setUpdate(props.update + 1);\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Remove\">\n        <IconButton\n          aria-label=\"Remove\"\n          sx={{ ml: 2 }}\n          onClick={() => handleDelete(props.id)}\n        >\n          <RemoveCircleOutlineIcon />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    removeFromInventory: (data) => dispatch(RemoveFromInventory(data)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RemoveFromInventoryIcon);\n","import React from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport SyncIcon from '@mui/icons-material/Sync';\nimport { connect } from \"react-redux\";\n\n//need props id\nfunction RefreshIcon(props) {\n\n  //id passed from onClick\n  const refreshItems = () => {\n    props.setUpdate(props.update + 1);\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Refresh\">\n        <IconButton\n          aria-label=\"Refresh\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            refreshItems();\n          }}\n        >\n          <SyncIcon style={{ fontSize: 35 }} \n          />\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n    shoppingList: state.mealPlanner.allItems,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n)(RefreshIcon);\n","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container, Modal, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton, SubButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst FoodWaste = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  \n\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (\n        !String(props.profile.type).includes(\"household\") &&\n        !String(props.profile.type).includes(\"user\")\n      ) {\n        console.log(props.profile.type);\n        // setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"edible\",\n    foodWasteWeight: props.item.updatedQty,\n    weightType: \"Select Unit\",\n    carbsContent: 0,\n    carbsPerUnit: \"Select Unit\",\n    proteinContent: 0,\n    proteinPerUnit: \"Select Unit\",\n    fatContent: 0,\n    fatPerUnit: \"Select Unit\",\n    ghg: 0,\n    expiryDate: \"\",\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n    food: props.item.item,\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n    carbsMultiplier: 0,\n    proteinMultiplier: 0,\n    fatMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState({ ...defaultUpload });\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState({ ...defaultMultipliers });\n\n  useEffect(() => {\n    handleGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n    upload.carbsContent,\n    upload.carbsPerUnit,\n    upload.proteinContent,\n    upload.proteinPerUnit,\n    upload.fatContent,\n    upload.fatPerUnit,\n  ]);\n\n  //Update upload state\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  //Change multiplier values\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Weight Unit (Carbs, Fat, Protein)\n      case \"100g\":\n      case \"100ml\":\n        val = 0.01;\n        break;\n      case \"500g\":\n      case \"500ml\":\n        val = 0.002;\n        break;\n      case \"1l\":\n      case \"1kg\":\n        val = 0.001;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleGHGChange = () => {\n    // if (upload.edibleInedible === \"Edible\") {\n    //   var ghg = Number(\n    //     20 *\n    //       16.0424 *\n    //       multipliers.weightMultiplier *\n    //       upload.foodWasteWeight *\n    //       (0.01852 * multipliers.carbsMultiplier * upload.carbsContent +\n    //         0.01744 * multipliers.proteinMultiplier * upload.proteinContent +\n    //         0.04608 * multipliers.fatMultiplier * upload.fatContent)\n    //   );\n    // } else {\n    var ghg = Number(\n      upload.foodWasteWeight * multipliers.weightMultiplier * 2.5\n    );\n    // }\n    setUpload({\n      ...upload,\n      ghg: ghg,\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    //Setup data to be sent to generic create firestore function (TO BE RENAMED LATER)\n    //If sub account, use admin uid, if admin or personal use your own\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodWasteData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createFoodWasteData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food Waste successfully uploaded!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n  };\n\n  //Redirect if not loged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not a personal/household account\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n   \n      <Container fluid className=\"web-center\">\n        <Form>\n          {/* <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedible\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup> */}\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n         \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={upload.currency}\n              function={(eventKey, e) => {\n                changeMultiplier(e);\n                updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n          \n          {/* <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          /> */}\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  const [showModal, setShow] = useState(true);\n\n  const handleClose = () => setShow(false);\n\n  if (props.upload.edibleInedible === \"Edible\") {\n    //setShow(true)\n    return (\n      <>\n       \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodWaste);\n","import React, { useState, useEffect } from \"react\";\nimport { Modal, Alert } from \"react-bootstrap\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport RemoveCircleOutlineIcon from \"@mui/icons-material/RemoveCircleOutline\";\nimport { RemoveFromInventory, addToWasteItems } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { useHistory } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport FoodWaste from \"../../../FoodWasteE\";\nimport { connect } from \"react-redux\";\n\n//need props id\nfunction RemoveFoodWasteIcon(props) {\n\n  const [showModal, setShow] = useState(false);\n\n\n  const history = useHistory();\n\n  //id passed from onClick\n  const WasteFood = () => {\n\n    const getItem = props.item\n\n    const data = {\n\n      upload: {\n        id: getItem.id,\n        food: getItem.food,\n        item: getItem.item,\n        measure: getItem.measure,\n        quantity: getItem.quantity,\n      }\n     \n    };\n\n\n    //props.removeFromInventory(data);\n    props.addToWasteItems(data);\n   // props.setUpdate(props.update + 1);\n  };\n\n  //id passed from onClick\n  const handleDelete = (id) => {\n    const data = {\n      id: id,\n    };\n    // console.log(props.id);\n    props.removeFromInventory(data);\n    props.setUpdate(props.update + 1);\n  };\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Tooltip title=\"Remove\">\n        <IconButton\n          aria-label=\"Remove\"\n          sx={{ ml: 2 }}\n          // onClick={() => handleDelete(props.id)}\n          // onClick={()=> {\n          //   handleDelete(props.id)\n          //   history.push(\"/food-waste\")\n          // }}\n        >\n        <Button variant=\"outlined\" color=\"success\" onClick={handleShow}>\n          Add To Food Waste\n        </Button>        \n      </IconButton>\n      </Tooltip>\n\n      <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Add To Food Waste</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n            <p><h5>Remove {props.item.quantity} {props.item.measure} of {props.item.item} from the inventory?</h5></p>\n            <Alert variant=\"primary\">\n              Cannot find the measurement unit? select another unit, measure and update\n            </Alert>\n            <FoodWaste item={props.item}/>\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\"\n        onClick={() => {\n          //WasteFood()\n          handleDelete(props.id)\n          handleClose()\n          //history.push(\"/food-waste-edible\")\n        }}>\n            Done\n          </Button>\n          {/* <Button variant=\"secondary\" \n          onClick={handleClose}\n          >\n            Cancel\n          </Button> */}\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    removeFromInventory: (data) => dispatch(RemoveFromInventory(data)),\n    addToWasteItems: (data) => dispatch(addToWasteItems(data)),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RemoveFoodWasteIcon);\n","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container, Modal, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createGiftFoodData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton, SubButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst GiftFood = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  \n\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (\n        !String(props.profile.type).includes(\"household\") &&\n        !String(props.profile.type).includes(\"user\")\n      ) {\n        console.log(props.profile.type);\n        // setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"edible\",\n    foodWasteWeight: props.item.updatedQty,\n    weightType: \"Select Unit\",\n    carbsContent: 0,\n    carbsPerUnit: \"Select Unit\",\n    proteinContent: 0,\n    proteinPerUnit: \"Select Unit\",\n    fatContent: 0,\n    fatPerUnit: \"Select Unit\",\n    ghg: 0,\n    expiryDate: \"\",\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n    food: props.item.item,\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n    carbsMultiplier: 0,\n    proteinMultiplier: 0,\n    fatMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState({ ...defaultUpload });\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState({ ...defaultMultipliers });\n\n  useEffect(() => {\n    handleGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n    upload.carbsContent,\n    upload.carbsPerUnit,\n    upload.proteinContent,\n    upload.proteinPerUnit,\n    upload.fatContent,\n    upload.fatPerUnit,\n  ]);\n\n  //Update upload state\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  //Change multiplier values\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Weight Unit (Carbs, Fat, Protein)\n      case \"100g\":\n      case \"100ml\":\n        val = 0.01;\n        break;\n      case \"500g\":\n      case \"500ml\":\n        val = 0.002;\n        break;\n      case \"1l\":\n      case \"1kg\":\n        val = 0.001;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleGHGChange = () => {\n    // if (upload.edibleInedible === \"Edible\") {\n    //   var ghg = Number(\n    //     20 *\n    //       16.0424 *\n    //       multipliers.weightMultiplier *\n    //       upload.foodWasteWeight *\n    //       (0.01852 * multipliers.carbsMultiplier * upload.carbsContent +\n    //         0.01744 * multipliers.proteinMultiplier * upload.proteinContent +\n    //         0.04608 * multipliers.fatMultiplier * upload.fatContent)\n    //   );\n    // } else {\n    var ghg = Number(\n      upload.foodWasteWeight * multipliers.weightMultiplier * 2.5\n    );\n    // }\n    setUpload({\n      ...upload,\n      ghg: ghg,\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    //Setup data to be sent to generic create firestore function (TO BE RENAMED LATER)\n    //If sub account, use admin uid, if admin or personal use your own\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenGiftFoodData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createGiftFoodData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food had been added to your gifted items!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n  };\n\n  //Redirect if not loged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not a personal/household account\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    \n      <Container fluid className=\"web-center\">\n        <Form>\n          {/* <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedible\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup> */}\n<FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n          \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={upload.currency}\n              function={(eventKey, e) => {\n                changeMultiplier(e);\n                updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n          \n          {/* <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          /> */}\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  const [showModal, setShow] = useState(true);\n\n  const handleClose = () => setShow(false);\n\n  if (props.upload.edibleInedible === \"Edible\") {\n    //setShow(true)\n    return (\n      <>\n       \n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createGiftFoodData: (product) => dispatch(createGiftFoodData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GiftFood);\n","import React, { useState, useEffect } from \"react\";\nimport { Modal, Alert } from \"react-bootstrap\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport RemoveCircleOutlineIcon from \"@mui/icons-material/RemoveCircleOutline\";\nimport { RemoveFromInventory } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { useHistory } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport GiftFood from \"../../../GiftFoodE\"\nimport { connect } from \"react-redux\";\nimport GiftFoodE from \"../../../GiftFoodE\";\n\n//need props id\nfunction GiftFoodIcon(props) {\n\n  const [showModal, setShow] = useState(false);\n\n\n  const history = useHistory();\n\n  //id passed from onClick\n  // const giftFood = () => {\n\n  //   const getItem = props.item\n\n  //   const data = {\n\n  //     upload: {\n  //       id: getItem.id,\n  //       food: getItem.food,\n  //       item: getItem.item,\n  //       measure: getItem.measure,\n  //       quantity: getItem.quantity,\n  //     }\n     \n  //   };\n\n\n  //   //props.removeFromInventory(data);\n  //   props.addToGiftItems(data);\n  //  // props.setUpdate(props.update + 1);\n  // };\n\n\n  //id passed from onClick\n  const handleDelete = (id) => {\n    const data = {\n      id: id,\n    };\n    // console.log(props.id);\n    props.removeFromInventory(data);\n    props.setUpdate(props.update + 1);\n  };\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Tooltip title=\"Remove\">\n        <IconButton\n          aria-label=\"Remove\"\n          sx={{ ml: 2 }}\n          // onClick={() => handleDelete(props.id)}\n          // onClick={()=> {\n          //   handleDelete(props.id)\n          //   history.push(\"/gift-food\")\n          // }}\n        >\n        <Button variant=\"outlined\" color=\"success\" onClick={handleShow}>\n          Gift Food\n        </Button>        \n      </IconButton>\n      </Tooltip>\n      <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Gifted Item?</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n        <p><h5>Remove {props.item.quantity} {props.item.measure} of {props.item.item} from the inventory?</h5></p>\n           \n        <Alert variant=\"primary\">\n          Cannot find the measurement unit? select another unit, measure and update\n        </Alert>\n            <GiftFood item={props.item}/>\n          </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\"\n        onClick={() => {\n          //giftFood();\n          handleDelete(props.id);\n          handleClose();\n          //history.push(\"/gift-food\")\n        }}>\n            Done\n          </Button>\n          {/* <Button variant=\"secondary\" \n          onClick={handleClose}\n          >\n            No\n          </Button> */}\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    removeFromInventory: (data) => dispatch(RemoveFromInventory(data)),\n    //addToGiftItems: (data) => dispatch(addToGiftItems(data))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GiftFoodIcon);\n","import React, { useState, useEffect } from \"react\";\nimport { Modal, Alert } from \"react-bootstrap\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport RemoveCircleOutlineIcon from \"@mui/icons-material/RemoveCircleOutline\";\nimport { RemoveFromInventory, addToPurchaseItems } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport { useHistory } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport { connect } from \"react-redux\";\nimport { submitNotification } from \"../../../../../../lib/Notifications\";\n\n//need props id\nfunction PurchaseIcon(props) {\n\n  const [showModal, setShow] = useState(false);\n\n\n  const history = useHistory();\n\n  //id passed from onClick\n  const PurchaseItem = () => {\n\n    const getItem = props.item\n\n    const data = {\n\n      upload: {\n        id: getItem.id,\n        food: getItem.food,\n        item: getItem.item,\n        measure: getItem.measure,\n        quantity: getItem.quantity,\n        profile: props.profile,\n        // FirstName: props.profile.firstName, \n        // LastName: props.profile.lastName,\n        // Country: props.profile.country,\n        // City: props.profile.city,\n        // Email: props.profile.email,\n        status: \"pending\"\n      }\n     \n    };\n\n\n    //props.removeFromInventory(data);\n    props.addToPurchaseItems(data);\n    submitNotification(\"Order Successful\", \"You will be contected shortly..\");\n\n   // props.setUpdate(props.update + 1);\n  };\n\n\n  //id passed from onClick\n  const handleDelete = (id) => {\n    const data = {\n      id: id,\n    };\n    // console.log(props.id);\n    props.removeFromInventory(data);\n    props.setUpdate(props.update + 1);\n  };\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Tooltip title=\"Remove\">\n        <IconButton\n          aria-label=\"Remove\"\n          sx={{ ml: 2 }}\n          // onClick={() => handleDelete(props.id)}\n          // onClick={()=> {\n          //   handleDelete(props.id)\n          //   history.push(\"/gift-food\")\n          // }}\n        >\n        <Button variant=\"outlined\" color=\"success\" onClick={handleShow}>\n          Purchase Item\n        </Button>        \n      </IconButton>\n      </Tooltip>\n      <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Purchase Item?</Modal.Title>\n          </Modal.Header>\n        <Modal.Body>\n          <p><h5>Hello {props.profile.firstName}, Do you want to request for {props.item.quantity} {props.item.measure} of {props.item.item} to be delivered to you?</h5></p>\n        </Modal.Body>\n        <Modal.Footer>\n        <Button variant=\"secondary\"\n        onClick={() => {\n          PurchaseItem();\n          // handleDelete(props.id);\n          handleClose();\n          //history.push(\"/gift-food\")\n        }}>\n            Order\n          </Button>\n          <Button variant=\"secondary\" \n          onClick={handleClose}\n          >\n            Cancel\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    removeFromInventory: (data) => dispatch(RemoveFromInventory(data)),\n    addToPurchaseItems: (data) => dispatch(addToPurchaseItems(data))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PurchaseIcon);\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../../../SubComponents/Button.css\";\nimport { connect } from \"react-redux\";\nimport { editSavedMeal } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { editInventoryData } from \"../../../../../../../store/actions/marketplaceActions/inventoryData\"\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\n\n\nfunction EditInventoryForm(props) {\n  const [food, setFood] = useState(props.food);\n  const [quantity, setQuantity] = useState(props.quantity);\n  const [updatedQty, setUpdatedQty] = useState(\"\");\n  const [updatedMeasure, setUpdatedMeasure] = useState(\"Select Unit\");\n  const [measure, setMeasure] = useState(props.measure);\n  const [ExpiryDate, setExpiryDate] = useState(\"\");\n  const [placeOfPurchase, setPlaceOfPurchase] = useState(\"\");\n  const [storage, setStorage] = useState(\"Choose Storage\");\n\n\n  const handleSubmit = () => {\n    const data = {\n      // month: props.value.format(\"YYYYMM\"),\n      // day: props.value.format(\"DD\"),\n      id: props.id,\n      upload: {\n        food: food,\n        quantity: quantity,\n        updatedQty: updatedQty,\n        measure: measure,\n        updatedMeasure: updatedMeasure,\n        id: props.id,\n        expiry: moment(ExpiryDate).format(\"DD/MM/yyyy\"),\n        purchase: placeOfPurchase,\n        storage: storage\n      }, \n    };\n    //console.log(\"checking ingredients props ==>\", data)\n    if (props.saved) {\n      props.editSavedMeal(data);\n      props.forceUpdate();\n    } else {\n      props.editInventoryData(data);\n      props.setUpdate(props.update + 1);\n    }\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      <Form.Group>\n        <Form.Label>Ingredient</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"food\"\n          defaultValue={food}\n          onChange={(e) => {\n            setFood(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      {/* <Form.Group>\n        <Form.Label>Expiry Date</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"expiry\"\n          selected={ExpiryDate}\n          onChange={(e) => {\n            setExpiryDate(e.target.selected);\n          }}\n        />\n      </Form.Group> */}\n\n      <Form.Group>\n        <Form.Label>Weight/volume - Meal plan</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            defaultValue={quantity}\n            onChange={(e) => setQuantity(e.target.value)}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\"]}\n            function={(e) => {\n              setMeasure(e)\n              }\n            }\n            //onChange={(e) => setMeasure(e)}\n          />\n        </InputGroup>\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Label>Weight/Volume - Purchased food item </Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            defaultValue={updatedQty}\n            onChange={(e) => setUpdatedQty(e.target.value)}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={updatedMeasure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\", \"units\"]}\n            function={(e) => {\n              setUpdatedMeasure(e)\n              }\n            }\n            //onChange={(e) => setUpdatedMeasure(e)}\n          />\n        </InputGroup>\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Label>Expiry Date</Form.Label>\n        <DatePicker \n          type=\"text\"\n          id=\"expiry\"\n          selected={ExpiryDate} \n          onChange={(e) => setExpiryDate(e)} \n          dateFormat=\"dd/mm/yyyy\"  \n        />\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Label>Place of Purchase</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"food\"\n          defaultValue={placeOfPurchase}\n          onChange={(e) => {\n            setPlaceOfPurchase(e.target.value);\n          }}\n        />\n      </Form.Group>\n\n      <Form.Group>\n        <Dropdown\n            id=\"storage\"\n            styling=\"grey dropdown-input\"\n            data={storage}\n            items={[\n              \"Cool dry place\", \n              \"Air-tight container\", \n              \"Fridge\", \n              \"Freezer\", \n              \"Others\"]}\n              function={(e) => {\n              setStorage(e);\n            }}\n          />\n      </Form.Group>\n\n      \n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn\" type=\"submit\">\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    editInventoryData: (data) => dispatch(editInventoryData(data)),\n    editSavedMeal: (data) => dispatch(editSavedMeal(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditInventoryForm);\n","import React from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport EditInventoryForm from \"./EditInventoryForm\";\n\nexport function EditInventory({\n  food,\n  quantity,\n  measure,\n  expiry,\n  id,\n  show,\n  setShow,\n  value,\n  update,\n  setUpdate,\n  saved,\n}) {\n  const handleFormClose = () => setShow(false);\n\n  return (\n    <Modal\n      show={show}\n      onHide={handleFormClose}\n      size=\"lg\"\n      aria-labelledby=\"edit meal\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"add-meal\">Edit Item</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {/* <p>bleeeeeeeeh</p> */}\n        <EditInventoryForm\n          //meal={meal}\n          food={food}\n          measure={measure}\n          quantity={quantity}\n          expiry={expiry}\n          id={id}\n          update={update}\n          setUpdate={setUpdate}\n          value={value}\n          handleFormClose={handleFormClose}\n          saved={saved}\n        />\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { EditInventory } from \"./EditInventory\";\n\n//takes props value, meal(name), ingredients, id, forceUpdate and whether or not it is saved\nfunction Edit(props) {\n  //shows edit modal\n  const [show, setShow] = useState(false);\n\n  return (\n    <>\n      <Tooltip title=\"Edit\">\n        <IconButton\n          className=\"edit\"\n          aria-label=\"Edit\"\n          sx={{ ml: 2 }}\n          onClick={() => {\n            setShow(true);\n          }}\n        >\n          <EditIcon fontSize=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n      <EditInventory\n        //value={props.value} \n        show={show}\n        setShow={setShow}\n        //meal={props.meal}\n        food={props.food}\n        measure={props.measure}\n        quantity={props.quantity}\n        expiry={props.expiry}\n        id={props.id}\n        update={props.update}\n        setUpdate={props.setUpdate}\n        //forceUpdate={props.forceUpdate}\n        //saved={props.saved}\n      />\n    </>\n  );\n}\n\nexport default Edit;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport emailjs, { init } from \"@emailjs/browser\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n\nimport { connect } from \"react-redux\";\nimport { getInventory } from \"../../../../../../store/actions/marketplaceActions/inventoryData\";\nimport RemoveFromInventoryIcon from \"./Icons/RemoveFromInventoryIcon\";\nimport RefreshIcon from \"./Icons/RefreshIcon\";\nimport RemoveFoodWasteIcon from \"./Icons/RemoveFoodWasteIcon\";\nimport GiftFoodIcon from \"./Icons/GiftFoodIcon\";\nimport PurchaseIcon from \"./Icons/PurchaseIcon\";\nimport Edit from \"./Icons/EditIconInventory.jsx\"\nimport moment from \"moment\";\nimport { Button } from \"react-bootstrap\";\nimport { SubButtonInventory } from \"../../../../../SubComponents/Button\";\nimport SyncIcon from '@mui/icons-material/Sync';\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\n\nfunction InventoryItems(props) {\n\n  // console.log(\"let get it, park well\", props)\n\n  const [list, setList] = useState([]);\n  const [expiryDate, setExpiryDate] = useState(\"DD-MM-YYYY\");\n\n  var today = moment(new Date()).format(\"dd/mm/yyyy\")\n\n   //trigger this when updating items\n const [update, setUpdate] = useState(0);\n \n const forceUpdate = () => {\n   setUpdate(update + 1);\n };\n\n  function Refresh() {\n    return (\n      <>\n        <Tooltip title=\"Refresh\">\n          <IconButton\n            aria-label=\"Refresh\"\n            sx={{ ml: 2 }}\n            onClick={() => {\n              forceUpdate();\n              console.log(\"update\", update)\n\n            }}\n          >\n            <SyncIcon style={{ fontSize: 35 }} \n            />\n          </IconButton>\n        </Tooltip>\n    </>\n    );\n   }\n\n\n  //this sends data request\n  useEffect(() => {\n    props.getInventory();\n    //console.log(\"getting inv ==>\", props.data)\n  }, [props.value, props.update]);\n\n  const updateInventoryList = async () => {\n    //clears the items array before each update- IMPORTANT\n    setList([]);\n\n    //sets a new item object in the array for every document\n    props.data.forEach((doc) => {\n      // id is the docref for deletion\n      var id = doc.id;\n      var food = doc.ingredients;\n      var item = doc.item;\n      var measure = doc.measure;\n      var updatedMeasure = doc.updatedMeasure;\n      var quantity = doc.quantity;\n      var updatedQty = doc.updatedQty;\n      var expiry = doc.expiry;\n      var purchase = doc.purchase;\n      var storage = doc.storage;\n\n      var daysUntil = new moment().to(moment(expiry, 'DD-MM-YYYY').format('ll'));\n\n      setList((list) => [\n        ...list,\n        {\n          food: food + \" \" + quantity + \" \" + measure,\n          item: item,\n          quantity: quantity,\n          updatedQty: updatedQty,\n          measure: measure,\n          updatedMeasure: updatedMeasure,\n          purchase: purchase,\n          storage: storage,\n          expiry: moment(expiry, 'DD-MM-YYYY').format('ll'),\n          id: id,\n          daysUntil,\n        },\n      ]);\n    });\n\n    setList((list) => {\n      let newList = [...list];\n      newList.sort((a, b) => {\n        return a.item < b.item ? -1 : a.item > b.item ? 1 : 0;\n      });\n      // console.log(\"list sorted\");\n      return newList;\n    });\n  };\n\n  useEffect(() => {\n    updateInventoryList();\n    forceUpdate()\n  }, [props.data]);\n\n  function sendMail(item) {\n    emailjs.send(\"service_33mgmp6\",\"template_o8lxppf\",{\n      from_name: \"intellidigest\",\n      to_name: props.profile.firstName,\n      message: item + \" is about to expire!! please use it before the expiry date\",\n      reply_to: props.profile.email,\n      to_email: props.profile.email,\n      }, \n      \"pG3M3Ncz-i7qCJ2GD\");  \n  }\n  \n  return (\n    <>\n    <RefreshIcon update={props.update} setUpdate={props.setUpdate} />\n      {list.length ? (\n        <>\n          <List>\n            {list.map((item, index) => (\n              <ListItem\n                key={`item${index}`}\n                className=\"list\"\n                style={{ alignItems: \"flex-end\" }}\n              >\n                <div>\n                  <p>{item.item + \" \" + item.quantity + \" \" + item.measure}</p>\n                  <p><b >Weight/Vol: </b>{item.updatedQty} {item.updatedMeasure}</p>\n                  <p><b >Expiry Date: </b>{item.expiry}</p>\n                  <p><b >Item expires: </b>{item.daysUntil}</p>\n                  <p><b >Place of purchase: </b>{item.purchase}</p>\n                  <p><b >Storage:</b>{item.storage}</p>\n                 \n                    <>\n                      {/* <SubButtonInventory\n                        text=\"Add Waste\"\n                        goTo=\"/food-waste-edible\"\n                        styling=\"green\"\n                        onClick={console.log(\"dddddddddddddddddddddddddd\")}\n                      /> */}\n                       <RemoveFoodWasteIcon\n                        id={item.id}\n                        value={props.value}\n                        update={props.update}\n                        setUpdate={props.setUpdate}\n                        item={item}\n\n                      />\n                      <GiftFoodIcon\n                        id={item.id}\n                        value={props.value}\n                        update={props.update}\n                        setUpdate={props.setUpdate}\n                        item={item}\n                      />\n\n                    </>\n                  { }\n                  {(() => {\n                    if (today == moment(item.expiry).subtract(7,'d').format('dd/mm/yyyy') ) {\n                      return (\n                        sendMail(item.food)\n                      )\n                    } else {\n                      return (\n                        <div></div>\n                      )\n                    }\n                  })()}\n                  \n                </div>\n                \n                <div className=\"icons\">\n                <Edit\n                      //value={props.value}\n                      food={item.item}\n                      measure={item.measure}\n                      quantity={item.quantity}\n                      updatedQty={item.updatedQty}\n                      updatedMeasure={item.updatedMeasure}\n                      expiry={item.expiry}\n                      id={item.id}\n                      update={props.update}\n                      setUpdate={props.setUpdate}\n                      //expiry={list.expiry}\n                    />\n\n                  <RemoveFromInventoryIcon\n                    id={item.id}\n                    value={props.value}\n                    update={props.update}\n                    setUpdate={props.setUpdate}\n                  />\n                </div>\n              </ListItem>\n            ))}\n          </List>\n        </>\n      ) : (\n        <div className=\"empty basic-title-left\">\n          <p>There are no items in the list :( </p>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.mealPlan.inventory,\n    profile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getInventory: (item) => dispatch(getInventory(item)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InventoryItems);\n","import { List, ListItem } from \"@mui/material\";\nimport React, { useState, useEffect } from \"react\";\nimport { AddToInventoryModal } from \"./Icons/AddToInventoryModal\";\nimport RemoveFromInventoryIcon from \"./Icons/RemoveFromInventoryIcon\";\nimport \"./Inventory.css\"\nimport InventoryItems from \"./InventoryItems\";\nimport { Alert } from \"react-bootstrap\";\n\n\nexport const Inventory = ({forceUpdate, value, tab}) => {\n    \n    const [update, setUpdate] = useState(0);\n    const [show, setShow] = useState(false);\n\n    return (\n        <div>\n             <div className=\"row\">\n                <div className=\"col-8\" style={{textAlign: \"left\"}}>\n                    <p>Add new items to your inventory 🙂</p>\n                    <p>\n                    <Alert variant=\"primary\">\n                        Please, add the weight/volume  of each food item using the unit of measurement in the meal plan and and the food item purchased.\n                    </Alert>\n                    </p>\n                </div>\n                <div className=\"col-4\" style={{textAlign: \"right\"}}><AddToInventoryModal show={show} setShow={setShow} update={update} setUpdate={setUpdate} /></div>           \n             </div>\n            <div>\n                <InventoryItems value={value} tab={tab} update={update} setUpdate={setUpdate}/>\n            </div>\n        </div>\n    )\n}","import React, { useState, useEffect } from \"react\";\n\nimport \"./Mealplan.css\";\nimport { PageWrap } from \"../../../../../SubComponents/PageWrap\";\nimport LoadingScreen from \"../../../../../SubComponents/Loading/LoadingScreen\";\nimport { Tab, Tabs } from \"react-bootstrap\";\n\nimport { Calendar } from \"./Calendar\";\nimport { CalendarShop } from \"./CalendarShop\";\nimport { CalendarPlan } from \"./CalendarPlan\";\nimport  CalendarPlanner from './Plan/CalendarPlanner/CalendarPlanner'\n\n\nimport SavedMeals from \"./SavedMeals\";\nimport RecipeSearch from \"./Search/RecipeSearch\";\nimport { ShoppingList } from \"./BuildShoppingList/ShoppingList\";\nimport moment from \"moment\";\nimport { Inventory } from \"./Inventory\";\n// import WaveLoader from \"../../../../../SubComponents/Loading/WaveLoader\";\n\nexport default function MealPlan() {\n\n  const [loading, setLoading] = useState(true);\n  const [getItems, setGetItems] = useState([])\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 1500);\n  });\n\n  const [value, setValue] = useState(moment());\n\n  if (loading) {\n    return <LoadingScreen />;\n  }\n\n  return (\n    <PageWrap goTo=\"/account\" header=\"My Plan to Save\">\n      {/* <WaveLoader /> */}\n      <Tabs\n        defaultActiveKey=\"calendar\"\n        id=\"meal-plan-tabs\"\n        className=\"mb-3 mealtabs basic-title\"\n        fill\n      >\n        <Tab eventKey=\"calendar\" title=\"MEAL DIARY\" className=\"mealtab\">\n          {/* Calender returns daily meal plan and monthly calendar- since they both use the \"value\" prop */}\n          <Calendar value={value} onChange={setValue} />\n        </Tab>\n        <Tab eventKey=\"recipes\" title=\"RECIPES\" className=\"mealtab\">\n          {/* returns all saved recipes */}\n          <SavedMeals value={value} onChange={setValue} />\n          {/* search for recipes via api */}\n          <RecipeSearch value={value} onChange={setValue} />\n        </Tab>\n        {/* <Tab eventKey=\"shopping-list\" title=\"SHOPPING LIST\" className=\"mealtab\">\n          <ShoppingList value={value} />\n        </Tab> */}\n        <Tab eventKey=\"shopscan\" title=\"SHOPPING LIST\" className=\"mealtab\">\n        <CalendarShop value={value} onChange={setValue} getItems={getItems} />\n        </Tab>\n        <Tab eventKey=\"inventory\" title=\"INVENTORY\" className=\"mealtab\">\n          <Inventory value={value} />\n        </Tab>\n        <Tab eventKey=\"mealplanner\" title=\"MEAL PLANNER\" className=\"mealtab\">\n          <CalendarPlan value={value} onChange={setValue} />\n        </Tab>\n        <Tab eventKey=\"plan\" title=\"VIEW PLAN\" className=\"mealtab\">\n          <CalendarPlanner value={value} getItems={getItems} setGetItems={setGetItems}/>\n        </Tab>\n      </Tabs> \n\n      {/* input available locations for picking up */}\n      {/* shopping list */}\n    </PageWrap>\n  );\n}\n","import React, { useState } from \"react\";\n\nexport default function NutrientsBoxHeader({ value, setValue }) {\n//   const startDay = value.clone().startOf(\"week\");\n//   const endDay = value.clone().endOf(\"week\");\n\n  function prevDay() {\n    return value.clone().subtract(1, \"days\");\n  }\n\n  function nextDay() {\n    return value.clone().add(1, \"days\");\n  }\n\n  return (\n    <div className=\"header\" style={{display: \"flex\", justifyContent: \"center\"}}>\n      <div className=\"header previous\" onClick={() => setValue(prevDay())}  style={{marginRight: \"auto\", paddingLeft: \"10px\"}}>\n        {String.fromCharCode(171)}\n      </div>\n      <div className=\"header\">\n        Nutritional Information for {value.format(\"DD MMMM\")}\n      </div>\n      <div className=\"header next\" onClick={() => setValue(nextDay())} style={{marginLeft: \"auto\", paddingRight: \"10px\"}}>\n        {String.fromCharCode(187)}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Card, Collapse, Accordion, Table } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { getMealData } from \"../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport NutrientsBoxHeader from \"./NutrientsBoxHeader\";\n\nconst NutrientsBox = (props) => {\n  const [meals, setMeals] = useState([]);\n  const [eatenMeal, setEatenMeal] = useState(false);\n\n  //this sends data request\n  useEffect(() => {\n    const data = {\n      //decided to group year and month together, should this be changed?\n      month: props.value.format(\"YYYYMM\"),\n      day: props.value.format(\"DD\"),\n    };\n\n    // if (props.tab === 0) \n    props.getMealData(data);\n    // console.log(props.data);\n  }, [props.value, /*props.update, props.tab*/]);\n\n  const updateMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.mealPlan.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n      var mealType = doc.mealType;\n      var url = doc.url;\n      var totalNutrients = doc.totalNutrients;\n      var totalDaily = doc.totalDaily;\n      var recipeYield = doc.recipeYield;\n      var eaten = doc.eaten;\n      let nn;\n      if (doc.nonNativeData) {\n        nn = doc.nonNativeData;\n      } else {\n        nn = false;\n      }\n\n      setMeals((meals) => [\n        ...meals,\n        {\n          meal: mealName,\n          mealType: mealType,\n          ingredients: ingredients,\n          id: id,\n          nn: nn,\n          url: url,\n          totalNutrients: totalNutrients,\n          totalDaily: totalDaily,\n          recipeYield: recipeYield,\n          eaten: eaten,\n        },\n      ]);\n    });\n  };\n\n  useEffect(() => {\n    // if (props.tab === 0) {\n      updateMeals();\n      // console.log(\"Meal Plan:\", meals);\n    // }\n  }, [props.mealPlan]);\n\n  // array of nutrients consumed from all meals\n  const [allTotalNutrients, setAllTotalNutrients] = useState([]);\n  // array of RDI from nutrients consumed from all meals\n  const [allTotalDaily, setAllTotalDaily] = useState([]);\n  // used for text change in Accordion\n  // const [isExpanded, setIsExpanded] = useState(true);\n\n  // console.log(\"props.meals: \", props.meals)\n\n  useEffect(() => {\n    setAllTotalNutrients([]);\n    setAllTotalNutrients((oldArr) => {\n      let arrNutrients = [...oldArr];\n      let arrDaily = [];\n      // forEach checks if nutrient object is already in array, if it is then\n      // add its quantity to prev quantity, if not then push the object to the array\n      meals.forEach((element) => {\n        console.log(\"element.eaten\", element.eaten);\n        if (!element.totalNutrients || !element.eaten) return;\n        Object.keys(element.totalNutrients).forEach((nutrient) => {\n          let found = arrNutrients.find(\n            (tableNutrient) =>\n              tableNutrient.label === element.totalNutrients[nutrient].label\n          );\n          if (found) {\n            console.log(\"Table nutrient found\");\n            found.quantity +=\n              element.totalNutrients[nutrient].quantity / element.recipeYield;\n          } else {\n            let newNutrient = element.totalNutrients[nutrient];\n            newNutrient.quantity /= element.recipeYield;\n            arrNutrients.push(newNutrient);\n          }\n        });\n      });\n      arrNutrients.sort((a, b) => {\n        return a.label < b.label ? -1 : a.label > b.label ? 1 : 0;\n      });\n      return arrNutrients;\n    });\n\n    setAllTotalDaily([]);\n    setAllTotalDaily((oldArr) => {\n      let arr = [...oldArr];\n      // forEach does the same as above forEach but for RDI\n      meals.forEach((element) => {\n        if(element.eaten) setEatenMeal(true);\n        if (!element.totalNutrients) return;\n        Object.keys(element.totalDaily).forEach((nutrient) => {\n          let found = arr.find(\n            (tableNutrient) =>\n              tableNutrient.label === element.totalDaily[nutrient].label\n          );\n          if (found) {\n            // console.log(\"Table RDI found\");\n            found.quantity +=\n              element.totalDaily[nutrient].quantity / element.recipeYield;\n          } else {\n            let newDaily = element.totalDaily[nutrient];\n            newDaily.quantity /= element.recipeYield;\n            arr.push(newDaily);\n            // console.log(\"Table RDI not found\");\n          }\n        });\n      });\n      return arr;\n    });\n  }, [meals]);\n\n  // console.log(\"All Total Nutrients: \", allTotalNutrients);\n  // console.log(\"All Total Daily: \", allTotalDaily);\n\n  const changeCellStyle = (rdiValue) => {\n    return rdiValue <= 10 ? \"tomato\" : rdiValue >= 50 ? \"#b3b785\" : null;\n  };\n\n  console.log(\"fuck around => \", meals)\n  return (\n    <div>\n      <Accordion defaultActiveKey=\"0\">\n        {/* <Accordion.Toggle\n          as=\"div\"\n          className=\"header\"\n          eventKey=\"0\"\n          // onClick={() => setIsExpanded(!isExpanded)}\n        > */}\n        <NutrientsBoxHeader value={props.value} setValue={props.setValue}/>\n          {/* Nutritional Information\n          <div\n            className=\"header\"\n            style={{ marginLeft: \"auto\", paddingRight: \"10px\" }}\n          >\n            {isExpanded ? \"Collapse\" : \"Expand\"}\n          </div> */}\n        {/* </Accordion.Toggle> */}\n        <Card>\n          <Card.Header></Card.Header>\n          <Accordion.Collapse eventKey=\"0\">\n            <Card.Body>\n              {(meals.length && eatenMeal) ? (\n                <Table striped bordered hover>\n                  <thead>\n                    <tr>\n                      <th>Nutrient</th>\n                      <th>Quantity Consumed</th>\n                      <th>Reference Daily Intake (RDI)</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {allTotalNutrients?.map((nutrient) => {\n                      return (\n                        <tr\n                          style={{\n                            backgroundColor: changeCellStyle(\n                              allTotalDaily\n                                .find(\n                                  (element) => element.label === nutrient.label\n                                )\n                                ?.quantity.toFixed(1)\n                            ),\n                          }}\n                        >\n                          <td>{nutrient.label}</td>\n                          <td>\n                            {nutrient.quantity.toFixed(1)} {nutrient.unit}\n                          </td>\n                          <td>\n                            {allTotalDaily.find(\n                              (element) => element.label === nutrient.label\n                            )\n                              ? `${allTotalDaily\n                                  .find(\n                                    (element) =>\n                                      element.label === nutrient.label\n                                  )\n                                  .quantity.toFixed(1)} %`\n                              : \"-\"}\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </Table>\n              ) : (\n                <div className=\"empty basic-title-left\">\n                  <p>\n                    Nutritional information will be shown once a meal is added\n                    to your plan and is marked as eaten.\n                  </p>\n                </div>\n              )}\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      </Accordion>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    mealPlan: state.mealPlan.meals,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getMealData: (product) => dispatch(getMealData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NutrientsBox);\n","import React, { useState, useEffect } from \"react\";\n\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport LoadingScreen from \"../../../SubComponents/Loading/LoadingScreen\";\nimport NutrientsBox from \"./Marketplace/MealPlanComp/NutrientsBox\";\nimport moment from \"moment\";\nimport \"./Marketplace/MealPlanComp/Mealplan.css\";\n\nexport default function NutrientGap() {\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 1500);\n  });\n\n  const [value, setValue] = useState(moment());\n  \n  if (loading) {\n    return <LoadingScreen />;\n  }\n\n  return (\n    <PageWrap goTo=\"/account\" header=\"Nutrient Gap\">\n      <NutrientsBox value={value} setValue={setValue} />\n    </PageWrap>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/peppers-square.92ac872c.jpg\";","import React from \"react\";\nimport \"./Card.css\";\nimport { Card as BootstrapCard } from \"react-bootstrap\";\nimport EXAMPLE from \"../../images/peppers-square.jpg\";\n\nexport function Card(props) {\n  return (\n    <BootstrapCard className={[\"form-card\", props.styling]} key={props.key}>\n      {props.children}\n    </BootstrapCard>\n  );\n}\n\nexport function ProductCard(props) {\n  return (\n    <BootstrapCard className=\"product\" key={props.key}>\n      <img src={EXAMPLE} alt=\"product\" className=\"product-image\" />\n      <div className=\"product-information\">{props.children}</div>\n    </BootstrapCard>\n  );\n}\n","//routed into app but not currently accessible to viewers\nimport React, { useEffect, useState } from \"react\";\n\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { ProductCard } from \"../../../SubComponents/Card\";\n\nimport { getFirestoreData } from \"../../../../store/actions/dataActions\";\nimport { connect } from \"react-redux\";\n\nexport function ViewProducts(props) {\n  const [myProducts, setMyProducts] = useState([]);\n\n  //fetches all product data\n  function fetchProducts() {\n    var data = {\n      masterCollection: \"marketplace\",\n      collection: \"products\",\n      uid: props.auth.uid,\n    };\n    props.getFirestoreData(data);\n  }\n\n  //this sends data request\n  useEffect(() => {\n    if (props.data.length <= 0) fetchProducts();\n  }, []);\n\n  const sortProducts = async () => {\n    props.data.forEach((doc) => {\n      var id = doc.id;\n      var food = doc.food;\n      var category = doc.category;\n      var weight = doc.weight[0];\n      var unit = doc.weight[1];\n      var producedLocally = doc.producedLocally;\n      var price = doc.price[0];\n      var currency = doc.price[1];\n      var expires = doc.expires;\n      var comment = doc.comment;\n\n      setMyProducts((myProducts) => [\n        ...myProducts,\n        {\n          id: id,\n          food: food,\n          category: category,\n          weight: weight,\n          unit: unit,\n          producedLocally: producedLocally,\n          price: price,\n          currency: currency,\n          expires: expires,\n          comment: comment,\n        },\n      ]);\n    });\n  };\n\n  useEffect(() => {\n    sortProducts();\n  }, [props.data]);\n\n  return (\n    <PageWrap goTo=\"/account\" header=\"Sell Products\" subtitle=\"My Products\">\n      {myProducts.map((product) => (\n        <ProductCard styling=\"product\" key={product.id}>\n          <h1>\n            {product.food}: {product.weight}\n            {product.unit}\n          </h1>\n          <h6>{product.category}</h6>\n          <p> expiry date: {product.expires}</p>\n          <h2>\n            {product.currency}\n            {product.price}\n          </h2>\n          {/* if produced locally have a lil tick thing */}\n          <p>{product.comment}</p>\n        </ProductCard>\n      ))}\n    </PageWrap>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.data.getData,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getFirestoreData: (product) => dispatch(getFirestoreData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewProducts);\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Form, InputGroup, FormGroup, Container } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  createFoodWasteData,\n  createMapData,\n} from \"./../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { getFirebase } from \"react-redux-firebase\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\nimport { Dropdown } from \"../../../SubComponents/Dropdown\";\nimport { DefaultButton } from \"../../../SubComponents/Button\";\nimport { Divider } from \"@mui/material\";\nimport { submitNotification } from \"../../../lib/Notifications\";\n\nconst FoodWaste = (props) => {\n  const [redirectTo, setRedirectTo] = useState(false);\n  //useEffect to redirect if not correct account type\n  useEffect(() => {\n    if (props.profile.type) {\n      if (!String(props.profile.type).includes(\"academic\")) {\n        setRedirectTo(true);\n      }\n    }\n  }, [props.profile]);\n\n  const defaultUpload = {\n    edibleInedible: \"Edible\",\n    projectName: \"\",\n    foodName: \"\",\n    foodWasteWeight: 0,\n    weightType: \"Select Unit\",\n    expiryDate: \"\",\n    ghg: 0,\n    foodWasteCost: 0,\n    currency: \"Select Currency\",\n    notes: \"\",\n  };\n\n  const defaultMultipliers = {\n    weightMultiplier: 0,\n    currencyMultiplier: 0,\n  };\n\n  //Upload state\n  const [upload, setUpload] = useState(defaultUpload);\n\n  //Multiplier state\n  const [multipliers, setMultipliers] = useState(defaultMultipliers);\n\n  //Reference to Notes input\n  const notesRef = useRef(null);\n\n  //Update foodWasteCost and ghg when edibleInedible or foodWasteWeight or weightType changes\n  useEffect(() => {\n    handleCostGHGChange();\n  }, [\n    upload.edibleInedible,\n    upload.foodWasteWeight,\n    upload.weightType,\n    upload.currency,\n  ]);\n\n  const updateStateValue = (e) => {\n    if (e.target.textContent) {\n      setUpload({ ...upload, [e.target.id]: e.target.textContent });\n    } else {\n      setUpload({ ...upload, [e.target.id]: e.target.value });\n    }\n  };\n\n  const changeMultiplier = (e) => {\n    let stringArray = e.target.id.toString().split(/PerUnit|Type/);\n    let typeString = stringArray[0] + \"Multiplier\";\n    let val;\n    switch (e.target.textContent) {\n      //Weight (Food Waste)\n      case \"kg\":\n      case \"l\":\n        val = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        val = 0.001;\n        break;\n      case \"oz\":\n        val = 0.028;\n        break;\n      case \"lbs\":\n        val = 0.454;\n        break;\n      //Currency Unit (GBP (£), USD ($), EUR (€))\n      case \"GBP (£)\":\n        val = 1;\n        break;\n      case \"USD ($)\":\n        val = 1.404;\n        break;\n      case \"EUR (€)\":\n        val = 1.161;\n        break;\n      default:\n        val = 1;\n    }\n    setMultipliers({ ...multipliers, [typeString]: val });\n  };\n\n  const handleCostGHGChange = () => {\n    setUpload({\n      ...upload,\n      ghg: Number(upload.foodWasteWeight * multipliers.weightMultiplier * 2.5),\n      foodWasteCost: (\n        Number(upload.foodWasteWeight) *\n        0.85 *\n        multipliers.weightMultiplier *\n        multipliers.currencyMultiplier\n      ).toFixed(2),\n    });\n  };\n\n  const handleFoodWasteSubmit = () => {\n    var wm;\n    switch (upload.weightType) {\n      default:\n      case \"kg\":\n      case \"l\":\n        wm = 1;\n        break;\n      case \"g\":\n      case \"ml\":\n        wm = 0.001;\n        break;\n      case \"oz\":\n        wm = 0.028;\n        break;\n      case \"lbs\":\n        wm = 0.454;\n        break;\n    }\n\n    const mapData = {\n      masterCollection: \"mapData\",\n      uid: props.auth.uid,\n      upload: {\n        foodWasteWeight: upload.foodWasteWeight * wm,\n      },\n    };\n\n    var uid, masterCollection;\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n\n    const data = {\n      uid: uid,\n      masterCollection: masterCollection,\n      collection: \"writtenFoodWasteData\",\n      upload: {\n        date: getFirebase().firestore.Timestamp.fromDate(new Date()),\n        ...upload,\n      },\n    };\n\n    props.createFoodWasteData(data);\n    props.createMapData(mapData);\n    submitNotification(\"Success\", \"Food Waste successfully uploaded!\");\n    setUpload(defaultUpload);\n    setMultipliers(defaultMultipliers);\n    notesRef.current.value = \"\";\n  };\n\n  //Redirect if not logged in\n  if (!props.auth.uid) return <Redirect to=\"/login\" />;\n\n  //Redirect if not an academic user\n  if (redirectTo) return <Redirect to=\"/account\" />;\n\n  return (\n    <PageWrap\n      header=\"Update Food Waste\"\n      subtitle=\"Upload Edible or Inedible Food Waste\"\n      goTo=\"/account\"\n    >\n      <Container fluid className=\"web-center\">\n        <Form>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Project Name\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"projectName\"\n              onChange={(e) => {\n                updateStateValue(e);\n              }}\n              value={upload.projectName}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Food Name\n            </Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"foodName\"\n              onChange={(e) => {\n                updateStateValue(e);\n              }}\n              value={upload.foodName}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Edible or Inedibe\n            </Form.Label>\n            <Dropdown\n              id=\"edibleInedible\"\n              styling=\"grey dropdown-input\"\n              data={upload.edibleInedible}\n              function={(ekey, e) => {\n                updateStateValue(e);\n              }}\n              items={[\"Edible\", \"Inedible\"]}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>\n              Weight / Volume\n            </Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"number\"\n                id=\"foodWasteWeight\"\n                onChange={(e) => {\n                  updateStateValue(e);\n                }}\n                value={upload.foodWasteWeight}\n              />\n              <Dropdown\n                id=\"weightType\"\n                styling=\"grey dropdown-input-right\"\n                data={upload.weightType}\n                function={(ekey, e) => {\n                  changeMultiplier(e);\n                  updateStateValue(e);\n                }}\n                items={[\"kg\", \"g\", \"/\", \"oz\", \"lbs\", \"/\", \"l\", \"ml\"]}\n              />\n            </InputGroup>\n          </FormGroup>\n          <EdibleInedible\n            upload={upload}\n            multipliers={multipliers}\n            changeMultiplier={changeMultiplier}\n            updateStateValue={updateStateValue}\n          />\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>GHG</Form.Label>\n            <InputGroup>\n              <Form.Control\n                type=\"ghg\"\n                value={upload.ghg}\n                title={upload.ghg}\n                readOnly\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>kg co2</InputGroup.Text>\n              </InputGroup.Append>\n            </InputGroup>\n          </FormGroup>\n          <FormGroup className=\"mb-3\">\n            <Form.Label style={{ backgroundColor: \"white\" }}>Notes</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={3}\n              id=\"notes\"\n              ref={notesRef}\n              onChange={(e) => {\n                updateStateValue(e);\n              }}\n            />\n          </FormGroup>\n          <EnableSubmit\n            upload={upload}\n            handleFoodWasteSubmit={handleFoodWasteSubmit}\n          />\n        </Form>\n      </Container>\n    </PageWrap>\n  );\n};\n\nconst EdibleInedible = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    return (\n      <>\n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>\n            Expiry Date\n          </Form.Label>\n          <Form.Control\n            id=\"expiryDate\"\n            placeholder=\"DD/MM/YYYY\"\n            onChange={(e) => {\n              props.updateStateValue(e);\n            }}\n            value={props.upload.expiryDate}\n          />\n        </FormGroup>\n        <FormGroup className=\"mb-3\">\n          <Form.Label style={{ backgroundColor: \"white\" }}>Cost</Form.Label>\n          <InputGroup>\n            <Form.Control\n              id=\"foodWasteCost\"\n              value={props.upload.foodWasteCost}\n              readOnly\n            />\n            <Dropdown\n              id=\"currency\"\n              styling=\"grey dropdown-input-right\"\n              data={props.upload.currency}\n              function={(eventKey, e) => {\n                props.changeMultiplier(e);\n                props.updateStateValue(e);\n              }}\n              items={[\"GBP (£)\", \"USD ($)\", \"EUR (€)\"]}\n            />\n          </InputGroup>\n        </FormGroup>\n      </>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst EnableSubmit = (props) => {\n  if (props.upload.edibleInedible === \"Edible\") {\n    if (\n      props.upload.projectName !== \"\" &&\n      props.upload.foodName !== \"\" &&\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\" &&\n      props.upload.expiryDate !== \"\" &&\n      props.upload.currency !== \"Select Currency\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  } else {\n    if (\n      props.upload.projectName !== \"\" &&\n      props.upload.foodName !== \"\" &&\n      props.upload.foodWasteWeight > 0 &&\n      props.upload.weightType !== \"Select Unit\"\n    ) {\n      return (\n        <FormGroup className=\"mb-3\">\n          <Divider />\n          <DefaultButton\n            text=\"Update\"\n            styling=\"green\"\n            onClick={(e) => {\n              props.handleFoodWasteSubmit();\n            }}\n          />\n        </FormGroup>\n      );\n    } else {\n      return <DefaultButton text=\"Update\" styling=\"green\" disabled=\"true\" />;\n    }\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createMapData: (product) => dispatch(createMapData(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodWaste);\n","import React, { Component } from \"react\";\nimport {\n  Form,\n  Button,\n  Card,\n  Col,\n  Row,\n  InputGroup,\n  DropdownButton,\n  Modal,\n  Dropdown,\n} from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  startData,\n  createFoodIntakeResearchData,\n} from \"../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport styled from \"styled-components\";\n// import { getFirebase} from 'react-redux-firebase'\n// import DisplayError from '../pages/DisplayError'\nimport moment from \"moment\";\nimport DropdownItem from \"react-bootstrap/esm/DropdownItem\";\nimport {\n  BrowserView,\n  MobileView,\n  isMobile,\n  isBrowser,\n} from \"react-device-detect\";\n// import {fs} from \"../../../config/fbConfig\"\nimport { BsFillQuestionCircleFill } from \"react-icons/bs\";\nimport { Divider, FormControlLabel } from \"@material-ui/core\";\nimport DropdownMenu from \"react-bootstrap/esm/DropdownMenu\";\nimport DropdownToggle from \"react-bootstrap/esm/DropdownToggle\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport addNotification from \"react-push-notification\";\n\n// import {Chart} from \"react-google-charts\"\n\nconst time = moment().format(\"MMMM Do YYYY, h:mm:ss a\");\n// const chartSubmissionDay = moment().format(\"ddd\")\n// const chartSubmissionWeek = moment().format(\"W\")\n// const chartSubmissionMonth = moment().format(\"MMM\")\n// const chartSubmissionDate = moment().format(\"Do\")\n// const chartSubmissionYear = moment().format(\"YYYY\")\n// const chartSubmissionFullDate = moment().format(\"ddd MMM Do YYYY\")\n\nclass FoodIntake extends Component {\n  state = {\n    name: this.props.user.firstName,\n    email: this.props.auth.email,\n    uid: this.props.auth.uid,\n    filteredData: [],\n\n    formWidth: \"\",\n    formHeight: \"\",\n\n    submissionType: \"Intake Academic\",\n\n    meal: \"n/a\",\n\n    foodName: \"\",\n\n    // checkedA: false,\n    // checkedB: false,\n    eatingInOrOut: \"n/a\",\n\n    notes: \"\",\n\n    // edibleInedibleSurplus: \"Select\",\n\n    foodWeight: 0,\n    weightType: \"Select Unit\",\n    weightMultiplier: 0,\n\n    // edibleFoodWasteType: \"Select Type\",\n    // inedibleFoodWasteType: \"Select Type\",\n\n    // carbsContent: 0,\n    // proteinContent: 0,\n    // fatContent: 0,\n    // fibreContent: 0,\n\n    producedLocally: \"Select Local or Non-local\",\n\n    projectName: \"\",\n\n    expiryDate: \"\",\n\n    // moisture: 0,\n    // showMoisture: false,\n\n    // inedibleMoisture: 0,\n\n    // volumeOfFoodWaste: 0,\n\n    // ghg: 0,\n\n    // inedibleGHG: 0,\n    // dailyFoodSurplus: 0,\n\n    // foodWasteCost: 0,\n    // currency: \"Select Currency\",\n    // currencyMultiplier: 0,\n\n    // costOfInedibleFoodWaste: 0,\n\n    // dropDownValueIFW: \"Select Currency\",\n    // currencyMultiplierIFW: 0,\n\n    chartSubmissionDay: moment().format(\"ddd\"),\n    chartSubmissionWeek: moment().format(\"W\"),\n    chartSubmissionMonth: moment().format(\"MMM\"),\n    chartSubmissionDate: moment().format(\"Do\"),\n    chartSubmissionYear: moment().format(\"YYYY\"),\n    chartSubmissionFullDate: moment().format(\"ddd MMM Do YYYY\"),\n\n    // showComposition: false,\n\n    // dataChartEFW: [['Food Wastage Type', 'Food Wastage Weight']],\n\n    // autocompleteEntries: [\n    //     {}\n    // ]\n  };\n\n  // handleChartSubmit(label, column){\n  //     this.setState((prevState) => ({\n  //         dataChartEFW: [...prevState.dataChartEFW, [label, column]],\n  //     }));\n  // }\n\n  clearEFWForm = () => {\n    this.setState({\n      // meal: \"Select Meal\",\n      projectName: \"\",\n      foodName: \"\",\n      // checkedA: false,\n      // checkedB: false,\n      // eatingInOrOut: \"\",\n      notes: \"\",\n      // edibleInedibleSurplus: \"Select\",\n      foodWeight: 0,\n      weightType: \"Select Unit\",\n      producedLocally: \"Select Local or Non-local\",\n      expiryDate: \"\",\n      // edibleFoodWasteType: \"Select Type\",\n      // carbsContent: 0,\n      // proteinContent: 0,\n      // fatContent: 0,\n      // fibreContent: 0,\n      // moisture: 0,\n      // ghg: 0,\n      // foodWasteCost: 0,\n      // currency: \"Select Currency\",\n      // currencyMultiplier: 0,\n      formHeight: \"665px\",\n    });\n  };\n\n  notificationTest = () => {\n    addNotification({\n      title: \"Success!\",\n      message: \"Food Intake successfully updated!\",\n      // theme: 'darkblue',\n      // native: false,\n      backgroundTop: \"#aab41e\", //optional, background color of top container.\n      backgroundBottom: \"#aab41e\", //optional, background color of bottom container.\n      closeButton: \"Close\",\n      duration: 4000,\n    });\n  };\n\n  changeMeal(text) {\n    this.setState({ meal: text });\n  }\n\n  changeCurrency(text) {\n    this.setState({ currency: text });\n  }\n\n  // changeIFWCurrency(text) {\n  //     this.setState({dropDownValueIFW: text})\n  // }\n\n  changeCurrencyMultiplier(value) {\n    this.setState({ currencyMultiplier: value });\n  }\n\n  // changeMultiplierIFW(value) {\n  //     this.setState({currencyMultiplierIFW: value})\n  // }\n\n  changeWeightMultiplier(value) {\n    this.setState({ weightMultiplier: value });\n  }\n\n  handleChange = (e) => {\n    // console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  handleEdibleInedibleSurplusChange = (e) => {\n    // console.log(e)\n    this.setState({ edibleInedibleSurplus: e });\n  };\n\n  handleProducedLocallyChange(text) {\n    this.setState({ producedLocally: text });\n  }\n\n  handleWeightUnitChange(text) {\n    this.setState({ weightType: text });\n  }\n\n  // handleEdibleFoodTypeChange(text) {\n  //     this.setState({edibleFoodWasteType: text})\n  // }\n\n  // handleInedibleFoodTypeChange(text) {\n  //     this.setState({inedibleFoodWasteType: text})\n  // }\n\n  // handleCarbsContentChange(event) {\n  //     this.setState({carbsContent: event.target.value})\n  // }\n\n  // handleProteinContentChange(event) {\n  //     this.setState({proteinContent: event.target.value})\n  // }\n\n  // handleFibreContentChange(event) {\n  //     this.setState({fibreContent: event.target.value})\n  // }\n\n  // handleFatContentChange(event) {\n  //     this.setState({fatContent: event.target.value})\n  // }\n\n  // handleMoistureChange(event) {\n  //     this.setState({moisture: event.target.value})\n  // }\n\n  // handleInedibleMoistureChange(event) {\n  //     this.setState({inedibleMoisture: event.target.value})\n  // }\n\n  handleFoodWasteGHGChange = (e) => {\n    //console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n      ghg: Number(e.target.value) * 2.5,\n    });\n  };\n\n  // handleInedibleFoodWasteGHGChange = (e) => {\n  //     //console.log(e);\n  //     this.setState({\n  //         [e.target.id]: e.target.value,\n  //         inedibleGHG: Number(e.target.value) * 2.5,\n  //     })\n  // }\n\n  handleFoodCostChange = (e) => {\n    //console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n      foodWasteCost: (Number(e.target.value) * 0.85).toFixed(2),\n    });\n  };\n\n  handleInedibleFoodCostChange = (e) => {\n    //console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n      costOfInedibleFoodWaste: (Number(e.target.value) * 0.85).toFixed(2),\n    });\n  };\n\n  // handleTimeChange = (e) => {\n  //     this.setState({\n  //         chartSubmissionDay: moment().format(\"ddd\"),\n  //         chartSubmissionWeek: moment().format(\"W\"),\n  //         chartSubmissionMonth: moment().format(\"MMM\"),\n  //         chartSubmissionDate: moment().format(\"Do\"),\n  //         chartSubmissionYear: moment().format(\"YYYY\"),\n  //         chartSubmissionFullDate: moment().format(\"ddd MMM Do YYYY\")\n  //     });\n  // }\n\n  // ===========================================================================\n\n  pressButton = (e) => {\n    e.preventDefault();\n    this.props.startData(this.state);\n  };\n\n  // handleFoodSurplusSubmit = (e) => {\n  //     e.preventDefault();\n  //     this.setState({\n  //     })\n  //     this.props.createFoodSurplusData(this.state);\n  // }\n\n  handleFoodIntakeSubmit = (e) => {\n    e.preventDefault();\n    this.setState({});\n    this.props.createFoodIntakeResearchData(this.state);\n  };\n\n  // handleFormHeight(text){\n  //     if (text === \"Select\" || text === \"Edible\" || text === \"Surplus\"){\n  //         this.setState({formHeight: \"665px\"})\n  //     } else if (text === \"Inedible\"){\n  //         this.setState({formHeight: \"520px\"})\n  //     }\n  // }\n\n  // handleCheckboxTick = (e) => {\n  //     if (e.target.name === \"checkedA\"){\n  //         this.setState({\n  //             [e.target.name]: e.target.checked,\n  //             checkedB: !e.target.checked,\n  //             eatingInOrOut: \"Eating In\"\n  //         });\n  //     } else if (e.target.name === \"checkedB\"){\n  //         this.setState({\n  //             [e.target.name]: e.target.checked,\n  //             checkedA: !e.target.checked,\n  //             eatingInOrOut: \"Eating Out\"\n  //         })\n  //     }\n  // }\n\n  // handleFoodNameEntry(text){\n  //     this.setState({\n  //         foodName: text\n  //     })\n  // }\n\n  // handleAutoCompleteValueEntry(text){\n  //     this.setState( (prevState) => ({\n  //         autocompleteEntries: {...prevState.autocompleteEntries, text}\n  //     }));\n  // }\n\n  // handleFoodWasteSubmitMobile = (e) => {\n  //     e.preventDefault();\n  //     this.setState({\n  //     })\n  //     this.props.createFoodWasteData(this.state);\n  // }\n\n  // handleSubmit = (e) => {\n  //     e.preventDefault();\n  // //    console.log(this.state);\n  //     this.props.createProduct(this.state)\n  //     this.props.history.push('/products')\n  // }\n\n  componentDidMount() {\n    if (isMobile) {\n      this.setState({ formWidth: \"72vw\", formHeight: \"665px\" });\n    } else if (isBrowser) {\n      this.setState({ formWidth: \"261px\", formHeight: \"665px\" });\n    }\n  }\n\n  render() {\n    const { data, auth } = this.props;\n    // console.log(data.[auth.uid].writtenFoodWasteData);\n    // console.log(time);\n    // console.log(Date(time));\n    const { foodWaste, foodSurplus } = this.state;\n    if (!auth.uid) return <Redirect to=\"/login\" />;\n    if (data) {\n      const filteredData =\n        data && data.filter((datas) => datas.email === auth.email);\n      // console.log(foodWaste);\n      // console.log(foodSurplus);\n\n      // 284 - paddingBottom:\n\n      return (\n        <div\n          // className=\"container\"\n          style={{ width: \"100%\", height: \"100%\" }}\n        >\n          <MobileView>\n            <h3\n              style={{\n                paddingTop: \"8vh\",\n                color: \"black\",\n                justifyContent: \"center\",\n                display: \"flex\",\n              }}\n            >\n              Update Food\n            </h3>\n          </MobileView>\n          <BrowserView>\n            <h4\n              style={{\n                paddingTop: \"8vh\",\n                color: \"black\",\n                justifyContent: \"center\",\n                display: \"flex\",\n              }}\n            >\n              Update Food\n            </h4>\n          </BrowserView>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\",\n              width: \"100%\",\n            }}\n          >\n            <Button\n              style={{ width: this.state.formWidth, borderColor: \"#aab41e\" }}\n              className=\"custom-btn-2\"\n              as={Link}\n              to=\"/account\"\n            >\n              Back\n            </Button>\n          </div>\n\n          {filteredData.length === 0 ? (\n            <Row className=\"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found\">\n              <Col\n                className=\"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2\"\n                xs={12}\n              ></Col>\n              <Col className=\"mt-5 pt-5\" xs={12}></Col>\n              <Col className=\"\" xs={12} lg={4}></Col>\n              <Col\n                className=\" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0\"\n                xs={12}\n                lg={4}\n              >\n                <CardStyle>\n                  <Card>\n                    <Card.Body>\n                      <Card.Text className=\"text-center\">\n                        <h1\n                          style={{\n                            fontSize: \"33px\",\n                            fontWeight: \"600\",\n                            color: \"rgb(55, 85, 54)\",\n                          }}\n                        >\n                          Start tracking your food intake now\n                        </h1>\n                        <button\n                          onClick={this.pressButton}\n                          style={{ outline: \"none\", border: \"none\" }}\n                        >\n                          Start now\n                        </button>\n                      </Card.Text>\n                    </Card.Body>\n                  </Card>\n                </CardStyle>\n              </Col>\n              <Col className=\"mt-5 pt-5\" xs={12} lg={4}></Col>\n              <Col className=\"mt-5 pt-5\" xs={12}></Col>\n              <Col className=\"mt-5 pt-5\" xs={12}></Col>\n            </Row>\n          ) : (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                flexWrap: \"wrap\",\n                width: \"100%\",\n                height: \"190%\",\n              }}\n            >\n              {/* <BrowserView> */}\n\n              <Card\n                style={{\n                  // width: \"90%\",\n                  width: this.state.formWidth,\n                  // height: \"100%\"\n                  height: this.state.formHeight,\n                  marginBottom: \"10vh\",\n                  // backgroundColor: 'lightgray'\n                }}\n              >\n                {/* onSubmit={this.handleFoodWasteSubmit}     */}\n                <Form className=\"form-layout\" style={{ padding: \"10px\" }}>\n                  <h5\n                    className=\"text-center\"\n                    style={{\n                      margin: \"30px\",\n                      fontSize: \"23px\",\n                      fontWeight: \"600\",\n                    }}\n                  >\n                    Food Update\n                  </h5>\n\n                  <div>\n                    {/* <div style={{padding: \"0 10% 0 10%\"}}>Meal</div>\n                    <Form.Group\n                        style={{\n                            padding: \"0 10% 0 10%\",\n                            // paddingBottom: \"20px\",\n                            display: \"flex\"\n                        }}>\n                    <InputGroup>\n                        <DDMenuStyle>\n                            <Dropdown>\n                                <DropdownToggle variant=\"secondary\" style={{width: \"190px\"}} className=\"dd\">{this.state.meal}</DropdownToggle>\n                                <DropdownMenu>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Breakfast\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Lunch\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Dinner\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Other\n                                        </div>\n                                    </DropdownItem>\n\n                                </DropdownMenu>\n                            </Dropdown>\n                        </DDMenuStyle>\n                    </InputGroup>\n\n                    </Form.Group> */}\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Project Name</div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <InputGroup>\n                        <Form.Control\n                          id=\"projectName\"\n                          placeholder=\"Enter Project Name\"\n                          onChange={(e) => this.handleChange(e)}\n                          width=\"100%\"\n                          value={this.state.projectName}\n                        />\n                      </InputGroup>\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Food Name</div>\n                    <Form.Group\n                      style={{ padding: \"0 10% 0 10%\", display: \"flex\" }}\n                    >\n                      <Autocomplete\n                        // multiple\n                        id=\"foodName\"\n                        options={foodOptions.map((option) => option.title)}\n                        freeSolo\n                        // limitTags={1}\n                        // getOptionLabel={(option) => option.name}\n                        style={{ width: \"100%\" }}\n                        size=\"small\"\n                        onChange={(e) =>\n                          this.setState({ foodName: e.target.textContent })\n                        }\n                        onInputChange={(e) => this.handleChange(e)}\n                        // renderTags={(value, getTagProps) =>\n                        //     value.map((option, index) => (\n                        //       <Chip variant=\"outlined\" label={option} {...getTagProps({ index })} />\n                        //     ))\n                        // }\n\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            label=\"Enter Food Name\"\n                            variant=\"outlined\"\n                          />\n                        )}\n                      />\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>\n                      Weight / Volume\n                    </div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <InputGroup>\n                        <Form.Control\n                          type=\"number\"\n                          id=\"foodWeight\"\n                          placeholder=\"Enter weight of food waste\"\n                          onChange={(e) => {\n                            this.handleFoodWasteGHGChange(e);\n                            this.handleFoodCostChange(e);\n                          }}\n                          width=\"100%\"\n                          value={this.state.foodWeight}\n                        />\n\n                        <DropdownButton\n                          as={InputGroup.Append}\n                          variant=\"outline-secondary\"\n                          title={this.state.weightType}\n                          id=\"wtdd\"\n                        >\n                          <Dropdown.Header>Weight (Solids)</Dropdown.Header>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(1);\n                              }}\n                            >\n                              kg\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.001);\n                              }}\n                            >\n                              g\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.028);\n                              }}\n                            >\n                              oz\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.454);\n                              }}\n                            >\n                              lbs\n                            </div>\n                          </DropdownItem>\n\n                          <Dropdown.Divider />\n\n                          <Dropdown.Header>Volume (Liquids)</Dropdown.Header>\n\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(1);\n                              }}\n                            >\n                              l\n                            </div>\n                          </DropdownItem>\n\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.001);\n                              }}\n                            >\n                              ml\n                            </div>\n                          </DropdownItem>\n                        </DropdownButton>\n                      </InputGroup>\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Expiry Date</div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <InputGroup>\n                        <Form.Control\n                          id=\"expiryDate\"\n                          type=\"date\"\n                          placeholder=\"DD/MM/YYYY\"\n                          onChange={(e) => this.handleChange(e)}\n                          width=\"100%\"\n                          value={this.state.expiryDate}\n                        />\n                      </InputGroup>\n                    </Form.Group>\n\n                    {/* <div style={{padding: \"0 10% 0 10%\"}}>Local or Non-local Produce?</div>\n                        <Form.Group \n                            style={{\n                                padding: \"0 10% 0 10%\",\n                                display: \"flex\"\n                            }}>\n                            <InputGroup>\n                                <DropdownButton\n                                    variant=\"outline-secondary\"\n                                    title={this.state.producedLocally}\n                                    id=\"lnldd\"\n                                >\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.handleProducedLocallyChange(e.target.textContent)}>\n                                            Local Produce\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.handleProducedLocallyChange(e.target.textContent)}>\n                                            Non-local Produce\n                                        </div>\n                                    </DropdownItem>\n\n                                </DropdownButton>\n                            </InputGroup>\n\n                        </Form.Group> */}\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>\n                      Local or Non-local?\n                    </div>\n                    <Form.Group\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                      }}\n                    >\n                      <InputGroup>\n                        <DDMenuStyle>\n                          <Dropdown>\n                            <DropdownToggle\n                              variant=\"secondary\"\n                              style={{ width: \"190px\" }}\n                              className=\"dd\"\n                            >\n                              {this.state.producedLocally}\n                            </DropdownToggle>\n                            <DropdownMenu>\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) =>\n                                    this.handleProducedLocallyChange(\n                                      e.target.textContent\n                                    )\n                                  }\n                                >\n                                  Local Produce\n                                </div>\n                              </DropdownItem>\n\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) =>\n                                    this.handleProducedLocallyChange(\n                                      e.target.textContent\n                                    )\n                                  }\n                                >\n                                  Non-local Produce\n                                </div>\n                              </DropdownItem>\n                            </DropdownMenu>\n                          </Dropdown>\n                        </DDMenuStyle>\n                      </InputGroup>\n                    </Form.Group>\n\n                    {/* <div style={{padding: \"0 10% 0 10%\"}}>Eating In or Out?</div>\n                        <Form.Group style={{padding: \"0 10% 0 10%\", display: \"flex\"}}>\n                            <FormControlLabel control={<Checkbox style={{color: '#aab41e', '&$checked': {color: '#aab41e'} }} checked={this.state.checkedA} name=\"checkedA\" onChange={(e) => this.handleCheckboxTick(e)} />} label=\"Eating In\" />\n                        </Form.Group>\n                        <Form.Group style={{padding: \"0 10% 0 10%\", marginTop: \"-25px\", display: \"flex\"}}>\n                            <FormControlLabel control={<Checkbox style={{color: '#aab41e', '&$checked': {color: '#aab41e'} }} checked={this.state.checkedB} name=\"checkedB\" onChange={(e) => this.handleCheckboxTick(e)} />} label=\"Eating Out\" />\n                        </Form.Group>\n\n                        <div style={{padding: \"0 10% 0 10%\"}}>Notes (Optional)</div>\n                        <Form.Group className=\"form-layout\" style={{padding: \"0 10% 0 10%\", display: \"flex\", justifyContent: \"space-around\"}}>\n                            <Form.Control as=\"textarea\" rows={3} id=\"notes\" style={{resize: \"none\", width: \"100%\"}} onChange={(e) => this.handleChange(e)} value={this.state.notes}/>\n                        </Form.Group> */}\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>\n                      Notes (Optional)\n                    </div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <Form.Control\n                        as=\"textarea\"\n                        rows={3}\n                        id=\"notes\"\n                        style={{ resize: \"none\", width: \"100%\" }}\n                        onChange={(e) => this.handleChange(e)}\n                        value={this.state.notes}\n                      />\n                    </Form.Group>\n\n                    <Divider />\n\n                    {/* <Button style={{margin: \"0 10% 0 10%\", backgroundColor: '#aab41e', width: \"80%\", marginTop: \"20px\"}} onClick={(e) => {this.handleFoodIntakeSubmit(e); this.clearEFWForm(); this.notificationTest() }} variant=\"secondary\" type=\"button\">\n                            Update\n                        </Button> */}\n\n                    <div>\n                      {this.state.foodName !== \"\" &&\n                      this.state.projectName !== \"\" &&\n                      this.state.foodWeight !== 0 &&\n                      this.state.producedLocally !==\n                        \"Select Local or Non-local\" ? (\n                        <Button\n                          style={{\n                            margin: \"0 10% 0 10%\",\n                            backgroundColor: \"#aab41e\",\n                            width: \"80%\",\n                            marginTop: \"20px\",\n                          }}\n                          onClick={(e) => {\n                            this.handleFoodIntakeSubmit(e);\n                            this.clearEFWForm();\n                            this.notificationTest();\n                          }}\n                          variant=\"secondary\"\n                          type=\"button\"\n                        >\n                          Update\n                        </Button>\n                      ) : (\n                        <Button\n                          style={{\n                            margin: \"0 10% 0 10%\",\n                            width: \"80%\",\n                            marginTop: \"20px\",\n                          }}\n                          variant=\"secondary\"\n                          disabled\n                        >\n                          Update\n                        </Button>\n                      )}\n                    </div>\n\n                    {/* <Divider /> */}\n                  </div>\n                </Form>\n              </Card>\n            </div>\n          )}\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nconst foodOptions = [\n  { title: \"Cereal\" },\n  { title: \"Bacon\" },\n  { title: \"Baked Beans\" },\n  { title: \"Porridge\" },\n  { title: \"Pancake\" },\n  { title: \"Beef\" },\n  { title: \"Chicken\" },\n  { title: \"Pork\" },\n  { title: \"Apple\" },\n  { title: \"Banana\" },\n  { title: \"Orange\" },\n  { title: \"Pear\" },\n  { title: \"Grapes\" },\n  { title: \"Chocolate\" },\n  { title: \"Crisps\" },\n  { title: \"Pasta\" },\n  { title: \"Bolognese\" },\n  { title: \"Potato\" },\n  { title: \"Chips\" },\n  { title: \"Milk\" },\n  { title: \"Fruit Juice\" },\n  { title: \"Onion\" },\n];\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    startData: (product) => dispatch(startData(product)),\n    // createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    // createFoodSurplusData: (product) => dispatch(createFoodSurplusData(product)),\n    createFoodIntakeResearchData: (product) =>\n      dispatch(createFoodIntakeResearchData(product)),\n  };\n};\n\nconst CardStyle = styled.div`\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 70px 0 50px 0;\n  }\n\n  .card-body {\n    height: 200px;\n  }\n`;\n\nconst DDMenuStyle = styled.div`\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n`;\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect((props) => {\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: \"data\",\n        doc: props.auth.uid,\n      },\n    ];\n  })\n)(FoodIntake);\n\n//export default FoodIntake;\n","import React, { Component } from \"react\";\nimport {\n  Form,\n  Button,\n  Card,\n  Col,\n  Row,\n  InputGroup,\n  DropdownButton,\n  Dropdown,\n} from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  startData,\n  createFoodSurplusData,\n} from \"../../../../store/actions/dataActions\";\nimport { Redirect } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport styled from \"styled-components\";\n// import { getFirebase} from 'react-redux-firebase'\n// import DisplayError from '../pages/DisplayError'\nimport moment from \"moment\";\nimport DropdownItem from \"react-bootstrap/esm/DropdownItem\";\nimport {\n  BrowserView,\n  MobileView,\n  isMobile,\n  isBrowser,\n} from \"react-device-detect\";\nimport { fs } from \"../../../../config/fbConfig\";\nimport { Divider } from \"@material-ui/core\";\nimport DropdownMenu from \"react-bootstrap/esm/DropdownMenu\";\nimport DropdownToggle from \"react-bootstrap/esm/DropdownToggle\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport addNotification from \"react-push-notification\";\n\n// import {Chart} from \"react-google-charts\"\n\nconst time = moment().format(\"MMMM Do YYYY, h:mm:ss a\");\n\nconst dailyTabTime = moment().format(\"ddd MMM Do YYYY\");\n\n// const chartSubmissionDay = moment().format(\"ddd\")\n// const chartSubmissionWeek = moment().format(\"W\")\n// const chartSubmissionMonth = moment().format(\"MMM\")\n// const chartSubmissionDate = moment().format(\"Do\")\n// const chartSubmissionYear = moment().format(\"YYYY\")\n// const chartSubmissionFullDate = moment().format(\"ddd MMM Do YYYY\")\n\nclass FoodSurplus extends Component {\n  state = {\n    name: this.props.user.firstName,\n    email: this.props.auth.email,\n    uid: this.props.auth.uid,\n    filteredData: [],\n\n    formWidth: \"\",\n    formHeight: \"\",\n\n    submissionType: \"Surplus Academic\",\n\n    // meal: \"Select Meal\",\n\n    foodName: \"\",\n    foodCategory: \"Select Category\",\n\n    // checkedA: false,\n    // checkedB: false,\n    // eatingInOrOut: \"\",\n\n    // edibleInedibleSurplus: \"Select\",\n\n    foodSurplusWeight: 0,\n    weightType: \"Select Unit\",\n    weightMultiplier: 0,\n\n    // edibleFoodWasteType: \"Select Type\",\n    // inedibleFoodWasteType: \"Select Type\",\n\n    // carbsContent: 0,\n    // proteinContent: 0,\n    // fatContent: 0,\n    // fibreContent: 0,\n\n    producedLocally: \"Select Surplus or Local...\",\n\n    expiryDate: \"\",\n\n    // moisture: 0,\n    // showMoisture: false,\n\n    // inedibleMoisture: 0,\n\n    // volumeOfFoodWaste: 0,\n\n    ghg: 0,\n\n    notes: \"\",\n\n    // inedibleGHG: 0,\n    // dailyFoodSurplus: 0,\n\n    foodSurplusCost: 0,\n    currency: \"Select Currency\",\n    currencyMultiplier: 0,\n\n    // costOfInedibleFoodWaste: 0,\n\n    // dropDownValueIFW: \"Select Currency\",\n    // currencyMultiplierIFW: 0,\n\n    chartSubmissionDay: moment().format(\"ddd\"),\n    chartSubmissionWeek: moment().format(\"W\"),\n    chartSubmissionMonth: moment().format(\"MMM\"),\n    chartSubmissionDate: moment().format(\"Do\"),\n    chartSubmissionYear: moment().format(\"YYYY\"),\n    chartSubmissionFullDate: moment().format(\"ddd MMM Do YYYY\"),\n\n    // totalEdibleWeight: 0,\n    // totalEdibleGHG: 0,\n    // totalEdibleCost: 0,\n\n    // totalInedibleWeight: 0,\n    // totalInedibleGHG: 0,\n    // totalInedibleCost: 0,\n\n    // totalSurplusWeight: 0,\n    // totalSurplusGHG: 0,\n    // totalSurplusCost: 0,\n\n    // showComposition: false,\n\n    // dataChartEFW: [['Food Wastage Type', 'Food Wastage Weight']],\n\n    // autocompleteEntries: [\n    //     {}\n    // ]\n  };\n\n  // handleChartSubmit(label, column){\n  //     this.setState((prevState) => ({\n  //         dataChartEFW: [...prevState.dataChartEFW, [label, column]],\n  //     }));\n  // }\n\n  clearEFWForm = () => {\n    this.setState({\n      // meal: \"Select Meal\",\n      foodName: \"\",\n      foodCategory: \"Select Category\",\n      // checkedA: false,\n      // checkedB: false,\n      // eatingInOrOut: \"\",\n      // edibleInedibleSurplus: \"Select\",\n      foodSurplusWeight: 0,\n      weightType: \"Select Unit\",\n      producedLocally: \"Select Surplus or Local...\",\n      expiryDate: \"\",\n      // edibleFoodWasteType: \"Select Type\",\n      // carbsContent: 0,\n      // proteinContent: 0,\n      // fatContent: 0,\n      // fibreContent: 0,\n      // moisture: 0,\n      ghg: 0,\n      foodSurplusCost: 0,\n      currency: \"Select Currency\",\n      currencyMultiplier: 0,\n      notes: \"\",\n      formHeight: \"1065px\",\n    });\n  };\n\n  notificationTest = () => {\n    addNotification({\n      title: \"Success!\",\n      message: \"Food Surplus successfully updated!\",\n      // theme: 'darkblue',\n      // native: false,\n      backgroundTop: \"#aab41e\", //optional, background color of top container.\n      backgroundBottom: \"#aab41e\", //optional, background color of bottom container.\n      closeButton: \"Close\",\n      duration: 4000,\n    });\n  };\n\n  // changeMeal(text){\n  //     this.setState({meal: text})\n  // }\n\n  changeCurrency(text) {\n    this.setState({ currency: text });\n  }\n\n  // changeIFWCurrency(text) {\n  //     this.setState({dropDownValueIFW: text})\n  // }\n\n  changeCurrencyMultiplier(value) {\n    this.setState({ currencyMultiplier: value });\n  }\n\n  // changeMultiplierIFW(value) {\n  //     this.setState({currencyMultiplierIFW: value})\n  // }\n\n  changeWeightMultiplier(value) {\n    this.setState({ weightMultiplier: value });\n  }\n\n  handleChange = (e) => {\n    // console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  handleFoodCategoryChange = (text) => {\n    this.setState({ foodCategory: text });\n  };\n\n  handleEdibleInedibleSurplusChange = (e) => {\n    // console.log(e)\n    this.setState({ edibleInedibleSurplus: e });\n  };\n\n  handleProducedLocallyChange(text) {\n    this.setState({ producedLocally: text });\n  }\n\n  handleWeightUnitChange(text) {\n    this.setState({ weightType: text });\n  }\n\n  // handleEdibleFoodTypeChange(text) {\n  //     this.setState({edibleFoodWasteType: text})\n  // }\n\n  // handleInedibleFoodTypeChange(text) {\n  //     this.setState({inedibleFoodWasteType: text})\n  // }\n\n  // handleCarbsContentChange(event) {\n  //     this.setState({carbsContent: event.target.value})\n  // }\n\n  // handleProteinContentChange(event) {\n  //     this.setState({proteinContent: event.target.value})\n  // }\n\n  // handleFibreContentChange(event) {\n  //     this.setState({fibreContent: event.target.value})\n  // }\n\n  // handleFatContentChange(event) {\n  //     this.setState({fatContent: event.target.value})\n  // }\n\n  // handleMoistureChange(event) {\n  //     this.setState({moisture: event.target.value})\n  // }\n\n  // handleInedibleMoistureChange(event) {\n  //     this.setState({inedibleMoisture: event.target.value})\n  // }\n\n  handleFoodWasteGHGChange = (e) => {\n    //console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n      ghg: Number(e.target.value) * 2.5,\n    });\n  };\n\n  // handleInedibleFoodWasteGHGChange = (e) => {\n  //     //console.log(e);\n  //     this.setState({\n  //         [e.target.id]: e.target.value,\n  //         inedibleGHG: Number(e.target.value) * 2.5,\n  //     })\n  // }\n\n  handleFoodCostChange = (e) => {\n    //console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n      foodSurplusCost: (Number(e.target.value) * 0.85).toFixed(2),\n    });\n  };\n\n  handleInedibleFoodCostChange = (e) => {\n    //console.log(e);\n    this.setState({\n      [e.target.id]: e.target.value,\n      costOfInedibleFoodWaste: (Number(e.target.value) * 0.85).toFixed(2),\n    });\n  };\n\n  // handleTimeChange = (e) => {\n  //     this.setState({\n  //         chartSubmissionDay: moment().format(\"ddd\"),\n  //         chartSubmissionWeek: moment().format(\"W\"),\n  //         chartSubmissionMonth: moment().format(\"MMM\"),\n  //         chartSubmissionDate: moment().format(\"Do\"),\n  //         chartSubmissionYear: moment().format(\"YYYY\"),\n  //         chartSubmissionFullDate: moment().format(\"ddd MMM Do YYYY\")\n  //     });\n  // }\n\n  // ===========================================================================\n\n  pressButton = (e) => {\n    e.preventDefault();\n    this.props.startData(this.state);\n  };\n\n  handleFoodSurplusSubmit = (e) => {\n    e.preventDefault();\n    this.setState({});\n    this.props.createFoodSurplusData(this.state);\n  };\n\n  // handleFoodWasteSubmit = (e) => {\n  //     e.preventDefault();\n  //     this.setState({\n  //     })\n  //     this.props.createFoodWasteData(this.state);\n  // }\n\n  // handleFormHeight(text){\n  //     if (text === \"Select\" || text === \"Edible\" || text === \"Surplus\"){\n  //         this.setState({formHeight: \"980px\"})\n  //     } else if (text === \"Inedible\"){\n  //         this.setState({formHeight: \"750px\"})\n  //     }\n  // }\n\n  // handleCheckboxTick = (e) => {\n  //     if (e.target.name === \"checkedA\"){\n  //         this.setState({\n  //             [e.target.name]: e.target.checked,\n  //             checkedB: !e.target.checked,\n  //             eatingInOrOut: \"Eating In\"\n  //         });\n  //     } else if (e.target.name === \"checkedB\"){\n  //         this.setState({\n  //             [e.target.name]: e.target.checked,\n  //             checkedA: !e.target.checked,\n  //             eatingInOrOut: \"Eating Out\"\n  //         })\n  //     }\n  // }\n\n  // handleFoodNameEntry(text){\n  //     this.setState({\n  //         foodName: text\n  //     })\n  // }\n\n  // handleAutoCompleteValueEntry(text){\n  //     this.setState( (prevState) => ({\n  //         autocompleteEntries: {...prevState.autocompleteEntries, text}\n  //     }));\n  // }\n\n  // handleFoodWasteSubmitMobile = (e) => {\n  //     e.preventDefault();\n  //     this.setState({\n  //     })\n  //     this.props.createFoodWasteData(this.state);\n  // }\n\n  // handleSubmit = (e) => {\n  //     e.preventDefault();\n  // //    console.log(this.state);\n  //     this.props.createProduct(this.state)\n  //     this.props.history.push('/products')\n  // }\n\n  // fetchData = async () => {\n  //     fs.collection('data').doc(this.state.uid).collection('writtenFoodWasteData')\n  //       .get()\n  //       .then( snapshot => {\n\n  //         snapshot.forEach(doc => {\n\n  //             var fd = doc.data().FULLDATE\n  //             var st = doc.data().SUBMISSIONTYPE\n\n  //             var weight = doc.data().weight\n  //             var wu = doc.data().WEIGHTUNIT\n  //             var ghg = doc.data().GHG\n  //             var cost = doc.data().COST\n  //             var curr = doc.data().CURRENCY\n  //             var eis = doc.data().EDIBLEORINEDIBLE\n\n  //             var newWeight = 0\n  //             var newCost = 0\n\n  //             if (wu === \"kg\" || wu === \"l\"){\n  //                 newWeight = Number(weight * 1)\n  //             } else if (wu === \"g\" || wu === \"ml\"){\n  //                 newWeight = Number((weight * 0.001).toFixed(3))\n  //             } else if (wu === \"oz\"){\n  //                 newWeight = Number((weight * 0.028).toFixed(3))\n  //             } else if (wu === \"lbs\"){\n  //                 newWeight = Number((weight * 0.454).toFixed(3))\n  //             }\n\n  //             if (curr === \"GBP (£)\"){\n  //                 newCost = Number(cost*1)\n  //             } else if (curr === \"USD ($)\"){\n  //                 newCost = Number((cost/1.404).toFixed(2))\n  //             } else if (curr === \"EUR (€)\"){\n  //                 newCost = Number((cost/1.161).toFixed(2))\n  //             }\n\n  //             if (fd === dailyTabTime && st === \"Waste\" && eis === \"Edible\"){\n  //                 this.setState( (prevState) => ({\n  //                     totalEdibleWeight: prevState.totalEdibleWeight += newWeight,\n  //                     totalEdibleGHG: prevState.totalEdibleGHG += ghg,\n  //                     totalEdibleCost: prevState.totalEdibleCost += newCost\n  //                 }));\n  //             } else if (fd === dailyTabTime && st === \"Waste\" && eis === \"Inedible\"){\n  //                 this.setState( (prevState) => ({\n  //                     totalInedibleWeight: prevState.totalInedibleWeight += newWeight,\n  //                     totalInedibleGHG: prevState.totalInedibleGHG += ghg,\n  //                     // totalEdibleCost: prevState.totalEdibleWeight += newCost\n  //                 }));\n  //             } else if (fd === dailyTabTime && st === \"Waste\" && eis === \"Surplus\"){\n  //                 this.setState( (prevState) => ({\n  //                     totalSurplusWeight: prevState.totalSurplusWeight += newWeight,\n  //                     totalSurplusGHG: prevState.totalSurplusGHG += ghg,\n  //                     totalSurplusCost: prevState.totalSurplusCost += newCost\n  //                 }));\n  //             }\n\n  //         })\n\n  //       })\n  //       .catch(error => console.log(error))\n  // }\n\n  componentDidMount() {\n    if (isMobile) {\n      this.setState({ formWidth: \"72vw\", formHeight: \"1065px\" });\n    } else if (isBrowser) {\n      this.setState({ formWidth: \"261px\", formHeight: \"1065px\" });\n    }\n  }\n\n  render() {\n    const { data, auth } = this.props;\n    // console.log(data.[auth.uid].writtenFoodWasteData);\n    // console.log(time);\n    // console.log(Date(time));\n    const { foodWaste, foodSurplus } = this.state;\n    if (!auth.uid) return <Redirect to=\"/login\" />;\n    if (data) {\n      const filteredData =\n        data && data.filter((datas) => datas.email === auth.email);\n      // console.log(foodWaste);\n      // console.log(foodSurplus);\n\n      // 284 - paddingBottom:\n\n      return (\n        <div\n          // className=\"container\"\n          style={{ width: \"100%\", height: \"100%\" }}\n        >\n          <MobileView>\n            <h6\n              style={{\n                paddingTop: \"8vh\",\n                color: \"black\",\n                justifyContent: \"center\",\n                display: \"flex\",\n              }}\n            >\n              Update Food Surplus\n            </h6>\n          </MobileView>\n          <BrowserView>\n            <h4\n              style={{\n                paddingTop: \"8vh\",\n                color: \"black\",\n                justifyContent: \"center\",\n                display: \"flex\",\n              }}\n            >\n              Upload Food\n            </h4>\n          </BrowserView>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\",\n              width: \"100%\",\n            }}\n          >\n            <Button\n              style={{ width: this.state.formWidth, borderColor: \"#aab41e\" }}\n              className=\"custom-btn-2\"\n              as={Link}\n              to=\"/account\"\n            >\n              Back\n            </Button>\n          </div>\n\n          {filteredData.length === 0 ? (\n            <Row className=\"mr-0 ml-0 mt-0 pt-0 mt-lg-5 pt-lg-5 justify-content-center align-items-center d-flex not-found\">\n              <Col\n                className=\"mt-0 pt-0 mb-0 pb-0 mt-lg-2 pt-lg-2\"\n                xs={12}\n              ></Col>\n              <Col className=\"mt-5 pt-5\" xs={12}></Col>\n              <Col className=\"\" xs={12} lg={4}></Col>\n              <Col\n                className=\" justify-content-center align-items-center d-block mt-5 pt-5 mt-lg-0 pt-lg-0\"\n                xs={12}\n                lg={4}\n              >\n                <CardStyle>\n                  <Card>\n                    <Card.Body>\n                      <Card.Text className=\"text-center\">\n                        <h1\n                          style={{\n                            fontSize: \"33px\",\n                            fontWeight: \"600\",\n                            color: \"rgb(55, 85, 54)\",\n                          }}\n                        >\n                          Start tracking your food waste and food surplus now\n                        </h1>\n                        <button\n                          onClick={this.pressButton}\n                          style={{ outline: \"none\", border: \"none\" }}\n                        >\n                          Start now\n                        </button>\n                      </Card.Text>\n                    </Card.Body>\n                  </Card>\n                </CardStyle>\n              </Col>\n              <Col className=\"mt-5 pt-5\" xs={12} lg={4}></Col>\n              <Col className=\"mt-5 pt-5\" xs={12}></Col>\n              <Col className=\"mt-5 pt-5\" xs={12}></Col>\n            </Row>\n          ) : (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                flexWrap: \"wrap\",\n                width: \"100%\",\n                height: \"190%\",\n              }}\n            >\n              {/* <BrowserView> */}\n\n              <Card\n                style={{\n                  // width: \"90%\",\n                  width: this.state.formWidth,\n                  // height: \"100%\"\n                  height: \"805px\",\n                  marginBottom: \"10vh\",\n                  // backgroundColor: 'lightgray'\n                }}\n              >\n                {/* onSubmit={this.handleFoodWasteSubmit}     */}\n                <Form className=\"form-layout\" style={{ padding: \"10px\" }}>\n                  <h5\n                    className=\"text-center\"\n                    style={{\n                      margin: \"30px\",\n                      fontSize: \"23px\",\n                      fontWeight: \"600\",\n                    }}\n                  >\n                    Upload Food\n                  </h5>\n\n                  <div>\n                    {/* <div style={{padding: \"0 10% 0 10%\"}}>Meal</div>\n                    <Form.Group\n                        style={{\n                            padding: \"0 10% 0 10%\",\n                            // paddingBottom: \"20px\",\n                            display: \"flex\"\n                        }}>\n                    <InputGroup>\n                        <DDMenuStyle>\n                            <Dropdown>\n                                <DropdownToggle variant=\"secondary\" style={{width: \"190px\"}} className=\"dd\">{this.state.meal}</DropdownToggle>\n                                <DropdownMenu>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Breakfast\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Lunch\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Dinner\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.changeMeal(e.target.textContent)}>\n                                            Other\n                                        </div>\n                                    </DropdownItem>\n\n                                </DropdownMenu>\n                            </Dropdown>\n                        </DDMenuStyle>\n                    </InputGroup>\n\n                    </Form.Group> */}\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Food Name</div>\n                    <Form.Group\n                      style={{ padding: \"0 10% 0 10%\", display: \"flex\" }}\n                    >\n                      <Autocomplete\n                        // multiple\n                        id=\"foodName\"\n                        options={foodOptions.map((option) => option.title)}\n                        freeSolo\n                        // limitTags={1}\n                        // getOptionLabel={(option) => option.name}\n                        style={{ width: \"100%\" }}\n                        size=\"small\"\n                        onChange={(e) =>\n                          this.setState({ foodName: e.target.textContent })\n                        }\n                        onInputChange={(e) => this.handleChange(e)}\n                        // renderTags={(value, getTagProps) =>\n                        //     value.map((option, index) => (\n                        //       <Chip variant=\"outlined\" label={option} {...getTagProps({ index })} />\n                        //     ))\n                        // }\n\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            label=\"Enter Food Name\"\n                            variant=\"outlined\"\n                          />\n                        )}\n                      />\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Food Category</div>\n                    <Form.Group\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                      }}\n                    >\n                      <InputGroup>\n                        <DDMenuStyle>\n                          <Dropdown>\n                            <DropdownToggle\n                              variant=\"secondary\"\n                              style={{ width: \"190px\" }}\n                              className=\"dd\"\n                            >\n                              {this.state.foodCategory}\n                            </DropdownToggle>\n                            <DropdownMenu>\n                              {/* as=\"button\" */}\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Meat\n                                </div>\n                              </DropdownItem>\n\n                              {/* as=\"button\" */}\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Fruits\n                                </div>\n                              </DropdownItem>\n\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Vegetables\n                                </div>\n                              </DropdownItem>\n\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Dairy\n                                </div>\n                              </DropdownItem>\n\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Pets\n                                </div>\n                              </DropdownItem>\n\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Frozen\n                                </div>\n                              </DropdownItem>\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) => {\n                                    this.handleFoodCategoryChange(\n                                      e.target.textContent\n                                    );\n                                  }}\n                                >\n                                  Drinks\n                                </div>\n                              </DropdownItem>\n                            </DropdownMenu>\n                          </Dropdown>\n                        </DDMenuStyle>\n                      </InputGroup>\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>\n                      Weight / Volume\n                    </div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <InputGroup>\n                        <Form.Control\n                          type=\"number\"\n                          id=\"foodSurplusWeight\"\n                          placeholder=\"Enter weight of food waste\"\n                          onChange={(e) => {\n                            this.handleFoodWasteGHGChange(e);\n                            this.handleFoodCostChange(e);\n                          }}\n                          width=\"100%\"\n                          value={this.state.foodSurplusWeight}\n                        />\n                        {/* <Form.Control type=\"number\" id=\"weightOfEdibleFoodWaste\" placeholder=\"Enter weight of food waste\" onChange={(e) => {this.handleEdibleFoodWasteGHGChange(e); this.handleEdibleFoodCostChange(e)}} width=\"100%\" value={this.state.weightOfEdibleFoodWaste}/>\n                            <InputGroup.Append>\n                                <InputGroup.Text>kg</InputGroup.Text>\n                            </InputGroup.Append> */}\n\n                        <DropdownButton\n                          as={InputGroup.Append}\n                          variant=\"outline-secondary\"\n                          title={this.state.weightType}\n                          id=\"wtdd\"\n                        >\n                          <Dropdown.Header>Weight (Solids)</Dropdown.Header>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(1);\n                              }}\n                            >\n                              kg\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.001);\n                              }}\n                            >\n                              g\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.028);\n                              }}\n                            >\n                              oz\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.454);\n                              }}\n                            >\n                              lbs\n                            </div>\n                          </DropdownItem>\n\n                          <Dropdown.Divider />\n\n                          <Dropdown.Header>Volume (Liquids)</Dropdown.Header>\n\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(1);\n                              }}\n                            >\n                              l\n                            </div>\n                          </DropdownItem>\n\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.handleWeightUnitChange(\n                                  e.target.textContent\n                                );\n                                this.changeWeightMultiplier(0.001);\n                              }}\n                            >\n                              ml\n                            </div>\n                          </DropdownItem>\n                        </DropdownButton>\n                      </InputGroup>\n                    </Form.Group>\n\n                    {/* <div style={{padding: \"0 10% 0 10%\"}}>Local Produce or Surplus?</div>\n                        <Form.Group \n                            style={{\n                                padding: \"0 10% 0 10%\",\n                                display: \"flex\"\n                            }}>\n                            <InputGroup>\n                                <DropdownButton\n                                    variant=\"outline-secondary\"\n                                    title={this.state.producedLocally}\n                                    id=\"lnldd\"\n                                    style={{width: \"100%\"}}\n                                >\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.handleProducedLocallyChange(e.target.textContent)}>\n                                            Local Produce\n                                        </div>\n                                    </DropdownItem>\n\n                                    <DropdownItem as=\"button\" type=\"button\">\n                                        <div onClick={(e) => this.handleProducedLocallyChange(e.target.textContent)}>\n                                            Surplus\n                                        </div>\n                                    </DropdownItem>\n\n                                </DropdownButton>\n                            </InputGroup>\n\n                        </Form.Group> */}\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Upload Type</div>\n                    <Form.Group\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                      }}\n                    >\n                      <InputGroup>\n                        <DDMenuStyle>\n                          <Dropdown>\n                            <DropdownToggle\n                              variant=\"secondary\"\n                              style={{ width: \"190px\" }}\n                              className=\"dd\"\n                            >\n                              {this.state.producedLocally}\n                            </DropdownToggle>\n                            <DropdownMenu>\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) =>\n                                    this.handleProducedLocallyChange(\n                                      e.target.textContent\n                                    )\n                                  }\n                                >\n                                  Local Produce\n                                </div>\n                              </DropdownItem>\n\n                              <DropdownItem as=\"button\" type=\"button\">\n                                <div\n                                  onClick={(e) =>\n                                    this.handleProducedLocallyChange(\n                                      e.target.textContent\n                                    )\n                                  }\n                                >\n                                  Surplus\n                                </div>\n                              </DropdownItem>\n                            </DropdownMenu>\n                          </Dropdown>\n                        </DDMenuStyle>\n                      </InputGroup>\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Expiry Date</div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <InputGroup>\n                        <Form.Control\n                          id=\"expiryDate\"\n                          placeholder=\"DD/MM/YYYY\"\n                          onChange={(e) => this.handleChange(e)}\n                          width=\"100%\"\n                          value={this.state.expiryDate}\n                        />\n                      </InputGroup>\n                    </Form.Group>\n\n                    {/* <div style={{padding: \"0 10% 0 10%\"}}>Expiry Date</div>\n                        <Form.Group className=\"form-layout\"\n                            style={{\n                                padding: \"0 10% 0 10%\",\n                                display: \"flex\",\n                                justifyContent: \"space-around\"\n                            }}\n                        >\n                        <InputGroup>\n                            <Form.Control id=\"expiryDate\" placeholder=\"DD/MM/YYYY\" type=\"date\" onChange={(e) => this.handleChange(e)} width=\"100%\" value={this.state.expiryDate} />\n                        </InputGroup>\n                        </Form.Group> */}\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>GHG</div>\n                    <Form.Group\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                      }}\n                    >\n                      <InputGroup>\n                        <Form.Control\n                          type=\"number\"\n                          id=\"GHG\"\n                          placeholder=\"Enter GHG value\"\n                          value={(\n                            this.state.ghg * this.state.weightMultiplier\n                          ).toFixed(2)}\n                          width=\"100%\"\n                        />\n                        {/*<p style={{width:'100px'}}>kg co2</p>*/}\n                        <InputGroup.Append>\n                          <InputGroup.Text>kg co2</InputGroup.Text>\n                        </InputGroup.Append>\n                      </InputGroup>\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>Cost</div>\n                    <Form.Group\n                      style={{ padding: \"0 10% 0 10%\", display: \"flex\" }}\n                    >\n                      <InputGroup>\n                        {/* <InputGroup.Prepend>\n                                <InputGroup.Text>£</InputGroup.Text>\n                            </InputGroup.Prepend> */}\n\n                        <DropdownButton\n                          as={InputGroup.Prepend}\n                          variant=\"outline-secondary\"\n                          title={this.state.currency}\n                          id=\"input-group-dropdown-1\"\n                          // style ={{backgroundColor: 'white'}}\n                        >\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.changeCurrency(e.target.textContent);\n                                this.changeCurrencyMultiplier(1);\n                              }}\n                            >\n                              GBP (£)\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.changeCurrency(e.target.textContent);\n                                this.changeCurrencyMultiplier(1.404);\n                              }}\n                            >\n                              USD ($)\n                            </div>\n                          </DropdownItem>\n\n                          {/* as=\"button\" */}\n                          <DropdownItem as=\"button\" type=\"button\">\n                            <div\n                              onClick={(e) => {\n                                this.changeCurrency(e.target.textContent);\n                                this.changeCurrencyMultiplier(1.161);\n                              }}\n                            >\n                              EUR (€)\n                            </div>\n                          </DropdownItem>\n                        </DropdownButton>\n\n                        <Form.Control\n                          type=\"number\"\n                          id=\"foodSurplusCost\"\n                          placeholder=\"Enter cost of food surplus\"\n                          value={(\n                            this.state.foodSurplusCost *\n                            this.state.currencyMultiplier *\n                            this.state.weightMultiplier\n                          ).toFixed(2)}\n                        />\n                        {/*pounds*/}\n                      </InputGroup>\n                    </Form.Group>\n\n                    <div style={{ padding: \"0 10% 0 10%\" }}>\n                      Notes (Optional)\n                    </div>\n                    <Form.Group\n                      className=\"form-layout\"\n                      style={{\n                        padding: \"0 10% 0 10%\",\n                        display: \"flex\",\n                        justifyContent: \"space-around\",\n                      }}\n                    >\n                      <Form.Control\n                        as=\"textarea\"\n                        rows={3}\n                        id=\"notes\"\n                        style={{ resize: \"none\", width: \"100%\" }}\n                        onChange={(e) => this.handleChange(e)}\n                        value={this.state.notes}\n                      />\n                    </Form.Group>\n\n                    {/* <Button style={{margin: \"0 10% 0 10%\", backgroundColor: '#aab41e', width: \"80%\", marginTop: \"5px\"}} onClick={(e) => {this.handleFoodSurplusSubmit(e); this.notificationTest(); this.clearEFWForm() }} variant=\"secondary\" type=\"button\">\n                            Update\n                        </Button> */}\n\n                    <div>\n                      {this.state.foodName !== \"\" &&\n                      this.state.foodSurplusWeight !== 0 &&\n                      this.state.weightType !== \"Select Unit\" &&\n                      this.state.producedLocally !==\n                        \"Select Surplus or Local...\" &&\n                      this.state.expiryDate !== \"\" &&\n                      this.state.currency !== \"Select Currency\" ? (\n                        <Button\n                          style={{\n                            margin: \"0 10% 0 10%\",\n                            backgroundColor: \"#aab41e\",\n                            width: \"80%\",\n                            marginTop: \"5px\",\n                          }}\n                          onClick={(e) => {\n                            this.handleFoodSurplusSubmit(e);\n                            this.notificationTest();\n                            this.clearEFWForm();\n                          }}\n                          variant=\"secondary\"\n                          type=\"button\"\n                        >\n                          Update\n                        </Button>\n                      ) : (\n                        <Button\n                          style={{\n                            margin: \"0 10% 0 10%\",\n                            width: \"80%\",\n                            marginTop: \"5px\",\n                          }}\n                          variant=\"secondary\"\n                          disabled\n                        >\n                          Update\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </Form>\n              </Card>\n            </div>\n          )}\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nconst foodOptions = [\n  { title: \"Cereal\" },\n  { title: \"Bacon\" },\n  { title: \"Baked Beans\" },\n  { title: \"Porridge\" },\n  { title: \"Pancake\" },\n  { title: \"Beef\" },\n  { title: \"Chicken\" },\n  { title: \"Pork\" },\n  { title: \"Apple\" },\n  { title: \"Banana\" },\n  { title: \"Orange\" },\n  { title: \"Pear\" },\n  { title: \"Grapes\" },\n  { title: \"Chocolate\" },\n  { title: \"Crisps\" },\n  { title: \"Pasta\" },\n  { title: \"Bolognese\" },\n  { title: \"Potato\" },\n  { title: \"Chips\" },\n  { title: \"Milk\" },\n  { title: \"Fruit Juice\" },\n  { title: \"Onion\" },\n];\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    data: state.firestore.ordered.data,\n    user: state.firebase.profile,\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    startData: (product) => dispatch(startData(product)),\n    // createFoodWasteData: (product) => dispatch(createFoodWasteData(product)),\n    createFoodSurplusData: (product) =>\n      dispatch(createFoodSurplusData(product)),\n  };\n};\n\nconst CardStyle = styled.div`\n  .card {\n    color: rgb(59, 59, 59);\n    background-color: rgb(238, 238, 238);\n    border: none;\n    border-radius: 5px;\n    padding: 70px 0 50px 0;\n  }\n\n  .card-body {\n    height: 200px;\n  }\n`;\n\nconst FormStyle = styled.div`\n  .form {\n    display: flex;\n    align-items: center;\n    top: 50%;\n    transform: translateY(20%);\n  }\n`;\n\nconst ChartStyle = styled.div`\n  .chart {\n    position: absolute;\n    left: 17%;\n    padding: 20px;\n  }\n`;\n\nconst DDMenuStyle = styled.div`\n  .dd {\n    background-color: white;\n    color: grey;\n    border-color: grey;\n  }\n`;\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect((props) => {\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: \"data\",\n        doc: props.auth.uid,\n      },\n    ];\n  })\n)(FoodSurplus);\n","//based on addmealform.js\n\n\n\nimport React, { useState } from \"react\";\nimport { Dropdown } from \"../../../../SubComponents/Dropdown\";\nimport MealType from \"../../Personal/Marketplace/MealPlanComp/Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\n// import \"../../../../../../SubComponents/Button.css\";\n// import \"./Button.css\";\n\n\nimport { connect } from \"react-redux\";\nimport { createRecipe } from \"../../../../../store/actions/marketplaceActions/savedMealData\";\nimport { createMealPlanData } from \"../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { addToShoppingList } from \"../../../../../store/actions/marketplaceActions/shoppingListData\";\n\nfunction AddListItem(props) {\n  // const [mealName, setMealName] = useState(\"\");\n  // const [mealType, setMealType] = useState(\"\");\n  const [ingredients, setIngredients] = useState([]);\n  const [save, setSave] = useState(true);\n\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n\n  const ingredientsList = ingredients.map((ingredient, index) => {\n    return (\n      <li key={index}>\n        {ingredient.food}: {ingredient.quantity}\n        {ingredient.measure}\n      </li>\n    );\n  });\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      year: props.value.format(\"YYYY\"),\n      month: props.value.format(\"YYYYMM\"),\n      //need to send shopping list data to be bough the previous week from the day it is made\n      week: props.value.format(\"w\") - 1,\n      day: props.value.format(\"DD\"),\n      upload: {\n        // meal: mealName,\n        // mealType: mealType,\n        ingredients: ingredients,\n      },\n    };\n\n    props.createMealPlanData(data);\n    props.addToShoppingList(data);\n    props.forceUpdate();\n\n    if (save) {\n      props.createRecipe(data);\n    }\n  };\n\n  const handleSave = () => {\n    if (!save) {\n      setSave(true);\n    } else {\n      setSave(false);\n    }\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        props.handleFormClose();\n      }}\n    >\n      {/* <Form.Group>\n        <Form.Label>Meal Name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealName\"\n          onChange={(e) => {\n            setMealName(e.target.value);\n          }}\n          required\n        />\n      </Form.Group>\n\n      <MealType setMealType={setMealType} ownRecipe={true} /> */}\n\n      <div style={{ padding: \"0 0 0 4%\" }}>\n        <ul>{ingredientsList}</ul>\n      </div>\n\n      <Form.Group>\n        <Form.Label>Product</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"food\"\n          onChange={(e) => handleLocal(e)}\n          value={local.food}\n        />\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Label>Quantity</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\"1\"\n            onChange={(e) => handleLocal(e)}\n            value={local.quantity}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={local.measure}\n            items={[\n              \"g\",\n              \"kg\",\n              \"/\",\n              \"mL\",\n              \"L\",\n              \"/\",\n              \"pcs\",\n            ]}\n            function={(e) => {\n              setLocal({ ...local, measure: e });\n            }}\n          />\n        </InputGroup>\n      </Form.Group>\n\n      <Form.Group>\n        <Button\n          className=\"green-btn shadow-none\"\n          id=\"add-new-ing\"\n          onClick={(e) => {\n            setIngredients((ingredients) => [...ingredients, local]);\n            setLocal(defaultLocal);\n          }}\n        >\n          Add Product\n        </Button>\n      </Form.Group>\n\n      {/* <Form.Group>\n        <Form.Check\n          type=\"checkbox\"\n          defaultChecked\n          label=\"Save meal\"\n          onClick={() => handleSave()}\n        />\n      </Form.Group> */}\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\">\n          Submit order\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlanData: (data) => dispatch(createMealPlanData(data)),\n    createRecipe: (data) => dispatch(createRecipe(data)),\n    addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddListItem);\n","// this can be used when the restaurants are ready to plan their consumption months\n//in advance. until then, use RestaurantShoppingList\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\n\nimport AddMealForm from \"../../Personal/Marketplace/MealPlanComp/Icons/AddMealForm\";\nimport \"../../UserAccount.css\";\nimport AddListItem from \"./AddListItem\";\nimport { Row, Col, Form, Button, Card } from \"react-bootstrap\";\n\n\nconst RestaurantShoppingListPlanner = () => {\n\n    const [startDate, setStartDate] = useState('');\n    const [endDate, setEndDate] = useState('');\n    const [deliveryDay, setDeliveryDay] = useState('');\n    const [product, setProduct] = useState('');\n    const [quantity, setQuantity] = useState('');\n    const [unit, setUnit] = useState('');\n\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const order = {product, quantity, unit}\n        console.log(order)\n        fetch('http://localhost:8000/blogs', {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify(order) //THIS ALL NEEDS ADJUSTED\n        }).then(()=> {\n            console.log('new order added')\n        })\n    }\n    \n    \n        return (  \n            <PageWrap goTo=\"/account\" header=\"Restaurant tools\">\n            <div className = 'create'>\n                <h2> Shopping List</h2>\n                <p>Tell us what you expect to need each week. </p>\n                <form onSubmit={handleSubmit}> \n                    \n                    <Form.Group> \n                    <Form.Label>\n                    Start date:      \n                    </Form.Label>\n                    {/* <input\n                    type = \"date\"\n                    required\n                    value = {startDate} \n                    onChange={(e) => setStartDate(e.target.value)} \n                    />  */}\n\n                    <Form.Control\n                            type=\"date\"\n                            id=\"startDate\"\n                            onChange={(e) => setStartDate(e.target.value)}\n                            value={startDate}\n                            />\n                    \n                    </Form.Group>\n                     <div style={{ padding: \"0 0 0 4%\" }}></div>\n\n\n                    <Form.Group>\n                    <label> End date:</label>\n                    <Form.Control\n                            type=\"date\"\n                            id=\"endDate\"\n                            onChange={(e) => setEndDate(e.target.value)}\n                            value={endDate}\n                            />\n                    </Form.Group>\n\n\n                    <div style={{ padding: \"0 0 0 4%\" }}></div>\n\n\n                    <label>Delivery or pick-up day</label>\n                    <select \n                    value = {deliveryDay}\n                    onChange={(e)=> setDeliveryDay(e.target.value)}>\n                        <option value=\"Monday\">Monday</option>\n                        <option value=\"Tuesday\">Tuesday</option>\n                        <option value=\"Wednesday\">Wednesday</option>\n                        <option value=\"Thursday\">Thursday</option>\n                        <option value=\"Friday\">Friday</option>\n                        <option value=\"Saturday\">Saturday</option>\n                        <option value=\"Sunday\">Sunday</option>\n\n                    </select>\n\n               \n\n                    <AddListItem/>    {/* This part contains entry fields for product, quantity, unit. Not sure if having that separate from the other fields is a good idea */}\n                \n                  \n                </form>\n            </div>\n            </PageWrap>\n        );\n    }\n     \n    export default RestaurantShoppingListPlanner;","import React from \"react\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\nimport { Inventory } from \"../../Personal/Marketplace/MealPlanComp/Inventory\";\n\nconst RestaurantInventory = () => {\n\n        return (  \n            <PageWrap goTo=\"/account\" header=\"Restaurant Tools\">\n            <div className = 'create'>\n                <h2> Inventory</h2>\n                <p> By using the World Food Tracker to track your inventory, we can provide useful analytics on your ordering practices, average usage of ingredients and more. In turn, this will allow us to help you better predict what you need, farther in advance. </p>\n                <Inventory/>\n            </div>\n            </PageWrap>\n        );\n    }\n     \n    export default RestaurantInventory;","import React, { useEffect, useState } from \"react\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport \"../../../../SubComponents/Button.css\"\nimport Scanner from \"../../../../SubComponents/QRCode/Scanner\";\nimport FoodItemSearch from \"../../Personal/Marketplace/MealPlanComp/Icons/InputRecipe/FoodItemSearch\";\nimport { connect } from \"react-redux\";\nimport { addToRestaurantShoppingList } from \"../../../../../store/actions/marketplaceActions/restaurantShoppingListData\";\nconst AddToRSLForm = (props) => {\n  const [itemName, setItemName] = useState(\"\");\n  const [itemQty, setItemQty] = useState(\"\"); //\n  const [itemMeasure, setItemMeasure] = useState(\"\"); // \n\n  const [scan, setScan] = useState(false);\n  const [expand, setExpand] = useState(\"+ scan from barcode\");\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      upload: {\n        item: itemName,\n        quantity: itemQty,  // \n        measure: itemMeasure,  // \n\n      },\n    };\n\n    props.addToRestaurantShoppingList(data);\n    // props.createMealPlanData(data);\n    // props.forceUpdate();\n  };\n\n  const handleSetScan = () => {\n    setScan(!scan);\n    if (scan) {\n      setExpand(\"+ scan from barcode\");\n    } else {\n      setExpand(\"- input manually\");\n    }\n  };\n\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setItemName(e.target.textContent);\n    } else {\n      setItemName(e.target.value);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"item:\", itemName, \"quantity:\", itemQty, \"measure\", itemMeasure); // \n  }, [itemName]);\n\n  return (\n    <div>\n      <button\n        className=\"btn success shadow-none qrcode-btn\"\n        onClick={() => handleSetScan()}\n      >\n        {expand}\n      </button>\n      {scan ? (\n        <Scanner />\n      ) : (\n        <Form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit();\n            props.setUpdate(props.update + 1);\n            props.handleFormClose();\n          }}\n        >\n          {/* <Form.Group>\n            <Form.Label>Item Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              id=\"itemName\"\n              onChange={(e) => {\n                setItemName(e.target.value);\n              }}\n              required\n            />\n          </Form.Group> */}\n          <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n          \n          <input name  = \"quantity\"\n           type = \"number\" \n           value = {itemQty} \n           label=\"Quantity\"\n           onChange = {(e) => setItemQty(e.target.value)}\n           sx={{ width: \"100%\", lineHeight: \"calc(1.5em + .75rem + 2px)\" }}\n           />  {/*   */}\n\n           <input name  = \"measure\"\n           type = \"text\" \n           value={itemMeasure}\n           label = \"Unit\" \n           onChange={(e) => setItemMeasure(e.target.value)}\n           sx={{ width: \"100%\", lineHeight: \"calc(1.5em + .75rem + 2px)\" }}\n           />  {/*   */}\n\n          <div style={{ alignItems: \"center\" }}>\n            <Button className=\"blue-btn shadow-none mt-3\" type=\"submit\">\n              Done\n            </Button>\n          </div>\n        </Form>\n\n      )}\n\n    </div>\n  );\n};\n\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.firebase.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToRestaurantShoppingList: (data) => dispatch(addToRestaurantShoppingList(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddToRSLForm);\n","export const addToRestaurantShoppingList = (data) => {\n    return (dispatch, getState, { getFirestore }) => {\n      //make async call to database\n      const profile = getState().firebase.profile;\n      const authUID = getState().firebase.auth.uid;\n  \n      var uid;\n      switch (profile.type) {\n        case \"business_admin\":\n          uid = authUID;\n          break;\n        case \"business_sub\":\n          uid = profile.admin;\n          break;\n        case \"academic_admin\":\n          uid = authUID;\n          break;\n        case \"academic_sub\":\n          uid = profile.admin;\n          break;\n        case \"household_admin\":\n          uid = authUID;\n          break;\n        case \"household_sub\":\n          uid = profile.admin;\n          break;\n        default:\n          uid = authUID;\n          break;\n      }\n  \n      const ingr = data.upload.ingredients;\n  \n      const firestore = getFirestore();\n      const batch = firestore.batch();\n  \n      //send each separate ingredient to its own document\n      ingr.forEach((element) => {\n        var docRef = firestore\n          .collection(\"marketplace\")\n          .doc(uid)\n          .collection(\"shoppingList\")\n          .doc(data.year)\n          .collection(data.week)\n          .doc();\n        batch.set(docRef, { id: docRef.id, ingredient: element });\n      });\n      batch\n        .commit()\n        .then(() => {\n          dispatch({ type: \"CREATE_SHOP\", ingr });\n        })\n        .catch((err) => {\n          dispatch({ type: \"CREATE_SHOP_ERROR\", err });\n        });\n    };\n  };\n  \n  export const getRestaurantShoppingList = (data) => {\n    return (dispatch, getState, { getFirestore }) => {\n      //make async call to database\n      const profile = getState().firebase.profile;\n      const authUID = getState().firebase.auth.uid;\n  \n      var uid;\n      switch (profile.type) {\n        case \"business_admin\":\n          uid = authUID;\n          break;\n        case \"business_sub\":\n          uid = profile.admin;\n          break;\n        case \"academic_admin\":\n          uid = authUID;\n          break;\n        case \"academic_sub\":\n          uid = profile.admin;\n          break;\n        case \"household_admin\":\n          uid = authUID;\n          break;\n        case \"household_sub\":\n          uid = profile.admin;\n          break;\n        default:\n          uid = authUID;\n          break;\n      }\n  \n      getFirestore()\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"shoppingList\")\n        // .doc(data.year)\n        // .collection(data.week) \n        .get()\n        .then((snapshot) => {\n          const data = [];\n          snapshot.forEach((doc) => {\n            data.push(doc.data());\n          });\n          dispatch({ type: \"GET_SHOPPING_LIST\", payload: data });\n        })\n        .catch((err) => {\n          dispatch({ type: \"GET_SHOPPING_LIST_ERROR\", err });\n        });\n    };\n  };\n  \n  export const removeFromShop = (data) => {\n    return (dispatch, getState, { getFirebase }) => {\n      const profile = getState().firebase.profile;\n      const authUID = getState().firebase.auth.uid;\n  \n      var uid;\n      switch (profile.type) {\n        case \"business_admin\":\n          uid = authUID;\n          break;\n        case \"business_sub\":\n          uid = profile.admin;\n          break;\n        case \"academic_admin\":\n          uid = authUID;\n          break;\n        case \"academic_sub\":\n          uid = profile.admin;\n          break;\n        case \"household_admin\":\n          uid = authUID;\n          break;\n        case \"household_sub\":\n          uid = profile.admin;\n          break;\n        default:\n          uid = authUID;\n          break;\n      }\n  \n      getFirebase()\n        .firestore()\n        .collection(\"marketplace\")\n        .doc(uid)\n        .collection(\"shoppingList\")\n        .doc(data.year)\n        .collection(data.week)\n        .doc(data.id)\n        .delete()\n        .then(() => dispatch({ type: \"DELETE_SHOP\" }))\n        .catch((err) => {\n          dispatch({ type: \"DELETE_SHOP_ERROR\", err });\n        });\n    };\n  };\n  ","import React, { useState, useEffect } from \"react\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport { AddButton } from \"../../../../SubComponents/Button\";\nimport { Modal } from \"react-bootstrap\";\nimport AddToRSLForm from \"./AddToRSLForm\";\n\nexport const AddToRSLModal = ({ show, setShow, update, setUpdate }) => {\n  const handleForm = () => setShow(true);\n  const handleFormClose = () => setShow(false);\n\n  return (\n    <div>\n      <Tooltip title=\"add\" arrow>\n        <div className=\"button\">\n          <AddButton onClick={handleForm} />\n        </div>\n      </Tooltip>\n      <Modal\n        show={show}\n        onHide={handleFormClose}\n        size=\"lg\"\n        aria-labelledby=\"add item\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"add-item\" className=\"basic-title-left basic-lg\">\n            Add a new item to your shopping list\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <AddToRSLForm\n            handleFormClose={handleFormClose}\n            update={update}\n            setUpdate={setUpdate}\n          />\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n","// , mostly done? see if u want to replace RemoveFromInventoryIcon\n\nimport React, { useState, useEffect } from \"react\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n\nimport { connect } from \"react-redux\";\nimport { getRestaurantShoppingList } from \"../../../../../store/actions/marketplaceActions/restaurantShoppingListData\";\nimport RemoveFromInventoryIcon from \"../../Personal/Marketplace/MealPlanComp/Icons/RemoveFromInventoryIcon\";\n\n\n\nfunction RestaurantShoppingListItems(props) {\n  const [list, setList] = useState([]);\n\n  //this sends data request\n  useEffect(() => {\n    props.getRestaurantShoppingList();\n  // }, [props.value, props.update]);\n  }, [props.value,props.quantity,props.measure,props.update]);  // \n\n  const updateRestaurantShoppingList = async () => {\n    //clears the items array before each update- IMPORTANT\n    setList([]);\n\n    //sets a new item object in the array for every document\n    props.data.forEach((doc) => {\n      // id is the docref for deletion\n      var id = doc.id;\n      var item = doc.item;\n      var quantity = doc.quantity; // \n      var measure = doc.measure;// \n\n\n      setList((list) => [\n        ...list,\n        {\n          item: item,\n          id: id,\n          measure: measure, // \n          quantity: quantity, // \n        },\n      ]);\n    });\n\n    setList((list) => {\n      let newList = [...list];\n      newList.sort((a, b) => {\n        return a.item < b.item ? -1 : a.item > b.item ? 1 : 0;\n      });\n      // console.log(\"list sorted\");\n      return newList;\n    });\n  };\n\n  useEffect(() => {\n    updateRestaurantShoppingList();\n  }, [props.data]);\n\n  return (\n    <>\n      {list.length ? (\n        <>\n          <List>\n            {list.map((item, index) => (\n              \n              <ListItem\n                key={`item${index}`}\n                className=\"list\"\n                style={{ alignItems: \"flex-end\" }}\n              >\n                {/* <p>{item.item}</p> */}\n                <p>{item.quantity} {item.measure} {item.item}</p>       {/*   */}\n\n\n                <div className=\"icons\">\n                  <RemoveFromInventoryIcon\n                    id={item.id}\n                    value={props.value}\n                    update={props.update}\n                    setUpdate={props.setUpdate}\n                  />\n                </div>\n              </ListItem>\n            ))}\n          </List>\n        </>\n      ) : (\n        <div className=\"empty basic-title-left\">\n          <p>There are no items in the list. </p>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    data: state.mealPlan.restaurantShoppingListItems,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRestaurantShoppingList: (item) => dispatch(getRestaurantShoppingList(item)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RestaurantShoppingListItems);\n","import { List, ListItem } from \"@mui/material\";\nimport React, { useState, useEffect } from \"react\";\nimport { AddToRSLModal } from \"./AddToRSLModal\";\n// import RemoveFromInventoryIcon from \"./Icons/RemoveFromInventoryIcon\";\nimport \"../../Personal/Marketplace/MealPlanComp/Inventory.css\";\nimport RestaurantShoppingListItems from \"./RestaurantShoppingListItems\";\n\nexport const RestaurantShoppingList = ({forceUpdate, value, tab}) => {\n    \n    const [update, setUpdate] = useState(0);\n    const [show, setShow] = useState(false);\n\n    return (\n        <div className=\"RestaurantShoppingList\">\n            <RestaurantShoppingListItems value={value} tab={tab} update={update} setUpdate={setUpdate}/>\n            <AddToRSLModal \n            show={show}\n            setShow={setShow}\n            update={update}\n            setUpdate={setUpdate}\n            />\n        </div>\n    )\n}","import React from \"react\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\nimport { Inventory } from \"../../Personal/Marketplace/MealPlanComp/Inventory\";\nimport { RestaurantShoppingList } from \"./RestaurantShoppingList\";\n\nconst RestaurantDashboard = () => {\n\n        return (  \n            <PageWrap goTo=\"/account\" header=\"Restaurant Tools\">\n            <div className = 'inventory'>\n                <h2> Inventory</h2>\n                <p> By using the World Food Tracker to track your inventory, we can provide useful analytics on your ordering practices, average usage of ingredients and more. In turn, this will allow us to help you better predict what you need, farther in advance. </p>\n                <Inventory/>\n            </div>\n\n            <div className = 'shoppinglist'>\n                {/* <RestaurantShoppingList/> */}\n                {/* make a shopping list component that works just like the inventory does */}\n                {/* Future: \n                -give them a space to insert par levels for all ingredients, highlight inventory items in red\n                when  below par.\n                - give them an option to tick a box so that shopping list automatically contains the things ur below par on\n                - allow them to section inventory by type of item*/}\n                <h2> Shopping List</h2>\n\n                <RestaurantShoppingList/>\n                \n\n            </div>\n            </PageWrap>\n        );\n    }\n     \n    export default RestaurantDashboard;","//equivalent of menuSection.jsx but for the restaurants to input which section of the menu the dish is to go in\n\nimport React, { useState, useEffect } from \"react\";\n\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\n\n//ownRecipe is sent when a person adds their own meal as opposed to downloading from API\nexport default function MenuSection({ setMenuSection, ownRecipe }) {\n  const [control, setControl] = useState(\"Any\");\n\n  //mediates between the state of the dropdown and the format needed for the API\n  const handleDropdown = () => {\n    if (ownRecipe) {\n      switch (control) {\n        default:\n        case \"Any\":\n          setMenuSection(\"\");\n          break;\n        case \"Breakfast\":\n          setMenuSection(\"Breakfast\");\n          break;\n        case \"Lunch\":\n          setMenuSection(\"Lunch\");\n          break;\n        case \"Dinner\":\n          setMenuSection(\"Dinner\");\n          break;\n        case \"Snack\":\n          setMenuSection(\"Snack\");\n          break;\n        case \"Brunch\":\n          setMenuSection(\"Brunch\");\n          break;\n        case \"Large Plates\":\n            setMenuSection(\"Large Plates\");\n            break;\n        case \"Small Plates\":\n            setMenuSection(\"Small Plates\");\n            break;\n        case \"Sides\":\n            setMenuSection(\"Sides\");\n            break;\n        case \"Dessert\":\n            setMenuSection(\"Dessert\");\n            break;\n        \n          \n      }\n    } else {\n      switch (control) {\n        default:\n        case \"Any\":\n          setMenuSection(\"\");\n          break;\n        case \"Breakfast\":\n          setMenuSection(\"&menuSection=Breakfast\");\n          break;\n        case \"Lunch\":\n          setMenuSection(\"&menuSection=Lunch\");\n          break;\n        case \"Dinner\":\n          setMenuSection(\"&menuSection=Dinner\");\n          break;\n        case \"Snack\":\n          setMenuSection(\"&menuSection=Snack\");\n          break;\n        case \"Brunch\":\n          setMenuSection(\"&menuSection=Brunch\");\n          break;\n        case \"Large Plates\":\n            setMenuSection(\"&menuSection=Large Plates\");\n            break;\n        case \"Small PLates\":\n          setMenuSection(\"&menuSection=Small Plates\");\n          break;\n        case \"Sides\":\n            setMenuSection(\"&menuSection=Sides\");\n            break;\n        case \"Dessert\":\n            setMenuSection(\"&menuSection=Dessert\");\n            break;\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleDropdown();\n  }, [control]);\n\n  const menuSections = [\"Any\", \"Breakfast\", \"Lunch\", \"Dinner\", \"Snack\", \"Brunch\", \"Large Plates\", \"Small Plates\", \"Sides\", \"Dessert\"];\n\n  return (\n    <Dropdown\n      id=\"menu-section\"\n      styling=\"green dropdown-input\"\n      data={control}\n      items={menuSections}\n      function={(e) => setControl(e)}\n    />\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Dropdown } from \"../../../../../../SubComponents/Dropdown\";\nimport MenuSection from \"../Search/menuSection\";\nimport MealType from \"../Search/mealType\";\nimport { Form, InputGroup, Button } from \"react-bootstrap\";\nimport FoodItemSearch from \"./InputRecipe/FoodItemSearch\";\nimport \"../../../../../../SubComponents/Button.css\";\n\nimport { connect } from \"react-redux\";\nimport { createRecipe } from \"../../../../../../../store/actions/marketplaceActions/savedMealData\"\nimport { createMealPlanData } from \"../../../../../../../store/actions/marketplaceActions/mealPlanData\";\nimport { addToShoppingList } from \"../../../../../../../store/actions/marketplaceActions/shoppingListData\";\nimport { foodIdAPI, nutritionAPI } from \"./InputRecipe/NutritionApi\";\nimport SaveMealIcon from \"../Icons/SaveMealIcon\";\n\nfunction AddMealForm_restaurant(props) {\n  const [mealName, setMealName] = useState(\"\");\n  const [mealDescription, setMealDescription] = useState(\"\");\n  const [mealPrice, setMealPrice] = useState(\"\");\n  const [menuSection, setMenuSection] = useState(\"\");\n    // const [mealType, setMealType] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  //saves recipe to saved meal list\n  const [save, setSave] = useState(true);\n  const handleSave = () => {\n    setSave(!save);\n  };\n\n  //controls local state of ingredient as we fetch data for it,\n  //once ingredient is \"added\" it will be moved to ingredient array\n  const defaultLocal = {\n    food: \"\",\n    quantity: 0,\n    measure: \"g\",\n    foodId: \"\",\n  };\n  const [local, setLocal] = useState(defaultLocal);\n  const handleLocal = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, [e.target.id]: e.target.textContent });\n    } else {\n      setLocal({ ...local, [e.target.id]: e.target.value });\n    }\n  };\n  const handleFoodSearch = (e) => {\n    if (e.target.textContent) {\n      setLocal({ ...local, food: e.target.textContent });\n    } else {\n      setLocal({ ...local, food: e.target.value });\n    }\n  };\n\n  //when local.food changes, fetch the id for the food item\n  //which is needed to fetch nutrition\n  const setFoodId = (foodId) => {\n    setLocal({ ...local, foodId: foodId });\n  };\n\n  const [ingredients, setIngredients] = useState([]);\n  const handleIngredient = async () => {\n    if (local.food !== \"\") {\n      foodIdAPI(local.food, setFoodId).then(() => {\n        setIngredients((ingredients) => [...ingredients, local]);\n        setLocal(defaultLocal);\n      });\n    } else {\n      setErr(\"Please input an ingredient to add.\");\n    }\n  };\n  useEffect(() => {\n    console.log(\"ingredients\", ingredients);\n  }, [ingredients]);\n\n  const ingredientsList = ingredients.map((ingredient, index) => {\n    return (\n      <li key={index}>\n        {ingredient.food}: {ingredient.quantity}\n        {ingredient.measure}\n      </li>\n    );\n  });\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //fired when click \"done\"\n  const handleSubmit = () => {\n    const data = {\n      // month and day are used for the MealPlan db, year and week for the shopping list.\n      // year: props.value.format(\"YYYY\"),\n      // month: props.value.format(\"YYYYMM\"),\n      // week: props.value.format(\"w\"),\n      // day: props.value.format(\"DD\"),\n      upload: {\n        meal: mealName,\n        mealDescription: mealDescription,\n        mealPrice: mealPrice,\n        menuSection: menuSection,\n        // mealType: mealType,\n        ingredients: ingredients,\n      },\n    };\n\n    // props.createMealPlanData(data);\n    // forceUpdate();\n\n    if (save) {\n      props.createRecipe(data);\n    }\n    // props.addToShoppingList(data);\n  };\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        handleSubmit();\n        // props.handleFormClose();\n      }}\n    >\n      {/* <button\n        onClick={() => {\n          nutritionAPI(local);\n        }}\n      >\n        send test\n      </button> */}\n      <MenuSection setMenuSection={setMenuSection} ownRecipe={true} />\n\n      <Form.Group>\n        <Form.Label>Dish name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealName\"\n          onChange={(e) => {\n            setMealName(e.target.value);\n          }}\n          required\n        />\n\n      <Form.Label>Dish description</Form.Label>\n        <Form.Control\n          type=\"text\"\n          id=\"mealDescription\"\n          onChange={(e) => {\n            setMealDescription(e.target.value);\n          }}\n        />  \n\n        <Form.Label>Dish price</Form.Label>\n        <Form.Control\n          type=\"number\"\n          id=\"mealPrice\"\n          onChange={(e) => {\n            setMealPrice(e.target.value);\n          }}\n          />\n      </Form.Group>\n\n\n\n      <div style={{ padding: \"0 0 0 4%\" }}>\n        <ul>{ingredientsList}</ul>\n      </div>\n\n      <Form.Group>\n        {/* <Form.Label>Ingredient</Form.Label> */}\n        {/* <Form.Control\n          type=\"text\"\n          id=\"food\"\n          onChange={(e) => handleLocal(e)}\n          value={local.food}\n        /> */}\n        <FoodItemSearch handleFoodSearch={handleFoodSearch} />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Weight/Volume</Form.Label>\n        <InputGroup>\n          <Form.Control\n            id=\"quantity\"\n            type=\"number\"\n            min=\"0\"\n            step=\".1\"\n            onChange={(e) => handleLocal(e)}\n            value={local.quantity}\n          />\n          <Dropdown\n            id=\"measure\"\n            styling=\"grey dropdown-input\"\n            data={local.measure}\n            items={[\"g\", \"kg\", \"/\", \"mL\", \"L\", \"/\", \"tsp\", \"tbsp\", \"cups\"]}\n            function={(e) => {\n              setLocal({ ...local, measure: e });\n            }}\n          />\n        </InputGroup>\n      </Form.Group>\n\n      <Form.Group>\n        <Button\n          className=\"green-btn shadow-none\"\n          id=\"add ingredient\"\n          onClick={() => {\n            handleIngredient();\n          }}\n        >\n          Add Ingredient\n        </Button>\n      </Form.Group>\n\n      {/* <Form.Group>\n        <Form.Check\n          type=\"checkbox\"\n          defaultChecked\n          label=\"Save meal\"\n          onClick={() => handleSave()}\n        />\n      </Form.Group> */}\n\n\n      <div style={{ alignItems: \"center\" }}>\n        <Button className=\"blue-btn shadow-none\" type=\"submit\" onClick={() => handleSave()}>\n        {/* <Button className=\"blue-btn shadow-none\" type=\"submit\"> */}\n          Done\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createMealPlanData: (mealPlan) => dispatch(createMealPlanData(mealPlan)),\n    createRecipe: (data) => dispatch(createRecipe(data)),\n    addToShoppingList: (data) => dispatch(addToShoppingList(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddMealForm_restaurant);\n","import React from \"react\";\n\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\n// import ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\n// import ListHeader from \"@mui/material/ListHeader\";\n\n// import CheckBoxOutlineBlankIcon from \"@mui/icons-material/CheckBoxOutlineBlank\";\n\n// import Delete from \"./Icons/DeleteIcon\";\n// import Edit from \"./Icons/EditIcon\";\n// import Add from \"./Icons/AddIcon\";\n// import AteMealIcon from \"./Icons/AteMealIcon\";\n\nexport default function MenuItem(props) {\n  return (\n    <>\n      {props.meals.map((newMeal, index) => (\n        <div className=\"menu-item\" key={`menu-item${index}`}>\n          \n          <div className=\"ingredients\">\n            \n            <List\n              // key={`ingrs${index}`}\n              // styles={{ paddingTop: 0, paddingBottom: 0, margin: 0 }}\n            >\n              <ListSubheader className=\"heading\">\n                <div className=\"meal-name\">{newMeal.meal}</div>\n\n                {/* {newMeal.mealType ? (\n                  <div className=\"meal-type\">{newMeal.mealType}</div>\n                ) : null} */}\n\n                {newMeal.menuSection ? (\n                  <div className=\"menu-section\">{newMeal.menuSection}</div>\n                ) : null}\n                \n                {newMeal.mealDescription ? (\n                  <div className=\"meal-description\">{newMeal.mealDescription}</div>\n                ) : null}            \n\n                {newMeal.mealPrice ? (\n                  <div className=\"meal-price\">{newMeal.mealPrice}</div>\n                ) : null}\n               \n              \n              </ListSubheader>\n\n              <ListItem>\n                {newMeal.url ? <a href={newMeal.url}>{newMeal.url}</a> : null}\n              </ListItem>\n            </List>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n}\n","//should be similar to saved meals, only differences\n//- no ingredients\n//- yes description\n//- different formatting\n//- group things by menusection\n\nimport React, { useState, useEffect } from \"react\";\n\nimport MenuItem from \"../../Personal/Marketplace/MealPlanComp/MenuItem\";\n// import MealsBox from \"../../Personal/Marketplace/MealPlanComp/MealsBox\";\nimport { connect } from \"react-redux\";\nimport { getRecipes } from \"../../../../../store/actions/marketplaceActions/savedMealData\";\nimport sortBy from \"lodash.sortby\";\n\n\nconst MenuPreview = (props) => {\n  const [sMeals, setSMeals] = useState([]);\n\n  //trigger this when editing/deleting items\n  const [update, setUpdate] = useState(0);\n  const forceUpdate = () => {\n    setUpdate(update + 1);\n  };\n\n  //this sends data request\n  useEffect(() => {\n    props.getRecipes();\n  }, [update]);\n\n  const updateSMeals = async () => {\n    //clears the meals array before each update- IMPORTANT\n    setSMeals([]);\n\n    //sets a new meal object in the array for every document with this date attached\n    props.mealPlan.forEach((doc) => {\n      var mealName = doc.meal;\n      var ingredients = doc.ingredients;\n      var id = doc.id;\n      var mealType = doc.mealType;\n      var menuSection = doc.menuSection;\n      var nonNativeData = doc.nonNativeData;\n      var totalDaily = doc.totalDaily;\n      var totalNutrients = doc.totalNutrients;\n      var url = doc.url;\n      var recipeYield = doc.yield;\n\n\n      if(nonNativeData) {\n        setSMeals((sMeals) => [\n          ...sMeals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            menuSection: menuSection,\n            ingredients: ingredients,\n            id: id,\n            nonNativeData: nonNativeData,\n            totalDaily: totalDaily,\n            totalNutrients: totalNutrients,\n            url: url,\n            recipeYield: recipeYield\n          },\n        ]);\n      }\n      else {\n        setSMeals((sMeals) => [\n          ...sMeals,\n          {\n            meal: mealName,\n            mealType: mealType,\n            menuSection: menuSection,\n            ingredients: ingredients,\n            id: id,\n          },\n        ]);\n     }\n    });\n  };\n\n  useEffect(() => {\n    // const sorted = sMeals.sort((a, b) => a.meal.localeCompare(b.meal));\n    updateSMeals();\n    // console.log(\"Saved Meals\", sMeals);\n    // .then(setSMeals(sorted));\n    // console.log(props.data);\n  }, [props.mealPlan]);\n\n  console.log(sMeals)\n\n  return (\n    <>\n      <div className=\"basic-title-left mb-3\">Menu Preview</div>\n      <div className=\"saved-meals\">\n        <div className=\"sort\">\n        \n        \n        <MenuItem\n          forceUpdate={forceUpdate}\n          onChange={props.onChange}\n          meals={sortBy(sMeals, ['menuSection'])}\n          saved={true}\n          value={props.value}\n        />\n       \n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    mealPlan: state.mealPlan.savedMeals,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRecipes: (saved) => dispatch(getRecipes(saved)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuPreview);\n\n\n","import React, { useState, useEffect } from \"react\";\n\n// import \"./Mealplan.css\";\nimport { PageWrap } from \"../../../../SubComponents/PageWrap\";\n// import LoadingScreen from \"../../../../SubComponents/Loading/LoadingScreen\";\nimport { Tab, Tabs } from \"react-bootstrap\";\n\nimport { Calendar } from \"../../Personal/Marketplace/MealPlanComp/Calendar\";\nimport SavedMeals from \"../../Personal/Marketplace/MealPlanComp/SavedMeals\";\nimport RecipeSearch from \"../../Personal/Marketplace/MealPlanComp/Search/RecipeSearch\";\nimport { ShoppingList } from \"../../Personal/Marketplace/MealPlanComp/BuildShoppingList/ShoppingList\";\nimport moment from \"moment\";\nimport { Inventory } from \"../../Personal/Marketplace/MealPlanComp/Inventory\";\n// import WaveLoader from \"../../../../../SubComponents/Loading/WaveLoader\";\nimport AddMealForm_restaurant from \"../../Personal/Marketplace/MealPlanComp/Icons/AddMealForm_restaurant\";\nimport MenuPreview from \"./MenuPreview\";\n\nexport default function RestaurantMealPlan() {\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 1500);\n  });\n\n  const [value, setValue] = useState(moment());\n\n  // if (loading) {\n  //   return <LoadingScreen />;\n  // }\n\n  return (\n    <PageWrap goTo=\"/account\" header=\"My Plan to Save\">\n      {/* <WaveLoader /> */}\n      <Tabs\n        defaultActiveKey=\"calendar\"\n        id=\"meal-plan-tabs\"\n        className=\"mb-3 mealtabs basic-title\"\n      >\n        <Tab eventKey=\"calendar\" title=\"MEAL PLAN\" className=\"mealtab\">\n          {/* Calender returns daily meal plan and monthly calendar- since they both use the \"value\" prop */}\n          <Calendar value={value} onChange={setValue} />\n        </Tab>\n        <Tab eventKey=\"recipes\" title=\"CREATE MENU\" className=\"mealtab\">\n          {/* returns all saved recipes */}\n          <SavedMeals value={value} onChange={setValue} />\n          {/* search for recipes via api */}\n          {/* <RestaurantRecipes value={value} onChange={setValue} /> */}\n          <AddMealForm_restaurant/>\n\n          <MenuPreview/> \n        </Tab>\n\n        {/* <Tab eventKey=\"menu-preview\" title=\"Menu Preview\" className=\"menupreview\"> \n        <MenuPreview/>\n        </Tab> */}\n\n        <Tab eventKey=\"shopping-list\" title=\"SHOPPING LIST\" className=\"mealtab\">\n          <ShoppingList value={value} />\n        </Tab>\n        <Tab eventKey=\"inventory\" title=\"INVENTORY\" className=\"mealtab\">\n          <Inventory value={value} />\n        </Tab>\n      </Tabs>\n\n      {/* input available locations for picking up */}\n      {/* shopping list */}\n    </PageWrap>\n  );\n}\n","import React from \"react\";\nimport \"../Pages/Account/UserAccount.css\";\n\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nimport IconButton from \"@mui/material/IconButton\";\nimport { Tooltip } from \"@mui/material\";\nimport SettingsApplicationsIcon from \"@mui/icons-material/SettingsApplications\";\n\nimport { Heading } from \"./Heading\";\n\nexport function Profile(props) {\n  if (props.profile.buildingFunction!='Restaurants'){\n  return (\n    <Container fluid className=\"profile\">\n      {/* <Row class=\"align-items-center\"> */}\n      {/* <Col xs=\"auto\">\n          <Avatar\n            className=\"center\"\n            alt={props.profile.initials}\n            src=\"\"\n            sx={{ width: 75, height: 75, bgcolor: Colors.brandGreen }}\n          >\n            <Heading priority=\"2\" text={props.profile.initials} />\n          </Avatar>\n        </Col> */}\n      {/* <Col xs=\"auto\"> */}\n      <Heading\n        priority=\"4\"\n        text={props.profile.firstName + \" \" + props.profile.lastName}\n      />\n      <Heading priority=\"5\" text={props.profile.email} />\n      <p>{props.profile.buildingFunction} Account</p>\n      <Tooltip title=\"Settings\">\n        <IconButton href=\"/settings\" component=\"a\" style={{ float: \"right\" }}>\n          <SettingsApplicationsIcon />\n        </IconButton>\n      </Tooltip>\n      {/* </Col> */}\n      {/* </Row> */}\n    </Container>\n  )} else {\n    console.log(props);\n    return (\n    <Container fluid className=\"profile\">\n\n      <Heading\n        priority=\"4\"\n        text={props.profile.firstName + \" \" + props.profile.lastName + ', '+ props.profile.restaurantName} \n      />\n      <Heading priority=\"5\" text={props.profile.email} />\n      <p>{props.profile.buildingFunction} Account</p>\n      <Tooltip title=\"Settings\">\n        <IconButton href=\"/settings\" component=\"a\" style={{ float: \"right\" }}>\n          <SettingsApplicationsIcon />\n        </IconButton>\n      </Tooltip>\n      {/* </Col> */}\n      {/* </Row> */}\n    </Container>\n  )\n  }\n}\n","export const Colors = {\n  brandGreen: \"#afba15\",\n  brandBlue: \"#030227\",\n  brandYellow: \"#d9a12d\",\n  brandTurqoise: \"#32797e\",\n};\n","import React from \"react\";\nimport { IconButton } from \"../../../SubComponents/Button\";\nimport \"../UserAccount.css\";\nimport { Colors } from \"../../../lib/Colors\";\n\n// import Accordion from \"@mui/material/Accordion\";\n// import AccordionSummary from \"@mui/material/AccordionSummary\";\n// import AccordionDetails from \"@mui/material/AccordionDetails\";\n\nexport function Food({ setShow, setChooseModal }) {\n\n  return (\n    <>\n      <IconButton\n        title=\"Plan your meals with us, search a range of delicious recipes.\"\n        icon=\"notes\"\n        label=\"My Food Diary\"\n        color=\"turquoise\"\n        goTo=\"/meal-plan\"\n      />\n\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"food\"\n        label=\"Plan to Save\"\n        color=\"yellow\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function Health({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        icon=\"plant\"\n        label=\"Nutrient Gap\"\n        color=\"yellow\"\n        goTo=\"/nutrient-gap\"\n        // disabled=\"true\"\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"food\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n\n      <IconButton\n        icon=\"plant\"\n        label=\"Composition\"\n        color=\"green\"\n        goTo=\"/nutrient-composition\"\n        // disabled=\"true\"\n      />\n      {/* <Accordion\n        style={{\n          width: \"80%\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          display: \"block\",\n          margin: \"auto\",\n          backgroundColor: Colors.brandGreen,\n        }}\n      >\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} id=\"panel1a-header\">\n          <Typography>Disclaimer</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography>\n            <b>DISCLAIMER: </b>The Global Food Loss & Waste Tracker is designed,\n            in part, to help users develop healthy eating habits. The\n            nutritional information and dietary recommendations provided are\n            merely suggestions which may or may not improve users' eating habits\n            and/or overall health. This app is a self-regulatory tool, not\n            intended to replace professional medical advice. Please always\n            consult a dietician or medical professional for professional medical\n            advice regarding your health.\n          </Typography>\n        </AccordionDetails>\n      </Accordion> */}\n    </>\n  );\n}\n\nexport function Environment() {\n  return (\n    <>\n      <IconButton\n        title=\"Record your food waste.\"\n        icon=\"waste\"\n        label=\"Food Waste\"\n        color=\"turquoise\"\n        goTo=\"/food-waste\"\n      />\n      <IconButton\n        title=\"View your food waste data.\"\n        icon=\"chart\"\n        label=\"Waste Chart\"\n        color=\"yellow\"\n        goTo=\"/chart\"\n      />\n      <IconButton\n        title=\"Gift a Food Item.\"\n        icon=\"gift\"\n        label=\"Gifted Items Chart\"\n        color=\"turquoise\"\n        goTo=\"/gift-food\"\n      />\n       <IconButton\n        title=\"View your gifted food data.\"\n        icon=\"chart\"\n        label=\"Gifted Item Chart\"\n        color=\"yellow\"\n        goTo=\"/gift-chart\"\n      />\n      <IconButton\n        title=\"View the world map of WFT users!\"\n        icon=\"world\"\n        label=\"Users Map\"\n        color=\"yellow\"\n        goTo=\"/view-map\"\n      />\n      <IconButton\n        title=\"Useful tips on how to reduce food waste in your home.\"\n        icon=\"info\"\n        label=\"Waste Tips\"\n        color=\"green\"\n        goTo=\"/food-reduction\"\n      />\n    </>\n  );\n}\n\nexport function Sustainability() {\n  return (\n    <>\n      <IconButton\n        icon=\"plant\"\n        label=\"Agrifood Technpreneur\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/\"\n      />\n      <IconButton\n        icon=\"book\"\n        label=\"Masterclasses\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/masterclasses-overview/\"\n      />\n      <IconButton\n        icon=\"info\"\n        label=\"FISI\"\n        color=\"green\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/\"\n      />\n      <IconButton\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        goTo=\"/pts\"\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { IconButton } from \"../../../SubComponents/Button\";\n\nimport \"../UserAccount.css\";\n\nexport function Food({ isSeller }) {\n  return (\n    <>\n      {isSeller ? (\n        <IconButton\n          title=\"Start planning your farm with us. Coordinate your produce with consumers and grow into sustainability.\"\n          icon=\"notes\"\n          label=\"My Farm Plan\"\n          color=\"turquoise\"\n          goTo=\"/farm-plan\"\n        />\n      ) : (\n        <IconButton\n          title=\"Start planning your farm with us. Coordinate your produce with consumers and grow into sustainability.\"\n          icon=\"notes\"\n          label=\"My Farm Plan\"\n          color=\"turquoise\"\n          goTo=\"/farm-auth\"\n        />\n      )}\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"food\"\n        label=\"Plan to Save\"\n        color=\"yellow\"\n        goTo=\"/pts\"\n      />\n\n      {/* <IconButton\n        icon=\"my-products\"\n        label=\"Food Sold\"\n        color=\"turquoise\"\n        goTo=\"/view-products\"\n      /> */}\n      <IconButton\n        icon=\"my-products\"\n        label=\"Food Returned\"\n        color=\"turquoise\"\n        goTo=\"/view-products\"\n        disabled\n      />\n      <IconButton\n        icon=\"chart\"\n        label=\"Produce Chart\"\n        color=\"yellow\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Turnover\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Profit\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n    </>\n  );\n}\n\nexport function Environment() {\n  return (\n    <>\n      <IconButton\n        title=\"Record your food loss.\"\n        icon=\"waste\"\n        label=\"Food Loss\"\n        color=\"turquoise\"\n        goTo=\"/food-loss\"\n      />\n      <IconButton\n        title=\"View your food loss data.\"\n        icon=\"chart\"\n        label=\"Waste Chart\"\n        color=\"yellow\"\n        goTo=\"/chart\"\n      />\n      <IconButton\n        title=\"Useful tips on how to reduce food waste in your home.\"\n        icon=\"info\"\n        label=\"Food Waste Reduction Tips\"\n        color=\"green\"\n        goTo=\"/food-reduction\"\n      />\n      <IconButton\n        title=\"View the world map of WFT users!\"\n        icon=\"world\"\n        label=\"Users Map\"\n        color=\"yellow\"\n        goTo=\"/view-map\"\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"food\"\n        label=\"Plan to Save\"\n        color=\"yellow\"\n        goTo=\"/pts\"\n      />\n    </>\n  );\n}\n\nexport function FSSP() {\n  return (\n    <>\n      <IconButton\n        title=\"Find out about our Agrifood TechPreneur program.\"\n        icon=\"plant\"\n        label=\"Agrifood Technpreneur\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/\"\n      />\n      <IconButton\n        title=\"Buff up the sustainability of your business with our online masterclasses.\"\n        icon=\"book\"\n        label=\"Masterclasses\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/masterclasses-overview/\"\n      />\n      <IconButton\n        title=\"Calculate the Food Industry Sustainability Index (FISI) of your business.\"\n        icon=\"info\"\n        label=\"FISI\"\n        color=\"green\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/\"\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"food\"\n        label=\"Plan to Save\"\n        color=\"yellow\"\n        goTo=\"/pts\"\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { IconButton } from \"../../../SubComponents/Button\";\nimport \"../UserAccount.css\";\n\nexport function Food({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        icon=\"notes\"\n        label=\"Meal Plan\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"my-products\"\n        label=\"Meal Sold\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"my-products\"\n        label=\"Meal Returned\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"chart\"\n        label=\"Meal Chart\"\n        color=\"yellow\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Turnover\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Profit\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function Environment({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        title=\"Record your food waste.\"\n        icon=\"waste\"\n        label=\"Food Waste\"\n        color=\"turquoise\"\n        goTo=\"/food-wasteBusiness\"\n      />\n      <IconButton\n        title=\"View your food waste data.\"\n        icon=\"chart\"\n        label=\"Waste Chart\"\n        color=\"yellow\"\n        goTo=\"/chart\"\n      />\n      <IconButton\n        title=\"Useful tips on how to reduce food waste in your home.\"\n        icon=\"info\"\n        label=\"Food Waste Reduction Tips\"\n        color=\"green\"\n        goTo=\"/food-reduction\"\n      />\n      <IconButton\n        title=\"View the world map of WFT users!\"\n        icon=\"world\"\n        label=\"Users Map\"\n        color=\"yellow\"\n        goTo=\"/view-map\"\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function FSSP() {\n  return (\n    <>\n      <IconButton\n        title=\"Find out about our Agrifood TechPreneur program.\"\n        icon=\"plant\"\n        label=\"Agrifood Technpreneur\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/\"\n      />\n      <IconButton\n        title=\"Buff up the sustainability of your business with our online masterclasses.\"\n        icon=\"book\"\n        label=\"Masterclasses\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/masterclasses-overview/\"\n      />\n      <IconButton\n        title=\"Calculate the Food Industry Sustainability Index (FISI) of your business.\"\n        icon=\"info\"\n        label=\"FISI\"\n        color=\"green\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/\"\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { IconButton } from \"../../../SubComponents/Button\";\nimport \"../UserAccount.css\";\n// import { Colors } from \"../../../lib/Colors\";\n\nexport function Food({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        icon=\"notes\"\n        label=\"Meal Plan\"\n        color=\"turquoise\"\n        goTo=\"/meal-plan\"\n      />\n      <IconButton\n        icon=\"my-products\"\n        label=\"Meal Sold\"\n        color=\"turquoise\"\n        goTo=\"/view-products\"\n      />\n      <IconButton\n        icon=\"my-products\"\n        label=\"Meal Returned\"\n        color=\"turquoise\"\n        goTo=\"/view-products\"\n        disabled\n      />\n      <IconButton\n        icon=\"chart\"\n        label=\"Meal Chart\"\n        color=\"yellow\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Turnover\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Profit\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function Research({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        icon=\"notes\"\n        label=\"Research Plan\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"my-products\"\n        label=\"Food Items Used\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"my-products\"\n        label=\"Food Items Not Used\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton icon=\"chart\" label=\"Chart\" color=\"yellow\" goTo=\"/\" disabled />\n      <IconButton\n        icon=\"notes\"\n        label=\"Research Cost\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function Environment({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        icon=\"waste\"\n        label=\"Food Waste\"\n        color=\"turquoise\"\n        goTo=\"/food-wasteAcademic\"\n      />\n      <IconButton\n        icon=\"chart\"\n        label=\"Waste Chart\"\n        color=\"yellow\"\n        goTo=\"/chart\"\n      />\n      <IconButton\n        icon=\"info\"\n        label=\"Food Waste Reduction Tips\"\n        color=\"green\"\n        goTo=\"/food-reduction\"\n      />\n      <IconButton\n        icon=\"world\"\n        label=\"Users Map\"\n        color=\"yellow\"\n        goTo=\"/view-map\"\n      />\n      <IconButton\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function FSSP() {\n  return (\n    <>\n      <IconButton\n        icon=\"plant\"\n        label=\"Agrifood Technpreneur\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/\"\n      />\n      <IconButton\n        icon=\"book\"\n        label=\"Masterclasses\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/masterclasses-overview/\"\n      />\n      <IconButton\n        icon=\"info\"\n        label=\"FISI\"\n        color=\"green\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/\"\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { IconButton } from \"../../../../SubComponents/Button\";\nimport \"../../UserAccount.css\";\n\nexport function Food({ setShow, setChooseModal }) {\n  return (\n    <>\n\n     <IconButton\n        icon=\"notes\" \n        label=\"Meal Plan\"\n        color=\"turquoise\"\n        goTo=\"/restaurant-meal-plan\"\n        />\n\n      <IconButton\n        icon=\"notes\" \n        label=\"Restaurant details\"\n        color=\"turquoise\"\n        goTo=\"/restaurant-meal-plan\"\n        />\n        \n{/* \n      <IconButton\n        icon=\"notes\"\n        label=\"Shopping List\"\n        color=\"turquoise\"\n        goTo=\"/restaurant-shopping-list\"\n      />\n\n      <IconButton\n        icon=\"notes\" \n        label=\"Inventory\" \n        color=\"turquoise\"\n        goTo=\"/restaurant-inventory\"\n        />\n\n      <IconButton\n        icon=\"notes\" \n        label=\"Inventory and Shopping List\" \n        color=\"turquoise\"\n        goTo=\"/restaurant-dashboard\"\n        />\n         */}\n      <IconButton\n        icon=\"my-products\"\n        label=\"Meal Sold\" \n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled/>\n\n      <IconButton\n        icon=\"my-products\"\n        label=\"Meal Returned\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"chart\"\n        label=\"Meal Chart\"\n        color=\"yellow\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Turnover\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        icon=\"notes\"\n        label=\"Profit\"\n        color=\"turquoise\"\n        goTo=\"/\"\n        disabled\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function Environment({ setShow, setChooseModal }) {\n  return (\n    <>\n      <IconButton\n        title=\"Record your food waste.\"\n        icon=\"waste\"\n        label=\"Food Waste\"\n        color=\"turquoise\"\n        goTo=\"/food-wasteBusiness\"\n      />\n      <IconButton\n        title=\"View your food waste data.\"\n        icon=\"chart\"\n        label=\"Waste Chart\"\n        color=\"yellow\"\n        goTo=\"/chart\"\n      />\n      <IconButton\n        title=\"Useful tips on how to reduce food waste in your home.\"\n        icon=\"info\"\n        label=\"Food Waste Reduction Tips\"\n        color=\"green\"\n        goTo=\"/food-reduction\"\n      />\n      <IconButton\n        title=\"View the world map of WFT users!\"\n        icon=\"world\"\n        label=\"Users Map\"\n        color=\"yellow\"\n        goTo=\"/view-map\"\n      />\n      <IconButton\n        title=\"Find out more about the Plan to Save campaign, and what you can do to help.\"\n        icon=\"kitchen\"\n        label=\"Plan to Save\"\n        color=\"turquoise\"\n        onClick={() => {\n          setShow(true);\n          setChooseModal(true);\n        }}\n      />\n    </>\n  );\n}\n\nexport function FSSP() {\n  return (\n    <>\n      <IconButton\n        title=\"Find out about our Agrifood TechPreneur program.\"\n        icon=\"plant\"\n        label=\"Agrifood Technpreneur\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/agrifood-techpreneur-club/\"\n      />\n      <IconButton\n        title=\"Buff up the sustainability of your business with our online masterclasses.\"\n        icon=\"book\"\n        label=\"Masterclasses\"\n        color=\"turquoise\"\n        goTo=\"https://intellidigest.com/masterclasses-overview/\"\n      />\n      <IconButton\n        title=\"Calculate the Food Industry Sustainability Index (FISI) of your business.\"\n        icon=\"info\"\n        label=\"FISI\"\n        color=\"green\"\n        goTo=\"https://intellidigest.com/services/food-system-sustainability/food-industry-sustainability-index/\"\n      />\n    </>\n  );\n}\n","export const generateId = () => \"_\" + Math.random().toString(36).substr(2, 9);\n","import React from \"react\";\nimport Proptypes from \"prop-types\";\n// import \"./Checkbox.css\";\nimport { generateId } from \"../utils/generate\";\n\nconst createCheckbox = (data, toggleHandler, isCheckedState) => (\n  <Checkbox\n    name={data.name}\n    handler={toggleHandler}\n    key={data.name}\n    isChecked={isCheckedState[data.name] ? true : false}\n    text={data.text}\n  />\n);\n\nconst CheckboxGroup = (props) => (\n  <div className={`${props.className}`}>\n    {props.data.map((checkboxData) =>\n      createCheckbox(checkboxData, props.toggleHandler, props.isCheckedState)\n    )}\n  </div>\n);\n\nconst Checkbox = (props) => {\n  const { name, text, isChecked, handler } = props;\n  const id = generateId();\n  return (\n    <div className=\"Checkbox\">\n      <label htmlFor={id} className={`Checkbox__label ${props.className}`}>\n        <input\n          id={id}\n          name={name}\n          type=\"checkbox\"\n          checked={isChecked}\n          onChange={() => {\n            handler(name);\n          }}\n        />\n        {text}\n      </label>\n    </div>\n  );\n};\nCheckbox.propTypes = {\n  name: Proptypes.string,\n  text: Proptypes.string,\n  isChecked: Proptypes.bool,\n  handler: Proptypes.func,\n  className: Proptypes.string,\n};\nCheckboxGroup.propTypes = {\n  data: Proptypes.array,\n  toggleHandler: Proptypes.func,\n  isCheckedState: Proptypes.object,\n  className: Proptypes.string,\n};\n\nexport { Checkbox, CheckboxGroup };\n","import React, { Component } from \"react\";\nimport Proptypes from \"prop-types\";\nimport { generateId } from \"../utils/generate\";\n\nexport default class RadioGroup extends Component {\n  passPropsToChildren = () => {\n    const { children, handleChange, activeIndex } = this.props;\n    return React.Children.map(children, (child, index) =>\n      React.cloneElement(child, {\n        index: index,\n        onChange: handleChange,\n        checked: index === activeIndex,\n      })\n    );\n  };\n  render() {\n    return (\n      <div className={`RadioGroup ${this.props.className}`}>\n        {this.passPropsToChildren()}\n      </div>\n    );\n  }\n}\nexport const Radio = (props) => {\n  const id = generateId();\n  return (\n    <div>\n      <input\n        className=\"Radio\"\n        type=\"radio\"\n        checked={props.checked}\n        name={props.name}\n        id={id}\n        onChange={() => {\n          props.onChange(props.index);\n        }}\n      />\n      <label htmlFor={id} className={props.className}>\n        {props.children}\n      </label>\n    </div>\n  );\n};\n\nRadio.propTypes = {\n  name: Proptypes.string,\n  index: Proptypes.number,\n  onChange: Proptypes.func,\n  checked: Proptypes.bool,\n  className: Proptypes.string,\n};\nRadioGroup.propTypes = {\n  activeIndex: Proptypes.number,\n  handleChange: Proptypes.func,\n  className: Proptypes.string,\n};\n","import React from \"react\";\nimport Proptypes from \"prop-types\";\n// import './Select.css';\n\nconst Select = (props) => (\n  <select\n    value={props.value}\n    onChange={props.handler}\n    name={props.name}\n    // className={`Select ${props.className}`}\n  >\n    {props.options.map((ele) => (\n      <option value={ele.val} key={ele.val}>\n        {ele.text}\n      </option>\n    ))}\n  </select>\n);\nSelect.propTypes = {\n  value: Proptypes.number,\n  handler: Proptypes.func,\n  name: Proptypes.string,\n  className: Proptypes.string,\n  options: Proptypes.array,\n};\nexport default Select;\n","// creating temporary file to store data manually before backend is created;\n\nconst surveyData = {\n  selectOpt: {\n    mealCount: [\n      { val: 3, text: \"Three\" },\n      { val: 5, text: \"Five\" },\n      { val: 2, text: \"Two\" },\n    ],\n    planType: [\n      { val: 7, text: \"Weekly\" },\n      { val: 1, text: \"Daily\" },\n    ],\n  },\n  dietSpec: [\n    { name: \"balanced\", text: \"Balanced Diet (Recommended)\" },\n    {\n      name: \"low-carb\",\n      text: \"Low-Carb (Less than 20% of total calories from carbs)\",\n    },\n    {\n      name: \"low-fat\",\n      text: \"Low-Fat (Less than 15% of total calories from fat)\",\n    },\n  ],\n  healthSpec: [\n    {\n      name: \"vegan\",\n      text: \"Vegan (No meat, poultry, fish, dairy, eggs or honey)\",\n    },\n    {\n      name: \"vegetarian\",\n      text: \"Vegetarian (No wheat, can have gluten though)\",\n    },\n    {\n      name: \"alcohol-free\",\n      text: \"Alcohol-free (No alcohol used or contained)\",\n    },\n    {\n      name: \"peanut-free\",\n      text: \"Peanut Free (No peanuts or products containing peanuts)\",\n    },\n  ],\n  mealTypes: {\n    3: [\"Breakfast\", \"Lunch\", \"Dinner\"],\n    5: [\"Breakfast Snack\", \"Breakfast\", \"Lunch\", \"Afternoon Snack\", \"Dinner\"],\n    2: [\"Brunch\", \"Dinner\"],\n  },\n  calories: {\n    min: 1800,\n    max: 2500,\n  },\n};\nconst API = {\n  ID: \"5532003c\",\n  KEY: \"511d39184173c54ebc5d02a5063a7b87\",\n  URL: \"https://api.edamam.com/recipes/v2?type=public&\",\n};\nexport { surveyData as Survey, API };\n","import { Survey, API } from \"./data\";\n\nconst getSurveyData = () => Survey;\nconst getAPIData = () => API;\n\nexport { getSurveyData, getAPIData };\n","import { getAPIData } from \"../data\";\n\n// original code\n// const getPlan = (data) =>{\n//   const { ID, KEY, URL } = getAPIData();\n//   let queryObj = buildQuery(data, ID, KEY);\n//   let promises = [], result = {};\n//   for(let key in queryObj){\n//     let str = encodeURI(URL + queryObj[key]);\n//     promises.push(\n//       fetch(str)\n//       .then((res) => res.json())\n//       .then((data) => {\n//         result[key] = data.hits;\n//       })\n//       .catch((err) => console.error(err))\n//     );\n//   }\n//   return Promise.all(promises).then(() => {\n//     return result;\n//   });\n// }\n\nconst getPlan = async (data, plan, setPlan) => {\n  const { ID, KEY, URL } = getAPIData();\n  let queryObj = buildQuery(data, ID, KEY);\n  for (let key in queryObj) {\n    console.log(key);\n    let str = encodeURI(URL + queryObj[key]);\n    const resp = await fetch(str);\n    const meal = await resp.json();\n    setPlan({ ...plan, [key]: meal.hits });\n  }\n};\n\n//returns an object of query strings with meal-types as keys\nconst buildQuery = (data, ID, KEY) => {\n  if (!data.plan || !data.meals || !data.calories || !data.diet) {\n    return false;\n  }\n  const type = parseInt(data.plan, 10);\n  const count = data.meals.length;\n  const calories = {\n    min: Math.round(parseInt(data.calories.min, 10) / count),\n    max: Math.round(parseInt(data.calories.max, 10) / count),\n  };\n  let health = \"\";\n  if (data.health) {\n    health = stitch(data.health, \"health\");\n  }\n  let labelArr = data.meals;\n  let queries = {};\n  for (let i = 0; i < count; i++) {\n    let str = labelArr[i];\n    let query = `q=${str}&app_id=${ID}&app_key=${KEY}&to=${type}&diet=${data.diet}${health}&calories=${calories.min}-${calories.max}`;\n    queries[str] = query;\n  }\n  return queries;\n};\n\nconst stitch = (ob, label) => {\n  let res = \"&\";\n  for (let i in ob) {\n    if (ob[i].toString() === \"true\") {\n      res += `${label}=${i}&`;\n    }\n  }\n  //remove that last ampersand\n  return res.slice(0, -1);\n};\n\nexport default getPlan;\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { CheckboxGroup } from \"./Form/Checkbox\";\nimport RadioGroup, { Radio } from \"./Form/Radio\";\nimport Select from \"./Form/Select\";\nimport { getSurveyData } from \"./utils/data\";\nimport getPlan from \"./utils/mealPlan\";\n\n//code for meal plan generator here is iunspired by https://github.com/arimai/meal-planner\n//and adapted for use within WFT, if you have any issues please look here.\n\nexport default function Survey() {\n  const [stage, setStage] = useState(0);\n\n  const [data, setData] = useState(getSurveyData());\n  const [plan, setPlan] = useState([]);\n\n  const [mealCount, setMealCount] = useState(data.selectOpt.mealCount[0].val);\n  const [planType, setPlanType] = useState(data.selectOpt.planType[0].val);\n  const [health, setHealth] = useState({});\n  const [calories, setCalories] = useState({\n    activeIndex: 0,\n    selected: \"rec\",\n    min: 1800,\n    max: 2500,\n  });\n  const [diet, setDiet] = useState({\n    activeIndex: 0,\n    name: data.dietSpec[0].name,\n  });\n  const [loading, setLoading] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n\n  useEffect(() => {\n    console.log(\"Generated Meal Plan\", plan);\n  }, [plan]);\n\n  const handleHealth = (name) => {\n    setHealth(() => {\n      let value = health[name] ? !health[name] : true;\n      return { ...health, [name]: value };\n    });\n  };\n\n  const handleCaloriesSelect = (index) => {\n    let selected = parseInt(index, 10) === 1 ? \"custom\" : \"rec\";\n    setCalories({ ...calories, activeIndex: index, selected: selected });\n  };\n\n  const handleCalories = (e) => {\n    const target = e.target;\n    if (target.value) {\n      let value = parseInt(target.value, 10);\n      if (isNaN(value)) {\n        value = 0;\n      }\n      setCalories({ ...calories, [target.name]: value });\n    }\n  };\n\n  const handleDiet = (index) => {\n    const name = data.dietSpec[index].name;\n    setDiet({\n      activeIndex: index,\n      name: name,\n    });\n  };\n\n  const getMealPlan = (e) => {\n    e.preventDefault();\n    const meals = data.mealTypes[mealCount];\n    const res = {\n      plan: planType,\n      health: health,\n      calories: { min: calories.min, max: calories.max },\n      diet: diet.name,\n      meals: meals,\n    };\n    //loading style isn't sorted yet!!!! Ignore for now\n    setLoading(true);\n    getPlan(res, plan, setPlan).then((data) => {\n      let par = { num: planType, data: data };\n      //stop loading and redirect to meal page\n      setLoading(false);\n      setRedirect(true);\n      setData(par);\n    });\n  };\n\n  const handleNext = () => {\n    setStage(stage + 1);\n  };\n  const handleBack = () => {\n    setStage(stage - 1);\n  };\n\n  const { selectOpt, dietSpec, healthSpec } = data;\n\n  switch (stage) {\n    default:\n    case 0:\n      return (\n        <>\n          <p>How many meals do you ( or want to ) have in a day?</p>\n          <Select\n            name=\"mealCount\"\n            value={mealCount}\n            handler={(e) => setMealCount(parseInt(e.target.value, 10))}\n            options={selectOpt.mealCount}\n          />\n          <button onClick={handleNext}>Next</button>\n        </>\n      );\n    case 1:\n      return (\n        <>\n          <p>Choose a plan type</p>\n          <Select\n            name=\"planType\"\n            value={planType}\n            handler={(e) => setPlanType(parseInt(e.target.value, 10))}\n            options={selectOpt.planType}\n          />\n          <button onClick={handleBack}>Back</button>\n          <button onClick={handleNext}>Next</button>\n        </>\n      );\n    case 2:\n      return (\n        <>\n          <p>Any dietary preferences?</p>\n          <RadioGroup handleChange={handleDiet} activeIndex={diet.activeIndex}>\n            {dietSpec.map((diet) => (\n              <Radio key={diet.name}>{diet.text}</Radio>\n            ))}\n          </RadioGroup>\n          <button onClick={handleBack}>Back</button>\n          <button onClick={handleNext}>Next</button>\n        </>\n      );\n    case 3:\n      return (\n        <>\n          <p>Any health preferences?</p>\n          <CheckboxGroup\n            data={healthSpec}\n            toggleHandler={handleHealth}\n            isCheckedState={health}\n          />\n          <button onClick={handleBack}>Back</button>\n          <button onClick={handleNext}>Next</button>\n        </>\n      );\n    case 4:\n      return (\n        <>\n          <p>Calorie intake</p>\n          <RadioGroup\n            handleChange={handleCaloriesSelect}\n            activeIndex={calories.activeIndex}\n          >\n            <Radio>Go with recommended</Radio>\n            <Radio>Choose custom values</Radio>\n          </RadioGroup>\n          {calories.selected === \"custom\" ? (\n            <div className=\"Survey__input--custom\">\n              <input\n                placeholder=\"min\"\n                type=\"number\"\n                name=\"min\"\n                onChange={handleCalories}\n                value={calories.min}\n              />\n              <input\n                placeholder=\"max\"\n                type=\"number\"\n                name=\"max\"\n                onChange={handleCalories}\n                value={calories.max}\n              />\n            </div>\n          ) : null}\n          <button onClick={handleBack}>Back</button>\n          <button onClick={getMealPlan}>Get Plan!</button>\n          {/* {redirect ? \n          <Redirect to=\"/meal-plan\"/>\n          : null\n        } */}\n        </>\n      );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\nimport \"../../../SubComponents/Button.css\";\nimport { SubButton } from \"../../../SubComponents/Button\";\n\nimport { Select } from \"../../../SubComponents/Dropdown\";\nimport { countryNames, countries } from \"../../../lib/Countries\";\nimport {\n  postcodeValidator,\n  postcodeValidatorExistsForCountry,\n} from \"postcode-validator\";\n\nimport { connect } from \"react-redux\";\nimport { becomeConsumer } from \"../../../../store/actions/authActions\";\nimport { submitNotification } from \"../../../lib/Notifications\";\nimport Survey from \"./MealGenerator/Survey\";\n\nfunction PTSForm(props) {\n  const [validated, setValidated] = useState(false);\n  const [country, setCountry] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"\");\n  const [postcode, setPostcode] = useState(\"\");\n  const [err, setErr] = useState(false);\n\n  useEffect(() => {\n    if (country) {\n      let cc = countries.find((c) => c.name === country);\n      setCountryCode(cc.code);\n    }\n  }, [country]);\n\n  useEffect(() => {\n    if (postcodeValidatorExistsForCountry(countryCode)) {\n      // console.log(\"validator exists\", postcode, countryCode);\n      if (postcodeValidator(postcode.trim(), countryCode)) {\n        setValidated(true);\n        // console.log(\"valid\");\n        setErr(false);\n      } else {\n        setValidated(false);\n        setErr(true);\n        // console.log(\"no\");\n      }\n    } else {\n      setValidated(true);\n    }\n  }, [postcode]);\n\n  // useEffect(() => {\n  //   console.log(validated);\n  // }, [validated]);\n\n  const handleSubmit = (e) => {\n    // const form = e.currentTarget;\n\n    if (!err) {\n      e.preventDefault();\n      handleFinish();\n      // console.log(\"I'm valid!!!!\");\n    } else {\n      e.preventDefault();\n      console.log(\"prevented\");\n      e.stopPropagation();\n    }\n  };\n\n  const handleFinish = () => {\n    var data = {\n      uid: props.auth.uid,\n      upload: {\n        postcode: postcode,\n      },\n      profile: { isConsumer: true },\n    };\n    props.becomeConsumer(data);\n    submitNotification(\n      \"Success\",\n      \"Thanks for joining the plan to save! You have taken a huge step in making food sustainable for everybody.\"\n    );\n    props.setContent(\"6month\");\n    props.handleClose();\n  };\n\n  useEffect(() => {}, [props.content]);\n\n  switch (props.content) {\n    default:\n    case \"start\":\n      return (\n        <>\n          <div className=\"title\">JOIN THE PLAN TO SAVE!</div>\n          <div className=\"body\">\n            <p>Thanks for choosing to plan your meals with us!</p>\n            <p>\n              A six month meal plan will help you to eat more nutritious food by\n              ordering and collecting the food in advance.\n            </p>\n            <p>\n              Through the Plan to Save, your six month meal plan will be shared\n              with local farmers to influence their own planning. With the\n              secure knowledge that your food will not go to waste, they can\n              focus on adopting sustainable farm practices that produce more\n              nutritious food with a better impact on the environment.\n            </p>\n            {/* <p>\n              Find out more about the Plan to Save{\" \"}\n              <a href=\"https://intellidigest.com/meal-plan/\">\n                here\n              </a>\n            </p> */}\n            <SubButton\n              text=\"Start now!\"\n              goTo=\"/meal-plan\"\n              styling=\"green\"\n            />\n          </div>\n        </>\n      );\n    case \"6month\":\n      return (\n        <>\n          <div className=\"title\" style={{ marginTop: \"15%\" }}>\n            JOIN THE PLAN TO SAVE!\n          </div>\n          <div className=\"body\">\n            <p>Do you have a six month meal plan already?</p>\n            <Row className=\"mt-5\">\n              <Col>\n                <SubButton\n                  text=\"Yes\"\n                  styling=\"green\"\n                  onClick={() => props.setContent(\"location\")}\n                />\n              </Col>\n              <Col>\n                <SubButton\n                  text=\"No\"\n                  styling=\"green\"\n                  onClick={() => props.setContent(\"choose\")}\n                />\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    case \"choose\":\n      return (\n        <div className=\"body\">\n          {/* <p>Choose a base for your 6 month meal plan.</p>\n          <SubButton\n            text=\"Omnivore\"\n            styling=\"green\"\n            // onClick={}\n          />\n          <SubButton\n            text=\"Vegetarian\"\n            styling=\"green\"\n            // onClick={}\n          />\n          <SubButton\n            text=\"Vegan\"\n            styling=\"green\"\n            // onClick={}\n          /> */}\n          <Survey />\n        </div>\n      );\n    case \"refine\":\n      return (\n        <div className=\"body\">\n          <p>this content is still in development</p>\n        </div>\n      );\n    case \"location\":\n      return (\n        <>\n          <div className=\"title\" style={{ marginTop: \"10%\" }}>\n            JOIN THE PLAN TO SAVE!\n          </div>\n          <div className=\"body\">\n            <Form\n              onSubmit={(e) => {\n                handleSubmit(e);\n              }}\n            >\n              <Form.Group>\n                <p>Your Country</p>\n                <Select\n                  id=\"country\"\n                  function={(e) => {\n                    setCountry(e.target.value);\n                  }}\n                  value={country}\n                  placeholder=\"Country\"\n                  items={countryNames}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"postcode\">\n                <p>Your Postcode</p>\n                <Form.Control\n                  type=\"text\"\n                  onChange={(e) => setPostcode(e.target.value)}\n                  required\n                />\n                {err && (\n                  <div className=\"err\">Please enter a valid postcode.</div>\n                )}\n              </Form.Group>\n              <Button type=\"submit\" className=\"sub-btn green-btn shadow-none\">\n                <div className=\"basic-title\">Finish</div>\n              </Button>\n            </Form>\n          </div>\n        </>\n      );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    becomeConsumer: (consumer) => dispatch(becomeConsumer(consumer)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PTSForm);\n","export default __webpack_public_path__ + \"static/media/Blueberries.81f84019.jpg\";","export default __webpack_public_path__ + \"static/media/pts_field_standing-dark.1765a687.jpg\";","import React, { useState } from \"react\";\nimport ModalUnstyled from \"@mui/material/Modal\";\nimport \"./PTS.css\";\nimport PTSForm from \"./PTSForm\";\n\nimport { isBrowser } from \"react-device-detect\";\nimport blueberries from \"../../../../images/Blueberries.jpg\";\n// import pTSNotebook from \"../../../../images/pts_plate_notebook-dark.jpg\";\nimport pTSField from \"../../../../images/pts_field_standing-dark.jpg\";\n\nexport function PTSModal({ show, setShow }) {\n  const [content, setContent] = useState(\"start\");\n\n  const handleClose = () => {\n    setShow(false);\n    setContent(\"start\");\n  };\n\n  return (\n    <ModalUnstyled\n      open={show}\n      onClose={handleClose}\n      aria-labelledby=\"plan to save title\"\n      color=\"default\"\n    >\n      <div className=\"pts-modal\">\n        {isBrowser ? (\n          <img src={blueberries} alt=\"create your own plan\" width=\"100%\" />\n        ) : (\n          <img src={pTSField} alt=\"create your own plan\" width=\"100%\" />\n        )}\n\n        <button className=\"close\" onClick={handleClose}>\n          X\n        </button>\n\n        <PTSForm\n          content={content}\n          setContent={setContent}\n          handleClose={handleClose}\n        />\n      </div>\n    </ModalUnstyled>\n  );\n}\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport { Container } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Profile } from \"../../SubComponents/Profile\";\nimport \"../Pages.css\";\nimport { PageWrapMini } from \"../../SubComponents/PageWrap\";\n\nimport logo from \"../../../images/WFTLogo.png\";\n\nimport { TabContext, TabList, TabPanel } from \"@material-ui/lab\";\nimport { Tab } from \"@material-ui/core\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { useTheme } from \"@material-ui/core\";\n\nimport * as Households from \"./Personal/PersonalTabs\";\nimport * as Farm from \"./Farm/FarmTabs\";\nimport * as Business from \"./Business/BusinessTabs\";\nimport * as Schools from \"./Academic/AcademicTabs\";\nimport * as Restaurant from \"./Business/Restaurant/RestaurantTabs\";\n\nimport { Colors } from \"../../lib/Colors\";\n\nimport { createSubAccount } from \"../../../store/actions/authActions\";\nimport { PTSModal } from \"./PlanToSave/PTSModal\";\nimport LoadingScreen from \"../../SubComponents/Loading/LoadingScreen\";\n\nconst NewAccount = (props) => {\n  //handles loading page\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setTimeout(() => setLoading(false), 1500);\n  });\n\n  //AccountType/BuildingFunction Management\n  const [type, setType] = useState(props.profile.type);\n  //controls modal appearing\n  const [show, setShow] = useState(true);\n  const [modal, setModal] = useState(false);\n  const [chooseModal, setChooseModal] = useState(false);\n\n  useEffect(() => {\n    setType(props.profile.type);\n  }, [props.profile.type]);\n\n  //stop pts modal from appearing before firebase has a chance to fetch data\n  useEffect(() => {\n    const showModal = setTimeout(() => {\n      if (props.profile.buildingFunction !== \"Farm\") setModal(true);\n    }, 1000);\n    return () => clearTimeout(showModal);\n  });\n\n  useEffect(() => {}, [type]);\n\n  //Tab Management\n  const theme = useTheme();\n  const [value, setValue] = useState(\"0\");\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = (index) => {\n    setValue(String(index));\n  };\n\n  //Render\n  if (!props.auth.uid) {\n    return <Redirect to=\"/login\" />;\n  }\n  if (loading) {\n    return <LoadingScreen />;\n  }\n\n  return (\n    <>\n      {modal && !props.profile.isConsumer ? (\n        <PTSModal show={show} setShow={setShow} />\n      ) : null}\n      {chooseModal ? <PTSModal show={show} setShow={setShow} /> : null}\n      <PageWrapMini>\n        <Container className=\"web-center\">\n          <div className=\"flex\">\n            <img\n              src={logo}\n              alt=\"World Food Tracker, empowering global food sustainability\"\n              className=\"img-fluid rounded fix-image mb-3\"\n              style={{ maxWidth: \"40%\" }}\n            />\n            <Profile profile={props.profile} type={type} />\n          </div>\n\n          <div className=\"tabs\">\n            <TabContext value={value}>\n              <AccountType\n                profile={props.profile}\n                type={type}\n                value={value}\n                theme={theme}\n                handleChange={handleChange}\n                handleChangeIndex={handleChangeIndex}\n                setShow={setShow}\n                setChooseModal={setChooseModal}\n              />\n            </TabContext>\n          </div>\n        </Container>\n      </PageWrapMini>\n    </>\n  );\n};\n\nconst AccountType = (props) => {\n  switch (props.type) {\n    case \"farm_admin\":\n    case \"farm_sub\":\n      return (\n        <>\n          <TabList\n            TabIndicatorProps={{\n              style: {\n                backgroundColor: Colors.brandGreen,\n              },\n            }}\n            variant=\"standard\"\n            onChange={props.handleChange}\n            centered\n          >\n            <Tab disableRipple label=\"Food\" value=\"0\" />\n            <Tab disableRipple label=\"Environment\" value=\"1\" />\n            <Tab disableRipple label=\"FSSP\" value=\"2\" />\n          </TabList>\n          <SwipeableViews\n            axis={props.theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n            index={parseInt(props.value)}\n            onChangeIndex={props.handleChangeIndex}\n          >\n            <TabPanel value={props.value} index={0} dir={props.theme.direction}>\n              <Farm.Food isSeller={props.profile.isSeller} />\n            </TabPanel>\n            <TabPanel value={props.value} index={1} dir={props.theme.direction}>\n              <Farm.Environment />\n            </TabPanel>\n            <TabPanel value={props.value} index={2} dir={props.theme.direction}>\n              <Farm.FSSP />\n            </TabPanel>\n          </SwipeableViews>\n        </>\n      );\n    case \"business_admin\":\n    case \"business_sub\":\n      return (\n        <>\n          <TabList\n            TabIndicatorProps={{\n              style: {\n                backgroundColor: Colors.brandGreen,\n              },\n            }}\n            variant=\"standard\"\n            onChange={props.handleChange}\n            centered\n          >\n            <Tab disableRipple label=\"Food\" value=\"0\" />\n            <Tab disableRipple label=\"Environment\" value=\"1\" />\n            <Tab disableRipple label=\"FSSP\" value=\"2\" />\n          </TabList>\n          <SwipeableViews\n            axis={props.theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n            index={parseInt(props.value)}\n            onChangeIndex={props.handleChangeIndex}\n          >\n            <TabPanel value={props.value} index={0} dir={props.theme.direction}>\n              <Business.Food\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={1} dir={props.theme.direction}>\n              <Business.Environment\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={2} dir={props.theme.direction}>\n              <Business.FSSP />\n            </TabPanel>\n          </SwipeableViews>\n        </>\n      );\n\n    \n      case \"restaurant_admin\":\n      case \"restaurant_sub\":      \n      return (\n        <>\n          <TabList\n            TabIndicatorProps={{\n              style: {\n                backgroundColor: Colors.brandGreen,\n              },\n            }}\n            variant=\"standard\"\n            onChange={props.handleChange}\n            centered\n          >\n            <Tab disableRipple label=\"Food\" value=\"0\" />\n            <Tab disableRipple label=\"Environment\" value=\"1\" />\n            <Tab disableRipple label=\"FSSP\" value=\"2\" />\n          </TabList>\n          <SwipeableViews\n            axis={props.theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n            index={parseInt(props.value)}\n            onChangeIndex={props.handleChangeIndex}\n          >\n            <TabPanel value={props.value} index={0} dir={props.theme.direction}>\n              <Restaurant.Food\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={1} dir={props.theme.direction}>\n              <Restaurant.Environment\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={2} dir={props.theme.direction}>\n              <Restaurant.FSSP />\n            </TabPanel>\n          </SwipeableViews>\n        </>\n      );\n\n    case \"academic_admin\":\n    case \"academic_sub\":\n      return (\n        <>\n          <TabList\n            TabIndicatorProps={{\n              style: {\n                backgroundColor: Colors.brandGreen,\n              },\n            }}\n            variant=\"standard\"\n            onChange={props.handleChange}\n            centered\n          >\n            <Tab disableRipple label=\"Food Business\" value=\"0\" />\n            <Tab disableRipple label=\"Research\" value=\"1\" />\n            <Tab disableRipple label=\"Environment\" value=\"2\" />\n            <Tab disableRipple label=\"FSSP\" value=\"3\" />\n          </TabList>\n          <SwipeableViews\n            axis={props.theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n            index={parseInt(props.value)}\n            onChangeIndex={props.handleChangeIndex}\n          >\n            <TabPanel value={props.value} index={0} dir={props.theme.direction}>\n              <Schools.Food\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={1} dir={props.theme.direction}>\n              <Schools.Research\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={2} dir={props.theme.direction}>\n              <Schools.Environment\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={3} dir={props.theme.direction}>\n              <Schools.FSSP />\n            </TabPanel>\n          </SwipeableViews>\n        </>\n      );\n    case \"household_admin\":\n    case \"household_sub\":\n    default:\n      return (\n        <>\n          <TabList\n            TabIndicatorProps={{\n              style: {\n                backgroundColor: Colors.brandGreen,\n              },\n            }}\n            variant=\"fullWidth\"\n            onChange={props.handleChange}\n            centered\n          >\n            <Tab disableRipple label=\"Food\" value=\"0\" />\n            <Tab disableRipple label=\"Health\" value=\"1\" />\n            <Tab disableRipple label=\"Environment\" value=\"2\" />\n          </TabList>\n          <SwipeableViews\n            axis={props.theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n            index={parseInt(props.value)}\n            onChangeIndex={props.handleChangeIndex}\n          >\n            <TabPanel value={props.value} index={0} dir={props.theme.direction}>\n              <Households.Food\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={1} dir={props.theme.direction}>\n              <Households.Health\n                setShow={props.setShow}\n                setChooseModal={props.setChooseModal}\n              />\n            </TabPanel>\n            <TabPanel value={props.value} index={2} dir={props.theme.direction}>\n              <Households.Environment />\n            </TabPanel>\n          </SwipeableViews>\n        </>\n      );\n  }\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createSubAccount: (product) => dispatch(createSubAccount(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewAccount);\n","import React, { useState, useEffect } from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport { Tab, Nav } from \"react-bootstrap\";\nimport \"../UserAccount.css\";\nimport { Colors } from \"../../../lib/Colors\";\n\nimport { connect } from \"react-redux\";\nimport { getFirestoreData } from \"../../../../store/actions/dataActions\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\n\n// Get current Date and week number\nconst currentDate = new Date();\nvar oneJan = new Date(currentDate.getFullYear(), 0, 1);\nvar numberOfDays = Math.floor((currentDate - oneJan) / (24 * 60 * 60 * 1000));\nvar currentWeek = Math.ceil((currentDate.getDay() + 1 + numberOfDays) / 7);\n\n// function daysInMonth(month, year) {\n//   return new Date(year, month, 0).getDate();\n// }\n\n//Calculate week number\nfunction getWeekNumber(date, year, day) {\n  var oneJan = new Date(year, 0, 1);\n  var numberOfDays = Math.floor((date - oneJan) / (24 * 60 * 60 * 1000));\n  var week = Math.ceil((day + 1 + numberOfDays) / 7);\n  return week;\n}\n\nfunction MyChart(props) {\n  return (\n    <Chart\n      chartType=\"ColumnChart\"\n      data={props.data}\n      height=\"500px\"\n      loader={<div>Loading Chart</div>}\n      options={props.options}\n    />\n  );\n}\n\nconst ChartBuilder = (props) => {\n  return (\n    <MyChart\n      data={props.chartType}\n      options={{\n        title: `${props.title} Food Waste Performance`,\n        legend: { position: \"top\", maxLines: 5 },\n        colors: [Colors.brandTurqoise, Colors.brandYellow, Colors.brandGreen],\n        hAxis: { title: props.title, minValue: 0 },\n        vAxis: { title: \"Food Wastage\" },\n      }}\n    />\n  );\n};\n\nfunction ChartView(props) {\n  function useForceUpdate() {\n    const [value, setValue] = useState(0);\n    return () => setValue((value) => value + 1); //Update state to force render\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  //* Ideally these should be a single array/object for each type (i.e. Daily, Weekly, Monthly)\n  //* But I could not get that working, so this will do for the time being.\n  //Daily State\n  const [mon, setMon] = useState(0);\n  const [tue, setTue] = useState(0);\n  const [wed, setWed] = useState(0);\n  const [thur, setThur] = useState(0);\n  const [fri, setFri] = useState(0);\n  const [sat, setSat] = useState(0);\n  const [sun, setSun] = useState(0);\n  const [monGHG, setMonGHG] = useState(0);\n  const [tueGHG, setTueGHG] = useState(0);\n  const [wedGHG, setWedGHG] = useState(0);\n  const [thurGHG, setThurGHG] = useState(0);\n  const [friGHG, setFriGHG] = useState(0);\n  const [satGHG, setSatGHG] = useState(0);\n  const [sunGHG, setSunGHG] = useState(0);\n  const [monCost, setMonCost] = useState(0);\n  const [tueCost, setTueCost] = useState(0);\n  const [wedCost, setWedCost] = useState(0);\n  const [thurCost, setThurCost] = useState(0);\n  const [friCost, setFriCost] = useState(0);\n  const [satCost, setSatCost] = useState(0);\n  const [sunCost, setSunCost] = useState(0);\n\n  const defaultDaily = {\n    mon: 0,\n    tue: 0,\n    wed: 0,\n    thur: 0,\n    fri: 0,\n    sat: 0,\n    sun: 0,\n  };\n\n  //* REPLACEMENT CODE FOR SETTING DAILY-MONTHLY-YEARLY\n  // const [dailyWeight, setDailyWeight] = useState({ ...defaultDaily });\n  // const [dailyGHG, setDailyGHG] = useState({ ...defaultDaily });\n  // const [dailyCost, setDailyCost] = useState({ ...defaultDaily });\n  // setDailyWeight({\n  //   ...dailyWeight,\n  //   sun: dailyWeight.sun + newWeight,\n  // });\n\n  //Weekly State\n  const [first, setFirst] = useState(0);\n  const [second, setSecond] = useState(0);\n  const [third, setThird] = useState(0);\n  const [fourth, setFourth] = useState(0);\n  const [firstGHG, setFirstGHG] = useState(0);\n  const [secondGHG, setSecondGHG] = useState(0);\n  const [thirdGHG, setThirdGHG] = useState(0);\n  const [fourthGHG, setFourthGHG] = useState(0);\n  const [firstCost, setFirstCost] = useState(0);\n  const [secondCost, setSecondCost] = useState(0);\n  const [thirdCost, setThirdCost] = useState(0);\n  const [fourthCost, setFourthCost] = useState(0);\n\n  //Monthly State\n  const [jan, setJan] = useState(0);\n  const [feb, setFeb] = useState(0);\n  const [mar, setMar] = useState(0);\n  const [apr, setApr] = useState(0);\n  const [may, setMay] = useState(0);\n  const [jun, setJun] = useState(0);\n  const [jul, setJul] = useState(0);\n  const [aug, setAug] = useState(0);\n  const [sep, setSep] = useState(0);\n  const [oct, setOct] = useState(0);\n  const [nov, setNov] = useState(0);\n  const [dec, setDec] = useState(0);\n  const [janGHG, setJanGHG] = useState(0);\n  const [febGHG, setFebGHG] = useState(0);\n  const [marGHG, setMarGHG] = useState(0);\n  const [aprGHG, setAprGHG] = useState(0);\n  const [mayGHG, setMayGHG] = useState(0);\n  const [junGHG, setJunGHG] = useState(0);\n  const [julGHG, setJulGHG] = useState(0);\n  const [augGHG, setAugGHG] = useState(0);\n  const [sepGHG, setSepGHG] = useState(0);\n  const [octGHG, setOctGHG] = useState(0);\n  const [novGHG, setNovGHG] = useState(0);\n  const [decGHG, setDecGHG] = useState(0);\n  const [janCost, setJanCost] = useState(0);\n  const [febCost, setFebCost] = useState(0);\n  const [marCost, setMarCost] = useState(0);\n  const [aprCost, setAprCost] = useState(0);\n  const [mayCost, setMayCost] = useState(0);\n  const [junCost, setJunCost] = useState(0);\n  const [julCost, setJulCost] = useState(0);\n  const [augCost, setAugCost] = useState(0);\n  const [sepCost, setSepCost] = useState(0);\n  const [octCost, setOctCost] = useState(0);\n  const [novCost, setNovCost] = useState(0);\n  const [decCost, setDecCost] = useState(0);\n\n  function clearState() {\n    //Days\n    setMon(0);\n    setTue(0);\n    setWed(0);\n    setThur(0);\n    setFri(0);\n    setSat(0);\n    setSun(0);\n    setMonGHG(0);\n    setTueGHG(0);\n    setWedGHG(0);\n    setThurGHG(0);\n    setFriGHG(0);\n    setSatGHG(0);\n    setSunGHG(0);\n    setMonCost(0);\n    setTueCost(0);\n    setWedCost(0);\n    setThurCost(0);\n    setFriCost(0);\n    setSatCost(0);\n    setSunCost(0);\n    //Weeks\n    setFirst(0);\n    setSecond(0);\n    setThird(0);\n    setFourth(0);\n    setFirstGHG(0);\n    setSecondGHG(0);\n    setThirdGHG(0);\n    setFourthGHG(0);\n    setFirstCost(0);\n    setSecondCost(0);\n    setThirdCost(0);\n    setFourthCost(0);\n\n    //Months\n    setJan(0);\n    setFeb(0);\n    setMar(0);\n    setApr(0);\n    setMay(0);\n    setJun(0);\n    setJul(0);\n    setAug(0);\n    setSep(0);\n    setOct(0);\n    setNov(0);\n    setDec(0);\n    setJanGHG(0);\n    setFebGHG(0);\n    setMarGHG(0);\n    setAprGHG(0);\n    setMayGHG(0);\n    setJunGHG(0);\n    setJulGHG(0);\n    setAugGHG(0);\n    setSepGHG(0);\n    setOctGHG(0);\n    setNovGHG(0);\n    setDecGHG(0);\n    setJanCost(0);\n    setFebCost(0);\n    setMarCost(0);\n    setAprCost(0);\n    setMayCost(0);\n    setJunCost(0);\n    setJulCost(0);\n    setAugCost(0);\n    setSepCost(0);\n    setOctCost(0);\n    setNovCost(0);\n    setDecCost(0);\n  }\n\n  //this defines fetchCharts method, maybe bring out method into chartfunction specific folder so that this can be generalised.\n  function fetchData() {\n    var data = {\n      masterCollection: \"data\",\n      collection: \"writtenFoodWasteData\",\n      uid: props.auth.uid,\n    };\n    props.getFirestoreData(data);\n  }\n\n  //this sends data request\n  // useEffect(() => {\n  //   if (props.data.length <= 0) fetchData();\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  useEffect(() => {\n    clearState();\n    if (props.data !== undefined && props.data !== null) {\n      updateCharts();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.data]);\n\n  const updateCharts = async () => {\n    var data = Object.values(props.data);\n    data.forEach((doc) => {\n      try {\n        var date = new Date(doc.date.seconds * 1000);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var dayOfMonth = date.getDate();\n        var day = date.getDay();\n        var week = getWeekNumber(date, year, day);\n      } catch (err) {\n        console.error(err);\n        return;\n      }\n\n      var weight = doc.foodWasteWeight;\n      var wu = doc.weightType;\n      var wm = 0;\n\n      var edibleIndeible = doc.edibleIndeible;\n\n      var cpu = doc.carbsPerUnit;\n      var cc = doc.carbsContent;\n      var cm = 0;\n      var fpu = doc.fatPerUnit;\n      var fc = doc.fatContent;\n      var fm = 0;\n      var ppu = doc.proteinPerUnit;\n      var pc = doc.proteinContent;\n      var pm = 0;\n\n      var cost = doc.foodWasteCost;\n      var currency = doc.currency;\n      var curm = 0;\n\n      var newWeight = 0;\n      var newGHG = 0;\n      var newCost = 0;\n\n      //Multipliers\n      switch (wu) {\n        default:\n        case \"kg\":\n        case \"l\":\n          wm = 1;\n          break;\n        case \"g\":\n        case \"ml\":\n          wm = 0.001;\n          break;\n        case \"oz\":\n          wm = 0.028;\n          break;\n        case \"lbs\":\n          wm = 0.454;\n          break;\n      }\n      switch (cpu) {\n        default:\n        case \"100g\":\n        case \"100ml\":\n          cm = 0.01;\n          break;\n        case \"500g\":\n        case \"500ml\":\n          cm = 0.002;\n          break;\n        case \"1l\":\n        case \"1kg\":\n          cm = 0.001;\n          break;\n      }\n      switch (fpu) {\n        default:\n        case \"100g\":\n        case \"100ml\":\n          fm = 0.01;\n          break;\n        case \"500g\":\n        case \"500ml\":\n          fm = 0.002;\n          break;\n        case \"1l\":\n        case \"1kg\":\n          fm = 0.001;\n          break;\n      }\n      switch (ppu) {\n        default:\n        case \"100g\":\n        case \"100ml\":\n          pm = 0.01;\n          break;\n        case \"500g\":\n        case \"500ml\":\n          pm = 0.002;\n          break;\n        case \"1l\":\n        case \"1kg\":\n          pm = 0.001;\n          break;\n      }\n      switch (currency) {\n        case \"GBP (£)\":\n          curm = 1;\n          break;\n        case \"USD ($)\":\n          curm = 1.404;\n          break;\n        case \"EUR (€)\":\n          curm = 1.161;\n          break;\n        default:\n          curm = 1;\n      }\n\n      //Weight-GHG-Cost\n      newWeight = Number((weight * wm).toFixed(3));\n      if (edibleIndeible === \"Edible\") {\n        newGHG = Number(\n          20 *\n            16.0424 *\n            wm *\n            weight *\n            (0.01852 * cm * cc + 0.01744 * pm * pc + 0.04608 * fm * fc)\n        );\n      } else {\n        newGHG = Number(weight * wm * 2.5);\n      }\n      newCost = Number(cost * curm * wm);\n\n      //Update Monthly\n      if (year === currentDate.getFullYear()) {\n        switch (month) {\n          case 0:\n            setJan((jan) => jan + newWeight);\n            setJanGHG((janGHG) => janGHG + newGHG);\n            setJanCost((janCost) => janCost + newCost);\n            break;\n          case 1:\n            setFeb((feb) => feb + newWeight);\n            setFebGHG((febGHG) => febGHG + newGHG);\n            setFebCost((febCost) => febCost + newCost);\n            break;\n          case 2:\n            setMar((mar) => mar + newWeight);\n            setMarGHG((marGHG) => marGHG + newGHG);\n            setMarCost((marCost) => marCost + newCost);\n            break;\n          case 3:\n            setApr((apr) => apr + newWeight);\n            setAprGHG((aprGHG) => aprGHG + newGHG);\n            setAprCost((aprCost) => aprCost + newCost);\n            break;\n          case 4:\n            setMay((may) => may + newWeight);\n            setMayGHG((mayGHG) => mayGHG + newGHG);\n            setMayCost((mayCost) => mayCost + newCost);\n            break;\n          case 5:\n            setJun((jun) => jun + newWeight);\n            setJunGHG((junGHG) => junGHG + newGHG);\n            setJunCost((junCost) => junCost + newCost);\n            break;\n          case 6:\n            setJul((jul) => jul + newWeight);\n            setJulGHG((julGHG) => julGHG + newGHG);\n            setJulCost((julCost) => julCost + newCost);\n            break;\n          case 7:\n            setAug((aug) => aug + newWeight);\n            setAugGHG((augGHG) => augGHG + newGHG);\n            setAugCost((augCost) => augCost + newCost);\n            break;\n          case 8:\n            setSep((sep) => sep + newWeight);\n            setSepGHG((sepGHG) => sepGHG + newGHG);\n            setSepCost((sepCost) => sepCost + newCost);\n            break;\n          case 9:\n            setOct((oct) => oct + newWeight);\n            setOctGHG((octGHG) => octGHG + newGHG);\n            setOctCost((octCost) => octCost + newCost);\n            break;\n          case 10:\n            setNov((nov) => nov + newWeight);\n            setNovGHG((novGHG) => novGHG + newGHG);\n            setNovCost((novCost) => novCost + newCost);\n            break;\n          case 11:\n            setDec((dec) => dec + newWeight);\n            setDecGHG((decGHG) => decGHG + newGHG);\n            setDecCost((decCost) => decCost + newCost);\n            break;\n          default:\n            break;\n        }\n      }\n      //Update Weekly\n      if (\n        year === currentDate.getFullYear() &&\n        month === currentDate.getMonth()\n      ) {\n        if (dayOfMonth >= 0 && dayOfMonth <= 7) {\n          setFirst((first) => first + newWeight);\n          setFirstGHG((firstGHG) => firstGHG + newGHG);\n          setFirstCost((firstCost) => firstCost + newCost);\n        } else if (dayOfMonth >= 8 && dayOfMonth <= 14) {\n          setSecond((second) => second + newWeight);\n          setSecondGHG((secondGHG) => secondGHG + newGHG);\n          setSecondCost((secondCost) => secondCost + newCost);\n        } else if (dayOfMonth >= 15 && dayOfMonth <= 21) {\n          setThird((third) => third + newWeight);\n          setThirdGHG((thirdGHG) => thirdGHG + newGHG);\n          setThirdCost((thirdCost) => thirdCost + newCost);\n        } else {\n          setFourth((fourth) => fourth + newWeight);\n          setFourthGHG((fourthGHG) => fourthGHG + newGHG);\n          setFourthCost((fourthCost) => fourthCost + newCost);\n        }\n      }\n\n      //Update Daily\n      if (year === currentDate.getFullYear() && currentWeek === week) {\n        console.log(currentWeek + \"/\" + week);\n        switch (day) {\n          case 0:\n            setSun((sun) => sun + newWeight);\n            setSunGHG((sunGHG) => sunGHG + newGHG);\n            setSunCost((sunCost) => sunCost + newCost);\n            break;\n          case 1:\n            setMon((mon) => mon + newWeight);\n            setMonGHG((monGHG) => monGHG + newGHG);\n            setMonCost((monCost) => monCost + newCost);\n            break;\n          case 2:\n            setTue((tue) => tue + newWeight);\n            setTueGHG((tueGHG) => tueGHG + newGHG);\n            setTueCost((tueCost) => tueCost + newCost);\n            break;\n          case 3:\n            setWed((wed) => wed + newWeight);\n            setWedGHG((wedGHG) => wedGHG + newGHG);\n            setWedCost((wedCost) => wedCost + newCost);\n            break;\n          case 4:\n            setThur((thur) => thur + newWeight);\n            setThurGHG((thurGHG) => thurGHG + newGHG);\n            setThurCost((thurCost) => thurCost + newCost);\n            break;\n          case 5:\n            setFri((fri) => fri + newWeight);\n            setFriGHG((friGHG) => friGHG + newGHG);\n            setFriCost((friCost) => friCost + newCost);\n            break;\n          case 6:\n            setSat((sat) => sat + newWeight);\n            setSatGHG((satGHG) => satGHG + newGHG);\n            setSatCost((satCost) => satCost + newCost);\n            break;\n          default:\n            break;\n        }\n      }\n    });\n  };\n\n  //Daily\n  const dailyChart = [\n    [\"Day\", \"Weight (KG)\", \"GHG (KG/CO2)\", \"Cost (£)\"],\n    [\"Mon\", mon, monGHG, monCost],\n    [\"Tue\", tue, tueGHG, tueCost],\n    [\"Wed\", wed, wedGHG, wedCost],\n    [\"Thu\", thur, thurGHG, thurCost],\n    [\"Fri\", fri, friGHG, friCost],\n    [\"Sat\", sat, satGHG, satCost],\n    [\"Sun\", sun, sunGHG, sunCost],\n  ];\n\n  // Weekly LOOK AT CHARTMONTH.JS\n  const weeklyChart = [\n    [\"Week\", \"Weight (KG)\", \"GHG (KG/CO2)\", \"Cost (£)\"],\n    [\"1st-7th\", first, firstGHG, firstCost],\n    [\"8th-14th\", second, secondGHG, secondCost],\n    [\"15th-21st\", third, thirdGHG, thirdCost],\n    [\"22nd-31st\", fourth, fourthGHG, fourthCost],\n  ];\n\n  //Monthly\n  const monthlyChart = [\n    [\"Month\", \"Weight (KG)\", \"GHG (KG/CO2)\", \"Cost (£)\"],\n    [\"Jan\", jan, janGHG, janCost],\n    [\"Feb\", feb, febGHG, febCost],\n    [\"Mar\", mar, marGHG, marCost],\n    [\"Apr\", apr, aprGHG, aprCost],\n    [\"May\", may, mayGHG, mayCost],\n    [\"Jun\", jun, junGHG, junCost],\n    [\"Jul\", jul, julGHG, julCost],\n    [\"Aug\", aug, augGHG, augCost],\n    [\"Sep\", sep, sepGHG, sepCost],\n    [\"Oct\", oct, octGHG, octCost],\n    [\"Nov\", nov, novGHG, novCost],\n    [\"Dec\", dec, decGHG, decCost],\n  ];\n\n  function chartType(title) {\n    switch (title) {\n      case \"Daily\":\n        return dailyChart;\n      case \"Weekly\":\n        return weeklyChart;\n      case \"Monthly\":\n        return monthlyChart;\n      default:\n        return dailyChart;\n    }\n  }\n\n  return (\n    //tabbed window with daily weekly monthly yearly\n    <PageWrap\n      header=\"Food Waste/Loss Chart\"\n      subtitle=\"View Food Waste/Loss\"\n      goTo=\"/account\"\n    >\n      <Tab.Container defaultActiveKey=\"daily\">\n        <Tab.Content>\n          <Tab.Pane eventKey=\"daily\" title=\"Daily\">\n            <ChartBuilder\n              title=\"Daily\"\n              chartType={chartType(\"Daily\")}\n              {...props}\n            />\n          </Tab.Pane>\n        </Tab.Content>\n        <Tab.Content>\n          <Tab.Pane eventKey=\"weekly\" title=\"Weekly\">\n            <ChartBuilder\n              title=\"Weekly\"\n              chartType={chartType(\"Weekly\")}\n              {...props}\n            />\n          </Tab.Pane>\n        </Tab.Content>\n        <Tab.Content>\n          <Tab.Pane eventKey=\"monthly\" title=\"Monthly\">\n            <ChartBuilder\n              title=\"Monthly\"\n              chartType={chartType(\"Monthly\")}\n              {...props}\n            />\n          </Tab.Pane>\n        </Tab.Content>\n        <Nav justify variant=\"pills\">\n          <Nav.Item>\n            <Nav.Link eventKey=\"daily\" onClick={forceUpdate}>\n              Daily\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"weekly\" onClick={forceUpdate}>\n              Weekly\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"monthly\" onClick={forceUpdate}>\n              Monthly\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n      </Tab.Container>\n    </PageWrap>\n  );\n}\n\n// Maps values in store to props in this file\n/*\n * Example using auth:\n * in class component, accessed via: this.props.auth\n * in functional component, accessed via: props.auth\n */\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n    data: state.firestore.data.FoodData,\n  };\n};\n\n//Maps specific function calls to dispatch (I think...)\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getFirestoreData: (product) => dispatch(getFirestoreData(product)),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect((props) => {\n    var uid,\n      masterCollection,\n      subColection = \"writtenFoodWasteData\";\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        subColection = \"writtenFoodLossData\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        subColection = \"writtenFoodLossData\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: masterCollection,\n        doc: uid,\n        subcollections: [{ collection: subColection }],\n        storeAs: \"FoodData\",\n      },\n    ];\n  })\n)(ChartView);\n","import React, { useState, useEffect } from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport { Tab, Nav } from \"react-bootstrap\";\nimport \"../UserAccount.css\";\nimport { Colors } from \"../../../lib/Colors\";\n\nimport { connect } from \"react-redux\";\nimport { getFirestoreData } from \"../../../../store/actions/dataActions\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport { PageWrap } from \"../../../SubComponents/PageWrap\";\n\n// Get current Date and week number\nconst currentDate = new Date();\nvar oneJan = new Date(currentDate.getFullYear(), 0, 1);\nvar numberOfDays = Math.floor((currentDate - oneJan) / (24 * 60 * 60 * 1000));\nvar currentWeek = Math.ceil((currentDate.getDay() + 1 + numberOfDays) / 7);\n\n// function daysInMonth(month, year) {\n//   return new Date(year, month, 0).getDate();\n// }\n\n//Calculate week number\nfunction getWeekNumber(date, year, day) {\n  var oneJan = new Date(year, 0, 1);\n  var numberOfDays = Math.floor((date - oneJan) / (24 * 60 * 60 * 1000));\n  var week = Math.ceil((day + 1 + numberOfDays) / 7);\n  return week;\n}\n\nfunction MyChart(props) {\n  return (\n    <Chart\n      chartType=\"ColumnChart\"\n      data={props.data}\n      height=\"500px\"\n      loader={<div>Loading Chart</div>}\n      options={props.options}\n    />\n  );\n}\n\nconst ChartBuilder = (props) => {\n  return (\n    <MyChart\n      data={props.chartType}\n      options={{\n        title: `${props.title} Food Waste Performance`,\n        legend: { position: \"top\", maxLines: 5 },\n        colors: [Colors.brandTurqoise, Colors.brandYellow, Colors.brandGreen],\n        hAxis: { title: props.title, minValue: 0 },\n        vAxis: { title: \"Food Wastage\" },\n      }}\n    />\n  );\n};\n\nfunction ChartView(props) {\n  function useForceUpdate() {\n    const [value, setValue] = useState(0);\n    return () => setValue((value) => value + 1); //Update state to force render\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  //* Ideally these should be a single array/object for each type (i.e. Daily, Weekly, Monthly)\n  //* But I could not get that working, so this will do for the time being.\n  //Daily State\n  const [mon, setMon] = useState(0);\n  const [tue, setTue] = useState(0);\n  const [wed, setWed] = useState(0);\n  const [thur, setThur] = useState(0);\n  const [fri, setFri] = useState(0);\n  const [sat, setSat] = useState(0);\n  const [sun, setSun] = useState(0);\n  const [monGHG, setMonGHG] = useState(0);\n  const [tueGHG, setTueGHG] = useState(0);\n  const [wedGHG, setWedGHG] = useState(0);\n  const [thurGHG, setThurGHG] = useState(0);\n  const [friGHG, setFriGHG] = useState(0);\n  const [satGHG, setSatGHG] = useState(0);\n  const [sunGHG, setSunGHG] = useState(0);\n  const [monCost, setMonCost] = useState(0);\n  const [tueCost, setTueCost] = useState(0);\n  const [wedCost, setWedCost] = useState(0);\n  const [thurCost, setThurCost] = useState(0);\n  const [friCost, setFriCost] = useState(0);\n  const [satCost, setSatCost] = useState(0);\n  const [sunCost, setSunCost] = useState(0);\n\n  const defaultDaily = {\n    mon: 0,\n    tue: 0,\n    wed: 0,\n    thur: 0,\n    fri: 0,\n    sat: 0,\n    sun: 0,\n  };\n\n  //* REPLACEMENT CODE FOR SETTING DAILY-MONTHLY-YEARLY\n  // const [dailyWeight, setDailyWeight] = useState({ ...defaultDaily });\n  // const [dailyGHG, setDailyGHG] = useState({ ...defaultDaily });\n  // const [dailyCost, setDailyCost] = useState({ ...defaultDaily });\n  // setDailyWeight({\n  //   ...dailyWeight,\n  //   sun: dailyWeight.sun + newWeight,\n  // });\n\n  //Weekly State\n  const [first, setFirst] = useState(0);\n  const [second, setSecond] = useState(0);\n  const [third, setThird] = useState(0);\n  const [fourth, setFourth] = useState(0);\n  const [firstGHG, setFirstGHG] = useState(0);\n  const [secondGHG, setSecondGHG] = useState(0);\n  const [thirdGHG, setThirdGHG] = useState(0);\n  const [fourthGHG, setFourthGHG] = useState(0);\n  const [firstCost, setFirstCost] = useState(0);\n  const [secondCost, setSecondCost] = useState(0);\n  const [thirdCost, setThirdCost] = useState(0);\n  const [fourthCost, setFourthCost] = useState(0);\n\n  //Monthly State\n  const [jan, setJan] = useState(0);\n  const [feb, setFeb] = useState(0);\n  const [mar, setMar] = useState(0);\n  const [apr, setApr] = useState(0);\n  const [may, setMay] = useState(0);\n  const [jun, setJun] = useState(0);\n  const [jul, setJul] = useState(0);\n  const [aug, setAug] = useState(0);\n  const [sep, setSep] = useState(0);\n  const [oct, setOct] = useState(0);\n  const [nov, setNov] = useState(0);\n  const [dec, setDec] = useState(0);\n  const [janGHG, setJanGHG] = useState(0);\n  const [febGHG, setFebGHG] = useState(0);\n  const [marGHG, setMarGHG] = useState(0);\n  const [aprGHG, setAprGHG] = useState(0);\n  const [mayGHG, setMayGHG] = useState(0);\n  const [junGHG, setJunGHG] = useState(0);\n  const [julGHG, setJulGHG] = useState(0);\n  const [augGHG, setAugGHG] = useState(0);\n  const [sepGHG, setSepGHG] = useState(0);\n  const [octGHG, setOctGHG] = useState(0);\n  const [novGHG, setNovGHG] = useState(0);\n  const [decGHG, setDecGHG] = useState(0);\n  const [janCost, setJanCost] = useState(0);\n  const [febCost, setFebCost] = useState(0);\n  const [marCost, setMarCost] = useState(0);\n  const [aprCost, setAprCost] = useState(0);\n  const [mayCost, setMayCost] = useState(0);\n  const [junCost, setJunCost] = useState(0);\n  const [julCost, setJulCost] = useState(0);\n  const [augCost, setAugCost] = useState(0);\n  const [sepCost, setSepCost] = useState(0);\n  const [octCost, setOctCost] = useState(0);\n  const [novCost, setNovCost] = useState(0);\n  const [decCost, setDecCost] = useState(0);\n\n  function clearState() {\n    //Days\n    setMon(0);\n    setTue(0);\n    setWed(0);\n    setThur(0);\n    setFri(0);\n    setSat(0);\n    setSun(0);\n    setMonGHG(0);\n    setTueGHG(0);\n    setWedGHG(0);\n    setThurGHG(0);\n    setFriGHG(0);\n    setSatGHG(0);\n    setSunGHG(0);\n    setMonCost(0);\n    setTueCost(0);\n    setWedCost(0);\n    setThurCost(0);\n    setFriCost(0);\n    setSatCost(0);\n    setSunCost(0);\n    //Weeks\n    setFirst(0);\n    setSecond(0);\n    setThird(0);\n    setFourth(0);\n    setFirstGHG(0);\n    setSecondGHG(0);\n    setThirdGHG(0);\n    setFourthGHG(0);\n    setFirstCost(0);\n    setSecondCost(0);\n    setThirdCost(0);\n    setFourthCost(0);\n\n    //Months\n    setJan(0);\n    setFeb(0);\n    setMar(0);\n    setApr(0);\n    setMay(0);\n    setJun(0);\n    setJul(0);\n    setAug(0);\n    setSep(0);\n    setOct(0);\n    setNov(0);\n    setDec(0);\n    setJanGHG(0);\n    setFebGHG(0);\n    setMarGHG(0);\n    setAprGHG(0);\n    setMayGHG(0);\n    setJunGHG(0);\n    setJulGHG(0);\n    setAugGHG(0);\n    setSepGHG(0);\n    setOctGHG(0);\n    setNovGHG(0);\n    setDecGHG(0);\n    setJanCost(0);\n    setFebCost(0);\n    setMarCost(0);\n    setAprCost(0);\n    setMayCost(0);\n    setJunCost(0);\n    setJulCost(0);\n    setAugCost(0);\n    setSepCost(0);\n    setOctCost(0);\n    setNovCost(0);\n    setDecCost(0);\n  }\n\n  //this defines fetchCharts method, maybe bring out method into chartfunction specific folder so that this can be generalised.\n  function fetchData() {\n    var data = {\n      masterCollection: \"data\",\n      collection: \"writtenGiftFoodData\",\n      uid: props.auth.uid,\n    };\n    props.getFirestoreData(data);\n  }\n\n  //this sends data request\n  // useEffect(() => {\n  //   if (props.data.length <= 0) fetchData();\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, []);\n\n  useEffect(() => {\n    clearState();\n    if (props.data !== undefined && props.data !== null) {\n      updateCharts();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.data]);\n\n  const updateCharts = async () => {\n    var data = Object.values(props.data);\n    data.forEach((doc) => {\n      try {\n        var date = new Date(doc.date.seconds * 1000);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var dayOfMonth = date.getDate();\n        var day = date.getDay();\n        var week = getWeekNumber(date, year, day);\n      } catch (err) {\n        console.error(err);\n        return;\n      }\n\n      var weight = doc.foodWasteWeight;\n      var wu = doc.weightType;\n      var wm = 0;\n\n      var edibleIndeible = doc.edibleIndeible;\n\n      var cpu = doc.carbsPerUnit;\n      var cc = doc.carbsContent;\n      var cm = 0;\n      var fpu = doc.fatPerUnit;\n      var fc = doc.fatContent;\n      var fm = 0;\n      var ppu = doc.proteinPerUnit;\n      var pc = doc.proteinContent;\n      var pm = 0;\n\n      var cost = doc.foodWasteCost;\n      var currency = doc.currency;\n      var curm = 0;\n\n      var newWeight = 0;\n      var newGHG = 0;\n      var newCost = 0;\n\n      //Multipliers\n      switch (wu) {\n        default:\n        case \"kg\":\n        case \"l\":\n          wm = 1;\n          break;\n        case \"g\":\n        case \"ml\":\n          wm = 0.001;\n          break;\n        case \"oz\":\n          wm = 0.028;\n          break;\n        case \"lbs\":\n          wm = 0.454;\n          break;\n      }\n      switch (cpu) {\n        default:\n        case \"100g\":\n        case \"100ml\":\n          cm = 0.01;\n          break;\n        case \"500g\":\n        case \"500ml\":\n          cm = 0.002;\n          break;\n        case \"1l\":\n        case \"1kg\":\n          cm = 0.001;\n          break;\n      }\n      switch (fpu) {\n        default:\n        case \"100g\":\n        case \"100ml\":\n          fm = 0.01;\n          break;\n        case \"500g\":\n        case \"500ml\":\n          fm = 0.002;\n          break;\n        case \"1l\":\n        case \"1kg\":\n          fm = 0.001;\n          break;\n      }\n      switch (ppu) {\n        default:\n        case \"100g\":\n        case \"100ml\":\n          pm = 0.01;\n          break;\n        case \"500g\":\n        case \"500ml\":\n          pm = 0.002;\n          break;\n        case \"1l\":\n        case \"1kg\":\n          pm = 0.001;\n          break;\n      }\n      switch (currency) {\n        case \"GBP (£)\":\n          curm = 1;\n          break;\n        case \"USD ($)\":\n          curm = 1.404;\n          break;\n        case \"EUR (€)\":\n          curm = 1.161;\n          break;\n        default:\n          curm = 1;\n      }\n\n      //Weight-GHG-Cost\n      newWeight = Number((weight * wm).toFixed(3));\n      if (edibleIndeible === \"Edible\") {\n        newGHG = Number(\n          20 *\n            16.0424 *\n            wm *\n            weight *\n            (0.01852 * cm * cc + 0.01744 * pm * pc + 0.04608 * fm * fc)\n        );\n      } else {\n        newGHG = Number(weight * wm * 2.5);\n      }\n      newCost = Number(cost * curm * wm);\n\n      //Update Monthly\n      if (year === currentDate.getFullYear()) {\n        switch (month) {\n          case 0:\n            setJan((jan) => jan + newWeight);\n            setJanGHG((janGHG) => janGHG + newGHG);\n            setJanCost((janCost) => janCost + newCost);\n            break;\n          case 1:\n            setFeb((feb) => feb + newWeight);\n            setFebGHG((febGHG) => febGHG + newGHG);\n            setFebCost((febCost) => febCost + newCost);\n            break;\n          case 2:\n            setMar((mar) => mar + newWeight);\n            setMarGHG((marGHG) => marGHG + newGHG);\n            setMarCost((marCost) => marCost + newCost);\n            break;\n          case 3:\n            setApr((apr) => apr + newWeight);\n            setAprGHG((aprGHG) => aprGHG + newGHG);\n            setAprCost((aprCost) => aprCost + newCost);\n            break;\n          case 4:\n            setMay((may) => may + newWeight);\n            setMayGHG((mayGHG) => mayGHG + newGHG);\n            setMayCost((mayCost) => mayCost + newCost);\n            break;\n          case 5:\n            setJun((jun) => jun + newWeight);\n            setJunGHG((junGHG) => junGHG + newGHG);\n            setJunCost((junCost) => junCost + newCost);\n            break;\n          case 6:\n            setJul((jul) => jul + newWeight);\n            setJulGHG((julGHG) => julGHG + newGHG);\n            setJulCost((julCost) => julCost + newCost);\n            break;\n          case 7:\n            setAug((aug) => aug + newWeight);\n            setAugGHG((augGHG) => augGHG + newGHG);\n            setAugCost((augCost) => augCost + newCost);\n            break;\n          case 8:\n            setSep((sep) => sep + newWeight);\n            setSepGHG((sepGHG) => sepGHG + newGHG);\n            setSepCost((sepCost) => sepCost + newCost);\n            break;\n          case 9:\n            setOct((oct) => oct + newWeight);\n            setOctGHG((octGHG) => octGHG + newGHG);\n            setOctCost((octCost) => octCost + newCost);\n            break;\n          case 10:\n            setNov((nov) => nov + newWeight);\n            setNovGHG((novGHG) => novGHG + newGHG);\n            setNovCost((novCost) => novCost + newCost);\n            break;\n          case 11:\n            setDec((dec) => dec + newWeight);\n            setDecGHG((decGHG) => decGHG + newGHG);\n            setDecCost((decCost) => decCost + newCost);\n            break;\n          default:\n            break;\n        }\n      }\n      //Update Weekly\n      if (\n        year === currentDate.getFullYear() &&\n        month === currentDate.getMonth()\n      ) {\n        if (dayOfMonth >= 0 && dayOfMonth <= 7) {\n          setFirst((first) => first + newWeight);\n          setFirstGHG((firstGHG) => firstGHG + newGHG);\n          setFirstCost((firstCost) => firstCost + newCost);\n        } else if (dayOfMonth >= 8 && dayOfMonth <= 14) {\n          setSecond((second) => second + newWeight);\n          setSecondGHG((secondGHG) => secondGHG + newGHG);\n          setSecondCost((secondCost) => secondCost + newCost);\n        } else if (dayOfMonth >= 15 && dayOfMonth <= 21) {\n          setThird((third) => third + newWeight);\n          setThirdGHG((thirdGHG) => thirdGHG + newGHG);\n          setThirdCost((thirdCost) => thirdCost + newCost);\n        } else {\n          setFourth((fourth) => fourth + newWeight);\n          setFourthGHG((fourthGHG) => fourthGHG + newGHG);\n          setFourthCost((fourthCost) => fourthCost + newCost);\n        }\n      }\n\n      //Update Daily\n      if (year === currentDate.getFullYear() && currentWeek === week) {\n        console.log(currentWeek + \"/\" + week);\n        switch (day) {\n          case 0:\n            setSun((sun) => sun + newWeight);\n            setSunGHG((sunGHG) => sunGHG + newGHG);\n            setSunCost((sunCost) => sunCost + newCost);\n            break;\n          case 1:\n            setMon((mon) => mon + newWeight);\n            setMonGHG((monGHG) => monGHG + newGHG);\n            setMonCost((monCost) => monCost + newCost);\n            break;\n          case 2:\n            setTue((tue) => tue + newWeight);\n            setTueGHG((tueGHG) => tueGHG + newGHG);\n            setTueCost((tueCost) => tueCost + newCost);\n            break;\n          case 3:\n            setWed((wed) => wed + newWeight);\n            setWedGHG((wedGHG) => wedGHG + newGHG);\n            setWedCost((wedCost) => wedCost + newCost);\n            break;\n          case 4:\n            setThur((thur) => thur + newWeight);\n            setThurGHG((thurGHG) => thurGHG + newGHG);\n            setThurCost((thurCost) => thurCost + newCost);\n            break;\n          case 5:\n            setFri((fri) => fri + newWeight);\n            setFriGHG((friGHG) => friGHG + newGHG);\n            setFriCost((friCost) => friCost + newCost);\n            break;\n          case 6:\n            setSat((sat) => sat + newWeight);\n            setSatGHG((satGHG) => satGHG + newGHG);\n            setSatCost((satCost) => satCost + newCost);\n            break;\n          default:\n            break;\n        }\n      }\n    });\n  };\n\n  //Daily\n  const dailyChart = [\n    [\"Day\", \"Weight (KG)\", \"GHG (KG/CO2)\", \"Cost (£)\"],\n    [\"Mon\", mon, monGHG, monCost],\n    [\"Tue\", tue, tueGHG, tueCost],\n    [\"Wed\", wed, wedGHG, wedCost],\n    [\"Thu\", thur, thurGHG, thurCost],\n    [\"Fri\", fri, friGHG, friCost],\n    [\"Sat\", sat, satGHG, satCost],\n    [\"Sun\", sun, sunGHG, sunCost],\n  ];\n\n  // Weekly LOOK AT CHARTMONTH.JS\n  const weeklyChart = [\n    [\"Week\", \"Weight (KG)\", \"GHG (KG/CO2)\", \"Cost (£)\"],\n    [\"1st-7th\", first, firstGHG, firstCost],\n    [\"8th-14th\", second, secondGHG, secondCost],\n    [\"15th-21st\", third, thirdGHG, thirdCost],\n    [\"22nd-31st\", fourth, fourthGHG, fourthCost],\n  ];\n\n  //Monthly\n  const monthlyChart = [\n    [\"Month\", \"Weight (KG)\", \"GHG (KG/CO2)\", \"Cost (£)\"],\n    [\"Jan\", jan, janGHG, janCost],\n    [\"Feb\", feb, febGHG, febCost],\n    [\"Mar\", mar, marGHG, marCost],\n    [\"Apr\", apr, aprGHG, aprCost],\n    [\"May\", may, mayGHG, mayCost],\n    [\"Jun\", jun, junGHG, junCost],\n    [\"Jul\", jul, julGHG, julCost],\n    [\"Aug\", aug, augGHG, augCost],\n    [\"Sep\", sep, sepGHG, sepCost],\n    [\"Oct\", oct, octGHG, octCost],\n    [\"Nov\", nov, novGHG, novCost],\n    [\"Dec\", dec, decGHG, decCost],\n  ];\n\n  function chartType(title) {\n    switch (title) {\n      case \"Daily\":\n        return dailyChart;\n      case \"Weekly\":\n        return weeklyChart;\n      case \"Monthly\":\n        return monthlyChart;\n      default:\n        return dailyChart;\n    }\n  }\n\n  return (\n    //tabbed window with daily weekly monthly yearly\n    <PageWrap\n      header=\"Gifted Food Chart\"\n      subtitle=\"View Gifted Foods\"\n      goTo=\"/account\"\n    >\n      <Tab.Container defaultActiveKey=\"daily\">\n        <Tab.Content>\n          <Tab.Pane eventKey=\"daily\" title=\"Daily\">\n            <ChartBuilder\n              title=\"Daily\"\n              chartType={chartType(\"Daily\")}\n              {...props}\n            />\n          </Tab.Pane>\n        </Tab.Content>\n        <Tab.Content>\n          <Tab.Pane eventKey=\"weekly\" title=\"Weekly\">\n            <ChartBuilder\n              title=\"Weekly\"\n              chartType={chartType(\"Weekly\")}\n              {...props}\n            />\n          </Tab.Pane>\n        </Tab.Content>\n        <Tab.Content>\n          <Tab.Pane eventKey=\"monthly\" title=\"Monthly\">\n            <ChartBuilder\n              title=\"Monthly\"\n              chartType={chartType(\"Monthly\")}\n              {...props}\n            />\n          </Tab.Pane>\n        </Tab.Content>\n        <Nav justify variant=\"pills\">\n          <Nav.Item>\n            <Nav.Link eventKey=\"daily\" onClick={forceUpdate}>\n              Daily\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"weekly\" onClick={forceUpdate}>\n              Weekly\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"monthly\" onClick={forceUpdate}>\n              Monthly\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n      </Tab.Container>\n    </PageWrap>\n  );\n}\n\n// Maps values in store to props in this file\n/*\n * Example using auth:\n * in class component, accessed via: this.props.auth\n * in functional component, accessed via: props.auth\n */\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n    profile: state.firebase.profile,\n    data: state.firestore.data.FoodData,\n  };\n};\n\n//Maps specific function calls to dispatch (I think...)\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getFirestoreData: (product) => dispatch(getFirestoreData(product)),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect((props) => {\n    var uid,\n      masterCollection,\n      subColection = \"writtenGiftFoodData\";\n    switch (props.profile.type) {\n      case \"business_admin\":\n        masterCollection = \"business_users\";\n        uid = props.auth.uid;\n        break;\n      case \"business_sub\":\n        masterCollection = \"business_users\";\n        uid = props.profile.admin;\n        break;\n      case \"academic_admin\":\n        masterCollection = \"academic_users\";\n        uid = props.auth.uid;\n        break;\n      case \"academic_sub\":\n        masterCollection = \"academic_users\";\n        uid = props.profile.admin;\n        break;\n      case \"farm_admin\":\n        masterCollection = \"farm_users\";\n        subColection = \"writtenFoodLossData\";\n        uid = props.auth.uid;\n        break;\n      case \"farm_sub\":\n        masterCollection = \"farm_users\";\n        subColection = \"writtenFoodLossData\";\n        uid = props.profile.admin;\n        break;\n      case \"household_admin\":\n        masterCollection = \"household_users\";\n        uid = props.auth.uid;\n        break;\n      case \"household_sub\":\n        masterCollection = \"household_users\";\n        uid = props.profile.admin;\n        break;\n      default:\n        masterCollection = \"data\";\n        uid = props.auth.uid;\n        break;\n    }\n    if (!props.auth.uid) return [];\n    return [\n      {\n        collection: masterCollection,\n        doc: uid,\n        subcollections: [{ collection: subColection }],\n        storeAs: \"FoodData\",\n      },\n    ];\n  })\n)(ChartView);\n","import React, { useState, useEffect } from \"react\";\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect,\n} from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n//* Pages\nimport Login from \"./components/Pages/Auth/LogIn\";\nimport LandingPage from \"./components/Pages/Auth/Landing\";\nimport AboutUs from \"./components/Pages/AboutUs\";\nimport Contact from \"./components/Pages/Contact\";\n\nimport Homepage from \"./components/Pages/Account/Consultant/Homepage/Homepage\";\nimport Question2 from \"./components/Pages/Account/Consultant/Question/Question2\";\nimport OnboardMessage from \"./components/Pages/Account/Consultant/Question/OnboardMessage\";\nimport ConsultantLogin from \"./components/Pages/Account/Consultant/Login/ConsultantLogin\";\nimport ConsultantAccount from \"./components/Pages/Account/Consultant/Login/ConsultantAccount\";\nimport ConsultantSetting from \"./components/Pages/Account/Consultant/Login/ConsultantSetting\";\n\nimport SignUp from \"./components/Pages/Auth/SignUp\";\nimport Settings from \"./components/Pages/Auth/Settings\";\nimport Questionnaire from \"./components/Pages/Auth/Questionnaire\";\nimport NotFound from \"./components/Pages/NotFound\";\nimport ForgotPassword from \"./components/Pages/ForgotPassword\";\nimport PlanToSave from \"./components/Pages/Account/PlanToSave/PlanToSave\";\nimport ChangePassword from \"./components/Pages/Account/ChangePassword\";\nimport Map from \"./components/Pages/Account/Map\";\nimport Admin from \"./components/Pages/Admin\";\n\nimport FoodWaste from \"./components/Pages/Account/Personal/FoodWaste\";\nimport FoodWasteEdible from \"./components/Pages/Account/Personal/FoodWasteEdible\";\n\nimport GiftFood from \"./components/Pages/Account/Personal/GiftFood\";\nimport FoodLoss from \"./components/Pages/Account/Farm/FoodLoss\";\nimport FoodWasteBusiness from \"./components/Pages/Account/Business/FoodWaste\";\nimport FoodIntake from \"./components/Pages/Account/Personal/FoodIntake\";\n\nimport FoodReduction from \"./components/Pages/FoodReduction\";\nimport InfoTable from \"./components/Pages/InfoTable\";\n\nimport ProductListing from \"./components/Pages/Account/products/ProductListing\";\n\nimport ReserveItems from \"./components/Pages/Account/ReserveItems\";\n\nimport FarmPlan from \"./components/Pages/Account/Farm/Marketplace/FarmPlan\";\nimport FarmerAuth from \"./components/Pages/Account/Farm/Marketplace/Auth/Farmer-Auth\";\nimport ConsumerAuth from \"./components/Pages/Account/Personal/Marketplace/ConsumerAuth\";\nimport MealPlan from \"./components/Pages/Account/Personal/Marketplace/MealPlanComp/MealPlan\";\nimport NutrientGap from \"./components/Pages/Account/Personal/NutrientGap\";\nimport ViewProducts from \"./components/Pages/Account/Farm/ViewProducts\";\n\nimport FoodWasteAcademic from \"./components/Pages/Account/Academic/FoodWaste\";\nimport FoodIntakeAcademic from \"./components/Pages/Account/Academic/FoodIntakeAcademic\";\nimport FoodSurplusAcademic from \"./components/Pages/Account/Academic/FoodSurplusAcademic\";\n\nimport RestaurantShoppingListPlanner from \"./components/Pages/Account/Business/Restaurant/RestaurantShoppingListPlanner\";\nimport RestaurantInventory from \"./components/Pages/Account/Business/Restaurant/RestaurantInventory\";\nimport RestaurantDashboard from \"./components/Pages/Account/Business/Restaurant/RestaurantDashboard\";\nimport RestaurantMealPlan from \"./components/Pages/Account/Business/Restaurant/RestaurantMealPlan\";\n\nimport NewAccount from \"./components/Pages/Account/Account\";\n\n// import Example from \"./components/Pages/Account/Example\";\n\nimport { Notifications } from \"react-push-notification\";\n\nimport { connect } from \"react-redux\";\nimport {\n\tBrowserView,\n\tMobileView,\n\t//isMobile,\n\t//isBrowser,\n} from \"react-device-detect\";\n\n//* Cloud Messaging\nimport { Toast } from \"react-bootstrap\";\nimport { getToken, onMessageListener } from \"./config/fbConfig\";\n\n//* Chart.js\nimport ChartView from \"./components/Pages/Account/Charts/Chart\";\nimport GiftFoodChart from \"./components/Pages/Account/Charts/GiftFoodChart\";\n\nimport Nutrients from \"./components/Pages/Account/Farm/Marketplace/Nutrients\";\n\nconst App = (props) => {\n\tconst [uid, setUid] = useState(props.auth.uid);\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (props.auth.uid) setIsLoggedIn(true);\n\t\tif (!props.auth.uid) return <Redirect to=\"/landing\" />;\n\t}, [props.auth.uid]);\n\n\t//\n\t//Google Cloud Messaging code\n\tconst [show, setShow] = useState(false);\n\tconst [notification, setNotification] = useState({\n\t\ttitle: \"\",\n\t\tbody: \"\",\n\t\timage: \"\",\n\t});\n\tconst [isTokenFound, setTokenFound] = useState(false);\n\tgetToken(setTokenFound);\n\n\tonMessageListener()\n\t\t.then((payload) => {\n\t\t\tsetShow(true);\n\t\t\tsetNotification({\n\t\t\t\timage: payload.notification.image,\n\t\t\t\ttitle: payload.notification.title,\n\t\t\t\tbody: payload.notification.body,\n\t\t\t});\n\t\t})\n\t\t.catch((err) => console.log(\"failed: \", err));\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Notifications position=\"top-right\" />\n\n\t\t\t<Router>\n\t\t\t\t<Toast\n\t\t\t\t\tonClose={() => setShow(false)}\n\t\t\t\t\tshow={show}\n\t\t\t\t\tdelay={10000}\n\t\t\t\t\tautohide\n\t\t\t\t\tanimation\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: 70,\n\t\t\t\t\t\tright: 20,\n\t\t\t\t\t\twidth: 300,\n\t\t\t\t\t\tzIndex: 1,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toast.Header>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={notification.image}\n\t\t\t\t\t\t\tclassName=\"rounded me-2\"\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tstyle={{ width: 20, height: 20, margin: 10 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<strong className=\"mr-auto\">{notification.title}</strong>\n\t\t\t\t\t\t<small>just now</small>\n\t\t\t\t\t</Toast.Header>\n\t\t\t\t\t<Toast.Body style={{ backgroundColor: \"white\" }}>\n\t\t\t\t\t\t{notification.body}\n\t\t\t\t\t</Toast.Body>\n\t\t\t\t</Toast>\n\t\t\t\t<div>\n\t\t\t\t\t<MobileView>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\trender={() =>\n\t\t\t\t\t\t\t\tisLoggedIn ? (\n\t\t\t\t\t\t\t\t\t<Redirect to=\"/account\" />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Redirect to=\"/landing\" />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</MobileView>\n\n\t\t\t\t\t<BrowserView>\n\t\t\t\t\t\t<Route exact path=\"/\" render={() => <Redirect to=\"/landing\" />} />\n\t\t\t\t\t</BrowserView>\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{/* <Route path=\"/example\" exact component={Example} /> */}\n\t\t\t\t\t\t<Route path=\"/login\" exact component={Login} />\n\t\t\t\t\t\t<Route path=\"/admin\" exact component={Admin} />\n\t\t\t\t\t\t<Route path=\"/landing\" exact component={LandingPage} />\n\t\t\t\t\t\t<Route path=\"/about-us\" exact component={AboutUs} />\n\t\t\t\t\t\t<Route path=\"/signup\" exact component={SignUp} />\n\t\t\t\t\t\t<Route path=\"/settings\" exact component={Settings} />\n\t\t\t\t\t\t<Route path=\"/questionnaire\" exact component={Questionnaire} />\n\t\t\t\t\t\t<Route path=\"/contact\" exact component={Contact} />\n\t\t\t\t\t\t<Route path=\"/forgot-password\" exact component={ForgotPassword} />\n\n\t\t\t\t\t\t<Route exact path=\"/consultants\" component={Homepage} />\n\t\t\t\t\t\t<Route path=\"/consultants/question2\" exact component={Question2} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/consultants/onboard\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={OnboardMessage}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path=\"/consultant-login\" exact component={ConsultantLogin} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/consultant-account\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={ConsultantAccount}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/consultant-settings\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={ConsultantSetting}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Route path=\"/account\" exact component={NewAccount} />\n\t\t\t\t\t\t<Route path=\"/pts\" exact component={PlanToSave} />\n\t\t\t\t\t\t<Route path=\"/change-password\" exact component={ChangePassword} />\n\t\t\t\t\t\t<Route path=\"/view-map\" exact component={Map} />\n\n\t\t\t\t\t\t<Route path=\"/food-waste\" exact component={FoodWaste} />\n\t\t\t\t\t\t<Route path=\"/gift-food\" exact component={GiftFood} />\n\t\t\t\t\t\t<Route path=\"/food-loss\" exact component={FoodLoss} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/food-wasteBusiness\"\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tcomponent={FoodWasteBusiness}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path=\"/food-intake\" exact component={FoodIntake} />\n\t\t\t\t\t\t<Route path=\"/table\" component={InfoTable} />\n\n\t\t\t\t\t\t<Route path=\"/chart\" exact component={ChartView} />\n\n\t\t\t\t\t\t<Route path=\"/gift-chart\" exact component={GiftFoodChart} />\n\n\t\t\t\t\t\t<Route path=\"/food-reduction\" component={FoodReduction} />\n\n\t\t\t\t\t\t<Route path=\"/product-listing\" component={ProductListing} />\n\n\t\t\t\t\t\t<Route path=\"/reserve-items\" component={ReserveItems} />\n\n\t\t\t\t\t\t<Route path=\"/farm-plan\" component={FarmPlan}>\n\t\t\t\t\t\t\t{!props.profile.isSeller && <Redirect to=\"/farm-plan\" />}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/farm-auth\" component={FarmerAuth}>\n\t\t\t\t\t\t\t{props.profile.isSeller && <Redirect to=\"/farm-plan\" />}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/cons-auth\" component={ConsumerAuth} />\n\t\t\t\t\t\t<Route path=\"/meal-plan\" component={MealPlan} />\n\t\t\t\t\t\t<Route path=\"/nutrient-gap\" component={NutrientGap} />\n\t\t\t\t\t\t<Route path=\"/view-products\" component={ViewProducts} />\n\n\t\t\t\t\t\t<Route path=\"/food-wasteAcademic\" component={FoodWasteAcademic} />\n\t\t\t\t\t\t<Route path=\"/food-intakeAcademic\" component={FoodIntakeAcademic} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/food-surplusAcademic\"\n\t\t\t\t\t\t\tcomponent={FoodSurplusAcademic}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/restaurant-shopping-list\"\n\t\t\t\t\t\t\tcomponent={RestaurantShoppingListPlanner}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/restaurant-inventory\"\n\t\t\t\t\t\t\tcomponent={RestaurantInventory}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/restaurant-dashboard\"\n\t\t\t\t\t\t\tcomponent={RestaurantDashboard}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/restaurant-meal-plan\"\n\t\t\t\t\t\t\tcomponent={RestaurantMealPlan}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Route component={NotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</React.Fragment>\n\t);\n\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tauth: state.firebase.auth,\n\t\tprofile: state.firebase.profile,\n\t};\n};\n\nexport default connect(mapStateToProps, null)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initState = {\n  authError: null,\n};\n\nconst authReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"LOGIN_ERROR\":\n      console.log(\"login error\");\n      return {\n        ...state,\n        authError: \"Login failed\",\n      };\n    case \"LOGIN_SUCCESS\":\n      console.log(\"login success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"SIGNOUT_SUCCESS\":\n      console.log(\"signout success\");\n      return state;\n    case \"SIGNUP_SUCCESS\":\n      console.log(\"signup success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"SIGNUP_ERROR\":\n      return {\n        ...state,\n        authError: action.err.message,\n      };\n    case \"CREATE_SUBACCOUNT\":\n      console.log(\"subaccount success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_SUBACCOUNT_ERROR\":\n      return {\n        ...state,\n        authError: action.err.message,\n      };\n    case \"DELETE_SUBACCOUNT\":\n      console.log(\"delete subaccount success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_SUBACCOUNT_ERROR\":\n      return {\n        ...state,\n        authError: action.err.message,\n      };\n    case \"CHANGE_ERROR\":\n      console.log(\"change password error\");\n      return {\n        ...state,\n        authError: \"Changing password failed\",\n      };\n    case \"CHANGE_SUCCESS\":\n      console.log(\"change password success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CHANGE_EMAIL_ERROR\":\n      console.log(\"change email error\");\n      return {\n        ...state,\n        authError: \"Changing email failed\",\n      };\n    case \"CHANGE_EMAIL_SUCCESS\":\n      console.log(\"change email success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CHANGE_PROFILE_ERROR\":\n      console.log(\"change email error\");\n      return {\n        ...state,\n        authError: \"Changing profile failed\",\n      };\n    case \"CHANGE_PROFILE_SUCCESS\":\n      console.log(\"change profile success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"RESET_ERROR\":\n      console.log(\"reset password error\");\n      return {\n        ...state,\n        authError: \"Resetting password failed\",\n      };\n    case \"RESET_SUCCESS\":\n      console.log(\"reset password success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"SELLER_ERROR\":\n      console.log(\"become seller error\");\n      return {\n        ...state,\n        authError: \"Become seller failed\",\n      };\n    case \"SELLER_SUCCESS\":\n      console.log(\"Successfully became a seller.\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CONSUMER_ERROR\":\n      console.log(\"become consumer error\");\n      return {\n        ...state,\n        authError: \"Please accept the terms and conditions\",\n      };\n    case \"CONSUMER_SUCCESS\":\n      console.log(\"Successfully became a consumer.\");\n      return {\n        ...state,\n        authError: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","const initState = {}\n\nconst mapReducer = (state = initState, action) => {\n    return state\n}\n\nexport default mapReducer;","const initState = {\n  authError: null,\n  getData: [],\n  purchaseData: []\n};\n\nconst dataReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"CREATE_DATA_ERROR\":\n      console.log(\"create data error \" + action.err.message);\n      return {\n        ...state,\n        authError: \"Create failed\",\n      };\n    case \"CREATE_DATA\":\n      console.log(\"create data success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"GET_DATA_ERROR\":\n      console.log(\"get data error \" + action.err.message);\n      return {\n        ...state,\n        authError: \"Get failed\",\n      };\n    case \"GET_DATA\":\n      console.log(\"get data success\");\n      return {\n        ...state,\n        getData: action.payload,\n        authError: null,\n      };\n      case \"GET_PURCHASE_DATA_ERROR\":\n      console.log(\"get purchase error \" + action.err.message);\n      return {\n        ...state,\n        authError: \"Get failed\",\n      };\n    case \"GET_PURCHASE_DATA\":\n      console.log(\"get purchase success\", action.payload);\n      return {\n        ...state,\n        purchaseData: action.payload,\n        authError: null,\n      };\n    case \"SIGNOUT_SUCCESS\":\n      console.log(\"signout success\");\n      return state;\n    case \"SIGNUP_SUCCESS\":\n      console.log(\"signup success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"SIGNUP_ERROR\":\n      console.log(\"signup error\");\n      return {\n        ...state,\n        authError: action.err.message,\n      };\n    case \"CHANGE_ERROR\":\n      console.log(\"change password error\");\n      return {\n        ...state,\n        authError: \"Changing password failed\",\n      };\n    case \"CHANGE_SUCCESS\":\n      console.log(\"change password success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"RESET_ERROR\":\n      console.log(\"reset password error\");\n      return {\n        ...state,\n        authError: \"Resetting password failed\",\n      };\n    case \"RESET_SUCCESS\":\n      console.log(\"reset password success\");\n      return {\n        ...state,\n        authError: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default dataReducer;\n","const initState = {\n  authError: null,\n  meals: [],\n  mealDiary: [],\n  singleMealDiary: [],\n  savedMeals: [],\n  shoppingList: [],\n  newShoppingList: [],\n  shopItems: [],\n  inventory: [],\n  giftedFood: [],\n  purchaseInfo: [],\n};\n\nconst mealPlanReducer = (state = initState, action) => {\n  switch (action.type) {\n    //#region calendar\n    case \"CREATE_MEAL\":\n      console.log(\"meal created\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_MEAL_ERROR\":\n      console.log(\"error, meal not created\", action.err);\n      return {\n        ...state,\n        authError: \"Create meal failed\",\n      };\n    case \"GET_MEALS\":\n      console.log(\"get meals success\", action.payload);\n      return {\n        ...state,\n        meals: action.payload,\n        authError: null,\n      };\n    case \"GET_MEALS_ERROR\":\n      console.log(\"error, couldn't fetch meals\", action.err);\n      return {\n        ...state,\n        authError: \"Get meals failed\",\n      };\n      case \"GET_MEAL_DIARY\":\n        console.log(\"get meal diary success\", action.payload);\n        return {\n          ...state,\n          mealDiary: action.payload,\n          authError: null,\n        };\n      case \"GET_MEAL_DIARY_ERROR\":\n        console.log(\"error, couldn't fetch diary meals\", action.err);\n        return {\n          ...state,\n          authError: \"Get meal diary failed\",\n        };\n\n        case \"GET_SINGLE_MEAL_DIARY\":\n        console.log(\"get single meal diary success\", action.payload);\n        return {\n          ...state,\n          singleMealDiary: action.payload,\n          authError: null,\n        };\n      case \"GET_SINGLE_MEAL_DIARY_ERROR\":\n        console.log(\"error, couldn't fetch single diary meals\", action.err);\n        return {\n          ...state,\n          authError: \"Get single meal diary failed\",\n        };\n        \n    case \"EDIT_MEAL\":\n      console.log(\"successfully edited\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"EDIT_MEAL_ERROR\":\n      console.log(\"error, couldn't edit meal\", action.err);\n      return {\n        ...state,\n        authError: \"Edit meal failed\",\n      };\n      case \"EDIT_DIARY_MEAL\":\n      console.log(\"successfully edited diary meal\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"EDIT_DIARY_MEAL_ERROR\":\n      console.log(\"error, couldn't edit diary meal\", action.err);\n      return {\n        ...state,\n        authError: \"Edit diary meal failed\",\n      };\n    case \"DELETE_MEAL\":\n      console.log(\"successfully deleted\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_MEAL_ERROR\":\n      console.log(\"error, couldn't delete meal\", action.err);\n      return {\n        ...state,\n        authError: \"delete meal failed\",\n      };\n      \n    // #endregion\n\n    //#region recipes\n    case \"CREATE_RECIPE\":\n      console.log(\"recipe saved\", action.recipe);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_RECIPE_ERROR\":\n      console.log(\"error, recipe not saved\", action.err);\n      return {\n        ...state,\n        authError: \"Create recipe failed\",\n      };\n    case \"GET_RECIPES\":\n      console.log(\"get meals success\", action.payload);\n      return {\n        ...state,\n        savedMeals: action.payload,\n        authError: null,\n      };\n    case \"GET_RECIPES_ERROR\":\n      console.log(\"error, couldn't fetch recipes\", action.err);\n      return {\n        ...state,\n        authError: \"Get recipe failed\",\n      };\n    case \"DELETE_RECIPE\":\n      console.log(\"successfully deleted\", action.recipe);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_RECIPE_ERROR\":\n      console.log(\"error, couldn't delete meal\", action.err);\n      return {\n        ...state,\n        authError: \"delete recipe failed\",\n      };\n    //#endregion\n\n    //#region shopping list\n    case \"GET_SHOPPING_LIST\":\n      console.log(\"get shopping list success\", action.payload);\n      return {\n        ...state,\n        shoppingList: action.payload,\n        authError: null,\n      };\n    case \"GET_SHOPPING_LIST_ERROR\":\n      console.log(\"error, couldn't get shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Get shoppiung list failed\",\n      };\n      case \"GET_NEW_SHOPPING_LIST\":\n      console.log(\"get shopping list success\", action.payload);\n      return {\n        ...state,\n        newShoppingList: action.payload,\n        authError: null,\n      };\n    case \"GET_NEW_SHOPPING_LIST_ERROR\":\n      console.log(\"error, couldn't get shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Get shoppiung list failed\",\n      };\n    case \"CREATE_SHOP\":\n      console.log(\"added to shop\", action.ingr);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_SHOP_ERROR\":\n      console.log(\"error, couldn't add to shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Add to shop failed\",\n      };\n      case \"CREATE_NEW_SHOP\":\n      console.log(\"added to shop\", action.ingr);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_NEW_SHOP_ERROR\":\n      console.log(\"error, couldn't add to shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Add to shop failed\",\n      };\n\n      case \"ADD_PURCHASE_ITEM\":\n      console.log(\"added to purchases\", action.data);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"ADD_PURCHASE_ITEM_ERROR\":\n      console.log(\"error, couldn't add to purchase list\", action.err);\n      return {\n        ...state,\n        authError: \"Add to purchase failed\",\n      };\n\n      case \"SEND_TO_USER\":\n        // console.log(\"sent to user\", action.data);\n        return {\n          ...state,\n          authError: null,\n        };\n      case \"SEND_TO_USER_ERROR\":\n        console.log(\"error, couldn't send to user collection\", action.err);\n        return {\n          ...state,\n          authError: \"send to user failed\",\n        };\n\n        case \"GET_PURCHASE_INFO\":\n          console.log(\"sent to user\", action.payload);\n          return {\n            ...state,\n            purchaseInfo: action.payload,\n            authError: null,\n          };\n        case \"GET_PURCHASE_INFO_ERROR\":\n          console.log(\"error, couldn't get purchase info\", action.err);\n          return {\n            ...state,\n            authError: \"fetch purchase info failed\",\n          };\n  \n\n      case \"CREATE_SHOP_ITEMS\":\n      console.log(\"added to shop\", action.ingr);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_SHOP_ITEMS_ERROR\":\n      console.log(\"error, couldn't add to shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Add to shop failed\",\n      };\n      case \"EDIT_SHOPPING_LIST\":\n        console.log(\"succesfully editted shoping list\", action.payload);\n        return {\n          ...state,\n          authError: null,\n        };\n      case \"EDIT_SHOPPING_LIST_ERROR\":\n        console.log(\"error, couldn't edit shopping list\", action.err);\n        return {\n          ...state,\n          authError: \"Add to shop failed\",\n        };\n\n        case \"EDIT_PURCHASE_STATUS\":\n        console.log(\"succesfully editted status\", action.payload);\n        return {\n          ...state,\n          authError: null,\n        };\n      case \"EDIT_PURCHASE_STATUS_ERROR\":\n        console.log(\"error, couldn't edit status\", action.err);\n        return {\n          ...state,\n          authError: \"edit status failed\",\n        };\n\n    case \"DELETE_SHOP\":\n      console.log(\"successfully deleted item\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_SHOP_ERROR\":\n      console.log(\"error, couldn't delete item\", action.err);\n      return {\n        ...state,\n        authError: \"delete item failed\",\n      };\n      case \"DELETE_NEW_SHOP\":\n      console.log(\"successfully deleted item\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_NEW_SHOP_ERROR\":\n      console.log(\"error, couldn't delete item\", action.err);\n      return {\n        ...state,\n        authError: \"delete item failed\",\n      };\n    //#endregion\n\n\n\n    //#region Restaurant shopping list\n    case \"GET_RESTAURANT_SHOPPING_LIST\":\n      console.log(\"get shopping list success\", action.payload);\n      return {\n        ...state,\n        shoppingList: action.payload,\n        authError: null,\n      };\n    case \"GET_RESTAURANT_SHOPPING_LIST_ERROR\":\n      console.log(\"error, couldn't get shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Get shoppiung list failed\",\n      };\n    case \"CREATE_RESTAURANT_SHOP\":\n      console.log(\"added to shop\", action.ingr);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_RESTAURANT_SHOP_ERROR\":\n      console.log(\"error, couldn't add to shopping list\", action.err);\n      return {\n        ...state,\n        authError: \"Add to shop failed\",\n      };\n    case \"DELETE_RESTAURANT_SHOP\":\n      console.log(\"successfully deleted item\");\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_RESTAURANT_SHOP_ERROR\":\n      console.log(\"error, couldn't delete item\", action.err);\n      return {\n        ...state,\n        authError: \"delete item failed\",\n      };\n    //#endregion\n\n    \n    //#region inventory\n    case \"GET_INVENTORY\":\n      console.log(\"get inventory success\", action.payload);\n      return {\n        ...state,\n        inventory: action.payload,\n        authError: null,\n      };\n    case \"GET_INVENTORY_ERROR\":\n      console.log(\"error, couldn't fetch inventory\", action.err);\n      return {\n        ...state,\n        authError: \"Get inventory failed\",\n      };\n    case \"CREATE_INVENTORY_ITEM\":\n      console.log(\"inventory item created\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_INVENTORY_ITEM_ERROR\":\n      console.log(\"error, inventory item not created\", action.err);\n      return {\n        ...state,\n        authError: \"Create inventory item failed\",\n      };\n      case \"CREATE_GIFT_ITEM\":\n      console.log(\"gifted item created\", action.data);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"CREATE_GIFT_ITEM_ERROR\":\n      console.log(\"error, gifted item not created\", action.err);\n      return {\n        ...state,\n        authError: \"Create inventory item failed\",\n      };\n      case \"CREATE_WASTE_ITEM\":\n        console.log(\"waste item added\", action.data);\n        return {\n          ...state,\n          authError: null,\n        };\n      case \"CREATE_WASTE_ITEM_ERROR\":\n        console.log(\"error, waste item not created\", action.err);\n        return {\n          ...state,\n          authError: \"Create inventory item failed\",\n        };\n    case \"DELETE_INVENTORY_ITEM\":\n      console.log(\"successfully deleted\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"DELETE_INVENTORY_ITEM_ERROR\":\n      console.log(\"error, couldn't delete inventory item\", action.err);\n      return {\n        ...state,\n        authError: \"Edit inventory item failed\",\n      };\n      case \"EDIT_INVENTORY\":\n      console.log(\"edit inventory success\", action.payload);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"EDIT_INVENTORY_ERROR\":\n      console.log(\"error, couldn't edit inventory\", action.err);\n      return {\n        ...state,\n        authError: \"Get inventory failed\",\n      };\n    //#endregion\n    default:\n      return state;\n  }\n};\n\nexport default mealPlanReducer;\n","const initState = {\n  authError: null,\n  meals: [],\n  savedMeals: [],\n  shoppingList: [],\n  inventory: [],\n  plans: [],\n  items: [],\n  newPlans: [],\n  weekPlans: [],\n  allItems:[],\n  singleMealPlan:[],\n\n\n};\n\nconst mealPlannerReducer = (state = initState, action) => {\n  switch (action.type) {\n    //#region start\n    case \"CREATE_MEAL_PLAN\":\n      console.log(\"meal planner created\", action.mealPlanner);\n      return {\n        ...state,\n        authError: null, \n      };\n    case \"CREATE_MEAL_PLANNER_ERROR\":\n      console.log(\"error, meal plan not created\", action.err);\n      return {\n        ...state,\n        authError: \"Create meal failed\",\n      };\n      case \"GENERATE_MEAL_PLAN\":\n      console.log(\"meal planner generated\", action.plan);\n      return {\n        ...state,\n        authError: null, \n      };\n    case \"GENERATE_MEAL_PLANNER_ERROR\":\n      console.log(\"error, meal plan not generated\", action.err);\n      return {\n        ...state,\n        authError: \"Create meal failed\",\n      };\n      case \"REMOVE_ALL_MEAL_PAN\":\n      console.log(\"successfully removed all meal plan\", action.mealPlan);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"REMOVE_ALL_MEAL_PLAN_ERROR\":\n      console.log(\"error, couldn't remove all meal plan\", action.err);\n      return {\n        ...state,\n        authError: \"delete meal failed\",\n      };\n      case \"GET_MEAL_PLANS\":\n        console.log(\"get meals plans success\", action.payload);\n        return {\n          ...state,\n          plans: action.payload,\n          authError: null,\n        };\n      case \"GET_MEAL_PLANS_ERROR\":\n        console.log(\"error, couldn't fetch meals\", action.err);\n        return {\n          ...state,\n          authError: \"Get meals failed\",\n        };\n        case \"GET_WEEK_PLANS\":\n        console.log(\"get week plans success\", action.payload);\n        return {\n          ...state,\n          weekPlans: action.payload,\n          authError: null,\n        };\n      case \"GET_WEEK_PLANS_ERROR\":\n        console.log(\"error, couldn't fetch meals\", action.err);\n        return {\n          ...state,\n          authError: \"Get meals failed\",\n        };\n      case \"GET_NEW_PLANS\":\n      console.log(\"get meal new plan success\", action.payload);\n      return {\n        ...state,\n        newPlans: action.payload,\n        authError: null,\n      };\n    case \"GET_NEW_PLANS_ERROR\":\n      console.log(\"error, couldn't fetch new plan\", action.err);\n      return {\n        ...state,\n        authError: \"Get meals failed\",\n      };\n\n      case \"GET_SINGLE_MEAL_PLAN\":\n        console.log(\"get single meal from plan success\", action.payload);\n        return {\n          ...state,\n          singleMealPlan: action.payload,\n          authError: null,\n        };\n      case \"GET_SINGLE_MEAL_PLAN_ERROR\":\n        console.log(\"error, couldn't fetch single  meals from plan\", action.err);\n        return {\n          ...state,\n          authError: \"Get single meal plan failed\",\n        };\n\n      case \"EDIT_NEW_PLAN\":\n      console.log(\"successfully edited\", action.data);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"EDIT_NEW_PLAN_ERROR\":\n      console.log(\"error, couldn't edit meal\", action.err);\n      return {\n        ...state,\n        authError: \"Edit meal failed\",\n      };\n\n        case \"DELETE_MEAL_PLAN\":\n          console.log(\"successfully deleted item\");\n          return {\n            ...state,\n            authError: null,\n          };\n        case \"DELETE_MEAL_PLAN_ERROR\":\n          console.log(\"error, couldn't delete item\", action.err);\n          return {\n            ...state,\n            authError: \"delete item failed\",\n          };\n        case \"GET_ALL_MEAL_PLAN\":\n        console.log(\"getting all meal panner items\", action.plan);\n        return {\n          ...state,\n          allItems: action.plan,\n          authError: null,\n        };\n        case \"EDIT_INVENTORY\":\n      console.log(\"successfully edited\", action.data);\n      return {\n        ...state,\n        authError: null,\n      };\n    case \"EDIT_INVENTORY_ERROR\":\n      console.log(\"error, couldn't edit inventory item\", action.err);\n      return {\n        ...state,\n        authError: \"Edit inventory item failed\",\n      };\n    //#endregion\n    default:\n      return state;\n  }\n};\n\nexport default mealPlannerReducer;\n","import { combineReducers } from \"redux\";\nimport { firestoreReducer } from \"redux-firestore\";\nimport { firebaseReducer } from \"react-redux-firebase\";\nimport authReducer from \"./authReducer\";\nimport mapReducer from \"./mapReducer\";\nimport dataReducer from \"./dataReducer\";\nimport mealPlanReducer from \"./mealPlanReducer\";\nimport mealPlannerReducer from \"./mealPlannerReducer\";\n\n\n//fireStoreReducer is a premade reducer for syncing firestore data with state in the background.\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  map: mapReducer,\n  data: dataReducer,\n  mealPlan: mealPlanReducer,\n  mealPlanner: mealPlannerReducer,\n  firebase: firebaseReducer,\n  firestore: firestoreReducer,\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"./store/reducers/rootReducer\";\nimport { Provider, useSelector } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport firebase from \"firebase/app\";\nimport {\n  ReactReduxFirebaseProvider,\n  reactReduxFirebase,\n  getFirebase,\n  isLoaded,\n} from \"react-redux-firebase\";\nimport { createFirestoreInstance, reduxFirestore } from \"redux-firestore\";\nimport { getFirestore } from \"redux-firestore\";\nimport fbConfig from \"./config/fbConfig\";\n\nconst initialState = {};\n\n// developer tool for seeing Redux state using browser developer console (F12, then redux tab)\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeEnhancers(\n    applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore }))\n    // reduxFirestore(fbConfig),\n    // reactReduxFirebase(fbConfig)\n    // reactReduxFirebase({useFirestoreForProfile: true})\n  )\n);\n\nconst rrfConfig = {\n  userProfile: \"users\",\n  useFirestoreForProfile: true,\n  // Firestore for Profile instead of Realtime DB\n};\n\nconst fbProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: store.dispatch,\n  createFirestoreInstance,\n  RealtimeDB: fbConfig,\n  // <- needed if using firestore\n};\n\nconst AuthIsLoaded = ({ children }) => {\n  const auth = useSelector((state) => state.firebase.auth);\n  if (!isLoaded(auth)) {\n    return <div></div>;\n  }\n  return children;\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <ReactReduxFirebaseProvider {...fbProps}>\n      <AuthIsLoaded>\n        <App />\n      </AuthIsLoaded>\n    </ReactReduxFirebaseProvider>\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}