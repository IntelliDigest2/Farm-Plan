[debug] [2023-03-09T13:50:07.134Z] ----------------------------------------------------------------------
[debug] [2023-03-09T13:50:07.139Z] Command:       C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --import=./dir --export-on-exit=./dir
[debug] [2023-03-09T13:50:07.140Z] CLI Version:   11.24.0
[debug] [2023-03-09T13:50:07.140Z] Platform:      win32
[debug] [2023-03-09T13:50:07.141Z] Node Version:  v16.17.0
[debug] [2023-03-09T13:50:07.143Z] Time:          Thu Mar 09 2023 14:50:07 GMT+0100 (West Africa Standard Time)
[debug] [2023-03-09T13:50:07.143Z] Env Overrides: FIRESTORE_EMULATOR_HOST
[debug] [2023-03-09T13:50:07.144Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-09T13:50:07.174Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2023-03-09T13:50:07.493Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-09T13:50:07.494Z] > authorizing via signed-in user (a.badamasi@intellidigest.com)
[debug] [2023-03-09T13:50:09.480Z] java version "18.0.2.1" 2022-08-18

[debug] [2023-03-09T13:50:09.484Z] Java(TM) SE Runtime Environment (build 18.0.2.1+1-1)
Java HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)

[debug] [2023-03-09T13:50:09.526Z] Parsed Java major version: 18
[info] i  emulators: Starting emulators: auth, functions, firestore, database, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, database, hosting"}}
[warn] !  firestore: Port 8080 is not open on localhost (127.0.0.1), could not start Firestore Emulator. {"metadata":{"emulator":{"name":"firestore"},"message":"Port 8080 is not open on localhost (127.0.0.1), could not start Firestore Emulator."}}
[warn] !  firestore: To select a different host/port, specify that host/port in a firebase.json config file:
      {
        // ...
        "emulators": {
          "firestore": {
            "host": "HOST",
            "port": "PORT"
          }
        }
      } {"metadata":{"emulator":{"name":"firestore"},"message":"To select a different host/port, specify that host/port in a firebase.json config file:\n      {\n        // ...\n        \"emulators\": {\n          \"firestore\": {\n            \"host\": \"\u001b[33mHOST\u001b[39m\",\n            \"port\": \"\u001b[33mPORT\u001b[39m\"\n          }\n        }\n      }"}}
[warn] !  database: Port 9000 is not open on localhost (127.0.0.1), could not start Database Emulator. {"metadata":{"emulator":{"name":"database"},"message":"Port 9000 is not open on localhost (127.0.0.1), could not start Database Emulator."}}
[warn] !  database: To select a different host/port, specify that host/port in a firebase.json config file:
      {
        // ...
        "emulators": {
          "database": {
            "host": "HOST",
            "port": "PORT"
          }
        }
      } {"metadata":{"emulator":{"name":"database"},"message":"To select a different host/port, specify that host/port in a firebase.json config file:\n      {\n        // ...\n        \"emulators\": {\n          \"database\": {\n            \"host\": \"\u001b[33mHOST\u001b[39m\",\n            \"port\": \"\u001b[33mPORT\u001b[39m\"\n          }\n        }\n      }"}}
[debug] [2023-03-09T13:50:09.643Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:50:09.644Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[debug] [2023-03-09T13:50:09.691Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[warn] !  hosting: Hosting Emulator unable to start on port 5000, starting on 5002 instead. {"metadata":{"emulator":{"name":"hosting"},"message":"Hosting Emulator unable to start on port 5000, starting on 5002 instead."}}
[debug] [2023-03-09T13:50:09.693Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:50:14.700Z] Error: Timed out.
    at Timeout._onTimeout (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\utils.js:253:49)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-03-09T13:52:24.087Z] ----------------------------------------------------------------------
[debug] [2023-03-09T13:52:24.092Z] Command:       C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --import=./dir --export-on-exit=./dir
[debug] [2023-03-09T13:52:24.093Z] CLI Version:   11.24.0
[debug] [2023-03-09T13:52:24.093Z] Platform:      win32
[debug] [2023-03-09T13:52:24.093Z] Node Version:  v16.17.0
[debug] [2023-03-09T13:52:24.095Z] Time:          Thu Mar 09 2023 14:52:24 GMT+0100 (West Africa Standard Time)
[debug] [2023-03-09T13:52:24.095Z] Env Overrides: FIRESTORE_EMULATOR_HOST
[debug] [2023-03-09T13:52:24.096Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-09T13:52:24.107Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2023-03-09T13:52:24.455Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-09T13:52:24.457Z] > authorizing via signed-in user (a.badamasi@intellidigest.com)
[warn] !  Unable to fetch the CLI MOTD and remote config. 
[debug] [2023-03-09T13:52:24.530Z] Failed to fetch MOTD FirebaseError: Failed to make request to https://firebase-public.firebaseio.com/cli.json
[debug] [2023-03-09T13:52:24.834Z] java version "18.0.2.1" 2022-08-18

[debug] [2023-03-09T13:52:24.836Z] Java(TM) SE Runtime Environment (build 18.0.2.1+1-1)
Java HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)

[debug] [2023-03-09T13:52:24.882Z] Parsed Java major version: 18
[info] i  emulators: Starting emulators: auth, functions, firestore, database, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore, database, hosting"}}
[debug] [2023-03-09T13:52:24.950Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:24.951Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:24.952Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:24.954Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:24.955Z] [database] Database Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[warn] !  hosting: Hosting Emulator unable to start on port 5000, starting on 5002 instead. {"metadata":{"emulator":{"name":"hosting"},"message":"Hosting Emulator unable to start on port 5000, starting on 5002 instead."}}
[debug] [2023-03-09T13:52:24.959Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:24.960Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":5000},{"address":"::1","family":"IPv6","port":5000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"database":[{"address":"127.0.0.1","family":"IPv4","port":9000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5002}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-03-09T13:52:25.000Z] [hub] writing locator at C:\Users\Ali\AppData\Local\Temp\hub-itracker-development.json
[debug] [2023-03-09T13:52:26.744Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:26.745Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-09T13:52:26.745Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":5000},{"address":"::1","family":"IPv6","port":5000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"database":[{"address":"127.0.0.1","family":"IPv4","port":9000}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5002}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mpubsub, storage\u001b[22m"}}
[debug] [2023-03-09T13:52:26.798Z] defaultcredentials: writing to file C:\Users\Ali\AppData\Roaming\firebase\a_badamasi_intellidigest.com_application_default_credentials.json
[debug] [2023-03-09T13:52:26.828Z] Setting GAC to C:\Users\Ali\AppData\Roaming\firebase\a_badamasi_intellidigest.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Ali\\AppData\\Roaming\\firebase\\a_badamasi_intellidigest.com_application_default_credentials.json"}}
[debug] [2023-03-09T13:52:26.831Z] > refreshing access token with scopes: []
[debug] [2023-03-09T13:52:26.856Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-09T13:52:26.856Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-09T13:52:26.864Z] Failed to get Admin SDK config for itracker-development, falling back to cacheFailed to get Admin SDK for Firebase project itracker-development. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project itracker-development. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Authentication Error: Your credentials are no longer valid. Please run \u001b[1mfirebase login --reauth\u001b[22m\n\nFor CI servers and headless environments, generate a new token with \u001b[1mfirebase login:ci\u001b[22m","status":500},"status":500}
[info] i  firestore: Importing data from E:\intellidigest\itracker\dir\firestore_export\firestore_export.overall_export_metadata {"metadata":{"emulator":{"name":"firestore"},"message":"Importing data from E:\\intellidigest\\itracker\\dir\\firestore_export\\firestore_export.overall_export_metadata"}}
[warn] !  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] !  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2023-03-09T13:52:27.012Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-03-09T13:52:27.013Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2023-03-09T13:52:27.013Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","C:\\Users\\Ali\\.cache\\firebase\\emulators\\cloud-firestore-emulator-v1.16.0.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","itracker-development","--seed_from_export","E:\\intellidigest\\itracker\\dir\\firestore_export\\firestore_export.overall_export_metadata","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Ali\\\\.cache\\\\firebase\\\\emulators\\\\cloud-firestore-emulator-v1.16.0.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"itracker-development\",\"--seed_from_export\",\"E:\\\\intellidigest\\\\itracker\\\\dir\\\\firestore_export\\\\firestore_export.overall_export_metadata\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[info] +  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2023-03-09T13:52:31.841Z] > refreshing access token with scopes: []
[debug] [2023-03-09T13:52:31.842Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-09T13:52:31.843Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-09T13:52:31.849Z] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2023-03-09T13:52:31.849Z] Failed to retrieve default database instance: {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Firebase project itracker-development. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Authentication Error: Your credentials are no longer valid. Please run \u001b[1mfirebase login --reauth\u001b[22m\n\nFor CI servers and headless environments, generate a new token with \u001b[1mfirebase login:ci\u001b[22m","status":500},"status":500} {"metadata":{"emulator":{"name":"database"},"message":"Failed to retrieve default database instance: {\"name\":\"FirebaseError\",\"children\":[],\"exit\":2,\"message\":\"Failed to get Firebase project itracker-development. Please make sure the project exists and your account has permission to access it.\",\"original\":{\"name\":\"FirebaseError\",\"children\":[],\"exit\":1,\"message\":\"Authentication Error: Your credentials are no longer valid. Please run \\u001b[1mfirebase login --reauth\\u001b[22m\\n\\nFor CI servers and headless environments, generate a new token with \\u001b[1mfirebase login:ci\\u001b[22m\",\"status\":500},\"status\":500}"}}
[debug] [2023-03-09T13:52:31.854Z] database rules config:  []
[warn] !  database: Did not find a Realtime Database rules file specified in a firebase.json config file. The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"database"},"message":"Did not find a Realtime Database rules file specified in a firebase.json config file. The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2023-03-09T13:52:31.893Z] Ignoring unsupported arg: projectId {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: projectId"}}
[debug] [2023-03-09T13:52:31.894Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-03-09T13:52:31.894Z] Ignoring unsupported arg: rules {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: rules"}}
[debug] [2023-03-09T13:52:31.894Z] Starting Database Emulator with command {"binary":"java","args":["-Duser.language=en","-jar","C:\\Users\\Ali\\.cache\\firebase\\emulators\\firebase-database-emulator-v4.11.0.jar","--host","127.0.0.1","--port",9000,"--single_project_mode","Warning","--functions_emulator_host","127.0.0.1","--functions_emulator_port",5001],"optionalArgs":["port","host","functions_emulator_port","functions_emulator_host","single_project_mode"],"joinArgs":false} {"metadata":{"emulator":{"name":"database"},"message":"Starting Database Emulator with command {\"binary\":\"java\",\"args\":[\"-Duser.language=en\",\"-jar\",\"C:\\\\Users\\\\Ali\\\\.cache\\\\firebase\\\\emulators\\\\firebase-database-emulator-v4.11.0.jar\",\"--host\",\"127.0.0.1\",\"--port\",9000,\"--single_project_mode\",\"Warning\",\"--functions_emulator_host\",\"127.0.0.1\",\"--functions_emulator_port\",5001],\"optionalArgs\":[\"port\",\"host\",\"functions_emulator_port\",\"functions_emulator_host\",\"single_project_mode\"],\"joinArgs\":false}"}}
[info] i  database: Database Emulator logging to database-debug.log {"metadata":{"emulator":{"name":"database"},"message":"Database Emulator logging to \u001b[1mdatabase-debug.log\u001b[22m"}}
[info] i  auth: Importing config from E:\intellidigest\itracker\dir\auth_export\config.json {"metadata":{"emulator":{"name":"auth"},"message":"Importing config from E:\\intellidigest\\itracker\\dir\\auth_export\\config.json"}}
[info] i  auth: Importing accounts from E:\intellidigest\itracker\dir\auth_export\accounts.json {"metadata":{"emulator":{"name":"auth"},"message":"Importing accounts from E:\\intellidigest\\itracker\\dir\\auth_export\\accounts.json"}}
[debug] [2023-03-09T13:53:03.090Z] > refreshing access token with scopes: []
[debug] [2023-03-09T13:53:03.091Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-09T13:53:03.091Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-09T13:53:14.780Z] Failed to list hosting sites
[debug] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2023-03-09T13:53:14.781Z] > refreshing access token with scopes: []
[debug] [2023-03-09T13:53:14.782Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-09T13:53:14.782Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-09T13:53:14.786Z] fetchWebSetup error: FirebaseError: Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[warn] !  hosting: Using web app configuration from cache. 
[debug] [2023-03-09T13:53:14.791Z] > refreshing access token with scopes: []
[debug] [2023-03-09T13:53:14.792Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-09T13:53:14.792Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-09T13:53:14.796Z] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[info] i  hosting[itracker-development]: Serving hosting files from: dist {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mdist\u001b[22m"}}
[info] +  hosting[itracker-development]: Local server: http://127.0.0.1:5002 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5002\u001b[22m\u001b[24m"}}
[debug] [2023-03-09T13:53:15.022Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-03-09T13:53:15.023Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-03-09T13:53:15.024Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Ali\\.cache\\firebase\\emulators\\ui-v1.11.4\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Ali\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.4\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-03-09T13:53:16.048Z] Web / API server started at 127.0.0.1:5000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:5000\n"}}
[debug] [2023-03-09T13:53:16.049Z] Web / API server started at ::1:5000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:5000\n"}}
[info] i  functions: Watching "E:\intellidigest\itracker\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"E:\\intellidigest\\itracker\\functions\" for Cloud Functions..."}}
[debug] [2023-03-09T13:53:16.138Z] Validating nodejs source
[debug] [2023-03-09T13:53:26.222Z] checkFunctionsSDKVersion was unable to fetch information from NPM Error: spawnSync C:\Windows\system32\cmd.exe ETIMEDOUT
    at Object.spawnSync (node:internal/child_process:1112:20)
    at Object.spawnSync (node:child_process:827:24)
    at Function.spawnSync [as sync] (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\node_modules\cross-spawn\index.js:26:23)
    at Object.getLatestSDKVersion (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\deploy\functions\runtimes\node\versioning.js:55:25)
    at Object.checkFunctionsSDKVersion (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\deploy\functions\runtimes\node\versioning.js:76:32)
    at Delegate.validate (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\deploy\functions\runtimes\node\index.js:84:20)
    at FunctionsEmulator.discoverTriggers (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\emulator\functionsEmulator.js:291:35)
    at async FunctionsEmulator.loadTriggers (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\emulator\functionsEmulator.js:320:34)
    at async FunctionsEmulator.connect (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\emulator\functionsEmulator.js:257:13)
    at async Object.startAll (C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\emulator\controller.js:547:13)
    at async C:\Users\Ali\AppData\Roaming\nvm\v16.17.0\node_modules\firebase-tools\lib\commands\emulators-start.js:32:43
[debug] [2023-03-09T13:53:26.224Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T13:53:26.225Z] Building nodejs source
[debug] [2023-03-09T13:53:26.226Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T13:53:26.238Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T13:53:26.277Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T13:53:27.002Z] Serving at port 8876

[debug] [2023-03-09T13:53:34.751Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T13:53:34.771Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[info] +  functions[us-central1-itrackerPaymentFunction]: http function initialized (http://127.0.0.1:5001/itracker-development/us-central1/itrackerPaymentFunction). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/itracker-development/us-central1/itrackerPaymentFunction)."}}
[info] +  functions[us-central1-sendFarmersNotification]: http function initialized (http://127.0.0.1:5001/itracker-development/us-central1/sendFarmersNotification). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/itracker-development/us-central1/sendFarmersNotification)."}}
[info] +  functions[us-central1-getFarmersInLocationWithProducts]: http function initialized (http://127.0.0.1:5001/itracker-development/us-central1/getFarmersInLocationWithProducts). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/itracker-development/us-central1/getFarmersInLocationWithProducts)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:5000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI             │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:5000/auth      │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:5000/functions │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:5000/firestore │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Database       │ 127.0.0.1:9000 │ http://127.0.0.1:5000/database  │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Hosting        │ 127.0.0.1:5002 │ n/a                             │
└────────────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-03-09T14:02:10.380Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/sendFarmersNotification-2023-03-09T14:02:10.380Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:02:10.382Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/sendFarmersNotification-2023-03-09T14:02:10.380Z"],"workRunningCount":1}
[debug] [2023-03-09T14:02:10.384Z] Accepted request POST /itracker-development/us-central1/sendFarmersNotification --> us-central1-sendFarmersNotification
[debug] [2023-03-09T14:02:10.393Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:02:10.395Z] [functions] Got req.url=/itracker-development/us-central1/sendFarmersNotification, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/sendFarmersNotification, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:02:10.442Z] [worker-pool] addWorker(us-central1-sendFarmersNotification) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-sendFarmersNotification)"}}
[debug] [2023-03-09T14:02:10.445Z] [worker-pool] Adding worker with key us-central1-sendFarmersNotification, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-sendFarmersNotification, total=1"}}
[debug] [2023-03-09T14:02:14.819Z] [runtime-status] [8216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:02:14.822Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:02:14.823Z] [runtime-status] [8216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:02:14.827Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:02:15.642Z] [runtime-status] [8216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:02:15.644Z] [runtime-status] [8216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:02:15.645Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:02:15.651Z] [runtime-status] [8216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:02:15.658Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:02:15.659Z] [runtime-status] [8216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:02:16.399Z] [runtime-status] [8216] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:02:16.446Z] [runtime-status] [8216] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:02:16.447Z] [runtime-status] [8216] Listening to port: \\?\pipe\fire_emu_685b86f30dc7c087 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[runtime-status] [8216] Listening to port: \\\\?\\pipe\\fire_emu_685b86f30dc7c087"}}
[debug] [2023-03-09T14:02:16.584Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: IDLE"}}
[debug] [2023-03-09T14:02:16.586Z] [worker-pool] submitRequest(triggerId=us-central1-sendFarmersNotification) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-sendFarmersNotification)"}}
[info] i  functions: Beginning execution of "us-central1-sendFarmersNotification" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"Beginning execution of \"us-central1-sendFarmersNotification\""}}
[debug] [2023-03-09T14:02:16.592Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: BUSY"}}
[info] i  functions: Finished "us-central1-sendFarmersNotification" in 105.0767ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"Finished \"us-central1-sendFarmersNotification\" in 105.0767ms"}}
[debug] [2023-03-09T14:02:16.703Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: IDLE"}}
[debug] [2023-03-09T14:02:16.704Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:02:34.665Z] Functions emulator received unknown request at path /sendFarmersNotification/farmers/messages
[debug] [2023-03-09T14:02:34.802Z] Functions emulator received unknown request at path /sendFarmersNotification/farmers/messages
[debug] [2023-03-09T14:02:55.694Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/sendFarmersNotification/messages-2023-03-09T14:02:55.694Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:02:55.695Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/sendFarmersNotification/messages-2023-03-09T14:02:55.694Z"],"workRunningCount":1}
[debug] [2023-03-09T14:02:55.695Z] Accepted request POST /itracker-development/us-central1/sendFarmersNotification/messages --> us-central1-sendFarmersNotification
[debug] [2023-03-09T14:02:55.701Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:02:55.701Z] [functions] Got req.url=/itracker-development/us-central1/sendFarmersNotification/messages, mapping to path=/messages {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/sendFarmersNotification/messages, mapping to path=/messages"}}
[debug] [2023-03-09T14:02:55.702Z] [worker-pool] submitRequest(triggerId=us-central1-sendFarmersNotification) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-sendFarmersNotification)"}}
[info] i  functions: Beginning execution of "us-central1-sendFarmersNotification" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"Beginning execution of \"us-central1-sendFarmersNotification\""}}
[debug] [2023-03-09T14:02:55.704Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: BUSY"}}
[info] i  functions: Finished "us-central1-sendFarmersNotification" in 11.4001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"Finished \"us-central1-sendFarmersNotification\" in 11.4001ms"}}
[debug] [2023-03-09T14:02:55.717Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: IDLE"}}
[debug] [2023-03-09T14:02:55.718Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:04:23.297Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:04:23.297Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:04:23.298Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:04:23.297Z"],"workRunningCount":1}
[debug] [2023-03-09T14:04:23.298Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:04:23.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:04:23.307Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:04:23.356Z] [worker-pool] addWorker(us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:04:23.357Z] [worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1"}}
[debug] [2023-03-09T14:04:27.395Z] [runtime-status] [16868] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:04:27.398Z] [runtime-status] [16868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:04:27.400Z] [runtime-status] [16868] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:04:27.403Z] [runtime-status] [16868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:04:28.076Z] [runtime-status] [16868] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:04:28.077Z] [runtime-status] [16868] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:04:28.079Z] [runtime-status] [16868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:04:28.083Z] [runtime-status] [16868] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:04:28.092Z] [runtime-status] [16868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:04:28.093Z] [runtime-status] [16868] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:04:28.923Z] [runtime-status] [16868] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:04:28.955Z] [runtime-status] [16868] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:04:28.956Z] [runtime-status] [16868] Listening to port: \\?\pipe\fire_emu_a3b93b8494bd966c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [16868] Listening to port: \\\\?\\pipe\\fire_emu_a3b93b8494bd966c"}}
[debug] [2023-03-09T14:04:29.024Z] [worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: IDLE"}}
[debug] [2023-03-09T14:04:29.025Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:04:29.027Z] [worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 14404.1695ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 14404.1695ms"}}
[debug] [2023-03-09T14:04:43.437Z] [worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: IDLE"}}
[debug] [2023-03-09T14:04:43.439Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:06:53.797Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:06:54.805Z] Validating nodejs source
[debug] [2023-03-09T14:06:58.701Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:06:58.702Z] Building nodejs source
[debug] [2023-03-09T14:06:58.702Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:06:58.709Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:06:58.725Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:06:59.451Z] Serving at port 8182

[debug] [2023-03-09T14:07:00.278Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:07:00.287Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:07:00.309Z] [worker-pool] Shutting down IDLE worker (us-central1-sendFarmersNotification) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-sendFarmersNotification)"}}
[debug] [2023-03-09T14:07:00.310Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: FINISHING"}}
[debug] [2023-03-09T14:07:00.310Z] [worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:07:00.311Z] [worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: FINISHING"}}
[debug] [2023-03-09T14:07:00.328Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: exited"}}
[debug] [2023-03-09T14:07:00.328Z] [worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendFarmersNotification"},"extension":{},"message":"[worker-us-central1-sendFarmersNotification-2ee4d835-f1d0-4538-9b2d-9eac58720240]: FINISHED"}}
[debug] [2023-03-09T14:07:00.332Z] [worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: exited"}}
[debug] [2023-03-09T14:07:00.332Z] [worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-88542983-1928-4b13-a73b-4c38544eb16f]: FINISHED"}}
[debug] [2023-03-09T14:08:22.335Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:08:23.352Z] Validating nodejs source
[debug] [2023-03-09T14:08:27.493Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:08:27.493Z] Building nodejs source
[debug] [2023-03-09T14:08:27.494Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:08:27.499Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:08:27.512Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:08:28.380Z] Serving at port 8944

[debug] [2023-03-09T14:08:29.980Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:08:29.991Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:10:04.786Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:10:05.795Z] Validating nodejs source
[debug] [2023-03-09T14:10:10.818Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:10:10.819Z] Building nodejs source
[debug] [2023-03-09T14:10:10.819Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:10:10.827Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:10:10.851Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:10:11.582Z] Serving at port 8526

[debug] [2023-03-09T14:10:12.471Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:10:12.479Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:12:05.178Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:12:05.178Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:12:05.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:12:05.178Z"],"workRunningCount":1}
[debug] [2023-03-09T14:12:05.178Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:12:05.185Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:12:05.186Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:12:05.186Z] [worker-pool] Cleaned up workers for us-central1-sendFarmersNotification: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-sendFarmersNotification: 1 --> 0"}}
[debug] [2023-03-09T14:12:05.186Z] [worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:12:05.216Z] [worker-pool] addWorker(us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:12:05.217Z] [worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1"}}
[debug] [2023-03-09T14:12:09.275Z] [runtime-status] [17024] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:12:09.284Z] [runtime-status] [17024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:12:09.284Z] [runtime-status] [17024] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:12:09.287Z] [runtime-status] [17024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:12:10.376Z] [runtime-status] [17024] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:12:10.379Z] [runtime-status] [17024] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:12:10.394Z] [runtime-status] [17024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:12:10.460Z] [runtime-status] [17024] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:12:10.532Z] [runtime-status] [17024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:12:10.550Z] [runtime-status] [17024] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:12:11.294Z] [runtime-status] [17024] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:12:11.320Z] [runtime-status] [17024] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:12:11.320Z] [runtime-status] [17024] Listening to port: \\?\pipe\fire_emu_4f827b13618e1fbe {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [17024] Listening to port: \\\\?\\pipe\\fire_emu_4f827b13618e1fbe"}}
[debug] [2023-03-09T14:12:11.383Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: IDLE"}}
[debug] [2023-03-09T14:12:11.384Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:12:11.385Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 2520.6773ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 2520.6773ms"}}
[debug] [2023-03-09T14:12:13.918Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: IDLE"}}
[debug] [2023-03-09T14:12:13.919Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:14:40.740Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:14:41.772Z] Validating nodejs source
[debug] [2023-03-09T14:14:48.152Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:14:48.152Z] Building nodejs source
[debug] [2023-03-09T14:14:48.153Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:14:48.163Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:14:48.191Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:14:48.229Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:14:48.229Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:14:48.230Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:14:48.229Z"],"workRunningCount":1}
[debug] [2023-03-09T14:14:48.231Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:14:48.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:14:48.242Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:14:48.244Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:14:48.248Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[debug] [2023-03-09T14:14:49.092Z] Serving at port 8898

[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 1073.7853ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 1073.7853ms"}}
[debug] [2023-03-09T14:14:49.338Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: IDLE"}}
[debug] [2023-03-09T14:14:49.338Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:14:50.190Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:14:50.200Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:14:50.225Z] [worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:14:50.225Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: FINISHING"}}
[debug] [2023-03-09T14:14:50.250Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: exited"}}
[debug] [2023-03-09T14:14:50.250Z] [worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-286362bd-d8d3-46ba-a1b1-183597540268]: FINISHED"}}
[debug] [2023-03-09T14:15:10.499Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:15:11.510Z] Validating nodejs source
[debug] [2023-03-09T14:15:18.077Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:15:18.078Z] Building nodejs source
[debug] [2023-03-09T14:15:18.078Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:15:18.086Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:15:18.110Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:15:18.133Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:15:18.133Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:15:18.134Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:15:18.133Z"],"workRunningCount":1}
[debug] [2023-03-09T14:15:18.134Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:15:18.144Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:15:18.145Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:15:18.145Z] [worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:15:18.175Z] [worker-pool] addWorker(us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:15:18.176Z] [worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1"}}
[debug] [2023-03-09T14:15:19.065Z] Serving at port 8858

[debug] [2023-03-09T14:15:20.204Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:15:20.218Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:15:22.847Z] [runtime-status] [15016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:15:22.852Z] [runtime-status] [15016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:15:22.853Z] [runtime-status] [15016] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:15:22.859Z] [runtime-status] [15016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:15:23.710Z] [runtime-status] [15016] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:15:23.711Z] [runtime-status] [15016] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:15:23.714Z] [runtime-status] [15016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:15:23.718Z] [runtime-status] [15016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:15:23.726Z] [runtime-status] [15016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:15:23.727Z] [runtime-status] [15016] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:15:24.350Z] [runtime-status] [15016] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:15:24.376Z] [runtime-status] [15016] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:15:24.377Z] [runtime-status] [15016] Listening to port: \\?\pipe\fire_emu_211d0e9004874640 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [15016] Listening to port: \\\\?\\pipe\\fire_emu_211d0e9004874640"}}
[debug] [2023-03-09T14:15:24.433Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: IDLE"}}
[debug] [2023-03-09T14:15:24.434Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:15:24.436Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 4274.4304ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 4274.4304ms"}}
[debug] [2023-03-09T14:15:28.717Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: IDLE"}}
[debug] [2023-03-09T14:15:28.718Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:16:34.162Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:16:35.164Z] Validating nodejs source
[debug] [2023-03-09T14:16:39.577Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:16:39.578Z] Building nodejs source
[debug] [2023-03-09T14:16:39.578Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:16:39.586Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:16:39.586Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:16:39.586Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:16:39.586Z"],"workRunningCount":1}
[debug] [2023-03-09T14:16:39.586Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:16:39.592Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:16:39.593Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:16:39.594Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:16:39.595Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: BUSY"}}
[debug] [2023-03-09T14:16:39.597Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:16:39.619Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 517.1657ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 517.1657ms"}}
[debug] [2023-03-09T14:16:40.155Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: IDLE"}}
[debug] [2023-03-09T14:16:40.156Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:16:40.568Z] Serving at port 8661

[debug] [2023-03-09T14:16:41.353Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:16:41.362Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:16:41.386Z] [worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:16:41.387Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: FINISHING"}}
[debug] [2023-03-09T14:16:41.413Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: exited"}}
[debug] [2023-03-09T14:16:41.414Z] [worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a4774123-efe7-447f-979c-51f3c912e93a]: FINISHED"}}
[debug] [2023-03-09T14:16:48.173Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:16:49.177Z] Validating nodejs source
[debug] [2023-03-09T14:16:53.277Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:16:53.278Z] Building nodejs source
[debug] [2023-03-09T14:16:53.278Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:16:53.287Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:16:53.310Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:16:53.343Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:16:53.343Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:16:53.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:16:53.343Z"],"workRunningCount":1}
[debug] [2023-03-09T14:16:53.344Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:16:53.355Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:16:53.356Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:16:53.356Z] [worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:16:53.396Z] [worker-pool] addWorker(us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:16:53.397Z] [worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1"}}
[debug] [2023-03-09T14:16:54.338Z] Serving at port 8173

[debug] [2023-03-09T14:16:55.509Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:16:55.527Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:16:58.109Z] [runtime-status] [6432] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:16:58.113Z] [runtime-status] [6432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:16:58.115Z] [runtime-status] [6432] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:16:58.118Z] [runtime-status] [6432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:16:59.056Z] [runtime-status] [6432] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:16:59.057Z] [runtime-status] [6432] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:16:59.063Z] [runtime-status] [6432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:16:59.072Z] [runtime-status] [6432] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:16:59.085Z] [runtime-status] [6432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:16:59.086Z] [runtime-status] [6432] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:16:59.874Z] [runtime-status] [6432] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:16:59.894Z] [runtime-status] [6432] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:16:59.895Z] [runtime-status] [6432] Listening to port: \\?\pipe\fire_emu_cf2e47f12bc013dc {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [6432] Listening to port: \\\\?\\pipe\\fire_emu_cf2e47f12bc013dc"}}
[debug] [2023-03-09T14:16:59.957Z] [worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: IDLE"}}
[debug] [2023-03-09T14:16:59.957Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:16:59.959Z] [worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 2484.0633ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 2484.0633ms"}}
[debug] [2023-03-09T14:17:02.454Z] [worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: IDLE"}}
[debug] [2023-03-09T14:17:02.454Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:18:14.721Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:18:15.740Z] Validating nodejs source
[debug] [2023-03-09T14:18:19.977Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:18:19.978Z] Building nodejs source
[debug] [2023-03-09T14:18:19.978Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:18:19.985Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:18:19.999Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:18:20.020Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:18:20.860Z] Serving at port 8651

[debug] [2023-03-09T14:18:21.036Z] Validating nodejs source
[debug] [2023-03-09T14:18:26.547Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:18:26.548Z] Building nodejs source
[debug] [2023-03-09T14:18:26.548Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:18:26.554Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:18:26.571Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:18:26.602Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:18:26.681Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:18:26.764Z] [worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:18:26.764Z] [worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: FINISHING"}}
[debug] [2023-03-09T14:18:26.812Z] [worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: exited"}}
[debug] [2023-03-09T14:18:26.813Z] [worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-a14437bd-327c-4ba2-b45f-3a601fd2f26c]: FINISHED"}}
[debug] [2023-03-09T14:18:27.592Z] Serving at port 8628

[debug] [2023-03-09T14:18:28.495Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:18:28.503Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:28:42.573Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:28:42.573Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:28:42.574Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:28:42.573Z"],"workRunningCount":1}
[debug] [2023-03-09T14:28:42.574Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:28:42.580Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:28:42.580Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:28:42.581Z] [worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:28:42.599Z] [worker-pool] addWorker(us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:28:42.600Z] [worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1"}}
[debug] [2023-03-09T14:28:46.434Z] [runtime-status] [5532] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:28:46.446Z] [runtime-status] [5532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:28:46.448Z] [runtime-status] [5532] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:28:46.452Z] [runtime-status] [5532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:28:47.169Z] [runtime-status] [5532] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:28:47.169Z] [runtime-status] [5532] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:28:47.171Z] [runtime-status] [5532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:28:47.175Z] [runtime-status] [5532] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:28:47.187Z] [runtime-status] [5532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:28:47.188Z] [runtime-status] [5532] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:28:47.755Z] [runtime-status] [5532] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:28:47.781Z] [runtime-status] [5532] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:28:47.781Z] [runtime-status] [5532] Listening to port: \\?\pipe\fire_emu_281169e2577cc4cc {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [5532] Listening to port: \\\\?\\pipe\\fire_emu_281169e2577cc4cc"}}
[debug] [2023-03-09T14:28:47.870Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE"}}
[debug] [2023-03-09T14:28:47.871Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:28:47.872Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 2256.4175ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 2256.4175ms"}}
[debug] [2023-03-09T14:28:50.134Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE"}}
[debug] [2023-03-09T14:28:50.135Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:29:47.365Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:29:47.365Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:29:47.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:29:47.365Z"],"workRunningCount":1}
[debug] [2023-03-09T14:29:47.365Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:29:47.370Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:29:47.371Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:29:47.371Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:29:47.372Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: BUSY"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 429.2408ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 429.2408ms"}}
[debug] [2023-03-09T14:29:47.804Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE"}}
[debug] [2023-03-09T14:29:47.805Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:31:15.131Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:31:16.164Z] Validating nodejs source
[debug] [2023-03-09T14:31:21.746Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:31:21.747Z] Building nodejs source
[debug] [2023-03-09T14:31:21.748Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:31:21.757Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:31:21.757Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:31:21.757Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:31:21.757Z"],"workRunningCount":1}
[debug] [2023-03-09T14:31:21.758Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:31:21.769Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:31:21.770Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:31:21.770Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:31:21.772Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: BUSY"}}
[debug] [2023-03-09T14:31:21.776Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:31:21.806Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:53:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:53:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:79:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:79:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:79:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 943.581ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 943.581ms"}}
[debug] [2023-03-09T14:31:22.779Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: IDLE"}}
[debug] [2023-03-09T14:31:22.780Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:31:23.546Z] Serving at port 8615

[debug] [2023-03-09T14:31:24.427Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:31:24.438Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:31:24.462Z] [worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:31:24.462Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: FINISHING"}}
[debug] [2023-03-09T14:31:24.483Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: exited"}}
[debug] [2023-03-09T14:31:24.483Z] [worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-7057e614-6b06-4a05-9a58-b30489d798e1]: FINISHED"}}
[debug] [2023-03-09T14:31:52.309Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:31:53.322Z] Validating nodejs source
[debug] [2023-03-09T14:31:58.487Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:31:58.487Z] Building nodejs source
[debug] [2023-03-09T14:31:58.487Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:31:58.498Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:31:58.498Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:31:58.499Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:31:58.498Z"],"workRunningCount":1}
[debug] [2023-03-09T14:31:58.499Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:31:58.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:31:58.510Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:31:58.511Z] [worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-itrackerPaymentFunction: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:31:58.546Z] [worker-pool] addWorker(us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:31:58.547Z] [worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-itrackerPaymentFunction, total=1"}}
[debug] [2023-03-09T14:31:58.552Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:31:58.577Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:32:00.332Z] Serving at port 8781

[debug] [2023-03-09T14:32:04.619Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:32:04.668Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:32:08.635Z] [runtime-status] [3740] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:32:08.646Z] [runtime-status] [3740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:32:08.649Z] [runtime-status] [3740] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-09T14:32:08.654Z] [runtime-status] [3740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:32:09.681Z] [runtime-status] [3740] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-09T14:32:09.682Z] [runtime-status] [3740] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-09T14:32:09.685Z] [runtime-status] [3740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:32:09.692Z] [runtime-status] [3740] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-09T14:32:09.701Z] [runtime-status] [3740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-09T14:32:09.702Z] [runtime-status] [3740] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"E:\\intellidigest\\itracker\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"E:\\\\intellidigest\\\\itracker\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-09T14:32:10.475Z] [runtime-status] [3740] initializeApp(DEFAULT) {"storageBucket":"itracker-development.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb","projectId":"itracker-development"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] initializeApp(DEFAULT) {\"storageBucket\":\"itracker-development.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=itracker-development-default-rtdb\",\"projectId\":\"itracker-development\"}"}}
[debug] [2023-03-09T14:32:10.502Z] [runtime-status] [3740] Functions runtime initialized. {"cwd":"E:\\intellidigest\\itracker\\functions","node_version":"16.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Functions runtime initialized. {\"cwd\":\"E:\\\\intellidigest\\\\itracker\\\\functions\",\"node_version\":\"16.17.0\"}"}}
[debug] [2023-03-09T14:32:10.503Z] [runtime-status] [3740] Listening to port: \\?\pipe\fire_emu_68c9df39e8f77147 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[runtime-status] [3740] Listening to port: \\\\?\\pipe\\fire_emu_68c9df39e8f77147"}}
[debug] [2023-03-09T14:32:10.581Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: IDLE"}}
[debug] [2023-03-09T14:32:10.581Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:32:10.583Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: BUSY"}}
[info] >  8rBHm7VSLTDJjvmE0bwF line 51 {"user":"8rBHm7VSLTDJjvmE0bwF line 51","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m 8rBHm7VSLTDJjvmE0bwF line 51"}}
[info] >  KeOy8RkcxYZqAsyGocYn line 52 {"user":"KeOy8RkcxYZqAsyGocYn line 52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m KeOy8RkcxYZqAsyGocYn line 52"}}
[info] >  DocumentSnapshot { {"user":"DocumentSnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m DocumentSnapshot {"}}
[info] >    _fieldsProto: undefined, {"user":"  _fieldsProto: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _fieldsProto: undefined,"}}
[info] >    _ref: DocumentReference { {"user":"  _ref: DocumentReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _ref: DocumentReference {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'itracker-development', {"user":"      _projectId: 'itracker-development',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'itracker-development',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool] {"user":"      _clientPool: [ClientPool]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array] }, {"user":"    _path: ResourcePath { segments: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array] },"}}
[info] >      _converter: { {"user":"    _converter: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     _converter: {"}}
[info] >        toFirestore: [Function: toFirestore], {"user":"      toFirestore: [Function: toFirestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       toFirestore: [Function: toFirestore],"}}
[info] >        fromFirestore: [Function: fromFirestore] {"user":"      fromFirestore: [Function: fromFirestore]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       fromFirestore: [Function: fromFirestore]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _serializer: Serializer { {"user":"  _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _serializer: Serializer {"}}
[info] >      createReference: [Function (anonymous)], {"user":"    createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     createReference: [Function (anonymous)],"}}
[info] >      createInteger: [Function (anonymous)], {"user":"    createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     createInteger: [Function (anonymous)],"}}
[info] >      allowUndefined: false {"user":"    allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1678372332, _nanoseconds: 150144000 }, {"user":"  _readTime: Timestamp { _seconds: 1678372332, _nanoseconds: 150144000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1678372332, _nanoseconds: 150144000 },"}}
[info] >    _createTime: undefined, {"user":"  _createTime: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _createTime: undefined,"}}
[info] >    _updateTime: undefined {"user":"  _updateTime: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _updateTime: undefined"}}
[info] >  } line 53 {"user":"} line 53","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m } line 53"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'cart') {"user":"TypeError: Cannot read properties of undefined (reading 'cart')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'cart')"}}
[info] >      at calculateOrderAmount (E:\intellidigest\itracker\functions\index.js:57:23) {"user":"    at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:57:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at calculateOrderAmount (E:\\intellidigest\\itracker\\functions\\index.js:57:23)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5)"}}
[info] >      at async E:\intellidigest\itracker\functions\index.js:103:12 {"user":"    at async E:\\intellidigest\\itracker\\functions\\index.js:103:12","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async E:\\intellidigest\\itracker\\functions\\index.js:103:12"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 2935.6783ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 2935.6783ms"}}
[debug] [2023-03-09T14:32:13.521Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: IDLE"}}
[debug] [2023-03-09T14:32:13.523Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:33:14.757Z] [work-queue] {"queuedWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:33:14.757Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:33:14.758Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent-2023-03-09T14:33:14.757Z"],"workRunningCount":1}
[debug] [2023-03-09T14:33:14.758Z] Accepted request POST /itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent --> us-central1-itrackerPaymentFunction
[debug] [2023-03-09T14:33:14.762Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-09T14:33:14.763Z] [functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/itracker-development/us-central1/itrackerPaymentFunction/create-payment-intent, mapping to path=/create-payment-intent"}}
[debug] [2023-03-09T14:33:14.763Z] [worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-itrackerPaymentFunction)"}}
[info] i  functions: Beginning execution of "us-central1-itrackerPaymentFunction" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Beginning execution of \"us-central1-itrackerPaymentFunction\""}}
[debug] [2023-03-09T14:33:14.765Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: BUSY"}}
[info] >  M2rqE7aDgOw1bWLa8nBf line 51 {"user":"M2rqE7aDgOw1bWLa8nBf line 51","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m M2rqE7aDgOw1bWLa8nBf line 51"}}
[info] >  jbsahnkHpcr4TF0vcrG2 line 52 {"user":"jbsahnkHpcr4TF0vcrG2 line 52","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m jbsahnkHpcr4TF0vcrG2 line 52"}}
[info] >  QueryDocumentSnapshot { {"user":"QueryDocumentSnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m QueryDocumentSnapshot {"}}
[info] >    _fieldsProto: { cart: { arrayValue: [Object], valueType: 'arrayValue' } }, {"user":"  _fieldsProto: { cart: { arrayValue: [Object], valueType: 'arrayValue' } },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _fieldsProto: { cart: { arrayValue: [Object], valueType: 'arrayValue' } },"}}
[info] >    _ref: DocumentReference { {"user":"  _ref: DocumentReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _ref: DocumentReference {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'itracker-development', {"user":"      _projectId: 'itracker-development',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'itracker-development',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool] {"user":"      _clientPool: [ClientPool]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array] }, {"user":"    _path: ResourcePath { segments: [Array] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array] },"}}
[info] >      _converter: { {"user":"    _converter: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     _converter: {"}}
[info] >        toFirestore: [Function: toFirestore], {"user":"      toFirestore: [Function: toFirestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       toFirestore: [Function: toFirestore],"}}
[info] >        fromFirestore: [Function: fromFirestore] {"user":"      fromFirestore: [Function: fromFirestore]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m       fromFirestore: [Function: fromFirestore]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _serializer: Serializer { {"user":"  _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _serializer: Serializer {"}}
[info] >      createReference: [Function (anonymous)], {"user":"    createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     createReference: [Function (anonymous)],"}}
[info] >      createInteger: [Function (anonymous)], {"user":"    createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     createInteger: [Function (anonymous)],"}}
[info] >      allowUndefined: false {"user":"    allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m     allowUndefined: false"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1678372394, _nanoseconds: 799424000 }, {"user":"  _readTime: Timestamp { _seconds: 1678372394, _nanoseconds: 799424000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1678372394, _nanoseconds: 799424000 },"}}
[info] >    _createTime: Timestamp { _seconds: 1678370291, _nanoseconds: 947491000 }, {"user":"  _createTime: Timestamp { _seconds: 1678370291, _nanoseconds: 947491000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _createTime: Timestamp { _seconds: 1678370291, _nanoseconds: 947491000 },"}}
[info] >    _updateTime: Timestamp { _seconds: 1678370291, _nanoseconds: 947491000 } {"user":"  _updateTime: Timestamp { _seconds: 1678370291, _nanoseconds: 947491000 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m   _updateTime: Timestamp { _seconds: 1678370291, _nanoseconds: 947491000 }"}}
[info] >  } line 53 {"user":"} line 53","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"\u001b[90m> \u001b[39m } line 53"}}
[info] i  functions: Finished "us-central1-itrackerPaymentFunction" in 590.1243ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"Finished \"us-central1-itrackerPaymentFunction\" in 590.1243ms"}}
[debug] [2023-03-09T14:33:15.357Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: IDLE"}}
[debug] [2023-03-09T14:33:15.358Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-09T14:35:32.551Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:35:33.561Z] Validating nodejs source
[debug] [2023-03-09T14:35:38.222Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:35:38.224Z] Building nodejs source
[debug] [2023-03-09T14:35:38.225Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:35:38.233Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:35:38.256Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:35:39.128Z] Serving at port 8334

[debug] [2023-03-09T14:35:40.272Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:35:40.304Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:35:40.346Z] [worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-itrackerPaymentFunction)"}}
[debug] [2023-03-09T14:35:40.347Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: FINISHING"}}
[debug] [2023-03-09T14:35:40.370Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: exited"}}
[debug] [2023-03-09T14:35:40.371Z] [worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-itrackerPaymentFunction"},"extension":{},"message":"[worker-us-central1-itrackerPaymentFunction-0d6f38c6-c696-4b29-b475-d12ebf4634f2]: FINISHED"}}
[debug] [2023-03-09T14:36:13.018Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:36:14.030Z] Validating nodejs source
[debug] [2023-03-09T14:36:18.283Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:36:18.283Z] Building nodejs source
[debug] [2023-03-09T14:36:18.284Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:36:18.295Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:36:18.319Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-09T14:36:19.110Z] Serving at port 8033

[debug] [2023-03-09T14:36:20.120Z] Got response from /__/functions.yaml {"endpoints":{"itrackerPaymentFunction":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"itrackerPaymentFunction"},"sendFarmersNotification":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"sendFarmersNotification"},"getFarmersInLocationWithProducts":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"getFarmersInLocationWithProducts"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-09T14:36:20.135Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: itrackerPaymentFunction, sendFarmersNotification, getFarmersInLocationWithProducts."}}
[debug] [2023-03-09T14:37:13.302Z] File E:\intellidigest\itracker\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File E:\\intellidigest\\itracker\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-09T14:37:14.313Z] Validating nodejs source
[debug] [2023-03-09T14:37:18.488Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.2.1",
    "stripe": "^11.11.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-03-09T14:37:18.488Z] Building nodejs source
[debug] [2023-03-09T14:37:18.488Z] Failed to find version of module node: reached end of search path E:\intellidigest\itracker\functions\node_modules
[info] +  functions: Using node@16 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-03-09T14:37:18.496Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-09T14:37:18.517Z] Found firebase-functions binary at 'E:\intellidigest\itracker\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-13T12:20:42.008Z] ----------------------------------------------------------------------
[debug] [2023-03-13T12:20:42.011Z] Command:       C:\Program Files\nodejs\node.exe C:\Program Files\nodejs\node_modules\firebase-tools\lib\bin\firebase.js use --add
[debug] [2023-03-13T12:20:42.011Z] CLI Version:   11.24.0
[debug] [2023-03-13T12:20:42.012Z] Platform:      win32
[debug] [2023-03-13T12:20:42.012Z] Node Version:  v16.17.0
[debug] [2023-03-13T12:20:42.017Z] Time:          Mon Mar 13 2023 13:20:42 GMT+0100 (West Africa Standard Time)
[debug] [2023-03-13T12:20:42.017Z] Env Overrides: FIRESTORE_EMULATOR_HOST
[debug] [2023-03-13T12:20:42.017Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-13T12:20:42.037Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2023-03-13T12:20:42.279Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-13T12:20:42.280Z] > authorizing via signed-in user (a.badamasi@intellidigest.com)
[debug] [2023-03-13T12:20:42.282Z] > refreshing access token with scopes: []
[debug] [2023-03-13T12:20:42.283Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-13T12:20:42.283Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-13T12:20:42.885Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-03-13T12:20:42.886Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-13T12:20:42.928Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects pageSize=1000
[debug] [2023-03-13T12:20:42.940Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2023-03-13T12:20:42.941Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2023-03-13T12:20:43.898Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects 200
[debug] [2023-03-13T12:20:43.898Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects [omitted]
